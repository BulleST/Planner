<div class="home editable" [class.dark]="modoEscuroAtivado">
    <a [routerLink]="['relatorio']" class="btn btn-primary my-2">Exportar</a>
    <div class="d-flex flex-wrap" id="content" #content>
        <div class="col-lg-9 col-md-9 col-sm-12 col-12 px-1">
            <div class="d-flex align-items-stretch flex-wrap">
                <div class="col-lg-5 col-md-5 col-sm-12 col-12 px-lg-1 px-md-0 px-sm-0 mb-md-2 mb-sm-2">
                    <div class="home__container">
                        <div class="form-row">
                            <div class="form-group col-lg-9 col-md-9 col-sm-9 col-9">
                                <label for="nome">Nome Completo:</label>
                                <div class="form-floating">
                                    <input type="text" class="form-control" id="nome" name="nome" #nome="ngModel"
                                        [(ngModel)]="cliente.nome" required [ngbPopover]="campoObrigatorio"
                                        [disablePopover]="nome.errors == null" popoverClass="popover-danger"
                                        triggers="mouseenter:mouseleave">
                                </div>
                            </div>
                            <div class="form-group col-lg-3 col-md-3 col-sm-3 col-3">
                                <label for="idade">Idade:</label>
                                <div class="form-floating">
                                    <input type="text" class="form-control" mask="0*" id="idade" name="idade"
                                        #idade="ngModel" [(ngModel)]="cliente.idade" required
                                        [ngbPopover]="campoObrigatorio" [disablePopover]="idade.errors == null"
                                        popoverClass="popover-danger" triggers="mouseenter:mouseleave"
                                        placeholder="0"
                                        (keyup.arrowup)="cliente.despesa = arrowUp(despesa.value)"
                                        (keyup.arrowdown)="cliente.despesa = arrowDown(despesa.value)">
                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group col-lg-6 col-md-6 col-sm-6 col-6">
                                <label for="receita">Receitas:</label>
                                <div class="input-group">
                                    <div class="input-group-prepend"
                                        [class.invalid]="receita.touched && receita.errors"
                                        [class.valid]="receita.touched && !receita.errors">
                                        <div class="input-group-text">R$</div>
                                    </div>
                                    <div class="form-floating">
                                        <input type="text" class="form-control" id="receita" name="receita"
                                            #receita="ngModel" [(ngModel)]="cliente.receita" mask="separator.5"
                                            [dropSpecialCharacters]="false" thousandSeparator="."
                                            [allowNegativeNumbers]="false"
                                            placeholder="00,00"
                                            (keyup.arrowup)="cliente.receita = arrowUp(receita.value)"
                                            (keyup.arrowdown)="cliente.receita = arrowDown(receita.value)" required
                                            [ngbPopover]="campoObrigatorio" [disablePopover]="idade.errors == null"
                                            popoverClass="popover-danger" triggers="mouseenter:mouseleave">
                                    </div>
                                </div>
                            </div>
                            <div class="form-group col-lg-6 col-md-6 col-sm-6 col-6">
                                <label for="despesa">Despesas:</label>
                                <div class="input-group">
                                    <div class="input-group-prepend"
                                        [class.invalid]="despesa.errors && despesa.touched"
                                        [class.valid]="despesa.errors && !despesa.touched">
                                        <div class="input-group-text">R$</div>
                                    </div>
                                    <div class="form-floating">
                                        <input type="text" class="form-control" id="despesa" name="despesa"
                                            #despesa="ngModel" [(ngModel)]="cliente.despesa" mask="separator.5"
                                            [dropSpecialCharacters]="false" thousandSeparator="."
                                            [allowNegativeNumbers]="false"
                                            placeholder="00,00"
                                            (keyup.arrowup)="cliente.despesa = arrowUp(despesa.value)"
                                            (keyup.arrowdown)="cliente.despesa = arrowDown(despesa.value)" required
                                            [ngbPopover]="campoObrigatorio" popoverClass="popover-danger"
                                            [disablePopover]="despesa.errors == null" triggers="mouseenter:mouseleave">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group col-lg6 col-md-6 col-sm-12 col-12">
                                <label for="taxaSelic">Selic/DI:</label>
                                <div class="form-floating">
                                    <input type="text" class="form-control" id="taxaSelic" name="taxaSelic"
                                        #taxaSelic="ngModel" [(ngModel)]="planejamento.taxaSelic" mask="separator.5"
                                        [dropSpecialCharacters]="false" thousandSeparator="." suffix="%"
                                        (keyup.arrowup)="planejamento.taxaSelic = arrowUp(taxaSelic.value)"
                                        (keyup.arrowdown)="planejamento.taxaSelic = arrowDown(taxaSelic.value, true)"
                                        required [ngbPopover]="campoObrigatorio" popoverClass="popover-danger"
                                        [disablePopover]="taxaSelic.errors == null" triggers="mouseenter:mouseleave">
                                </div>
                            </div>
                            <div class="form-group col-lg6 col-md-6 col-sm-12 col-12">
                                <label for="taxaIPCA">IPCA Médio:</label>
                                <div class="form-floating">
                                    <input type="text" class="form-control" id="taxaIPCA" name="taxaIPCA"
                                        #taxaIPCA="ngModel" [(ngModel)]="planejamento.taxaIPCA" mask="separator.5"
                                        [dropSpecialCharacters]="false" thousandSeparator="." suffix="%"
                                        (keyup.arrowup)="planejamento.taxaIPCA = arrowUp(taxaIPCA.value)"
                                        (keyup.arrowdown)="planejamento.taxaIPCA = arrowDown(taxaIPCA.value, true)"
                                        required [ngbPopover]="campoObrigatorio" popoverClass="popover-danger"
                                        [disablePopover]="taxaIPCA.errors == null" triggers="mouseenter:mouseleave">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-7 col-md-7 col-sm-12 col-12 px-lg-1 px-md-0 px-sm-0 mb-md-2 mb-sm-2">
                    <div class="home__container">
                        <div class="form-row">
                            <div class="form-group col-lg-12 col-md-12 col-sm-12 col-12">
                                <label for="perfilInvestidor_Id">Perfil de Investidor:</label>
                                <div class="form-floating">
                                    <select class="form-control" name="perfilInvestidor_Id" id="perfilInvestidor_Id"
                                        name="perfilInvestidor_Id" #perfilInvestidor_Id="ngModel"
                                        [(ngModel)]="cliente.perfilInvestidor_Id" required
                                        [ngbPopover]="campoObrigatorio" popoverClass="popover-danger"
                                        [disablePopover]="perfilInvestidor_Id.errors == null"
                                        triggers="mouseenter:mouseleave">
                                        <option [value]="item.id" *ngFor="let item of perfilInvestidor">{{
                                            item.descricao }} </option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-container">
                                <div class="form-container-title font-weight-bold ml-2 mb-2">Capacidade de Risco</div>
                                <div class="form-container-body">
                                    <div class="col-lg-6 col-md-6 col-sm-12 col-12 px-0">
                                        <div class="form-container">
                                            <div class="form-container-title font-weight-bold">Reserva de Emergência
                                            </div>
                                            <div class="form-container-body">
                                                <div class="form-group col-lg-6 col-md-6 col-sm-6 col-6 pr-1 mb-md-2">
                                                    <label for="reservaSugerida"> Sugerida:</label>
                                                    <div class="input-group">
                                                        <div class="input-group-prepend"
                                                            [class.invalid]="reservaSugerida.errors && reservaSugerida.touched"
                                                            [class.valid]="reservaSugerida.errors && !reservaSugerida.touched">
                                                            <div class="input-group-text">R$</div>
                                                        </div>
                                                        <div class="form-floating">
                                                            <input type="text" class="form-control" id="reservaSugerida" name="reservaSugerida"
                                                                #reservaSugerida="ngModel" [(ngModel)]="risco.reservaSugerida" mask="separator.5"
                                                                [dropSpecialCharacters]="false" thousandSeparator="."
                                                                [allowNegativeNumbers]="false"
                                                                placeholder="00,00"
                                                                (keyup.arrowup)="risco.reservaSugerida = arrowUp(reservaSugerida.value)"
                                                                (keyup.arrowdown)="risco.reservaSugerida = arrowDown(reservaSugerida.value)" required
                                                                [ngbPopover]="campoObrigatorio" popoverClass="popover-danger"
                                                                [disablePopover]="reservaSugerida.errors == null" triggers="mouseenter:mouseleave">
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group col-lg-6 col-md-6 col-sm-6 col-6 pr-0 mb-md-2">
                                                    <label for="reservaPlanejada"> Planejada:</label>
                                                    <div class="input-group">
                                                        <div class="input-group-prepend"
                                                            [class.invalid]="reservaPlanejada.errors && reservaPlanejada.touched"
                                                            [class.valid]="reservaPlanejada.errors && !reservaPlanejada.touched">
                                                            <div class="input-group-text">R$</div>
                                                        </div>
                                                        <div class="form-floating">
                                                            <input type="text" class="form-control" id="reservaPlanejada" name="reservaPlanejada"
                                                                #reservaPlanejada="ngModel" [(ngModel)]="risco.reservaPlanejada" mask="separator.5"
                                                                [dropSpecialCharacters]="false" thousandSeparator="."
                                                                [allowNegativeNumbers]="false"
                                                                placeholder="00,00"
                                                                (keyup.arrowup)="risco.reservaPlanejada = arrowUp(reservaPlanejada.value)"
                                                                (keyup.arrowdown)="risco.reservaPlanejada = arrowDown(reservaPlanejada.value)" required
                                                                [ngbPopover]="campoObrigatorio" popoverClass="popover-danger"
                                                                [disablePopover]="reservaPlanejada.errors == null" triggers="mouseenter:mouseleave">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6 col-md-6 col-sm-12 col-12 pl-1 pr-0">
                                        <div class="form-container">
                                            <div class="form-container-title font-weight-bold">Risco</div>
                                            <div class="form-container-body">
                                                <div class="form-group col-lg-6 col-md-6 col-sm-6 col-6 pr-1 mb-md-2">
                                                    <label for="riscoAssumido"> Assumido:</label>
                                                    <div class="input-group">
                                                        <div class="input-group-prepend"
                                                            [class.invalid]="riscoAssumido.errors && riscoAssumido.touched"
                                                            [class.valid]="riscoAssumido.errors && !riscoAssumido.touched">
                                                            <div class="input-group-text">R$</div>
                                                        </div>
                                                        <div class="form-floating">
                                                            <input type="text" class="form-control" id="riscoAssumido" name="riscoAssumido"
                                                                #riscoAssumido="ngModel" [(ngModel)]="risco.riscoAssumido" mask="separator.5"
                                                                [dropSpecialCharacters]="false" thousandSeparator="."
                                                                [allowNegativeNumbers]="false"
                                                                placeholder="00,00"
                                                                (keyup.arrowup)="risco.riscoAssumido = arrowUp(riscoAssumido.value)"
                                                                (keyup.arrowdown)="risco.riscoAssumido = arrowDown(riscoAssumido.value)" required
                                                                [ngbPopover]="campoObrigatorio" popoverClass="popover-danger"
                                                                [disablePopover]="riscoAssumido.errors == null" triggers="mouseenter:mouseleave">
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group col-lg-6 col-md-6 col-sm-6 col-6 pr-0 mb-md-2">
                                                    <label for="riscoTolerado"> Tolerado:</label>
                                                    <div class="input-group">
                                                        <div class="input-group-prepend"
                                                            [class.invalid]="riscoTolerado.errors && riscoTolerado.touched"
                                                            [class.valid]="riscoTolerado.errors && !riscoTolerado.touched">
                                                            <div class="input-group-text">R$</div>
                                                        </div>
                                                        <div class="form-floating">
                                                            <input type="text" class="form-control" id="riscoTolerado" name="riscoTolerado"
                                                                #riscoTolerado="ngModel" [(ngModel)]="risco.riscoTolerado" mask="separator.5"
                                                                [dropSpecialCharacters]="false" thousandSeparator="."
                                                                [allowNegativeNumbers]="false"
                                                                placeholder="00,00"
                                                                (keyup.arrowup)="risco.riscoTolerado = arrowUp(riscoTolerado.value)"
                                                                (keyup.arrowdown)="risco.riscoTolerado = arrowDown(riscoTolerado.value)" required
                                                                [ngbPopover]="campoObrigatorio" popoverClass="popover-danger"
                                                                [disablePopover]="riscoTolerado.errors == null" triggers="mouseenter:mouseleave">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="d-flex align-items-stretch">
                <div class="form-container home__container mt-3 col-lg-12">
                    <div class="form-container-title">
                        <p class="font-weight-bold">Cálculos</p>
                    </div>
                    <div class="form-container-baixo">
                        <table class="table table-editable table-responsive">
                            <thead>
                                <tr>
                                    <th>
                                        <button class="btn btn-table-header">Limpar</button>
                                    </th>
                                    <th>Baixíssimo</th>
                                    <th>Baixo</th>
                                    <th>Moderado</th>
                                    <th>Arrojado</th>
                                    <th style="white-space: nowrap;">Super Arrojado</th>
                                    <th>Hedge</th>
                                    <th>Total</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let item of calculos">
                                    <td class="px-3 bg-light text-right"><small><b>{{item.tipo}}</b></small></td>
                                    <td>
                                        <input type="text" class="form-control" id="baixissimo" name="baixissimo"
                                            #baixissimo="ngModel"
                                            [ngModel]="item.baixissimo | currency : 'BRL' : 'R$ ' : '1.0-2'" readonly>
                                    </td>
                                    <td>
                                        <input type="text" class="form-control" id="baixo" name="baixo" #baixo="ngModel"
                                            [ngModel]="item.baixo | currency : 'BRL' : 'R$ ' : '1.0-2'" readonly>
                                    </td>
                                    <td>
                                        <input type="text" class="form-control" id="moderado" name="moderado"
                                            #moderado="ngModel"
                                            [ngModel]="item.moderado | currency : 'BRL' : 'R$ ' : '1.0-2'" readonly>
                                    </td>
                                    <td>
                                        <input type="text" class="form-control" id="arrojado" name="arrojado"
                                            #arrojado="ngModel"
                                            [ngModel]="item.arrojado | currency : 'BRL' : 'R$ ' : '1.0-2'" readonly>
                                    </td>
                                    <td>
                                        <input type="text" class="form-control" id="superArrojado" name="superArrojado"
                                            #superArrojado="ngModel"
                                            [ngModel]="item.superArrojado | currency : 'BRL' : 'R$ ' : '1.0-2'"
                                            readonly>
                                    </td>
                                    <td>
                                        <input type="text" class="form-control" id="hedge" name="hedge" #hedge="ngModel"
                                            [ngModel]="item.hedge | currency : 'BRL' : 'R$ ' : '1.0-2'" readonly>
                                    </td>
                                    <td>
                                        <input type="text" class="form-control" id="total" name="total" #total="ngModel"
                                            [ngModel]="item.total | currency : 'BRL' : 'R$ ' : '1.0-2'" readonly>
                                    </td>
                                    <td></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="d-flex align-items-stretch">
                <div class="form-container home__container mt-3 col-lg-12">
                    <div class="form-container-title">
                        <p class="font-weight-bold">Investimentos</p>
                    </div>
                    <div class="form-container-baixo">
                        <p-table [value]="investimentos" [resizableColumns]="true" columnResizeMode="expand"
                            class="table table-editable">
                            <ng-template pTemplate="header" let-columns>
                                <tr>
                                    <th class="text-right">
                                        <a class="btn btn-table-header"
                                            [routerLink]="['adicionar-investimento']">Adicionar</a>
                                    </th>
                                    <th pResizableColumn style="white-space: nowrap;">Rentabilidade</th>
                                    <th pResizableColumn style="white-space: nowrap;">Tributação</th>
                                    <th pResizableColumn style="white-space: nowrap;">Rentab. Liquida</th>
                                    <th pResizableColumn style="white-space: nowrap;">Montante Atual</th>
                                    <th pResizableColumn style="white-space: nowrap;">Montante Sugerida</th>
                                    <th pResizableColumn style="white-space: nowrap;">Plano de Ação</th>
                                    <th class="td-actions"></th>
                                </tr>
                            </ng-template>
                            <ng-template pTemplate="body" let-item>
                                <tr>
                                    <td class="ui-resizable-column px-3 bg-light text-right"
                                        style="white-space: nowrap;"><small><b>{{ item.investimento.descricao
                                                }}</b></small></td>
                                    <td class="ui-resizable-column">
                                        <input type="text" class="form-control" id="rentabilidade" name="rentabilidade"
                                            #rentabilidade="ngModel" [(ngModel)]="item.rentabilidade" mask="separator.5"
                                            [dropSpecialCharacters]="false" thousandSeparator="." suffix="%"
                                            [allowNegativeNumbers]="true"
                                            (keyup.arrowup)="item.rentabilidade = arrowUp(rentabilidade.value)"
                                            (keyup.arrowdown)="item.rentabilidade = arrowDown(rentabilidade.value, true)"
                                            required [ngbPopover]="setaUpDown" triggers="mouseenter:mouseleave">
                                    </td>
                                    <td class="ui-resizable-column px-2" style="white-space: nowrap"> {{
                                        item.tributacao.nome }} </td>
                                    <td class="ui-resizable-column px-2" style="white-space: nowrap"> R$ {{
                                        item.rentabilidadeLiquida | mask : 'separator' : ',' }} </td>
                                    <td class="ui-resizable-column">
                                        <input type="text" class="form-control" id="montanteAtual" name="montanteAtual"
                                            #montanteAtual="ngModel" [(ngModel)]="item.montanteAtual" mask="separator.5"
                                            [dropSpecialCharacters]="false" thousandSeparator="." prefix="R$"
                                            (keyup.arrowup)="item.montanteAtual = arrowUp(montanteAtual.value)"
                                            (keyup.arrowdown)="item.montanteAtual = arrowDown(montanteAtual.value, true)"
                                            required [ngbPopover]="setaUpDown" triggers="mouseenter:mouseleave">
                                    </td>
                                    <td class="ui-resizable-column px-2" style="white-space: nowrap"> R$ {{
                                        item.montanteSugerido | mask : 'separator' : ',' }} </td>
                                    <td class="ui-resizable-column px-2" style="white-space: nowrap"> R$ {{
                                        item.planoSugerido | mask : 'separator' : ','}} </td>
                                    <td class="td-actions">
                                        <a class="btn btn-trash" (click)="deleteInvestimento(item.id)">
                                            <fa-icon [icon]="faTrash"></fa-icon>
                                        </a>
                                    </td>
                                </tr>
                            </ng-template>
                        </p-table>
                    </div>
                </div>
            </div>
            <div class="d-flex align-items-stretch">
                <div class="form-container home__container mt-3 col-lg-12">
                    <div class="form-container-title">
                        <p class="font-weight-bold">Produto</p>
                    </div>
                    <div class="form-container-baixo">
                        <p-table [value]="produtos" [resizableColumns]="true" columnResizeMode="expand"
                            class="table table-editable">
                            <ng-template pTemplate="header" let-columns>
                                <tr>
                                    <th class="text-right">
                                        <a class="btn btn-table-header"
                                            [routerLink]="['adicionar-produto']">Adicionar</a>
                                    </th>
                                    <th pResizableColumn style="white-space: nowrap;">Rentabilidade</th>
                                    <th pResizableColumn style="white-space: nowrap;">Tributação</th>
                                    <th pResizableColumn style="white-space: nowrap;">Rentab. Liquida</th>
                                    <th pResizableColumn style="white-space: nowrap;">Montante Atual</th>
                                    <th pResizableColumn style="white-space: nowrap;">Montante Sugerida</th>
                                    <th pResizableColumn style="white-space: nowrap;">Plano de Ação</th>
                                    <th class="td-actions"></th>
                                </tr>
                            </ng-template>
                            <ng-template pTemplate="body" let-item>
                                <tr>
                                    <td class="ui-resizable-column" class="px-3 bg-light text-right"
                                        style="white-space: nowrap;"><small><b>{{ item.produto.descricao }}</b></small>
                                    </td>
                                    <td class="ui-resizable-column">
                                        <input type="text" class="form-control" id="rentabilidade" name="rentabilidade"
                                            #rentabilidade="ngModel" [(ngModel)]="item.rentabilidade" mask="separator.5"
                                            [dropSpecialCharacters]="false" thousandSeparator="." suffix="%"
                                            [allowNegativeNumbers]="true"
                                            (keyup.arrowup)="item.rentabilidade = arrowUp(rentabilidade.value)"
                                            (keyup.arrowdown)="item.rentabilidade = arrowDown(rentabilidade.value, true)"
                                            required [ngbPopover]="setaUpDown" triggers="mouseenter:mouseleave">
                                    </td>
                                    <td class="ui-resizable-column px-2" style="white-space: nowrap"> {{
                                        item.tributacao.nome }} </td>
                                    <td class="ui-resizable-column px-2" style="white-space: nowrap"> R$ {{
                                        item.rentabilidadeLiquida | mask : 'separator' : ',' }} </td>
                                    <td class="ui-resizable-column">
                                        <input type="text" class="form-control" id="montanteAtual" name="montanteAtual"
                                            #montanteAtual="ngModel" [(ngModel)]="item.montanteAtual" mask="separator.5"
                                            [dropSpecialCharacters]="false" thousandSeparator="." prefix="R$"
                                            (keyup.arrowup)="item.montanteAtual = arrowUp(montanteAtual.value)"
                                            (keyup.arrowdown)="item.montanteAtual = arrowDown(montanteAtual.value, true)"
                                            required [ngbPopover]="setaUpDown" triggers="mouseenter:mouseleave">
                                    </td>
                                    <td class="ui-resizable-column px-2" style="white-space: nowrap"> R$ {{
                                        item.montanteSugerido | mask : 'separator' : ',' }} </td>
                                    <td class="ui-resizable-column px-2" style="white-space: nowrap"> R$ {{
                                        item.planoSugerido | mask : 'separator' : ','}} </td>
                                    <td class="td-actions">
                                        <a class="btn btn-trash" (click)="deleteProduto(item.id)">
                                            <fa-icon [icon]="faTrash"></fa-icon>
                                        </a>
                                    </td>
                                </tr>
                            </ng-template>
                        </p-table>
                    </div>
                </div>
            </div>
            <div class="d-flex align-items-stretch">
                <div class="form-container home__container mt-3 col-lg-12">
                    <div class="form-container-title">
                        <p class="font-weight-bold">Solução Inicial</p>
                    </div>
                    <div class="form-container-baixo">
                        <table class="table table-editable table-responsive">
                            <thead>
                                <tr>
                                    <th colspan="6" class="text-center p-2">
                                        <h5>Agregando Valor</h5>
                                    </th>
                                </tr>
                                <tr class="subheader border border-right-0 border-left-0">
                                    <th colspan="2" class="text-right">Montante Total</th>
                                    <th>0</th>
                                    <th>Exposição a Risco</th>
                                    <th></th>
                                    <th></th>
                                </tr>
                                <tr class="subheader">
                                    <th style="white-space: nowrap;" class="text-right">Carteira</th>
                                    <th style="white-space: nowrap;">Rentabilidade Atual <small>(ano)</small></th>
                                    <th style="white-space: nowrap;">Retorno anual <small>(R$)</small></th>
                                    <th style="white-space: nowrap;">Retorno mensal <small>(R$)</small></th>
                                    <th style="white-space: nowrap;">Patrimônio Máximo <small>(R$)</small></th>
                                    <th style="white-space: nowrap;">Tempo <small>(anos)</small></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let item of carteira">
                                    <td class="px-3 bg-light text-right" style="white-space: nowrap;">
                                        <small><b>{{item.tipo}}</b></small>
                                    </td>
                                    <td>
                                        <input type="text" class="form-control" id="rentabilidadeAtual"
                                            name="rentabilidadeAtual" #rentabilidadeAtual="ngModel"
                                            [(ngModel)]="item.rentabilidadeAtual">
                                    </td>
                                    <td>
                                        <input type="text" class="form-control" id="retornoAnual" name="retornoAnual"
                                            #retornoAnual="ngModel" [(ngModel)]="item.retornoAnual">
                                    </td>
                                    <td>
                                        <input type="text" class="form-control" id="retornoMensal" name="retornoMensal"
                                            #retornoMensal="ngModel" [(ngModel)]="item.retornoMensal">
                                    </td>
                                    <td>
                                        <input type="text" class="form-control" id="patrimonioMaximo"
                                            name="patrimonioMaximo" #patrimonioMaximo="ngModel"
                                            [(ngModel)]="item.patrimonioMaximo">
                                    </td>
                                    <td>
                                        <input type="text" class="form-control" id="tempo" name="tempo" #tempo="ngModel"
                                            [(ngModel)]="item.tempo">
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="3" class="p-3 bg-light text-center font-weight-bold"
                                        style="white-space: nowrap;">Melhora de Desempenho</td>
                                    <td class="p-3 h5">
                                        <fa-icon [icon]="faArrowRight"></fa-icon>
                                    </td>
                                    <td class="p-2 h5">0</td>
                                    <td class="p-2 h5">+120</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="d-flex align-items-stretch">
                <div class="form-container home__container mt-3 col-lg-12">
                    <div class="form-container-baixo">
                        <p-chart type="line" [data]="patrimonioPorIdade" [options]="patrimonioPorIdade_options">
                        </p-chart>
                    </div>
                </div>
            </div>
            <div class="d-flex align-items-stretch" *ngIf="false">
                <div class="form-container home__container mt-3 col-lg-12">
                    <div class="form-container-baixo">
                        <p-chart type="line" [data]="capitalSegurado" [options]="capitalSegurado_options"></p-chart>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-12 col-12 px-1">
            <div class="home__container">
                <table class="table table-editable table-responsive w-100 d-md-table d-sm-table">
                    <thead>
                        <tr>
                            <th></th>
                            <th>Aposentadoria</th>
                            <th>Variação</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="bg-light px-3 text-right" style="white-space: nowrap;">
                                <small><b>Idade</b></small>
                            </td>
                            <td>
                               <div class="form-floating">
                                <input type="text" class="form-control" id="idadeAposentadoria" name="idadeAposentadoria"
                                #idadeAposentadoria="ngModel" [(ngModel)]="cliente.idadeAposentadoria" mask="0*"
                                [allowNegativeNumbers]="false"
                                placeholder="0" 
                                (keyup.arrowup)="cliente.idadeAposentadoria = arrowUp(idadeAposentadoria.value)"
                                (keyup.arrowdown)="cliente.idadeAposentadoria = arrowDown(idadeAposentadoria.value)" required
                                [ngbPopover]="campoObrigatorio" popoverClass="popover-danger"
                                [disablePopover]="idadeAposentadoria.errors == null" triggers="mouseenter:mouseleave">
                               </div>
                            </td>
                            <td>
                                <input type="text" class="form-control" id="baixissimo" name="baixissimo" #baixissimo>
                            </td>
                        </tr>
                        <tr>
                            <td class="bg-light px-3 text-right" style="white-space: nowrap;">
                                <small><b>RendaMensal</b></small>
                            </td>
                            <td>
                                <div class="form-floating">
                                 <input type="text" class="form-control" id="rendaMensalAposentadoria" name="rendaMensalAposentadoria"
                                 #rendaMensalAposentadoria="ngModel" [(ngModel)]="cliente.rendaMensalAposentadoria" mask="separator.5"
                                 [dropSpecialCharacters]="false" thousandSeparator="." [prefix]="rendaMensalAposentadoria.value != '' ? 'R$ ' : ''"
                                 [allowNegativeNumbers]="false"
                                 placeholder="R$ 00,00"
                                 (keyup.arrowup)="cliente.rendaMensalAposentadoria = arrowUp(rendaMensalAposentadoria.value)"
                                 (keyup.arrowdown)="cliente.rendaMensalAposentadoria = arrowDown(rendaMensalAposentadoria.value)" required
                                 [ngbPopover]="campoObrigatorio" popoverClass="popover-danger"
                                 [disablePopover]="rendaMensalAposentadoria.errors == null" triggers="mouseenter:mouseleave">
                                </div>
                            </td>
                            <td>
                                <input type="text" class="form-control" id="baixissimo" name="baixissimo" #baixissimo>
                            </td>
                        </tr>
                        <tr>
                            <td class="bg-light px-3 text-right" style="white-space: nowrap;">
                                <small><b>Rentabilidade</b></small>
                            </td>
                            <td>
                                <div class="form-floating">
                                    <input type="text" class="form-control" id="rentabilidadeAposentadoria" name="rentabilidadeAposentadoria"
                                    #rentabilidadeAposentadoria="ngModel" [(ngModel)]="cliente.rentabilidadeAposentadoria" mask="separator.5"
                                    [dropSpecialCharacters]="false" thousandSeparator="."
                                    [allowNegativeNumbers]="true"
                                    placeholder="00,00%" suffix="%"
                                    (keyup.arrowup)="cliente.rentabilidadeAposentadoria = arrowUp(rentabilidadeAposentadoria.value)"
                                    (keyup.arrowdown)="cliente.rentabilidadeAposentadoria = arrowDown(rentabilidadeAposentadoria.value)" required
                                    [ngbPopover]="campoObrigatorio" popoverClass="popover-danger"
                                    [disablePopover]="rentabilidadeAposentadoria.errors == null" triggers="mouseenter:mouseleave">
                                   </div>
                            </td>
                            <td>
                                <input type="text" class="form-control" id="baixissimo" name="baixissimo" #baixissimo>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="home__container">
                <table class="table table-editable table-responsive w-100 d-md-table d-sm-table">
                    <thead>
                        <tr>
                            <th></th>
                            <th>
                                <p class="font-weight-bold text-center d-flex align-items-center"> Principais objetivos
                                    <button class="btn p-0 ml-auto text-white">+</button>
                                </p>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <span class="d-block w-100 p-2 bg-light text-center">1</span>
                            </td>
                            <td>
                                <input type="text" class="form-control" id="baixissimo" name="baixissimo" #baixissimo>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span class="d-block w-100 p-2 bg-light text-center">2</span>
                            </td>
                            <td>
                                <input type="text" class="form-control" id="baixissimo" name="baixissimo" #baixissimo>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span class="d-block w-100 p-2 bg-light text-center">3</span>
                            </td>
                            <td>
                                <input type="text" class="form-control" id="baixissimo" name="baixissimo" #baixissimo>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="home__container">
                <table class="table table-editable table-responsive w-100 d-md-table d-sm-table">
                    <thead>
                        <tr>
                            <th></th>
                            <th colspan="2">
                                <p class="font-weight-bold text-center d-flex align-items-center"> Fluxos Pontuais
                                    <button class="btn p-0 ml-auto text-white">+</button>
                                </p>
                            </th>
                        </tr>
                        <tr class="subheader">
                            <th></th>
                            <th>Idade</th>
                            <th>Montante</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <span class="d-block w-100 p-2 bg-light text-center">1</span>
                            </td>
                            <td>
                                <input type="text" class="form-control" id="baixissimo" name="baixissimo" #baixissimo>
                            </td>
                            <td>
                                <input type="text" class="form-control" id="baixissimo" name="baixissimo" #baixissimo>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span class="d-block w-100 p-2 bg-light text-center">2</span>
                            </td>
                            <td>
                                <input type="text" class="form-control" id="baixissimo" name="baixissimo" #baixissimo>
                            </td>
                            <td>
                                <input type="text" class="form-control" id="baixissimo" name="baixissimo" #baixissimo>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span class="d-block w-100 p-2 bg-light text-center">3</span>
                            </td>
                            <td>
                                <input type="text" class="form-control" id="baixissimo" name="baixissimo" #baixissimo>
                            </td>
                            <td>
                                <input type="text" class="form-control" id="baixissimo" name="baixissimo" #baixissimo>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span class="d-block w-100 p-2 bg-light text-center">4</span>
                            </td>
                            <td>
                                <input type="text" class="form-control" id="baixissimo" name="baixissimo" #baixissimo>
                            </td>
                            <td>
                                <input type="text" class="form-control" id="baixissimo" name="baixissimo" #baixissimo>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span class="d-block w-100 p-2 bg-light text-center">5</span>
                            </td>
                            <td>
                                <input type="text" class="form-control" id="baixissimo" name="baixissimo" #baixissimo>
                            </td>
                            <td>
                                <input type="text" class="form-control" id="baixissimo" name="baixissimo" #baixissimo>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span class="d-block w-100 p-2 bg-light text-center">6</span>
                            </td>
                            <td>
                                <input type="text" class="form-control" id="baixissimo" name="baixissimo" #baixissimo>
                            </td>
                            <td>
                                <input type="text" class="form-control" id="baixissimo" name="baixissimo" #baixissimo>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span class="d-block w-100 p-2 bg-light text-center">7</span>
                            </td>
                            <td>
                                <input type="text" class="form-control" id="baixissimo" name="baixissimo" #baixissimo>
                            </td>
                            <td>
                                <input type="text" class="form-control" id="baixissimo" name="baixissimo" #baixissimo>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span class="d-block w-100 p-2 bg-light text-center">8</span>
                            </td>
                            <td>
                                <input type="text" class="form-control" id="baixissimo" name="baixissimo" #baixissimo>
                            </td>
                            <td>
                                <input type="text" class="form-control" id="baixissimo" name="baixissimo" #baixissimo>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="home__container" *ngIf="false">
                <table class="table table-editable table-responsive w-100 d-md-table d-sm-table">
                    <thead>
                        <tr>
                            <th colspan="3">
                                <p class="font-weight-bold text-center"> Ativos </p>
                            </th>
                        </tr>
                        <tr class="subheader">
                            <th class="text-right">Descrição</th>
                            <th>Valor <small>(R$)</small></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="bg-light px-3 text-right" style="white-space: nowrap;">
                                <small><b>Imóveis</b></small>
                            </td>
                            <td>
                                <input type="text" class="form-control" id="imoveis" name="imoveis" #imoveis="ngModel"
                                    [(ngModel)]="ativos.imoveis">
                            </td>
                        </tr>
                        <tr>
                            <td class="bg-light px-3 text-right" style="white-space: nowrap;">
                                <small><b>Veículos</b></small>
                            </td>
                            <td>
                                <input type="text" class="form-control" id="veiculos" name="veiculos"
                                    #veiculos="ngModel" [(ngModel)]="ativos.veiculos">
                            </td>
                        </tr>
                        <tr>
                            <td class="bg-light px-3 text-right" style="white-space: nowrap;"><small><b>Outros
                                        Bens</b></small></td>
                            <td>
                                <input type="text" class="form-control" id="outrosBens" name="outrosBens"
                                    #outrosBens="ngModel" [(ngModel)]="ativos.outrosBens">
                            </td>
                        </tr>
                        <tr>
                            <td class="bg-light px-3 text-right" style="white-space: nowrap;">
                                <small><b>Investimentos</b></small>
                            </td>
                            <td>
                                <input type="text" class="form-control" id="investimentos" name="investimentos"
                                    #investimentos="ngModel" [(ngModel)]="ativos.investimentos">
                            </td>
                        </tr>
                        <tr>
                            <td class="bg-light px-3 text-right" style="white-space: nowrap;">
                                <small><b>Total</b></small>
                            </td>
                            <td>
                                <input type="text" class="form-control" id="total" name="total" #total="ngModel"
                                    [(ngModel)]="ativos.total">
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="home__container" *ngIf="false">
                <table class="table table-editable table-responsive w-100 d-md-table d-sm-table">
                    <thead>
                        <tr>
                            <th colspan="3">
                                <p class="font-weight-bold text-center"> Passivos </p>
                            </th>
                        </tr>
                        <tr class="subheader">
                            <th class="text-right">Descrição</th>
                            <th>Valor <small>(R$)</small></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="bg-light px-3 text-right" style="white-space: nowrap;">
                                <small><b>Imóveis</b></small>
                            </td>
                            <td>
                                <input type="text" class="form-control" id="imoveis" name="imoveis" #imoveis="ngModel"
                                    [(ngModel)]="passivos.imoveis">
                            </td>
                        </tr>
                        <tr>
                            <td class="bg-light px-3 text-right" style="white-space: nowrap;">
                                <small><b>Veículos</b></small>
                            </td>
                            <td>
                                <input type="text" class="form-control" id="veiculos" name="veiculos"
                                    #veiculos="ngModel" [(ngModel)]="passivos.veiculos">
                            </td>
                        </tr>
                        <tr>
                            <td class="bg-light px-3 text-right" style="white-space: nowrap;"><small><b>Cartão de
                                        Crédito</b></small></td>
                            <td>
                                <input type="text" class="form-control" id="cartaoCredito" name="cartaoCredito"
                                    #cartaoCredito="ngModel" [(ngModel)]="passivos.cartaoCredito">
                            </td>
                        </tr>
                        <tr>
                            <td class="bg-light px-3 text-right" style="white-space: nowrap;"><small><b>Outras
                                        dívidas</b></small></td>
                            <td>
                                <input type="text" class="form-control" id="outrasDividas" name="outrasDividas"
                                    #outrasDividas="ngModel" [(ngModel)]="passivos.outrasDividas">
                            </td>
                        </tr>
                        <tr>
                            <td class="bg-light px-3 text-right" style="white-space: nowrap;">
                                <small><b>Total</b></small>
                            </td>
                            <td>
                                <input type="text" class="form-control" id="total" name="total" #total="ngModel"
                                    [(ngModel)]="passivos.total">
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="home__container" *ngIf="false">
                <table class="table table-editable table-responsive w-100 d-md-table d-sm-table">
                    <thead>
                        <tr>
                            <th colspan="3">
                                <p class="font-weight-bold text-center"> Dependentes </p>
                            </th>
                        </tr>
                        <tr class="subheader">
                            <th>Nome</th>
                            <th style="white-space: nowrap;">Gasto Anual</th>
                            <th style="white-space: nowrap;">Tempo<small> (anos)</small></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let item of dependentes">
                            <td>
                                <input type="text" class="form-control" id="nome" name="nome" #nome="ngModel"
                                    [(ngModel)]="item.nome">
                            </td>
                            <td>
                                <input type="text" class="form-control" id="gastoAnual" name="gastoAnual"
                                    #gastoAnual="ngModel" [(ngModel)]="item.gastoAnual">
                            </td>
                            <td>
                                <input type="text" class="form-control" id="tempo" name="tempo" #tempo="ngModel"
                                    [(ngModel)]="item.tempo">
                            </td>
                        </tr>
                        <tr>
                            <td class="subheader p-1 px-2 text-white font-weight-bold text-right">Total: </td>
                            <td colspan="2"></td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="home__container" *ngIf="false">
                <div class="overflow-x-auto">
                    <table class="table table-editable table-responsive w-100 d-md-table d-sm-table">
                        <thead>
                            <tr>
                                <th colspan="2">
                                    <p class="font-weight-bold text-center"> Seguros </p>
                                </th>
                            </tr>
                            <tr class="subheader">
                                <th class="text-right">Descrição</th>
                                <th style="white-space: nowrap;">Capital Segurado</th>
                            </tr>
                        </thead>
                        <tbody *ngFor="let item of seguro" class="tbody-border">
                            <span class="border"></span>
                            <tr class="bg-light">
                                <td class="px-2 text-right" [class.py-2]="item.capitalSegurado == null"
                                    style="white-space: nowrap;"><small><b>{{ item.titulo }}</b></small></td>
                                <td>
                                    <input *ngIf="item.capitalSegurado != null" type="text" class="form-control"
                                        id="capitalSegurado" name="capitalSegurado" #capitalSegurado="ngModel"
                                        [(ngModel)]="item.capitalSegurado">
                                </td>
                            </tr>
                            <tr *ngFor="let child of item.children">
                                <td class="px-2 pl-3 text-right" [class.py-2]="item.capitalSegurado == null"
                                    style="white-space: nowrap;"><small>{{ child.titulo }}</small></td>
                                <td>
                                    <input *ngIf="child.capitalSegurado != null" type="text" class="form-control"
                                        id="capitalSegurado" name="capitalSegurado" #capitalSegurado="ngModel"
                                        [(ngModel)]="child.capitalSegurado">
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="home__container" *ngIf="false">
                <div class="overflow-x-auto">
                    <table class="table table-editable table-responsive w-100 d-md-table d-sm-table">
                        <thead>
                            <tr>
                                <th colspan="3">
                                    <p class="font-weight-bold text-center"> Dados para Seguro de Vida </p>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="px-3 bg-light text-right"><small><b>Altura</b></small></td>
                                <td><input type="text" class="form-control" id="altura" name="altura" #altura="ngModel"
                                        [(ngModel)]="dadosSeguroVida.altura"></td>
                                <td class="px-3 bg-light"><small><b>IMC</b></small></td>
                            </tr>
                            <tr>
                                <td class="px-3 bg-light text-right"><small><b>Peso</b></small></td>
                                <td><input type="text" class="form-control" id="peso" name="peso" #peso="ngModel"
                                        [(ngModel)]="dadosSeguroVida.peso"></td>
                                <td><input type="text" class="form-control" id="imc" name="imc" #imc="ngModel"
                                        [(ngModel)]="dadosSeguroVida.imc"></td>
                            </tr>
                            <tr>
                                <td class="px-3 bg-light text-right" style="white-space: nowrap;"><small><b>Estado
                                            Civil</b></small></td>
                                <td colspan="2">
                                    <select type="text" class="form-control" id="estadoCivil" name="estadoCivil"
                                        #estadoCivilSelect="ngModel" [(ngModel)]="dadosSeguroVida.estadoCivil">
                                        <option [ngValue]="item.id" *ngFor="let item of estadoCivil">{{item.nome}}
                                        </option>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td class="px-3 bg-light text-right" style="white-space: nowrap;"><small><b>Data
                                            Nascimento</b></small></td>
                                <td colspan="2">
                                    <input type="date" class="form-control" id="dataNascimento" name="dataNascimento"
                                        #dataNascimento="ngModel" [(ngModel)]="dadosSeguroVida.dataNascimento">
                                </td>
                            </tr>
                            <tr>
                                <td class="px-3 bg-light text-right" style="white-space: nowrap;">
                                    <small><b>CPF</b></small>
                                </td>
                                <td colspan="2">
                                    <input type="text" class="form-control" id="cpf" name="cpf" #cpf="ngModel"
                                        [(ngModel)]="dadosSeguroVida.cpf">
                                </td>
                            </tr>
                            <tr>
                                <td class="px-3 bg-light text-right" style="white-space: nowrap;">
                                    <small><b>RG</b></small>
                                </td>
                                <td colspan="2">
                                    <input type="text" class="form-control" id="rg" name="rg" #rg="ngModel"
                                        [(ngModel)]="dadosSeguroVida.rg">
                                </td>
                            </tr>
                            <tr>
                                <td class="px-3 bg-light text-right" style="white-space: nowrap;">
                                    <small><b>E-mail</b></small>
                                </td>
                                <td colspan="2">
                                    <input type="email" class="form-control" id="email" name="email" #email="ngModel"
                                        [(ngModel)]="dadosSeguroVida.email">
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <div class="d-flex flex-wrap"> FIM </div>
    <router-outlet></router-outlet>
</div>
<ng-template #setaUpDown>
    <div class="py-3 px-4"> Acione a seta para cima ou para baixo no teclado para mudar o valor </div>
</ng-template>
<ng-template #campoObrigatorio>
    <div class="py-3 px-4"> Esse campo é obrigatório </div>
</ng-template>