"use strict";(self.webpackChunkplanner=self.webpackChunkplanner||[]).push([[553],{1553:(wt,H,p)=>{p.r(H),p.d(H,{ClientesModule:()=>Tt});var v=p(6895),d=p(433),N=p(3868),w=p(1094),S=p(7185),z=p(47),I=p(279),ue=p(5861),f=p(801),K=p(805),C=p(9808),j=p(1956),U=p(4429),k=p(9398),O=p(1685);class y{constructor(){this.id=0,this.planejamento_Id=0,this.montante=0}}class b{constructor(){this.id=0,this.cliente_Id=0,this.cliente=new U.c1,this.account_Id=0,this.account=new O.mR,this.carteiraSetup_Id=void 0,this.carteiraSetup=void 0,this.data="",this.descricao="",this.taxaSelic="",this.taxaIpca="",this.cm=!1,this.rE_Sugerido="",this.rE_Planejado="",this.riscoAssumido="",this.riscoTolerado="",this.sugestao_Baixissimo="",this.sugestao_Baixo="",this.sugestao_Moderado="",this.sugestao_Arrojado="",this.sugestao_SuperArrojado="",this.sugestao_Hedge="",this.sugestao_Total="",this.plano_Baixissimo="",this.plano_Baixo="",this.plano_Moderado="",this.plano_Arrojado="",this.plano_SuperArrojado="",this.plano_Hedge="",this.plano_Total="",this.atual_Total=0,this.atual_RentabilidadeMedia=0,this.atual_RentabilidadeReal=0,this.sugerido_Total=0,this.planoAcao_Total=0,this.planoAcao_RentabilidadeMedia=0,this.planoAcao_RentabilidadeReal=0,this.planejamentoAgregandoValor=new y,this.planejamentoGrafico=[],this.planejamentoInvestimento=[],this.planejamentoProduto=[],this.planejamentoFluxosPontuais=[],this.principaisObjetivos=[]}}var V=p(9876),me=p(932),B=p(8913),R=p(1135),ce=p(8505),ge=p(9646),Q=p(4004),W=p(2340),J=p(9243),X=p(4409),ee=p(46),e=p(4650),ne=p(529);let P=(()=>{class r{constructor(t,n,o,i,a){this.http=t,this.crypto=n,this.accountService=o,this.empresaService=i,this.table=a,this.list=new R.X([]),this.url=W.N.url,this.objeto=new R.X(new b),this.empresa=new k.oW,this.account=new O.mR,console.log("planner service"),this.empresa=this.empresaService.object,this.empresaService.empresa.subscribe(s=>this.empresa=s),this.accountService.account.subscribe(s=>this.account=s??new O.mR)}getObject(){let t=localStorage.getItem("planejamento");if(t){let n=this.crypto.decrypt(t);this.objeto.next(n)}else this.setObject(new b);return console.log("getObject",this.objeto.value),this.objeto}setObject(t){t.planejamentoAgregandoValor=t.planejamentoAgregandoValor??new y,localStorage.setItem("planejamento",this.crypto.encrypt(t)??""),this.objeto.next(t)}getList(){return this.table.loading.next(!0),this.http.get(`${this.url}/planejamento/all/${this.account.perfilAcesso_Id!=X.u.Admin?this.account.empresa_Id:this.empresa.id}`).pipe((0,ce.b)({next:n=>(n=n.map(o=>(o.cliente.ativo=!o.cliente.dataDesativado,o)),this.list.next(n),(0,ge.of)(n)),complete:()=>{this.table.loading.next(!1)}}))}getByClienteId(t){return this.http.get(`${this.url}/planejamento/${t}`).pipe((0,Q.U)(n=>(console.log("getByClienteId res",n),n.principaisObjetivos=n.principaisObjetivos?n.principaisObjetivos:[],n.planejamentoAgregandoValor=n.planejamentoAgregandoValor??new y,this.setObject(n),n)))}create(t){return t.cliente.empresa_Id=this.account.perfilAcesso_Id!=X.u.Admin?this.account.empresa_Id:this.empresa.id,t.account_Id=this.account.id,t.cliente.account_Id=this.account.id,this.http.post(`${this.url}/planejamento/`,t).pipe((0,Q.U)(o=>(o.planejamentoAgregandoValor=o.planejamentoAgregandoValor??new y,this.setObject(o),o)))}edit(t){return this.http.put(`${this.url}/planejamento/`,t).pipe((0,Q.U)(n=>(n.planejamentoAgregandoValor=n.planejamentoAgregandoValor??new y,this.setObject(n),n)))}delete(t){return this.http.delete(`${this.url}/planejamento/${t}`)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(ne.eN),e.LFG(J.w),e.LFG(V.B),e.LFG(B.P),e.LFG(ee.i))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var Z=p(202),_e=p(453),he=p(8944);function ve(r,l){1&r&&e._UZ(0,"app-empresa-select")}const fe=function(){return["planner"]};let te=(()=>{class r{constructor(t,n,o,i,a,s){var c=this;this.table=t,this.crypto=n,this.clienteService=o,this.plannerService=i,this.accountService=a,this.empresaService=s,this.faCity=f.SBo,this.list=[],this.columns=U.lF,this.tableLinks=[],this.empresaSelected=new k.oW,this.subscription=[],this.create=(h=this.plannerService)=>{h.setObject(new b)};var _=this.clienteService.list.subscribe(h=>this.list=h),m=this.accountService.account.subscribe(h=>this.account=h),g=this.empresaService.empresa.subscribe(function(){var h=(0,ue.Z)(function*(T){c.empresaSelected=T,0!=T.id&&(yield(0,C.n)(c.clienteService.getList()))});return function(T){return h.apply(this,arguments)}}()),M=this.table.selected.subscribe(h=>{h&&(this.tableLinks=[{label:"Ver planner",routePath:["planner"],paramsFieldName:["id"]},{label:h.ativo?"Desabilitar":"Habilitar",routePath:[h.ativo?"desabilitar":"habilitar"],paramsFieldName:["id"]}],this.tableLinks=this.table.encryptParams(this.tableLinks))});this.subscription.push(_),this.subscription.push(m),this.subscription.push(g),this.subscription.push(M),[1,2].includes(this.accountService.accountValue?.perfilAcesso_Id??0)&&(this.columns=Object.assign([],U.lF),this.columns.splice(2,0,{field:"account.email",header:"Cadastrado por",maskType:j.O.undefined,filterType:j.vA.text,filterDisplay:j.w2.menu,filterShowAddButton:!1,filterShowMatchMode:!1,filterMatchMode:K.a6.CONTAINS}))}ngOnDestroy(){this.subscription.forEach(t=>t.unsubscribe())}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(ee.i),e.Y36(J.w),e.Y36(me.$),e.Y36(P),e.Y36(V.B),e.Y36(B.P))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-list"]],decls:17,vars:17,consts:[[1,"page"],[1,"page__header"],[1,"title-icon"],[3,"icon"],[1,"mr-auto"],[1,"page__header-title"],[1,"page__header-subtitle"],[1,"ml-auto","mb-0","col-xl-3","col-lg-4","col-md-5","col-sm-5","col-12","px-0"],[4,"ngIf"],[1,"page__body"],[3,"createLink","onCreate","canCreate","list","paginator","filterLink","filterTable","sortTable","menuTable","columns","selectable","tableLinks"]],template:function(t,n){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"span",2),e._UZ(3,"fa-icon",3),e.qZA(),e.TgZ(4,"div",4)(5,"h3",5),e._uU(6,"Clientes"),e.qZA(),e.TgZ(7,"p",6)(8,"small"),e._uU(9,"Clientes cadastrados em "),e.TgZ(10,"strong"),e._uU(11),e.qZA()()()(),e.TgZ(12,"div",7),e.YNc(13,ve,1,0,"app-empresa-select",8),e.qZA()(),e.TgZ(14,"div",9),e._UZ(15,"app-list-shared",10),e.qZA()(),e._UZ(16,"router-outlet")),2&t&&(e.xp6(3),e.Q6J("icon",n.faCity),e.xp6(8),e.Oqu(n.empresaSelected.nome||"Empresa X"),e.xp6(2),e.Q6J("ngIf",n.account&&1==n.account.perfilAcesso_Id),e.xp6(2),e.Q6J("createLink",e.DdM(16,fe))("onCreate",n.create)("canCreate",!0)("list",n.list)("paginator",!0)("filterLink",!1)("filterTable",!0)("sortTable",!0)("menuTable",!0)("columns",n.columns)("selectable",!0)("tableLinks",n.tableLinks)("selectable",!0))},dependencies:[v.O5,Z.lC,N.BN,_e.o,he.l]}),r})();var oe=p(2210),Ce=p(6025);class Me{constructor(){this.id=0,this.planejamento_Id=0,this.idade="",this.valor=""}}class Ae{constructor(){this.id=0,this.descricao=""}}var F=p(9535),D=p(9205),x=p(3866),ae=p(2788),q=p(7549),be=p(7897),G=p(9364);const Te=["chartAtivo_Investimento"],Ze=["chartRisco_Investimento"],Pe=["chartLiquidez_Investimento"],xe=["chartAtivo_Produto"],we=["chartRisco_Produto"],ye=["chartLiquidez_Produto"];function qe(r,l){if(1&r&&(e.TgZ(0,"div",10)(1,"p",11),e._uU(2,"Investimento"),e.qZA(),e._UZ(3,"p-chart",12,13),e.qZA()),2&r){const t=e.oxw(2);e.xp6(3),e.Q6J("data",t.chartRiscoData_Investimento)("options",t.chartRiscoOptions_Investimento)}}function Ie(r,l){if(1&r&&(e.TgZ(0,"div",10)(1,"p",11),e._uU(2,"Produto"),e.qZA(),e._UZ(3,"p-chart",12,14),e.qZA()),2&r){const t=e.oxw(2);e.xp6(3),e.Q6J("data",t.chartRiscoData_Produto)("options",t.chartRiscoOptions_Produto)}}function ke(r,l){if(1&r&&(e.TgZ(0,"div",6)(1,"p",7),e._uU(2,"Risco"),e.qZA(),e.TgZ(3,"div",8),e.YNc(4,qe,5,2,"div",9),e.YNc(5,Ie,5,2,"div",9),e.qZA()()),2&r){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",t.showInvestimentoRisco),e.xp6(1),e.Q6J("ngIf",t.showProdutoRisco)}}function Je(r,l){if(1&r&&(e.TgZ(0,"div",10)(1,"p",11),e._uU(2,"Investimento"),e.qZA(),e._UZ(3,"p-chart",12,16),e.qZA()),2&r){const t=e.oxw(2);e.xp6(3),e.Q6J("data",t.chartLiquidezData_Investimento)("options",t.chartLiquidezOptions_Investimento)}}function Ne(r,l){if(1&r&&(e.TgZ(0,"div",10)(1,"p",11),e._uU(2,"Produto"),e.qZA(),e._UZ(3,"p-chart",12,17),e.qZA()),2&r){const t=e.oxw(2);e.xp6(3),e.Q6J("data",t.chartLiquidezData_Produto)("options",t.chartLiquidezOptions_Produto)}}function Se(r,l){if(1&r&&(e.TgZ(0,"div",15)(1,"p",7),e._uU(2,"Liquidez"),e.qZA(),e.TgZ(3,"div",8),e.YNc(4,Je,5,2,"div",9),e.YNc(5,Ne,5,2,"div",9),e.qZA()()),2&r){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",t.showInvestimentoLiquidez),e.xp6(1),e.Q6J("ngIf",t.showProdutoLiquidez)}}function je(r,l){if(1&r&&(e.TgZ(0,"div",10)(1,"p",11),e._uU(2,"Investimento"),e.qZA(),e._UZ(3,"p-chart",12,19),e.qZA()),2&r){const t=e.oxw(2);e.xp6(3),e.Q6J("data",t.chartAtivoData_Investimento)("options",t.chartAtivoOptions_Investimento)}}function Ue(r,l){if(1&r&&(e.TgZ(0,"div",10)(1,"p",11),e._uU(2,"Produto"),e.qZA(),e._UZ(3,"p-chart",12,20),e.qZA()),2&r){const t=e.oxw(2);e.xp6(3),e.Q6J("data",t.chartAtivoData_Produto)("options",t.chartAtivoOptions_Produto)}}function Oe(r,l){if(1&r&&(e.TgZ(0,"div",18)(1,"p",7),e._uU(2,"Ativo"),e.qZA(),e.TgZ(3,"div",8),e.YNc(4,je,5,2,"div",9),e.YNc(5,Ue,5,2,"div",9),e.qZA()()),2&r){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",t.showInvestimentoAtivo),e.xp6(1),e.Q6J("ngIf",t.showProdutoAtivo)}}let Re=(()=>{class r{constructor(t){this.dropdown=t,this.open=!0,this.planner=new b,this.ativos=[],this.riscos=[],this.liquidez=[],this.colors=["#36a2eb","#ff6384","#ff9f40","#9966ff","#ffcd56","#c9cbcf","#4bc0c0"],this.produtoTotal=0,this.investimentoTotal=0,this.showInvestimentoRisco=!1,this.showInvestimentoLiquidez=!1,this.showInvestimentoAtivo=!1,this.showProdutoRisco=!1,this.showProdutoLiquidez=!1,this.showProdutoAtivo=!1,this.chartOptions={plugins:{legend:{position:"bottom",display:!1},colors:{enabled:!1}},animations:{tension:{duration:1e3,easing:"linear",from:1,to:0,loop:!0}}}}ngOnChanges(t){t.open&&(this.open=t.open.currentValue),t.planner&&(this.planner=t.planner.currentValue,this.planner.planejamentoProduto.length>0&&(this.produtoTotal=this.planner.planejamentoProduto.map(n=>n.sugerido).reduce((n,o)=>n+o)),this.planner.planejamentoInvestimento.length>0&&(this.investimentoTotal=this.planner.planejamentoInvestimento.map(n=>n.montanteAtual).reduce((n,o)=>n+o)),this.setChartRisco_Investimento(),this.setChartLiquidez_Investimento(),this.setChartAtivo_Investimento(),this.setChartRisco_Produto(),this.setChartLiquidez_Produto(),this.setChartAtivo_Produto())}voltar(){setTimeout(()=>{this.open=!1},300)}setChartRisco_Produto(){this.chartRiscoOptions_Produto=JSON.parse(JSON.stringify(this.chartOptions)),this.chartRiscoOptions_Produto.plugins.tooltip={callbacks:{afterBody:o=>"R$ "+o[0].element.$context.raw.sugerido}},this.chartRiscoOptions_Produto.parsing={key:"percentual"};var n,t=[];this.showProdutoRisco=t&&t.length>0,this.planner.planejamentoProduto.forEach(o=>{var i=t.findIndex(a=>o.produto.tipoRisco_Id==a.tipoRisco_Id);-1==i?n={tipoRisco_Id:o.produto.tipoRisco?o.produto.tipoRisco_Id:0,tipoRisco:o.produto.tipoRisco?o.produto.tipoRisco:void 0,sugerido:o.sugerido,label:o.produto.tipoRisco?o.produto.tipoRisco.nome:"-"}:(n=t[i]).sugerido+=o.sugerido,n.percentual=n.sugerido/this.produtoTotal*100,t.splice(i,-1==i?0:1,n)}),this.chartRiscoData_Produto={labels:t.map(o=>o.tipoRisco?o.tipoRisco.nome:"-"),datasets:[{label:t.map(o=>o.tipoRisco?o.tipoRisco.nome:"-"),data:t,backgroundColor:this.colors,hoverOffset:4}]}}setChartLiquidez_Produto(){this.chartLiquidezOptions_Produto=JSON.parse(JSON.stringify(this.chartOptions)),this.chartLiquidezOptions_Produto.plugins.tooltip={callbacks:{afterBody:o=>"R$ "+o[0].element.$context.raw.sugerido}},this.chartLiquidezOptions_Produto.parsing={key:"percentual"};var n,t=[];this.showProdutoLiquidez=t&&t.length>0,this.planner.planejamentoProduto.forEach(o=>{var i=t.findIndex(a=>o.produto.tipoLiquidez_Id==a.tipoLiquidez_Id);-1==i?n={tipoLiquidez_Id:o.produto.tipoLiquidez?o.produto.tipoLiquidez_Id:0,tipoLiquidez:o.produto.tipoLiquidez?o.produto.tipoLiquidez:void 0,sugerido:o.sugerido,label:o.produto.tipoLiquidez?o.produto.tipoLiquidez.nome:"-"}:(n=t[i]).sugerido+=o.sugerido,n.percentual=n.sugerido/this.produtoTotal*100,t.splice(i,-1==i?0:1,n)}),this.chartLiquidezData_Produto={labels:t.map(o=>o.tipoLiquidez?o.tipoLiquidez.nome:"-"),datasets:[{label:t.map(o=>o.tipoLiquidez?o.tipoLiquidez.nome:"-"),data:t,backgroundColor:this.colors,hoverOffset:4}]}}setChartAtivo_Produto(){this.chartAtivoOptions_Produto=JSON.parse(JSON.stringify(this.chartOptions)),this.chartAtivoOptions_Produto.plugins.tooltip={callbacks:{afterBody:o=>"R$ "+o[0].element.$context.raw.sugerido}},this.chartAtivoOptions_Produto.parsing={key:"percentual"};var n,t=[];this.showProdutoAtivo=t&&t.length>0,this.planner.planejamentoProduto.forEach(o=>{var i=t.findIndex(a=>o.produto.tipoAtivo_Id==a.tipoAtivo_Id);-1==i?n={tipoAtivo_Id:o.produto.tipoAtivo?o.produto.tipoAtivo_Id:0,tipoAtivo:o.produto.tipoAtivo?o.produto.tipoAtivo:void 0,sugerido:o.sugerido,label:o.produto.tipoAtivo?o.produto.tipoAtivo.nome:"-"}:(n=t[i]).sugerido+=o.sugerido,n.percentual=n.sugerido/this.produtoTotal*100,t.splice(i,-1==i?0:1,n)}),this.chartAtivoData_Produto={labels:t.map(o=>o.tipoAtivo?o.tipoAtivo.nome:"-"),datasets:[{label:t.map(o=>o.tipoAtivo?o.tipoAtivo.nome:"-"),data:t,backgroundColor:this.colors,hoverOffset:4}]}}setChartRisco_Investimento(){this.chartRiscoOptions_Investimento=JSON.parse(JSON.stringify(this.chartOptions)),this.chartRiscoOptions_Investimento.plugins.tooltip={callbacks:{afterBody:o=>"R$ "+o[0].element.$context.raw.montanteAtual}},this.chartRiscoOptions_Investimento.parsing={key:"percentual"};var n,t=[];this.showInvestimentoRisco=t&&t.length>0,this.planner.planejamentoInvestimento.forEach(o=>{var i=t.findIndex(a=>o.investimento.tipoRisco_Id==a.tipoRisco_Id);-1==i?n={tipoRisco_Id:o.investimento.tipoRisco?o.investimento.tipoRisco_Id:0,tipoRisco:o.investimento.tipoRisco?o.investimento.tipoRisco:void 0,montanteAtual:o.montanteAtual,label:o.investimento.tipoRisco?o.investimento.tipoRisco.nome:"-"}:(n=t[i]).montanteAtual+=o.montanteAtual,n.percentual=n.montanteAtual/this.investimentoTotal*100,t.splice(i,-1==i?0:1,n)}),this.chartRiscoData_Investimento={labels:t.map(o=>o.tipoRisco?o.tipoRisco.nome:"-"),datasets:[{label:t.map(o=>o.tipoRisco?o.tipoRisco.nome:"-"),data:t,backgroundColor:this.colors,hoverOffset:4}]}}setChartLiquidez_Investimento(){this.chartLiquidezOptions_Investimento=JSON.parse(JSON.stringify(this.chartOptions)),this.chartLiquidezOptions_Investimento.plugins.tooltip={callbacks:{afterBody:o=>"R$ "+o[0].element.$context.raw.montanteAtual}},this.chartLiquidezOptions_Investimento.parsing={key:"percentual"};var n,t=[];this.showInvestimentoLiquidez=t&&t.length>0,this.planner.planejamentoInvestimento.forEach(o=>{var i=t.findIndex(a=>o.investimento.tipoLiquidez_Id==a.tipoLiquidez_Id);-1==i?n={tipoLiquidez_Id:o.investimento.tipoLiquidez?o.investimento.tipoLiquidez_Id:0,tipoLiquidez:o.investimento.tipoLiquidez?o.investimento.tipoLiquidez:void 0,montanteAtual:o.montanteAtual,label:o.investimento.tipoLiquidez?o.investimento.tipoLiquidez.nome:"-"}:(n=t[i]).montanteAtual+=o.montanteAtual,n.percentual=n.montanteAtual/this.investimentoTotal*100,t.splice(i,-1==i?0:1,n)}),this.chartLiquidezData_Investimento={labels:t.map(o=>o.tipoLiquidez?o.tipoLiquidez.nome:"-    "),datasets:[{label:t.map(o=>o.tipoLiquidez?o.tipoLiquidez.nome:"-    "),data:t,backgroundColor:this.colors,hoverOffset:4}]}}setChartAtivo_Investimento(){this.chartAtivoOptions_Investimento=JSON.parse(JSON.stringify(this.chartOptions)),this.chartAtivoOptions_Investimento.plugins.tooltip={callbacks:{afterBody:o=>"R$ "+o[0].element.$context.raw.montanteAtual}},this.chartAtivoOptions_Investimento.parsing={key:"percentual"};var n,t=[];this.showInvestimentoAtivo=t&&t.length>0,this.planner.planejamentoInvestimento.forEach(o=>{var i=t.findIndex(a=>o.investimento.tipoAtivo_Id==a.tipoAtivo_Id);-1==i?n={tipoAtivo_Id:o.investimento.tipoAtivo_Id,tipoAtivo:o.investimento.tipoAtivo,montanteAtual:o.montanteAtual,label:o.investimento.tipoAtivo.nome}:(n=t[i]).montanteAtual+=o.montanteAtual,n.percentual=n.montanteAtual/this.investimentoTotal*100,t.splice(i,-1==i?0:1,n)}),this.chartAtivoData_Investimento={labels:t.map(o=>o.tipoAtivo.nome),datasets:[{label:t.map(o=>o.tipoAtivo.nome),data:t,backgroundColor:this.colors,hoverOffset:4}]}}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(F.V))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-grafico-comparativo"]],viewQuery:function(t,n){if(1&t&&(e.Gf(Te,5),e.Gf(Ze,5),e.Gf(Pe,5),e.Gf(xe,5),e.Gf(we,5),e.Gf(ye,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.chartAtivo_Investimento=o.first),e.iGM(o=e.CRH())&&(n.chartRisco_Investimento=o.first),e.iGM(o=e.CRH())&&(n.chartLiquidez_Investimento=o.first),e.iGM(o=e.CRH())&&(n.chartAtivo_Produto=o.first),e.iGM(o=e.CRH())&&(n.chartRisco_Produto=o.first),e.iGM(o=e.CRH())&&(n.chartLiquidez_Produto=o.first)}},inputs:{open:"open",planner:"planner"},features:[e.TTD],decls:8,vars:3,consts:[[1,"home__container","col-12"],[1,"home__container-header","mb-2"],[1,"d-flex","flex-wrap"],["class","col-lg-4 col-md-4 col-sm-12 col-12 mb-4 ps-md-0",4,"ngIf"],["class","col-lg-4 col-md-4 col-sm-12 col-12 mb-4 px-sm-0",4,"ngIf"],["class","col-lg-4 col-md-4 col-sm-12 col-12 mb-4 pe-md-0",4,"ngIf"],[1,"col-lg-4","col-md-4","col-sm-12","col-12","mb-4","ps-md-0"],[1,"card-header","border","text-center","font-weight-bold","w-100"],[1,"card","card-body","rounded-0","d-flex","flex-wrap","flex-row","p-0","pt-4"],["class","col-sm-6 col-6 px-1",4,"ngIf"],[1,"col-sm-6","col-6","px-1"],[1,"text-center","font-weight-bold","w-100","mb-2"],["type","pie",3,"data","options"],["chartRisco_Investimento",""],["chartRisco_Produto",""],[1,"col-lg-4","col-md-4","col-sm-12","col-12","mb-4","px-sm-0"],["chartLiquidez_Investimento",""],["chartLiquidez_Produto",""],[1,"col-lg-4","col-md-4","col-sm-12","col-12","mb-4","pe-md-0"],["chartAtivo_Investimento",""],["chartAtivo_Produto",""]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h6"),e._uU(3,"Comparativo"),e.qZA()(),e.TgZ(4,"div",2),e.YNc(5,ke,6,2,"div",3),e.YNc(6,Se,6,2,"div",4),e.YNc(7,Oe,6,2,"div",5),e.qZA()()),2&t&&(e.xp6(5),e.Q6J("ngIf",n.showInvestimentoRisco||n.showProdutoRisco),e.xp6(1),e.Q6J("ngIf",n.showInvestimentoLiquidez||n.showProdutoLiquidez),e.xp6(1),e.Q6J("ngIf",n.showInvestimentoAtivo||n.showProdutoAtivo))},dependencies:[v.O5,G.C],styles:['.modal__bg-grafico[_ngcontent-%COMP%]{opacity:0;visibility:hidden;transition:.5s;position:fixed;z-index:1;background:#00000030}.modal__bg-grafico.active[_ngcontent-%COMP%]{opacity:1;visibility:visible}.modal-grafico.modal[_ngcontent-%COMP%]{position:absolute;top:0;left:auto;right:0;transform:translateY(50px);width:90%;max-width:1100px;height:auto;max-height:90vw;display:flex;align-items:center;justify-content:end;z-index:2;overflow:visible;opacity:1;visibility:visible}.modal-grafico.modal.active[_ngcontent-%COMP%]{z-index:1;transition:.5s}.navigation-open[_ngcontent-%COMP%]   .modal-grafico.modal[_ngcontent-%COMP%]{max-width:900px}.modal-grafico[_ngcontent-%COMP%]   .modal__inner[_ngcontent-%COMP%]{position:absolute;width:0;max-width:100%;top:0;right:0;left:auto;transform:none;overflow:visible;box-shadow:2px 2px 4px #00000069;transition:1s,1s opacity 3s,1s visibility 2s}.active.modal-grafico[_ngcontent-%COMP%]   .modal__inner[_ngcontent-%COMP%]{width:100%;transition:1s;transition:1s,1s opacity 3s,1s visibility 3s}.modal-grafico[_ngcontent-%COMP%]   .modal__inner[_ngcontent-%COMP%]   .modal-arrow[_ngcontent-%COMP%]{position:absolute;right:0;transform:translateY(-100%);z-index:1005;top:1px;width:15px;height:15px;filter:drop-shadow(0px -2px 1px rgba(0,0,0,.4));border:#0000008f;opacity:0;transition:.3s}.modal-grafico.active[_ngcontent-%COMP%]   .modal__inner[_ngcontent-%COMP%]   .modal-arrow[_ngcontent-%COMP%]{opacity:1;right:107px}.modal-grafico[_ngcontent-%COMP%]   .modal__inner[_ngcontent-%COMP%]   .modal-arrow[_ngcontent-%COMP%]:before{content:"";background:var(--primary);background-color:#fff;width:15px;height:15px;clip-path:polygon(51% 39%,0% 100%,100% 100%);position:relative;display:flex}.modal-grafico[_ngcontent-%COMP%]   .modal__content[_ngcontent-%COMP%]{max-height:80vh;overflow:auto}.modal-grafico[_ngcontent-%COMP%]   .modal__header[_ngcontent-%COMP%]{background-color:var(--primary);background-color:#fff}.modal-grafico[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{background-color:var(--primary);background-color:#fff;color:#fff;opacity:1;position:static;margin-left:auto;width:auto;height:auto;margin-right:15px}.modal-grafico[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:15px}']}),r})();var re=p(4551);const Qe=["chartPatrimonioIdade"];let Fe=(()=>{class r{constructor(t){this.plannerService=t,this.planner=new b,this.chartSize={"chart-capital-segurado":{width:"0",height:"0"},"chart-patrimonio-idade":{width:"0",height:"0"}},this.subscription=[];var n=this.plannerService.objeto.subscribe(o=>{this.planner=o,this.setChartPatrimonioIdade()});this.subscription.push(n)}ngOnDestroy(){this.subscription.forEach(t=>t.unsubscribe())}ngOnChanges(t){t.planner&&(this.planner=t.planner.currentValue,this.planner.planejamentoGrafico.length>0&&this.setChartPatrimonioIdade())}onResize(t){this.setChartWidth("chart-capital-segurado"),this.setChartWidth("chart-patrimonio-idade")}setChartWidth(t){let n=window.innerWidth,o=window.innerHeight,i=$("#"+t).width()??0,a=$("#"+t).height()??0,c=100/o;this.chartSize[t].width=(100/n*i).toString()+"vw",this.chartSize[t].height=(c*a).toString()+"vh"}setChartPatrimonioIdade(){this.setChartWidth("chart-patrimonio-idade"),this.planner.planejamentoGrafico.sort((t,n)=>t.idade-n.idade),this.chartPatrimonioIdadeData={labels:this.planner.planejamentoGrafico.map(t=>t.idade),datasets:[{type:"line",label:"Planejado",data:this.planner.planejamentoGrafico.map(t=>t.valorPlanejado),backgroundColor:"#242424",borderColor:"#2424247a"},{type:"bar",label:"Realidade Atual",data:this.planner.planejamentoGrafico.map(t=>t.valorAtual),backgroundColor:"#2d7a95"}]},this.chartPatrimonioIdadeOptions={plugins:{title:{display:!0,text:"Planejado x Realidade Atual",font:{size:20},color:re.w.primary},subtitle:{display:!1,text:"Planejado x Realidade Atual",font:{size:22},color:re.w.grey},legend:{position:"top"}},scales:{xAxes:{min:0,max:100,suggestedMax:100,display:!0,title:{text:"Idade",display:!0,align:"start",font:{weight:"bold"}}},yAxes:{title:{text:"Valor",display:!0,align:"start",font:{weight:"bold"}}}}}}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(P))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-patrimonio-por-idade"]],viewQuery:function(t,n){if(1&t&&e.Gf(Qe,5),2&t){let o;e.iGM(o=e.CRH())&&(n.chartPatrimonioIdade=o.first)}},hostBindings:function(t,n){1&t&&e.NdJ("resize",function(i){return n.onResize(i)},!1,e.Jf7)},inputs:{planner:"planner"},features:[e.TTD],decls:7,vars:4,consts:[[1,"home__container"],[1,"home__container-header","mb-2"],["id","chart-patrimonio-idade",1,"form-row","chart-container"],[3,"data","options","width","height"],["chartPatrimonioIdade",""]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h6"),e._uU(3,"Patrim\xf4nio por Idade"),e.qZA()(),e.TgZ(4,"div",2),e._UZ(5,"p-chart",3,4),e.qZA()()),2&t&&(e.xp6(5),e.Q6J("data",n.chartPatrimonioIdadeData)("options",n.chartPatrimonioIdadeOptions)("width",n.chartSize["chart-patrimonio-idade"].width)("height",n.chartSize["chart-patrimonio-idade"].height))},dependencies:[G.C]}),r})();const De=["chartCapitalSegurado"],Ge=["dataNascimento"];function Le(r,l){if(1&r&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&r){const t=l.$implicit;e.Q6J("ngValue",t.id),e.xp6(1),e.hij("",t.descricao," ")}}function Ee(r,l){if(1&r&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&r){const t=l.$implicit;e.Q6J("ngValue",t.id),e.xp6(1),e.Oqu(t.descricao)}}function $e(r,l){if(1&r&&(e.TgZ(0,"p",17)(1,"small"),e._uU(2),e.qZA()()),2&r){const t=e.oxw(2);e.xp6(2),e.hij("Data m\xednima \xe9 ",t.dataNascimentoMin,"")}}function Ye(r,l){if(1&r&&(e.TgZ(0,"p",17)(1,"small"),e._uU(2),e.qZA()()),2&r){const t=e.oxw(2);e.xp6(2),e.hij("Data m\xe1xima \xe9 ",t.dataNascimentoMax,"")}}function He(r,l){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,$e,3,1,"p",213),e.YNc(2,Ye,3,1,"p",213),e.qZA()),2&r){e.oxw();const t=e.MAs(70);e.xp6(1),e.Q6J("ngIf",t.errors.min),e.xp6(1),e.Q6J("ngIf",t.errors.max)}}function ze(r,l){1&r&&(e.TgZ(0,"p",17),e._uU(1,"Valor m\xednimo \xe9 1."),e.qZA())}function Ke(r,l){1&r&&(e.TgZ(0,"p",17),e._uU(1,"Valor m\xe1ximo \xe9 100.000.000."),e.qZA())}function Ve(r,l){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,ze,2,0,"p",213),e.YNc(2,Ke,2,0,"p",213),e.qZA()),2&r){e.oxw();const t=e.MAs(100);e.xp6(1),e.Q6J("ngIf",t.errors.min),e.xp6(1),e.Q6J("ngIf",t.errors.max)}}function Be(r,l){1&r&&(e.TgZ(0,"p",17),e._uU(1,"Valor m\xednimo \xe9 1."),e.qZA())}function We(r,l){1&r&&(e.TgZ(0,"p",17),e._uU(1,"Valor m\xe1ximo \xe9 100.000.000."),e.qZA())}function Xe(r,l){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,Be,2,0,"p",213),e.YNc(2,We,2,0,"p",213),e.qZA()),2&r){e.oxw();const t=e.MAs(108);e.xp6(1),e.Q6J("ngIf",t.errors.min),e.xp6(1),e.Q6J("ngIf",t.errors.max)}}function en(r,l){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"td",104)(2,"input",214,45),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).$implicit;return e.KtG(a.idade=o)})("keyup.arrowup",function(){const i=e.CHM(t).$implicit,a=e.MAs(3),s=e.oxw();return e.KtG(i.idade=s.arrowUp(a.value))})("keyup.arrowdown",function(){const i=e.CHM(t).$implicit,a=e.MAs(3),s=e.oxw();return e.KtG(i.idade=s.arrowDown(a.value))})("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveData())}),e.qZA()(),e.TgZ(4,"td")(5,"input",215,216),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).$implicit;return e.KtG(a.valor=o)})("keyup.arrowup",function(){const i=e.CHM(t).$implicit,a=e.MAs(6),s=e.oxw();return e.KtG(i.valor=s.arrowUp(a.value))})("keyup.arrowdown",function(){const i=e.CHM(t).$implicit,a=e.MAs(6),s=e.oxw();return e.KtG(i.valor=s.arrowDown(a.value,!0))})("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveData())}),e.qZA()(),e.TgZ(7,"td",217)(8,"button",218),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.removerFluxoPontual(i))}),e._UZ(9,"fa-icon",102),e.qZA()()()}if(2&r){const t=l.$implicit,n=l.index,o=e.MAs(3),i=e.MAs(6),a=e.oxw(),s=e.MAs(460);e.xp6(2),e.MGl("id","idade-",n,"")("name","idade-",n,""),e.Q6J("ngModel",t.idade)("ngbPopover",s)("disablePopover",null==o.errors),e.xp6(3),e.MGl("id","valor",n,"")("name","valor",n,""),e.Q6J("ngModel",t.valor)("ngbPopover",s)("disablePopover",null==i.errors),e.xp6(4),e.Q6J("icon",a.faTrash)}}function nn(r,l){1&r&&(e.TgZ(0,"tr")(1,"td",219),e._uU(2,"Nenhum registro"),e.qZA()())}function tn(r,l){1&r&&(e.TgZ(0,"tr",93)(1,"th",220),e._uU(2,"Investimento"),e.qZA(),e.TgZ(3,"th",108),e._uU(4,"Custos/Taxas"),e.qZA(),e.TgZ(5,"th",108),e._uU(6,"Rentabilidade"),e.qZA(),e.TgZ(7,"th",108),e._uU(8,"Rentab. Liquida"),e.qZA(),e.TgZ(9,"th",108),e._uU(10,"Montante Atual"),e.qZA(),e.TgZ(11,"th",108),e._uU(12,"Montante Sugerida"),e.qZA(),e.TgZ(13,"th",108),e._uU(14,"Plano de A\xe7\xe3o"),e.qZA(),e._UZ(15,"th",221),e.qZA())}function on(r,l){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"td",165)(2,"span",222),e._uU(3),e.qZA()(),e.TgZ(4,"td",223)(5,"input",224,225),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).$implicit;return e.KtG(a.custosTaxas=o)})("keyup.arrowup",function(){const i=e.CHM(t).$implicit,a=e.MAs(6),s=e.oxw();return e.KtG(i.custosTaxas=s.arrowUp(a.value))})("keyup.arrowdown",function(){const i=e.CHM(t).$implicit,a=e.MAs(6),s=e.oxw();return e.KtG(i.custosTaxas=s.arrowDown(a.value,!1))})("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveData())}),e.qZA()(),e.TgZ(7,"td",156)(8,"input",226,227),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).$implicit;return e.KtG(a.rentabilidade=o)})("keyup.arrowup",function(){const i=e.CHM(t).$implicit,a=e.MAs(9),s=e.oxw();return e.KtG(i.rentabilidade=s.arrowUp(a.value))})("keyup.arrowdown",function(){const i=e.CHM(t).$implicit,a=e.MAs(9),s=e.oxw();return e.KtG(i.rentabilidade=s.arrowDown(a.value,!0))})("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveData())}),e.qZA()(),e.TgZ(10,"td",223)(11,"input",228,229),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).$implicit;return e.KtG(a.rentabilidadeLiquida=o)})("keyup.arrowup",function(){const i=e.CHM(t).$implicit,a=e.MAs(12),s=e.oxw();return e.KtG(i.rentabilidadeLiquida=s.arrowUp(a.value))})("keyup.arrowdown",function(){const i=e.CHM(t).$implicit,a=e.MAs(12),s=e.oxw();return e.KtG(i.rentabilidadeLiquida=s.arrowDown(a.value,!0))})("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveData())}),e.qZA()(),e.TgZ(13,"td",156)(14,"input",230,231),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).$implicit;return e.KtG(a.montanteAtual=o)})("keyup.arrowup",function(){const i=e.CHM(t).$implicit,a=e.MAs(15),s=e.oxw();return e.KtG(i.montanteAtual=s.arrowUp(a.value))})("keyup.arrowdown",function(){const i=e.CHM(t).$implicit,a=e.MAs(15),s=e.oxw();return e.KtG(i.montanteAtual=s.arrowDown(a.value,!0))})("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveData())}),e.qZA()(),e.TgZ(16,"td",223)(17,"input",232,233),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).$implicit;return e.KtG(a.sugerido=o)})("keyup.arrowup",function(){const i=e.CHM(t).$implicit,a=e.MAs(18),s=e.oxw();return e.KtG(i.sugerido=s.arrowUp(a.value))})("keyup.arrowdown",function(){const i=e.CHM(t).$implicit,a=e.MAs(18),s=e.oxw();return e.KtG(i.sugerido=s.arrowDown(a.value,!0))})("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveData())}),e.qZA()(),e.TgZ(19,"td",223)(20,"input",232,234),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).$implicit;return e.KtG(a.planoAcao=o)})("keyup.arrowup",function(){const i=e.CHM(t).$implicit,a=e.MAs(21),s=e.oxw();return e.KtG(i.planoAcao=s.arrowUp(a.value))})("keyup.arrowdown",function(){const i=e.CHM(t).$implicit,a=e.MAs(21),s=e.oxw();return e.KtG(i.planoAcao=s.arrowDown(a.value,!0))})("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveData())}),e.qZA()(),e.TgZ(22,"td",221)(23,"a",235),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.removerInvestimento(i))}),e._UZ(24,"fa-icon",102),e.qZA()()()}if(2&r){const t=l.$implicit,n=l.rowIndex,o=e.oxw(),i=e.MAs(462);e.xp6(3),e.Oqu(t.investimento.descricao),e.xp6(2),e.MGl("id","investimento-custosTaxas-",n,"")("name","investimento-custosTaxas-",n,""),e.Q6J("ngModel",t.custosTaxas)("allowNegativeNumbers",!1)("ngbPopover",i),e.xp6(3),e.MGl("id","investimento-rentabilidade-",n,"")("name","investimento-rentabilidade-",n,""),e.Q6J("ngModel",t.rentabilidade)("allowNegativeNumbers",!0)("ngbPopover",i),e.xp6(3),e.MGl("id","investimento-rentabilidadeLiquida-",n,"")("name","investimento-rentabilidadeLiquida-",n,""),e.Q6J("ngModel",t.rentabilidadeLiquida)("ngbPopover",i),e.xp6(3),e.MGl("id","investimento-montanteAtual-",n,"")("name","investimento-montanteAtual-",n,""),e.Q6J("ngModel",t.montanteAtual)("ngbPopover",i),e.xp6(3),e.MGl("id","investimento-sugerido-",n,"")("name","investimento-sugerido-",n,""),e.Q6J("ngModel",t.sugerido)("ngbPopover",i),e.xp6(3),e.MGl("id","investimento-planoAcao-",n,"")("name","investimento-planoAcao-",n,""),e.Q6J("ngModel",t.planoAcao)("ngbPopover",i),e.xp6(4),e.Q6J("icon",o.faTrash)}}function an(r,l){1&r&&(e.TgZ(0,"tr"),e._UZ(1,"td"),e.TgZ(2,"td",236),e._uU(3," Nenhum registro "),e.qZA(),e._UZ(4,"td"),e.qZA()),2&r&&(e.xp6(2),e.uIk("colspan",6))}function rn(r,l){if(1&r&&(e.TgZ(0,"span",240),e._uU(1," Inativo "),e.qZA()),2&r){e.oxw();const t=e.MAs(5);e.Q6J("ngbPopover",t)}}function ln(r,l){if(1&r&&(e.TgZ(0,"div",241),e._uU(1),e.ALo(2,"date"),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.hij("Desativado em ",e.Dn7(2,1,t.dataDesativado,"dd/MM/yyyy","UTC")," ")}}function sn(r,l){if(1&r&&(e.TgZ(0,"div",237)(1,"span"),e._uU(2),e.qZA(),e.YNc(3,rn,2,1,"span",238),e.YNc(4,ln,3,5,"ng-template",null,239,e.W1O),e.qZA()),2&r){const t=l.$implicit;e.xp6(2),e.Oqu(t.nome),e.xp6(1),e.Q6J("ngIf",t.dataDesativado)}}function pn(r,l){if(1&r){const t=e.EpF();e.TgZ(0,"button",242),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(),i=e.MAs(13);return e.KtG(o.adicionarProdutoCarteira(i))}),e._uU(1," Carregar produtos "),e.qZA()}if(2&r){const t=e.oxw(),n=e.MAs(13);e.Gre("btn btn-primary ml-1 d-flex align-items-center ",n.invalid||t.loading?"disabled-button":"",""),e.Q6J("disabled",n.invalid||t.loading)}}const dn=function(){return["produto"]};function un(r,l){1&r&&(e.TgZ(0,"a",243),e._uU(1," Adicionar outros produtos "),e.qZA()),2&r&&e.Q6J("routerLink",e.DdM(1,dn))}function mn(r,l){1&r&&(e.TgZ(0,"p",244),e._uU(1,"* Insira um investimento para adicionar um produto"),e.qZA())}function cn(r,l){1&r&&(e.TgZ(0,"tr",93)(1,"th",245),e._uU(2,"Produto"),e.qZA(),e.TgZ(3,"th",108),e._uU(4,"Custos/Taxas"),e.qZA(),e.TgZ(5,"th",108),e._uU(6,"Percentual"),e.qZA(),e.TgZ(7,"th",108),e._uU(8,"Rentabilidade"),e.qZA(),e.TgZ(9,"th",108),e._uU(10,"Rentab. Liquida"),e.qZA(),e.TgZ(11,"th",108),e._uU(12,"Montante Atual"),e.qZA(),e.TgZ(13,"th",108),e._uU(14,"Montante Sugerida"),e.qZA(),e.TgZ(15,"th",108),e._uU(16,"Plano de A\xe7\xe3o"),e.qZA(),e._UZ(17,"th",221),e.qZA())}function gn(r,l){if(1&r){const t=e.EpF();e.TgZ(0,"a",235),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,i=e.oxw();return e.KtG(i.removerProduto(o))}),e._UZ(1,"fa-icon",102),e.qZA()}if(2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("icon",t.faTrash)}}function _n(r,l){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"td",246)(2,"small")(3,"b"),e._uU(4),e.qZA()()(),e.TgZ(5,"td")(6,"input",224,225),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).$implicit;return e.KtG(a.custosTaxas=o)})("keyup.arrowup",function(){const i=e.CHM(t).$implicit,a=e.MAs(7),s=e.oxw();return e.KtG(i.custosTaxas=s.arrowUp(a.value))})("keyup.arrowdown",function(){const i=e.CHM(t).$implicit,a=e.MAs(7),s=e.oxw();return e.KtG(i.custosTaxas=s.arrowDown(a.value,!1))})("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveData())}),e.qZA()(),e.TgZ(8,"td",223)(9,"input",247,248),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).$implicit;return e.KtG(a.percentual=o)}),e.qZA()(),e.TgZ(11,"td")(12,"input",249,227),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).$implicit;return e.KtG(a.rentabilidade=o)})("keyup.arrowup",function(){const i=e.CHM(t).$implicit,a=e.MAs(13),s=e.oxw();return e.KtG(i.rentabilidade=s.arrowUp(a.value))})("keyup.arrowdown",function(){const i=e.CHM(t).$implicit,a=e.MAs(13),s=e.oxw();return e.KtG(i.rentabilidade=s.arrowDown(a.value,!0))})("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveData())}),e.qZA()(),e.TgZ(14,"td",223),e._uU(15),e.ALo(16,"mask"),e.qZA(),e.TgZ(17,"td",223),e._uU(18),e.ALo(19,"mask"),e.qZA(),e.TgZ(20,"td",223),e._uU(21),e.ALo(22,"mask"),e.qZA(),e.TgZ(23,"td",223)(24,"input",250,234),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).$implicit;return e.KtG(a.planoAcao=o)})("keyup.arrowup",function(){const i=e.CHM(t).$implicit,a=e.MAs(25),s=e.oxw();return e.KtG(i.planoAcao=s.arrowUp(a.value))})("keyup.arrowdown",function(){const i=e.CHM(t).$implicit,a=e.MAs(25),s=e.oxw();return e.KtG(i.planoAcao=s.arrowDown(a.value,!1))})("change",function(){e.CHM(t);const o=e.oxw();return o.calculaPercentual(),e.KtG(o.saveData())}),e.qZA()(),e.TgZ(26,"td",221),e.YNc(27,gn,2,1,"a",251),e.qZA()()}if(2&r){const t=l.$implicit,n=l.rowIndex;e.oxw();const o=e.MAs(462);e.xp6(4),e.Oqu(t.produto.descricao),e.xp6(2),e.MGl("id","produto-custosTaxas-",n,"")("name","produto-custosTaxas-",n,""),e.Q6J("ngModel",t.custosTaxas)("allowNegativeNumbers",!1)("ngbPopover",o),e.xp6(3),e.MGl("id","produto-percentual-",n,"")("name","produto-percentual-",n,""),e.Q6J("ngModel",t.percentual)("allowNegativeNumbers",!1),e.xp6(3),e.MGl("id","produto-rentabilidade-",n,"")("name","produto-rentabilidade-",n,""),e.Q6J("ngModel",t.rentabilidade)("allowNegativeNumbers",!0)("ngbPopover",o)("required",!0),e.xp6(3),e.hij("",e.Dn7(16,26,t.rentabilidadeLiquida,"separator","."),"%"),e.xp6(3),e.hij(" R$ ",e.Dn7(19,30,t.montanteAtual,"separator",".")," "),e.xp6(3),e.hij(" R$ ",e.Dn7(22,34,t.sugerido,"separator",".")," "),e.xp6(3),e.MGl("id","produto-planoAcao-",n,"")("name","produto-planoAcao-",n,""),e.Q6J("ngModel",t.planoAcao)("allowNegativeNumbers",!0)("ngbPopover",o)("required",!0),e.xp6(3),e.Q6J("ngIf",61!=t.produto.id)}}function hn(r,l){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"td",246)(2,"small")(3,"b"),e._uU(4,"Total"),e.qZA()()(),e._UZ(5,"td"),e.TgZ(6,"td")(7,"input",252,253),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.somaPercentualProduto=o)}),e.qZA()(),e._UZ(9,"td")(10,"td")(11,"td"),e.TgZ(12,"td")(13,"input",254,255),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.somaSugeridoProduto=o)}),e.qZA()(),e.TgZ(15,"td")(16,"input",256,257),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.somaPlanoAcaoProduto=o)}),e.qZA()(),e._UZ(18,"td"),e.qZA()}if(2&r){const t=e.oxw(2);e.xp6(7),e.Q6J("ngModel",t.somaPercentualProduto)("allowNegativeNumbers",!0)("readonly",!0),e.xp6(6),e.Q6J("ngModel",t.somaSugeridoProduto)("allowNegativeNumbers",!0)("readonly",!0),e.xp6(3),e.Q6J("ngModel",t.somaPlanoAcaoProduto)("allowNegativeNumbers",!0)("readonly",!0)}}function vn(r,l){if(1&r&&e.YNc(0,hn,19,9,"tr",41),2&r){const t=e.oxw();e.Q6J("ngIf",t.planner.planejamentoProduto.length>0)}}function fn(r,l){1&r&&(e.TgZ(0,"tr"),e._UZ(1,"td"),e.TgZ(2,"td",236),e._uU(3," Nenhum registro "),e.qZA(),e._UZ(4,"td"),e.qZA()),2&r&&(e.xp6(2),e.uIk("colspan",7))}function Cn(r,l){if(1&r&&(e.TgZ(0,"div",10),e._UZ(1,"app-patrimonio-por-idade",258),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("planner",t.planner)}}function Mn(r,l){if(1&r&&(e.TgZ(0,"div",10),e._UZ(1,"app-grafico-comparativo",258,259),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("planner",t.planner)}}function An(r,l){if(1&r&&(e.TgZ(0,"p",263),e._uU(1),e.ALo(2,"json"),e.qZA()),2&r){const t=l.$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,t))}}function bn(r,l){1&r&&(e.TgZ(0,"p",263),e._uU(1,"Preencha todos os campos corretamente para salvar"),e.qZA())}function Tn(r,l){if(1&r&&(e.TgZ(0,"div",260),e.YNc(1,An,3,3,"p",261),e.YNc(2,bn,2,0,"p",262),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.erro),e.xp6(1),e.Q6J("ngIf",0==t.erro.length)}}function Zn(r,l){1&r&&e._UZ(0,"span",264)}function Pn(r,l){1&r&&(e.TgZ(0,"div",265),e._uU(1," Este campo \xe9 obrigat\xf3rio "),e.qZA())}function xn(r,l){1&r&&(e.TgZ(0,"div",266),e._uU(1," Acione a seta para cima ou para baixo no teclado para mudar o valor "),e.qZA())}function wn(r,l){1&r&&(e.TgZ(0,"div",265),e._uU(1,"Preencha todos os campos corretamente para adicionar produtos"),e.qZA())}const yn=function(){return["investimento"]};let ie=(()=>{class r{constructor(t,n,o,i,a,s,c,_){this.modal=t,this.plannerService=n,this.isMobile=o,this.toastr=i,this.activatedRoute=a,this.dropdown=s,this.setup=c,this.crypto=_,this.faTimes=f.NBC,this.faWallet=f.X5K,this.faChevronLeft=f.A35,this.faTrash=f.$aW,this.faArrowRight=f.eFW,this.faPlus=f.r8p,this.faTrashAlt=f.I7k,this.faChartPie=f.OS1,this.modalOpen=!1,this.planner=new b,this.erro=[],this.loading=!1,this.loadingProduto=!1,this.carteirasSetup=[],this.loadingCarteiraSetup=!0,this.estadoCivil=[],this.loadingEstadoCivil=!0,this.perfilInvestidor=[],this.loadingPerfilInvestidor=!0,this.isEditPage=!1,this.mobile=ae.I.lg,this.somaPercentualProduto=0,this.somaPlanoAcaoProduto=0,this.somaSugeridoProduto=0,this.carteiraSetupInalterada=new Ce.Wj,this.mudouCarteiraSetup=!1,this.clienteIdEncrypted="",this.subscription=[],this.dataNascimentoMin="",this.dataNascimentoMax="";var m=new Date;m.setFullYear(m.getFullYear()+100),this.dataNascimentoMax=m.toJSON().substring(0,10);var g=new Date;g.setFullYear(g.getFullYear()-100),this.dataNascimentoMin=g.toJSON().substring(0,10);var M=this.isMobile.get().subscribe(u=>this.mobile=u),h=this.activatedRoute.params.subscribe(u=>{if(this.isEditPage=!!u.cliente_id,this.isEditPage)this.loading=!0,this.clienteIdEncrypted=u.cliente_id,this.planner.cliente_Id=this.crypto.decrypt(u.cliente_id),(0,C.n)(this.plannerService.getByClienteId(this.planner.cliente_Id)).then(A=>{A.cliente.rg=A.cliente.rg.toString().padStart(9,"0"),A.cliente.cpf=A.cliente.cpf.toString().padStart(11,"0"),A.principaisObjetivos=A.principaisObjetivos?A.principaisObjetivos:[],this.planner=A,this.carteiraSetupInalterada=A.carteiraSetup,this.validateDataNascimento();var Pt=this.plannerService.objeto.subscribe(xt=>{this.planner=xt,this.calculaPercentual()});this.subscription.push(Pt)}).catch(A=>{this.voltar()}).finally(()=>this.loading=!1);else{this.plannerService.getObject();var Zt=this.plannerService.objeto.subscribe(A=>{this.planner=A,this.calculaPercentual()});this.subscription.push(Zt)}}),T=this.planner.cliente.empresa_Id??this.planner.account.empresa_Id,L=this.setup.list.subscribe(u=>this.carteirasSetup=u);(0,C.n)(this.setup.getList(T)).then(u=>this.carteirasSetup=u).finally(()=>this.loadingCarteiraSetup=!1);var E=this.dropdown.estadoCivil.subscribe(u=>this.estadoCivil=u);(0,C.n)(this.dropdown.getEstadoCivil()).then(u=>this.estadoCivil=u).finally(()=>this.loadingEstadoCivil=!1);var Y=this.dropdown.perfilInvestidor.subscribe(u=>this.perfilInvestidor=u);(0,C.n)(this.dropdown.getPerfilInvestidor()).then(u=>this.perfilInvestidor=u).finally(()=>this.loadingPerfilInvestidor=!1),this.subscription.push(M),this.subscription.push(h),this.subscription.push(L),this.subscription.push(E),this.subscription.push(Y)}validateDataNascimento(){var t=new Date(this.planner.cliente.dataNascimento),n=new Date(this.dataNascimentoMin),o=new Date(this.dataNascimentoMax);this.dataNascimento&&(t>o?this.dataNascimento.control.setErrors({max:!0}):t<n&&this.dataNascimento.control.setErrors({min:!0}))}ngOnDestroy(){this.subscription.forEach(t=>t.unsubscribe())}voltar(){this.modal.voltar()}resetForm(){this.plannerService.setObject(new b)}calcularICM(){this.planner.cliente.imc=this.planner.cliente.altura&&this.planner.cliente.peso?this.planner.cliente.peso/Math.pow(this.planner.cliente.altura,2):""}calculaPercentual(){if(this.planner.planejamentoProduto.length>0&&null!=this.planner.planejamentoAgregandoValor){var t=this.planner.planejamentoAgregandoValor.montante??1,n=0,o=0,i=0;this.planner.planejamentoProduto=this.planner.planejamentoProduto.map(a=>{var c=a.planoAcao/t;return a.percentual=(2,Math.round(100*c*Math.pow(10,2))/Math.pow(10,2)),n+=c,o+=a.planoAcao,i+=a.sugerido,a}),this.somaPercentualProduto=100*n,this.somaPlanoAcaoProduto=o,this.somaSugeridoProduto=i}else this.somaPlanoAcaoProduto=0,this.somaPercentualProduto=0}calculaIdade(){if(this.planner.cliente.dataNascimento&&""!=this.planner.cliente.dataNascimento.toString().trim()){var t=Date.now()-new Date(new Date(this.planner.cliente.dataNascimento).toUTCString()).getTime(),n=new Date(t);this.planner.cliente.idade=Math.abs(n.getUTCFullYear()-1970)}else this.planner.cliente.idade=""}carteiraSetupChange(t){if(t.value){let n=this.carteirasSetup.find(o=>o.id==t.value);this.planner.carteiraSetup=n}else this.planner.carteiraSetup=void 0;this.mudouCarteiraSetup=this.planner.carteiraSetup_Id!=this.carteiraSetupInalterada.id,this.saveData()}perfilInvestidorChange(){this.planner.cliente.perfilInvestidor=this.perfilInvestidor.find(t=>t.id==this.planner.cliente.perfilInvestidor_Id),this.saveData()}adicionarFLuxoPontual(){this.planner.planejamentoFluxosPontuais.push(new Me),this.saveData()}removerFluxoPontual(t){let n=this.planner.planejamentoFluxosPontuais.findIndex(o=>o==t);-1!=n&&(this.planner.planejamentoFluxosPontuais.splice(n,1),this.saveData())}adicionarObjetivo(){this.planner.principaisObjetivos.push(new Ae),this.saveData()}removerObjetivo(t){let n=this.planner.principaisObjetivos.findIndex(o=>o==t);-1!=n&&(this.planner.principaisObjetivos.splice(n,1),this.saveData())}removerInvestimento(t){let n=this.planner.planejamentoInvestimento.findIndex(o=>o==t);-1!=n&&(this.planner.planejamentoInvestimento.splice(n,1),this.saveData())}removerProduto(t){let n=this.planner.planejamentoProduto.findIndex(o=>o==t);-1!=n&&(this.planner.planejamentoProduto.splice(n,1),this.saveData())}arrowUp(t){return(0,x.zJ)(t)}arrowDown(t,n=!1){return(0,x.DI)(t,n)}saveData(){this.plannerService.setObject(this.planner)}validaForm(t){return this.erro=[],t.invalid?(this.erro.push("Campos inv\xe1lidos!"),this.toastr.error("Campos inv\xe1lidos!"),!1):1!=this.loading&&(0==this.planner.planejamentoInvestimento.length?(this.erro.push("Insira um ou mais investimentos no planner."),this.toastr.error("Insira um ou mais investimentos no planner."),!1):(0==this.planner.planejamentoProduto.length&&(this.erro.push("Insira um ou mais produtos no planner."),this.toastr.error("Insira um ou mais produtos no planner.")),!0))}adicionarProdutoCarteira(t){if(this.planner.cliente.empresa||(this.planner.cliente.empresa=new k.oW),this.planner.cliente.empresa.id=1,this.saveData(),this.erro=[],t.invalid)return this.erro.push("Campos inv\xe1lidos!"),this.toastr.error("Campos inv\xe1lidos!"),void(this.loading=!1);(0,C.n)(this.plannerService.create(this.planner)).then(n=>{this.plannerService.setObject(n),this.mudouCarteiraSetup=!0,console.log(n.carteiraSetup),n.carteiraSetup&&(this.carteiraSetupInalterada=n.carteiraSetup)}).finally(()=>this.loading=!1)}send(t){this.planner.account_Id=1,this.planner.cliente.empresa_Id=1,this.planner.cliente.empresa||(this.planner.cliente.empresa=new k.oW),this.planner.cliente.empresa.id=1,this.saveData(),this.validaForm(t)&&(0,C.n)(this.plannerService.edit(this.planner)).finally(()=>this.loading=!1)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(q.Q),e.Y36(P),e.Y36(ae.h),e.Y36(S._W),e.Y36(Z.gz),e.Y36(F.V),e.Y36(D.A),e.Y36(J.w))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-planner"]],viewQuery:function(t,n){if(1&t&&(e.Gf(De,5),e.Gf(Ge,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.chartCapitalSegurado=o.first),e.iGM(o=e.CRH())&&(n.dataNascimento=o.first)}},decls:466,vars:174,consts:[[1,"modal__content"],[1,"modal__header","pb-2",2,"padding","0 25px"],[1,"d-flex","align-items-center","justify-content-between","flex-wrap","w-100"],[1,"link","text-dark",3,"click"],[1,"mr-1",3,"icon"],[1,"btn","btn-yellow",3,"click"],[1,"text-orange","mt-1"],[1,"modal__body","mt-0"],["disabled","",1,"needs-validation","home","editable",3,"ngSubmit"],["form","ngForm"],[1,"form-row","mb-2"],[1,"col-lg-8","col-md-8","col-sm-12"],[1,"card","card-body"],[1,"home__container-header","mb-2"],[1,"form-row"],[1,"form-group","col-lg-5","col-md-5","col-sm-12"],["for","nome"],[1,"text-danger"],["type","text","name","nome","id","nome","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","change"],["nome","ngModel"],[1,"form-group","col-lg-3","col-md-3","col-sm-12"],["for","perfilInvestidor"],["name","perfilInvestidor","id","perfilInvestidor","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange"],["_perfilInvestidor","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"form-group","col-lg-4","col-md-4","col-sm-12"],["for","estadoCivil"],["name","estadoCivil","id","estadoCivil","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange"],["_estadoCivil","ngModel"],[1,"form-group","col-lg-3","col-md-3","col-sm-6","col-6"],["for","cpf"],["type","text","name","cpf","id","cpf","mask","000.000.000-00","placeHolder","000.000.000-00","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","change"],["cpf","ngModel"],["for","rg"],["type","text","name","rg","id","rg","mask","00.000.000-0","placeHolder","00.000.000-0","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","change"],["rg","ngModel"],[1,"form-group","col-lg-4","col-md-4","col-sm-6","col-6"],["for","dataNascimento"],["type","date","name","dataNascimento","id","dataNascimento","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","min","max","ngbPopover","disablePopover","ngModelChange","change"],["dataNascimento","ngModel"],[4,"ngIf"],[1,"form-group","col-lg-2","col-md-2","col-sm-6","col-6"],["for","idade"],["type","text","name","idade","id","idade","popoverClass","popover-danger","triggers","mouseenter:mouseleave","mask","0*","suffix"," anos","required","",1,"form-control","form-control-number",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["idade","ngModel"],[1,"form-group","col-lg-12","col-md-12","col-sm-12"],["for","email"],["type","email","name","email","id","email","placeholder","example@gmail.com","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"email","ngModel","ngbPopover","disablePopover","ngModelChange","change"],["email","ngModel"],[1,"col-lg-6","col-md-6","col-sm-12","col-12","pl-0","pr-0"],[1,"home__container"],[1,"form-group","col-lg-6","col-md-6","col-sm-12","d-lg-block","d-md-block"],["for","receita"],["type","text","id","receita","name","receita","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","min","max","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["receita","ngModel"],[1,"form-group","col-lg-6","col-md-6","col-sm-12"],["for","despesa"],["type","text","id","despesa","name","despesa","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","min","max","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["despesa","ngModel"],[1,"col-lg-6","col-md-6","col-sm-12","col-12","pr-0","pl-0"],["for","taxaSelic"],["type","text","id","taxaSelic","name","taxaSelic","mask","separator","thousandSeparator",".","decimalMarker",",","suffix","%","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["taxaSelic","ngModel"],["for","taxaIpca"],["type","text","id","taxaIpca","name","taxaIpca","mask","separator","thousandSeparator",".","decimalMarker",",","suffix","%","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["taxaIpca","ngModel"],[1,"home__container-header","mb-4"],[1,"col-lg-6","col-md-6","col-sm-12","col-12","px-0"],[1,"form-container"],[1,"form-container-title","font-weight-bold"],[1,"form-container-body"],[1,"form-group","col-lg-6","col-md-6","col-sm-6","pr-1"],["for","rE_Sugerido"],["type","text","id","rE_Sugerido","name","rE_Sugerido","mask","separator.5","thousandSeparator",".","decimalMarker",",","placeholder","R$ 00,00","prefix","R$ ","readonly","",1,"form-control","form-control-number",3,"ngModel","allowNegativeNumbers","ngModelChange"],["rE_Sugerido","ngModel"],[1,"form-group","col-lg-6","col-md-6","col-sm-6","pr-0"],["for","rE_Planejado"],["type","text","id","rE_Planejado","name","rE_Planejado","mask","separator.5","thousandSeparator",".","decimalMarker",",","placeholder","R$ 00,00","prefix","R$ ","readonly","",1,"form-control","form-control-number",3,"ngModel","allowNegativeNumbers","ngModelChange"],["rE_Planejado","ngModel"],[1,"form-container","mb-0"],["for","riscoAssumido"],["type","text","id","riscoAssumido","name","riscoAssumido","mask","separator.5","thousandSeparator",".","decimalMarker",",","placeholder","R$ 00,00","suffix","%","readonly","",1,"form-control","form-control-number",3,"ngModel","allowNegativeNumbers","ngModelChange"],["riscoAssumido","ngModel"],["for","riscoTolerado"],["type","text","id","riscoTolerado","name","riscoTolerado","mask","separator.5","thousandSeparator",".","decimalMarker",",","placeholder","R$ 00,00","suffix","%","suffix","%","readonly","",1,"form-control","form-control-number",3,"ngModel","allowNegativeNumbers","ngModelChange"],["riscoTolerado","ngModel"],[1,"col-lg-4","col-md-4","col-sm-12","col-12"],["for","descricao"],["type","text","name","descricao","id","descricao","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","change"],["descricao","ngModel"],[1,"home__container","table-responsive","mb-2"],[1,"table","table-editable","w-100","d-md-table","d-sm-table","mb-0"],[1,"primary"],[1,"bg-light","px-3","text-right",2,"white-space","nowrap"],[3,"valueInput","inputId","mask","suffix","min","max","required","showErrorMessage","allowNegativeNumbers","valueChanges"],[3,"valueInput","inputId","mask","thousandSeparator","decimalMarker","prefix","min","max","required","placeholder","showErrorMessage","valueChanges"],[3,"valueInput","inputId","mask","suffix","max","required","showErrorMessage","allowNegativeNumbers","placeholder","valueChanges"],[1,"table","table-editable","w-100","mb-0"],["colspan","3",1,"pl-4"],[1,"text-center","d-flex","align-items-center"],["title","Adicionar",1,"btn","p-0","ml-auto","text-white",3,"click"],[3,"icon"],[1,"subheader"],[1,"pl-4"],[4,"ngFor","ngForOf"],[1,"col-lg-12","col-md-12","col-sm-12","col-12"],[1,"table","table-editable","table-responsive"],[2,"white-space","nowrap"],[1,"px-3","bg-light","text-right"],["type","text","id","sugestao_Baixissimo","name","sugestao_Baixissimo","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["sugestao_Baixissimo","ngModel"],["type","text","id","sugestao_Baixo","name","sugestao_Baixo","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["sugestao_Baixo","ngModel"],["type","text","id","sugestao_Moderado","name","sugestao_Moderado","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["sugestao_Moderado","ngModel"],["type","text","id","sugestao_Arrojado","name","sugestao_Arrojado","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["sugestao_Arrojado","ngModel"],["type","text","id","sugestao_SuperArrojado","name","sugestao_SuperArrojado","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["sugestao_SuperArrojado","ngModel"],["type","text","id","sugestao_Hedge","name","sugestao_Hedge","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["sugestao_Hedge","ngModel"],["type","text","id","sugestao_Total","name","sugestao_Total","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["sugestao_Total","ngModel"],["type","text","id","plano_Baixissimo","name","plano_Baixissimo","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["plano_Baixissimo","ngModel"],["type","text","id","plano_Baixo","name","plano_Baixo","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["plano_Baixo","ngModel"],["type","text","id","plano_Moderado","name","plano_Moderado","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["plano_Moderado","ngModel"],["type","text","id","plano_Arrojado","name","plano_Arrojado","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["plano_Arrojado","ngModel"],["type","text","id","plano_SuperArrojado","name","plano_SuperArrojado","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["plano_SuperArrojado","ngModel"],["type","text","id","plano_Hedge","name","plano_Hedge","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["plano_Hedge","ngModel"],["type","text","id","plano_Total","name","plano_Total","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["plano_Total","ngModel"],[1,"home__container-header","mb-2","position-relative"],[1,"btn","btn-primary",3,"routerLink"],["responsiveLayout","scroll","emptyMessage","Nenhum registro",1,"table","table-editable",3,"value","responsive"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"d-flex","justify-content-end","align-items-center","w-100"],[1,"col-lg-4","col-md-5","col-sm-6","col-8","px-0"],["id","carteirasSetup","name","carteirasSetup","optionLabel","nome","optionValue","id","optionDisabled","dataDesativado","filterBy","nome","placeholder","Selecione para adicionar",1,"form-control",3,"disabled","options","ngModel","filter","showClear","required","ngModelChange"],["_carteirasSetup","ngModel"],["pTemplate","item"],["type","button","triggers","mouseenter:mouseleave",3,"class","disabled","click",4,"ngIf"],["class","link ml-3",3,"routerLink",4,"ngIf"],["class","text-danger px-2",4,"ngIf"],["pTemplate","footer"],[1,"form-row","table-responsive","mb-2"],[1,"table","table-editable","mb-0"],["colspan","6",1,"text-center","p-2"],[1,""],["colspan","2",1,"text-right","primary"],[1,"p-0"],["type","text","id","solucao_montante_Atual","name","solucao_montante_Atual","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control","form-control-solucaoInicial",3,"ngModel","readOnly","ngModelChange"],["solucao_montante_Atual","ngModel"],["colspan","2",1,"p-0"],["type","text","id","solucao_riscoAssumido_Atual","name","solucao_riscoAssumido_Atual","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%",1,"form-control","form-control-solucaoInicial",3,"ngModel","readOnly","ngModelChange"],["solucao_riscoAssumido_Atual","ngModel"],[1,"text-right",2,"white-space","nowrap"],[1,"px-3","bg-light","text-right",2,"white-space","nowrap"],["type","text","id","solucao_rentabilidade_Atual","name","solucao_rentabilidade_Atual","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_rentabilidade_Atual","ngModel"],["type","text","id","solucao_retornoAnual_Atual","name","solucao_retornoAnual_Atual","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_retornoAnual_Atual","ngModel"],["type","text","id","solucao_retornoMensal_Atual","name","solucao_retornoMensal_Atual","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_retornoMensal_Atual","ngModel"],["type","text","id","solucao_plMax_Atual","name","solucao_plMax_Atual","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_plMax_Atual","ngModel"],["type","text","id","solucao_idadeMax_Atual","name","solucao_idadeMax_Atual","mask","separator.5","thousandSeparator",".","decimalMarker",",",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_idadeMax_Atual","ngModel"],["type","text","id","solucao_rentabilidade_Sugerida","name","solucao_rentabilidade_Sugerida","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_rentabilidade_Sugerida","ngModel"],["type","text","id","solucao_retornoAnual_Sugerido","name","solucao_retornoAnual_Sugerido","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_retornoAnual_Sugerido","ngModel"],["type","text","id","solucao_retornoMensal_Sugerido","name","solucao_retornoMensal_Sugerido","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_retornoMensal_Sugerido","ngModel"],["type","text","id","solucao_plMax_Sugerido","name","solucao_plMax_Sugerido","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_plMax_Sugerido","ngModel"],["type","text","id","solucao_idadeMax_Sugerido","name","solucao_idadeMax_Sugerido","mask","separator.5","thousandSeparator",".","decimalMarker",",",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_idadeMax_Sugerido","ngModel"],["type","text","id","solucao_rentabilidade_Diferenca","name","solucao_rentabilidade_Diferenca","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_rentabilidade_Diferenca","ngModel"],["type","text","id","solucao_retornoAnual_Diferenca","name","solucao_retornoAnual_Diferenca","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_retornoAnual_Diferenca","ngModel"],["type","text","id","solucao_retornoMensal_Diferenca","name","solucao_retornoMensal_Diferenca","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_retornoMensal_Diferenca","ngModel"],[1,"border-primary","border-left","border-top"],["type","text","id","solucao_plMax_Diferenca","name","solucao_plMax_Diferenca","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_plMax_Diferenca","ngModel"],[1,"border-primary","border"],["type","text","id","solucao_idadeMax_Diferenca","name","solucao_idadeMax_Diferenca","mask","separator.5","thousandSeparator",".","decimalMarker",",",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_idadeMax_Diferenca","ngModel"],["colspan","2",1,"px-3","bg-light","text-center",2,"white-space","nowrap"],[1,"px-3","bg-light","text-left"],[1,"border-primary","border-left","border-bottom"],["type","text","id","solucao_pL_Desempenho","name","solucao_pL_Desempenho","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%",1,"form-control","h2","mb-0","font-weight-bold",2,"font-size","20px",3,"ngModel","readOnly","ngModelChange"],["solucao_pL_Desempenho","ngModel"],["type","text","id","solucao_idade_Desempenho","name","solucao_idade_Desempenho","mask","separator.5","thousandSeparator",".","decimalMarker",",",1,"form-control","h2","mb-0","font-weight-bold",2,"font-size","20px",3,"ngModel","readOnly","ngModelChange"],["solucao_idade_Desempenho","ngModel"],["class","form-row mb-2",4,"ngIf"],[1,"form-footer-submit-fixed"],["class","m-0",4,"ngIf"],[1,"btn","btn-primary","mr-0","ml-auto",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["campoObrigatorio",""],["setaUpDown",""],["formInvalido",""],["class","text-danger",4,"ngIf"],["type","text","mask","0*","suffix"," anos","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control","form-control-number",3,"id","name","ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["type","text","mask","separator.5","thousandSeparator",".","decimalMarker",",","placeholder","R$ 00,00","prefix","R$ ","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control","form-control-number",3,"id","name","ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["valor","ngModel"],[1,"text-center"],["title","Remover linha",1,"btn","btn-trash","d-inline",3,"click"],["colspan","3",1,"py-2","pl-4","text-grey"],[1,"text-right"],[1,"td-actions"],[1,"small","font-weight-bold"],[1,"px-2",2,"white-space","nowrap"],["type","text","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%","triggers","mouseenter:mouseleave","required","",1,"form-control","form-control-number",3,"id","name","ngModel","allowNegativeNumbers","ngbPopover","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["custosTaxas","ngModel"],["type","text","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%","triggers","mouseenter:mouseleave",1,"form-control","form-control-number",3,"id","name","ngModel","allowNegativeNumbers","ngbPopover","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["rentabilidade","ngModel"],["type","text","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%","triggers","mouseenter:mouseleave",1,"form-control","form-control-number",3,"id","name","ngModel","ngbPopover","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["rentabilidadeLiquida","ngModel"],["type","text","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$","triggers","mouseenter:mouseleave","required","",1,"form-control","form-control-number",3,"id","name","ngModel","ngbPopover","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["montanteAtual","ngModel"],["type","text","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ","triggers","mouseenter:mouseleave",1,"form-control","form-control-number",3,"id","name","ngModel","ngbPopover","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["sugerido","ngModel"],["planoAcao","ngModel"],["title","Remover linha",1,"btn","btn-trash",3,"click"],[1,"py-2","px-2","text-grey"],[1,"d-flex","align-items-center","justify-content-between"],["class","flag flag-red",3,"ngbPopover",4,"ngIf"],["ativo",""],[1,"flag","flag-red",3,"ngbPopover"],[1,"py-2","px-3"],["type","button","triggers","mouseenter:mouseleave",3,"disabled","click"],[1,"link","ml-3",3,"routerLink"],[1,"text-danger","px-2"],[1,"text-right","position-sticky",2,"white-space","nowrap"],[1,"px-3","bg-light","text-right","position-sticky",2,"white-space","nowrap"],["type","text","mask","separator.2","thousandSeparator",".","decimalMarker",",","suffix","%","readonly","",1,"form-control","form-control-number",3,"id","name","ngModel","allowNegativeNumbers","ngModelChange"],["percentual","ngModel"],["type","text","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%","triggers","mouseenter:mouseleave",1,"form-control","form-control-number",3,"id","name","ngModel","allowNegativeNumbers","ngbPopover","required","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["type","text","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ","triggers","mouseenter:mouseleave",1,"form-control","form-control-number",3,"id","name","ngModel","allowNegativeNumbers","ngbPopover","required","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["class","btn btn-trash","title","Remover linha",3,"click",4,"ngIf"],["type","text","id","somaPercentualProduto","name","somaPercentualProduto","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%",1,"form-control",3,"ngModel","allowNegativeNumbers","readonly","ngModelChange"],["_somaPercentualProduto","ngModel"],["type","text","id","somaSugeridoProduto","name","somaSugeridoProduto","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control",3,"ngModel","allowNegativeNumbers","readonly","ngModelChange"],["_somaSugeridoProduto","ngModel"],["type","text","id","somaPlanoAcaoProduto","name","somaPlanoAcaoProduto","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control",3,"ngModel","allowNegativeNumbers","readonly","ngModelChange"],["_somaPlanoAcaoProduto","ngModel"],[2,"width","100%",3,"planner"],["investimentoGraficos",""],[1,"m-0"],["class","text-red",4,"ngFor","ngForOf"],["class","text-red",4,"ngIf"],[1,"text-red"],[1,"spinner-border","spinner-border-sm","mr-1"],[1,"py-2","px-2","text-danger"],[1,"py-2","px-2","text-info"]],template:function(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),e.NdJ("click",function(){return n.voltar()}),e._UZ(4,"fa-icon",4),e._uU(5," Voltar "),e.qZA(),e.TgZ(6,"div")(7,"button",5),e.NdJ("click",function(){return n.resetForm()}),e._uU(8,"Limpar campos"),e.qZA()()(),e.TgZ(9,"h3",6),e._uU(10,"Planner"),e.qZA()(),e.TgZ(11,"div",7)(12,"form",8,9),e.NdJ("ngSubmit",function(){e.CHM(o);const a=e.MAs(13);return e.KtG(n.send(a))}),e.TgZ(14,"div",10)(15,"div",11)(16,"div",10)(17,"div",12)(18,"div",13)(19,"h6"),e._uU(20,"Dados Cadastrais"),e.qZA()(),e.TgZ(21,"div",14)(22,"div",15)(23,"label",16),e._uU(24,"Nome Completo: "),e.TgZ(25,"span",17),e._uU(26,"*"),e.qZA()(),e.TgZ(27,"input",18,19),e.NdJ("ngModelChange",function(a){return n.planner.cliente.nome=a})("change",function(){return n.saveData()}),e.qZA()(),e.TgZ(29,"div",20)(30,"label",21),e._uU(31,"Perfil de Investidor: "),e.TgZ(32,"span",17),e._uU(33,"*"),e.qZA()(),e.TgZ(34,"select",22,23),e.NdJ("ngModelChange",function(a){return n.planner.cliente.perfilInvestidor_Id=a})("ngModelChange",function(){return n.perfilInvestidorChange()}),e.TgZ(36,"option",24),e._uU(37,"Selecione"),e.qZA(),e.YNc(38,Le,2,2,"option",25),e.qZA()(),e.TgZ(39,"div",26)(40,"label",27),e._uU(41,"Estado Civil: "),e.TgZ(42,"span",17),e._uU(43,"*"),e.qZA()(),e.TgZ(44,"select",28,29),e.NdJ("ngModelChange",function(a){return n.planner.cliente.estadoCivil_Id=a})("ngModelChange",function(){return n.saveData()}),e.TgZ(46,"option",24),e._uU(47,"Selecione"),e.qZA(),e.YNc(48,Ee,2,2,"option",25),e.qZA()()(),e.TgZ(49,"div",14)(50,"div",30)(51,"label",31),e._uU(52,"CPF: "),e.TgZ(53,"span",17),e._uU(54,"*"),e.qZA()(),e.TgZ(55,"input",32,33),e.NdJ("ngModelChange",function(a){return n.planner.cliente.cpf=a})("change",function(){return n.saveData()}),e.qZA()(),e.TgZ(57,"div",30)(58,"label",34),e._uU(59,"RG: "),e.TgZ(60,"span",17),e._uU(61,"*"),e.qZA()(),e.TgZ(62,"input",35,36),e.NdJ("ngModelChange",function(a){return n.planner.cliente.rg=a})("change",function(){return n.saveData()}),e.qZA()(),e.TgZ(64,"div",37)(65,"label",38),e._uU(66,"Data de Nascimento: "),e.TgZ(67,"span",17),e._uU(68,"*"),e.qZA()(),e.TgZ(69,"input",39,40),e.NdJ("ngModelChange",function(a){return n.planner.cliente.dataNascimento=a})("ngModelChange",function(){return n.calculaIdade()})("change",function(){return n.saveData(),n.validateDataNascimento()}),e.qZA(),e.YNc(71,He,3,2,"div",41),e.qZA(),e.TgZ(72,"div",42)(73,"label",43),e._uU(74,"Idade: "),e.TgZ(75,"span",17),e._uU(76,"*"),e.qZA()(),e.TgZ(77,"input",44,45),e.NdJ("ngModelChange",function(a){return n.planner.cliente.idade=a})("keyup.arrowup",function(){e.CHM(o);const a=e.MAs(78);return e.KtG(n.planner.cliente.idade=n.arrowUp(a.value))})("keyup.arrowdown",function(){e.CHM(o);const a=e.MAs(78);return e.KtG(n.planner.cliente.idade=n.arrowDown(a.value,!0))})("change",function(){return n.saveData()}),e.qZA()()(),e.TgZ(79,"div",14)(80,"div",46)(81,"label",47),e._uU(82,"E-mail: "),e.TgZ(83,"span",17),e._uU(84,"*"),e.qZA()(),e.TgZ(85,"input",48,49),e.NdJ("ngModelChange",function(a){return n.planner.cliente.email=a})("change",function(){return n.saveData()}),e.qZA()()()()(),e.TgZ(87,"div",10)(88,"div",50)(89,"div",51)(90,"div",13)(91,"h6"),e._uU(92,"Valores"),e.qZA()(),e.TgZ(93,"div",14)(94,"div",52)(95,"label",53),e._uU(96,"Receita: "),e.TgZ(97,"span",17),e._uU(98,"*"),e.qZA()(),e.TgZ(99,"input",54,55),e.NdJ("ngModelChange",function(a){return n.planner.cliente.receita=a})("keyup.arrowup",function(){e.CHM(o);const a=e.MAs(100);return e.KtG(n.planner.cliente.receita=n.arrowUp(a.value))})("keyup.arrowdown",function(){e.CHM(o);const a=e.MAs(100);return e.KtG(n.planner.cliente.receita=n.arrowDown(a.value,!0))})("change",function(){return n.saveData()}),e.qZA(),e.YNc(101,Ve,3,2,"div",41),e.qZA(),e.TgZ(102,"div",56)(103,"label",57),e._uU(104,"Despesas: "),e.TgZ(105,"span",17),e._uU(106,"*"),e.qZA()(),e.TgZ(107,"input",58,59),e.NdJ("ngModelChange",function(a){return n.planner.cliente.despesa=a})("keyup.arrowup",function(){e.CHM(o);const a=e.MAs(108);return e.KtG(n.planner.cliente.despesa=n.arrowUp(a.value))})("keyup.arrowdown",function(){e.CHM(o);const a=e.MAs(108);return e.KtG(n.planner.cliente.despesa=n.arrowDown(a.value,!0))})("change",function(){return n.saveData()}),e.qZA(),e.YNc(109,Xe,3,2,"div",41),e.qZA()()()(),e.TgZ(110,"div",60)(111,"div",51)(112,"div",13)(113,"h6"),e._uU(114,"Taxas"),e.qZA()(),e.TgZ(115,"div",14)(116,"div",52)(117,"label",61),e._uU(118,"Taxa Selic: "),e.TgZ(119,"span",17),e._uU(120,"*"),e.qZA()(),e.TgZ(121,"input",62,63),e.NdJ("ngModelChange",function(a){return n.planner.taxaSelic=a})("keyup.arrowup",function(){e.CHM(o);const a=e.MAs(122);return e.KtG(n.planner.taxaSelic=n.arrowUp(a.value))})("keyup.arrowdown",function(){e.CHM(o);const a=e.MAs(122);return e.KtG(n.planner.taxaSelic=n.arrowDown(a.value,!0))})("change",function(){return n.saveData()}),e.qZA()(),e.TgZ(123,"div",56)(124,"label",64),e._uU(125,"Taxa IPCA: "),e.TgZ(126,"span",17),e._uU(127,"*"),e.qZA()(),e.TgZ(128,"input",65,66),e.NdJ("ngModelChange",function(a){return n.planner.taxaIpca=a})("keyup.arrowup",function(){e.CHM(o);const a=e.MAs(129);return e.KtG(n.planner.taxaIpca=n.arrowUp(a.value))})("keyup.arrowdown",function(){e.CHM(o);const a=e.MAs(129);return e.KtG(n.planner.taxaIpca=n.arrowDown(a.value,!0))})("change",function(){return n.saveData()}),e.qZA()()()()()(),e.TgZ(130,"div",10)(131,"div",12)(132,"div",67)(133,"h6"),e._uU(134,"Capacidade de Risco"),e.qZA()(),e.TgZ(135,"div",14)(136,"div",68)(137,"div",69)(138,"div",70),e._uU(139,"Reserva de Emerg\xeancia"),e.qZA(),e.TgZ(140,"div",71)(141,"div",72)(142,"label",73),e._uU(143," Sugerida:"),e.qZA(),e.TgZ(144,"input",74,75),e.NdJ("ngModelChange",function(a){return n.planner.rE_Sugerido=a}),e.qZA()(),e.TgZ(146,"div",76)(147,"label",77),e._uU(148," Planejada:"),e.qZA(),e.TgZ(149,"input",78,79),e.NdJ("ngModelChange",function(a){return n.planner.rE_Planejado=a}),e.qZA()()()()(),e.TgZ(151,"div",68)(152,"div",80)(153,"div",70),e._uU(154,"Risco"),e.qZA(),e.TgZ(155,"div",71)(156,"div",72)(157,"label",81),e._uU(158," Assumido:"),e.qZA(),e.TgZ(159,"input",82,83),e.NdJ("ngModelChange",function(a){return n.planner.riscoAssumido=a}),e.qZA()(),e.TgZ(161,"div",76)(162,"label",84),e._uU(163," Tolerado:"),e.qZA(),e.TgZ(164,"input",85,86),e.NdJ("ngModelChange",function(a){return n.planner.riscoTolerado=a}),e.qZA()()()()()()()()(),e.TgZ(166,"div",87)(167,"div",10)(168,"div",12)(169,"div",13)(170,"h6"),e._uU(171,"Descri\xe7\xe3o"),e.qZA()(),e.TgZ(172,"div",14)(173,"div",46)(174,"label",88),e._uU(175,"Observa\xe7\xf5es do planner: "),e.TgZ(176,"span",17),e._uU(177,"*"),e.qZA()(),e.TgZ(178,"textarea",89,90),e.NdJ("ngModelChange",function(a){return n.planner.descricao=a})("change",function(){return n.saveData()}),e._uU(180,"                                        "),e.qZA()()()()(),e.TgZ(181,"div",10)(182,"div",91)(183,"table",92)(184,"thead",93)(185,"tr"),e._UZ(186,"th"),e.TgZ(187,"th"),e._uU(188,"Aposentadoria"),e.qZA()()(),e.TgZ(189,"tbody")(190,"tr")(191,"td",94)(192,"small")(193,"b"),e._uU(194,"Idade"),e.qZA()()(),e.TgZ(195,"td")(196,"app-input-number",95),e.NdJ("valueChanges",function(a){return n.planner.cliente.idadeAposentadoria=a,n.saveData()}),e.qZA()()(),e.TgZ(197,"tr")(198,"td",94)(199,"small")(200,"b"),e._uU(201,"Renda Mensal"),e.qZA()()(),e.TgZ(202,"td")(203,"app-input-number",96),e.NdJ("valueChanges",function(a){return n.planner.cliente.rendaMensalAposentadoria=a,n.saveData()}),e.qZA()()(),e.TgZ(204,"tr")(205,"td",94)(206,"small")(207,"b"),e._uU(208,"Rentabilidade"),e.qZA()()(),e.TgZ(209,"td")(210,"app-input-number",97),e.NdJ("valueChanges",function(a){return n.planner.cliente.rentabilidadeAposentadoria=a,n.saveData()}),e.qZA()()()()()()(),e.TgZ(211,"div",10)(212,"div",91)(213,"table",98)(214,"thead",93)(215,"tr")(216,"th",99)(217,"p",100),e._uU(218," Fluxos Pontuais "),e.TgZ(219,"a",101),e.NdJ("click",function(){return n.adicionarFLuxoPontual()}),e._UZ(220,"fa-icon",102),e.qZA()()()(),e.TgZ(221,"tr",103)(222,"th",104),e._uU(223,"Idade"),e.qZA(),e.TgZ(224,"th"),e._uU(225,"Valor"),e.qZA(),e._UZ(226,"th"),e.qZA()(),e.TgZ(227,"tbody"),e.YNc(228,en,10,11,"tr",105),e.YNc(229,nn,3,0,"tr",41),e.qZA()()()()(),e.TgZ(230,"div",106)(231,"div",10)(232,"div",51)(233,"div",13)(234,"h6"),e._uU(235,"C\xe1lculos"),e.qZA()(),e.TgZ(236,"div",14)(237,"table",107)(238,"thead",93)(239,"tr"),e._UZ(240,"th"),e.TgZ(241,"th"),e._uU(242,"Baix\xedssimo"),e.qZA(),e.TgZ(243,"th"),e._uU(244,"Baixo"),e.qZA(),e.TgZ(245,"th"),e._uU(246,"Moderado"),e.qZA(),e.TgZ(247,"th"),e._uU(248,"Arrojado"),e.qZA(),e.TgZ(249,"th",108),e._uU(250,"Super Arrojado"),e.qZA(),e.TgZ(251,"th"),e._uU(252,"Hedge"),e.qZA(),e.TgZ(253,"th"),e._uU(254,"Total"),e.qZA()()(),e.TgZ(255,"tbody")(256,"tr")(257,"td",109)(258,"small")(259,"b"),e._uU(260,"Sugest\xe3o"),e.qZA()()(),e.TgZ(261,"td")(262,"input",110,111),e.NdJ("ngModelChange",function(a){return n.planner.sugestao_Baixissimo=a}),e.qZA()(),e.TgZ(264,"td")(265,"input",112,113),e.NdJ("ngModelChange",function(a){return n.planner.sugestao_Baixo=a}),e.qZA()(),e.TgZ(267,"td")(268,"input",114,115),e.NdJ("ngModelChange",function(a){return n.planner.sugestao_Moderado=a}),e.qZA()(),e.TgZ(270,"td")(271,"input",116,117),e.NdJ("ngModelChange",function(a){return n.planner.sugestao_Arrojado=a}),e.qZA()(),e.TgZ(273,"td")(274,"input",118,119),e.NdJ("ngModelChange",function(a){return n.planner.sugestao_SuperArrojado=a}),e.qZA()(),e.TgZ(276,"td")(277,"input",120,121),e.NdJ("ngModelChange",function(a){return n.planner.sugestao_Hedge=a}),e.qZA()(),e.TgZ(279,"td")(280,"input",122,123),e.NdJ("ngModelChange",function(a){return n.planner.sugestao_Total=a}),e.qZA()()(),e.TgZ(282,"tr")(283,"td",109)(284,"small")(285,"b"),e._uU(286,"Plano"),e.qZA()()(),e.TgZ(287,"td")(288,"input",124,125),e.NdJ("ngModelChange",function(a){return n.planner.plano_Baixissimo=a}),e.qZA()(),e.TgZ(290,"td")(291,"input",126,127),e.NdJ("ngModelChange",function(a){return n.planner.plano_Baixo=a}),e.qZA()(),e.TgZ(293,"td")(294,"input",128,129),e.NdJ("ngModelChange",function(a){return n.planner.plano_Moderado=a}),e.qZA()(),e.TgZ(296,"td")(297,"input",130,131),e.NdJ("ngModelChange",function(a){return n.planner.plano_Arrojado=a}),e.qZA()(),e.TgZ(299,"td")(300,"input",132,133),e.NdJ("ngModelChange",function(a){return n.planner.plano_SuperArrojado=a}),e.qZA()(),e.TgZ(302,"td")(303,"input",134,135),e.NdJ("ngModelChange",function(a){return n.planner.plano_Hedge=a}),e.qZA()(),e.TgZ(305,"td")(306,"input",136,137),e.NdJ("ngModelChange",function(a){return n.planner.plano_Total=a}),e.qZA()()()()()()()(),e.TgZ(308,"div",10)(309,"div",51)(310,"div",138)(311,"h6"),e._uU(312,"Investimento"),e.qZA(),e.TgZ(313,"a",139),e._uU(314,"Adicionar"),e.qZA()(),e.TgZ(315,"div",14)(316,"p-table",140),e.YNc(317,tn,16,0,"ng-template",141),e.YNc(318,on,25,28,"ng-template",142),e.YNc(319,an,5,1,"ng-template",143),e.qZA()()()(),e.TgZ(320,"div",10)(321,"div",51)(322,"div",13)(323,"h6"),e._uU(324,"Produto"),e.qZA(),e.TgZ(325,"div",144)(326,"div",145)(327,"p-dropdown",146,147),e.NdJ("ngModelChange",function(a){return n.planner.carteiraSetup_Id=a})("ngModelChange",function(){e.CHM(o);const a=e.MAs(328);return e.KtG(n.carteiraSetupChange(a))}),e.YNc(329,sn,6,2,"ng-template",148),e.qZA()(),e.YNc(330,pn,2,4,"button",149),e.YNc(331,un,2,2,"a",150),e.qZA()(),e.TgZ(332,"div",14),e.YNc(333,mn,2,0,"p",151),e.TgZ(334,"p-table",140),e.YNc(335,cn,18,0,"ng-template",141),e.YNc(336,_n,28,38,"ng-template",142),e.YNc(337,vn,1,1,"ng-template",152),e.YNc(338,fn,5,1,"ng-template",143),e.qZA()()()(),e.TgZ(339,"div",10)(340,"div",51)(341,"div",13)(342,"h6"),e._uU(343,"Solu\xe7\xe3o Inicial"),e.qZA()(),e.TgZ(344,"div",153)(345,"table",154)(346,"thead")(347,"tr",93)(348,"th",155)(349,"h6"),e._uU(350,"Agregando Valor"),e.qZA()()(),e.TgZ(351,"tr",156)(352,"th",157),e._uU(353,"Montante Total"),e.qZA(),e.TgZ(354,"th",158)(355,"input",159,160),e.NdJ("ngModelChange",function(a){return n.planner.planejamentoAgregandoValor.montante=a}),e.qZA()(),e.TgZ(357,"th",93),e._uU(358,"Exposi\xe7\xe3o a Risco"),e.qZA(),e.TgZ(359,"th",161)(360,"input",162,163),e.NdJ("ngModelChange",function(a){return n.planner.planejamentoAgregandoValor.riscoAssumido=a}),e.qZA()()(),e.TgZ(362,"tr",93)(363,"th",164),e._uU(364,"Carteira"),e.qZA(),e.TgZ(365,"th",108),e._uU(366,"Rent. Atual "),e.TgZ(367,"small"),e._uU(368,"(ano)"),e.qZA()(),e.TgZ(369,"th",108),e._uU(370,"Retorno Anual"),e.qZA(),e.TgZ(371,"th",108),e._uU(372,"Retorno Mensal"),e.qZA(),e.TgZ(373,"th",108),e._uU(374,"Patrim\xf4nio M\xe1ximo"),e.qZA(),e.TgZ(375,"th",108),e._uU(376,"Tempo "),e.TgZ(377,"small"),e._uU(378,"(anos)"),e.qZA()()()(),e.TgZ(379,"tbody")(380,"tr")(381,"td",165)(382,"small"),e._uU(383,"Atual"),e.qZA()(),e.TgZ(384,"td")(385,"input",166,167),e.NdJ("ngModelChange",function(a){return n.planner.planejamentoAgregandoValor.rentabilidade_Atual=a}),e.qZA()(),e.TgZ(387,"td")(388,"input",168,169),e.NdJ("ngModelChange",function(a){return n.planner.planejamentoAgregandoValor.retornoAnual_Atual=a}),e.qZA()(),e.TgZ(390,"td")(391,"input",170,171),e.NdJ("ngModelChange",function(a){return n.planner.planejamentoAgregandoValor.retornoMensal_Atual=a}),e.qZA()(),e.TgZ(393,"td")(394,"input",172,173),e.NdJ("ngModelChange",function(a){return n.planner.planejamentoAgregandoValor.plMax_Atual=a}),e.qZA()(),e.TgZ(396,"td")(397,"input",174,175),e.NdJ("ngModelChange",function(a){return n.planner.planejamentoAgregandoValor.idadeMax_Atual=a}),e.qZA()()(),e.TgZ(399,"tr")(400,"td",165)(401,"small"),e._uU(402,"Sugerida"),e.qZA()(),e.TgZ(403,"td")(404,"input",176,177),e.NdJ("ngModelChange",function(a){return n.planner.planejamentoAgregandoValor.rentabilidade_Sugerida=a}),e.qZA()(),e.TgZ(406,"td")(407,"input",178,179),e.NdJ("ngModelChange",function(a){return n.planner.planejamentoAgregandoValor.retornoAnual_Sugerido=a}),e.qZA()(),e.TgZ(409,"td")(410,"input",180,181),e.NdJ("ngModelChange",function(a){return n.planner.planejamentoAgregandoValor.retornoMensal_Sugerido=a}),e.qZA()(),e.TgZ(412,"td")(413,"input",182,183),e.NdJ("ngModelChange",function(a){return n.planner.planejamentoAgregandoValor.plMax_Sugerido=a}),e.qZA()(),e.TgZ(415,"td")(416,"input",184,185),e.NdJ("ngModelChange",function(a){return n.planner.planejamentoAgregandoValor.idadeMax_Sugerido=a}),e.qZA()()(),e.TgZ(418,"tr")(419,"td",165)(420,"small"),e._uU(421,"Diferen\xe7a"),e.qZA()(),e.TgZ(422,"td")(423,"input",186,187),e.NdJ("ngModelChange",function(a){return n.planner.planejamentoAgregandoValor.rentabilidade_Diferenca=a}),e.qZA()(),e.TgZ(425,"td")(426,"input",188,189),e.NdJ("ngModelChange",function(a){return n.planner.planejamentoAgregandoValor.retornoAnual_Diferenca=a}),e.qZA()(),e.TgZ(428,"td")(429,"input",190,191),e.NdJ("ngModelChange",function(a){return n.planner.planejamentoAgregandoValor.retornoMensal_Diferenca=a}),e.qZA()(),e.TgZ(431,"td",192)(432,"input",193,194),e.NdJ("ngModelChange",function(a){return n.planner.planejamentoAgregandoValor.plMax_Diferenca=a}),e.qZA()(),e.TgZ(434,"td",195)(435,"input",196,197),e.NdJ("ngModelChange",function(a){return n.planner.planejamentoAgregandoValor.idadeMax_Diferenca=a}),e.qZA()()(),e.TgZ(437,"tr"),e._UZ(438,"td",165),e.TgZ(439,"td",198)(440,"span")(441,"b"),e._uU(442,"Melhora de Desempenho"),e.qZA()()(),e.TgZ(443,"td",199)(444,"span"),e._UZ(445,"fa-icon",102),e.qZA()(),e.TgZ(446,"td",200)(447,"input",201,202),e.NdJ("ngModelChange",function(a){return n.planner.planejamentoAgregandoValor.pL_Desempenho=a}),e.qZA()(),e.TgZ(449,"td",195)(450,"input",203,204),e.NdJ("ngModelChange",function(a){return n.planner.planejamentoAgregandoValor.idade_Desempenho=a}),e.qZA()()()()()()()(),e.YNc(452,Cn,2,1,"div",205),e.YNc(453,Mn,3,1,"div",205),e.qZA()(),e.TgZ(454,"div",206),e.YNc(455,Tn,3,2,"div",207),e.TgZ(456,"button",208),e.YNc(457,Zn,1,0,"span",209),e._uU(458," Salvar "),e.qZA()()(),e.YNc(459,Pn,2,0,"ng-template",null,210,e.W1O),e.YNc(461,xn,2,0,"ng-template",null,211,e.W1O),e.YNc(463,wn,2,0,"ng-template",null,212,e.W1O),e.qZA()(),e._UZ(465,"router-outlet")}if(2&t){const o=e.MAs(13),i=e.MAs(28),a=e.MAs(35),s=e.MAs(45),c=e.MAs(56),_=e.MAs(63),m=e.MAs(70),g=e.MAs(78),M=e.MAs(86),h=e.MAs(100),T=e.MAs(108),L=e.MAs(122),E=e.MAs(129),Y=e.MAs(179),u=e.MAs(460);e.xp6(4),e.Q6J("icon",n.faChevronLeft),e.xp6(23),e.Q6J("ngModel",n.planner.cliente.nome)("ngbPopover",u)("disablePopover",null==i.errors),e.xp6(7),e.ekj("form-control-loading",n.loadingPerfilInvestidor),e.Q6J("ngModel",n.planner.cliente.perfilInvestidor_Id)("ngbPopover",u)("disablePopover",null==a.errors),e.xp6(2),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",n.perfilInvestidor),e.xp6(6),e.ekj("form-control-loading",n.loadingEstadoCivil),e.Q6J("ngModel",n.planner.cliente.estadoCivil_Id)("ngbPopover",u)("disablePopover",null==s.errors),e.xp6(2),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",n.estadoCivil),e.xp6(7),e.Q6J("ngModel",n.planner.cliente.cpf)("ngbPopover",u)("disablePopover",null==c.errors),e.xp6(7),e.Q6J("ngModel",n.planner.cliente.rg)("ngbPopover",u)("disablePopover",null==_.errors),e.xp6(7),e.Q6J("ngModel",n.planner.cliente.dataNascimento)("min",n.dataNascimentoMin)("max",n.dataNascimentoMax)("ngbPopover",u)("disablePopover",null==m.errors),e.xp6(2),e.Q6J("ngIf",m.touched&&m.errors),e.xp6(6),e.Q6J("ngModel",n.planner.cliente.idade)("ngbPopover",u)("disablePopover",null==g.errors),e.xp6(8),e.Q6J("email",!0)("ngModel",n.planner.cliente.email)("ngbPopover",u)("disablePopover",null==M.errors),e.xp6(14),e.Q6J("ngModel",n.planner.cliente.receita)("ngbPopover",u)("disablePopover",null==h.errors)("min",1)("max",1e8),e.xp6(2),e.Q6J("ngIf",h.touched&&h.errors),e.xp6(6),e.Q6J("ngModel",n.planner.cliente.despesa)("ngbPopover",u)("disablePopover",null==T.errors)("min",1)("max",1e8),e.xp6(2),e.Q6J("ngIf",T.touched&&T.errors),e.xp6(12),e.Q6J("ngModel",n.planner.taxaSelic)("ngbPopover",u)("disablePopover",null==L.errors),e.xp6(7),e.Q6J("ngModel",n.planner.taxaIpca)("ngbPopover",u)("disablePopover",null==E.errors),e.xp6(16),e.Q6J("ngModel",n.planner.rE_Sugerido)("allowNegativeNumbers",!1),e.xp6(5),e.Q6J("ngModel",n.planner.rE_Planejado)("allowNegativeNumbers",!1),e.xp6(10),e.Q6J("ngModel",n.planner.riscoAssumido)("allowNegativeNumbers",!1),e.xp6(5),e.Q6J("ngModel",n.planner.riscoTolerado)("allowNegativeNumbers",!1),e.xp6(14),e.Q6J("ngModel",n.planner.descricao)("ngbPopover",u)("disablePopover",null==Y.errors),e.xp6(18),e.Q6J("valueInput",n.planner.cliente.idadeAposentadoria)("inputId","idadeAposentadoria")("mask","0*")("suffix"," anos")("min",20)("max",100)("required",!0)("showErrorMessage",!1)("allowNegativeNumbers",!1),e.xp6(7),e.Q6J("valueInput",n.planner.cliente.rendaMensalAposentadoria)("inputId","rendaMensalAposentadoria")("mask","separator.5")("thousandSeparator",".")("decimalMarker",",")("prefix","R$")("min",1)("max",1e8)("required",!0)("placeholder","R$ 00,00")("showErrorMessage",!1),e.xp6(7),e.Q6J("valueInput",n.planner.cliente.rentabilidadeAposentadoria)("inputId","rentabilidadeAposentadoria")("mask","separator.5")("suffix","%")("max",1e8)("required",!0)("showErrorMessage",!1)("allowNegativeNumbers",!0)("placeholder","0,00%")("showErrorMessage",!1),e.xp6(10),e.Q6J("icon",n.faPlus),e.xp6(8),e.Q6J("ngForOf",n.planner.planejamentoFluxosPontuais),e.xp6(1),e.Q6J("ngIf",0==n.planner.planejamentoFluxosPontuais.length),e.xp6(33),e.Q6J("ngModel",n.planner.sugestao_Baixissimo),e.xp6(3),e.Q6J("ngModel",n.planner.sugestao_Baixo),e.xp6(3),e.Q6J("ngModel",n.planner.sugestao_Moderado),e.xp6(3),e.Q6J("ngModel",n.planner.sugestao_Arrojado),e.xp6(3),e.Q6J("ngModel",n.planner.sugestao_SuperArrojado),e.xp6(3),e.Q6J("ngModel",n.planner.sugestao_Hedge),e.xp6(3),e.Q6J("ngModel",n.planner.sugestao_Total),e.xp6(8),e.Q6J("ngModel",n.planner.plano_Baixissimo),e.xp6(3),e.Q6J("ngModel",n.planner.plano_Baixo),e.xp6(3),e.Q6J("ngModel",n.planner.plano_Moderado),e.xp6(3),e.Q6J("ngModel",n.planner.plano_Arrojado),e.xp6(3),e.Q6J("ngModel",n.planner.plano_SuperArrojado),e.xp6(3),e.Q6J("ngModel",n.planner.plano_Hedge),e.xp6(3),e.Q6J("ngModel",n.planner.plano_Total),e.xp6(7),e.Q6J("routerLink",e.DdM(173,yn)),e.xp6(3),e.Q6J("value",n.planner.planejamentoInvestimento)("responsive",!0),e.xp6(11),e.ekj("form-control-loading",n.loadingCarteiraSetup),e.Q6J("disabled",n.loadingCarteiraSetup)("options",n.carteirasSetup)("ngModel",n.planner.carteiraSetup_Id)("filter",!0)("showClear",!0)("required",!0),e.xp6(3),e.Q6J("ngIf",0!=n.planner.carteiraSetup_Id&&n.mudouCarteiraSetup||0==n.planner.planejamentoProduto.length),e.xp6(1),e.Q6J("ngIf",n.planner.planejamentoInvestimento.length>0&&n.planner.planejamentoProduto.length>0&&!n.mudouCarteiraSetup),e.xp6(2),e.Q6J("ngIf",0==n.planner.planejamentoInvestimento.length),e.xp6(1),e.Q6J("value",n.planner.planejamentoProduto)("responsive",!0),e.xp6(21),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.montante)("readOnly",!0),e.xp6(5),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.riscoAssumido)("readOnly",!0),e.xp6(25),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.rentabilidade_Atual)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.retornoAnual_Atual)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.retornoMensal_Atual)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.plMax_Atual)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.idadeMax_Atual)("readOnly",!0),e.xp6(7),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.rentabilidade_Sugerida)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.retornoAnual_Sugerido)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.retornoMensal_Sugerido)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.plMax_Sugerido)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.idadeMax_Sugerido)("readOnly",!0),e.xp6(7),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.rentabilidade_Diferenca)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.retornoAnual_Diferenca)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.retornoMensal_Diferenca)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.plMax_Diferenca)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.idadeMax_Diferenca)("readOnly",!0),e.xp6(10),e.Q6J("icon",n.faArrowRight),e.xp6(2),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.pL_Desempenho)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.idade_Desempenho)("readOnly",!0),e.xp6(2),e.Q6J("ngIf",n.planner.planejamentoGrafico.length>0),e.xp6(1),e.Q6J("ngIf",n.planner.planejamentoProduto.length>0||n.planner.planejamentoInvestimento.length>0),e.xp6(2),e.Q6J("ngIf",n.erro||o.invalid),e.xp6(1),e.Q6J("disabled",n.loading||o.invalid||100!=n.somaPercentualProduto),e.xp6(1),e.Q6J("ngIf",n.loading)}},dependencies:[v.sg,v.O5,Z.lC,Z.yS,d._Y,d.YN,d.Kr,d.Fj,d.EJ,d.JJ,d.JL,d.Q7,d.on,d.On,d.F,N.BN,w.hx,z.iA,K.jx,I.o8,oe.Lt,be.l,Re,Fe,v.Ts,v.uU,w.Iq],styles:[".form-control-solucaoInicial[_ngcontent-%COMP%], .form-control-solucaoInicial[_ngcontent-%COMP%]:focus, .form-control-solucaoInicial[_ngcontent-%COMP%]:hover, .form-control-solucaoInicial[_ngcontent-%COMP%]:hover:focus{background-color:var(--primary)!important;border-radius:0;color:#fff!important;outline:none!important;box-shadow:none!important}.table[_ngcontent-%COMP%]   td.position-sticky[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th.position-sticky[_ngcontent-%COMP%]{position:sticky;left:0}.table-editable[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{min-width:110px}input#solucao_riscoAssumido_Atual[_ngcontent-%COMP%], input#solucao_montante_Atual[_ngcontent-%COMP%]{background-color:#104456;border:none}"]}),r})();var qn=p(4595),In=p(1442),kn=p(5669),Jn=p(316);class Nn{constructor(){this.id=0,this.tipoAtivo_Id=0,this.tipoAtivo=new In.m,this.tipoRisco_Id=0,this.tipoRisco=new Jn.p,this.tipoLiquidez_Id=0,this.tipoLiquidez=new kn.T,this.descricao=""}}class Sn{constructor(){this.id=0,this.planejamento_Id=0,this.rentabilidade="",this.rentabilidadeLiquida="",this.montanteAtual="",this.sugerido="",this.planoAcao="",this.custosTaxas="",this.investimento=new Nn,this.investimento_Id=void 0}}let jn=(()=>{class r{constructor(t){this.http=t,this.url=W.N.url,this.list=new R.X([])}getAll(){return this.http.get(`${this.url}/investimento/getAll`)}get(t){return this.http.get(`${this.url}/investimento/${t}`)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(ne.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Un(r,l){if(1&r&&(e.TgZ(0,"option",16),e._uU(1),e.qZA()),2&r){const t=l.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.descricao)}}function On(r,l){1&r&&(e.TgZ(0,"p",13),e._uU(1,"Esse campo \xe9 obrigat\xf3rio"),e.qZA())}function Rn(r,l){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,On,2,0,"p",43),e.qZA()),2&r){e.oxw();const t=e.MAs(20);e.xp6(1),e.Q6J("ngIf",t.errors.required)}}function Qn(r,l){1&r&&(e.TgZ(0,"p",13),e._uU(1,"Esse campo \xe9 obrigat\xf3rio"),e.qZA())}function Fn(r,l){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,Qn,2,0,"p",43),e.qZA()),2&r){e.oxw();const t=e.MAs(30);e.xp6(1),e.Q6J("ngIf",t.errors.required)}}function Dn(r,l){if(1&r&&(e.TgZ(0,"p",47),e._uU(1),e.ALo(2,"json"),e.qZA()),2&r){const t=l.$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,t))}}function Gn(r,l){1&r&&(e.TgZ(0,"p",47),e._uU(1,"Preencha todos os campos obrigat\xf3rios (*) corretamente para salvar"),e.qZA())}function Ln(r,l){if(1&r&&(e.TgZ(0,"div",44),e.YNc(1,Dn,3,3,"p",45),e.YNc(2,Gn,2,0,"p",46),e.qZA()),2&r){const t=e.oxw(),n=e.MAs(12);e.xp6(1),e.Q6J("ngForOf",t.erro),e.xp6(1),e.Q6J("ngIf",n.invalid&&0==t.erro.length)}}function En(r,l){1&r&&e._UZ(0,"span",48)}function $n(r,l){1&r&&(e.TgZ(0,"div",49),e._uU(1," Este campo \xe9 obrigat\xf3rio "),e.qZA())}let le=(()=>{class r{constructor(t,n,o,i,a){this.modal=t,this.plannerService=n,this.setupService=o,this.investimentoService=i,this.toastr=a,this.faTimes=f.NBC,this.faChevronLeft=f.A35,this.modalOpen=!1,this.objeto=new Sn,this.erro=[],this.loading=!1,this.carteirasSetup=[],this.loadingCarteiraSetup=!0,this.planner=new b,this.investimento=void 0,this.investimentos=[],this.loadingInvestimentos=!0,this.aliquota="",this.subscription=[];var s=this.modal.getOpen().subscribe(m=>this.modalOpen=m);this.subscription.push(s);var c=this.plannerService.objeto.subscribe(m=>this.planner=m);this.subscription.push(c);var _=this.setupService.list.subscribe(m=>this.carteirasSetup=m);this.subscription.push(_),(0,C.n)(this.setupService.getList()).then(m=>this.carteirasSetup=m).finally(()=>this.loadingCarteiraSetup=!1),(0,C.n)(this.investimentoService.getAll()).then(m=>this.investimentos=m).finally(()=>this.loadingInvestimentos=!1),setTimeout(()=>{this.modal.setOpen(!0)},200)}ngOnDestroy(){this.modal.setOpen(!1),this.subscription.forEach(t=>t.unsubscribe())}voltar(){this.modal.voltar()}arrowUp(t){return(0,x.zJ)(t)}arrowDown(t,n=!1){return(0,x.DI)(t,n)}send(t){this.loading=!0,this.erro=[],this.objeto.investimento=this.investimento,this.objeto.investimento_Id=this.investimento.id,this.objeto.planejamento_Id=this.planner.id,this.planner.planejamentoInvestimento.find(o=>o.investimento_Id==this.objeto.investimento_Id)?(this.erro.push("Esse investimento j\xe1 est\xe1 inserido."),this.toastr.error("Esse investimento j\xe1 est\xe1 inserido.")):(this.erro=[],this.planner.planejamentoInvestimento.push(this.objeto),this.plannerService.setObject(this.planner),this.voltar()),this.loading=!1}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(q.Q),e.Y36(P),e.Y36(D.A),e.Y36(jn),e.Y36(S._W))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-investimento-form"]],decls:64,vars:32,consts:[[1,"modal"],[1,"modal__bg",3,"click"],[1,"modal__inner",2,"max-width","700px"],[1,"modal__content"],[1,"modal__header","pb-2"],[1,"text-orange"],[1,"modal__header-close","btn-close",3,"click"],[1,"modal__body","mt-0"],[1,"needs-validation",3,"ngSubmit"],["form","ngForm"],[1,"form-row"],[1,"form-group","col-lg-4","col-md-4","col-12"],["for","investimento"],[1,"text-danger"],["name","investimento","id","investimento","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange"],["_investimento","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"form-group","col-lg-4","col-md-4","col-sm-6","col-12"],["for","rentabilidade"],["type","text","id","rentabilidade","name","rentabilidade","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%","popoverClass","popover-danger","triggers","mouseenter:mouseleave",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown"],["rentabilidade","ngModel"],["for","rentabilidadeLiquida"],["type","text","id","rentabilidadeLiquida","name","rentabilidadeLiquida","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%","popoverClass","popover-danger","triggers","mouseenter:mouseleave",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown"],["rentabilidadeLiquida","ngModel"],["for","custosTaxas"],["type","text","id","custosTaxas","name","custosTaxas","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%","popoverClass","popover-danger","triggers","mouseenter:mouseleave",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown"],["custosTaxas","ngModel"],["for","montanteAtual"],["type","text","id","montanteAtual","name","montanteAtual","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ","popoverClass","popover-danger","triggers","mouseenter:mouseleave",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown"],["montanteAtual","ngModel"],["for","sugerido"],["type","text","id","sugerido","name","sugerido","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ","popoverClass","popover-danger","triggers","mouseenter:mouseleave",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown"],["sugerido","ngModel"],["for","planoAcao"],["type","text","id","planoAcao","name","planoAcao","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ","popoverClass","popover-danger","triggers","mouseenter:mouseleave",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown"],["planoAcao","ngModel"],[1,"d-flex","p-0","mt-3"],["class","m-0",4,"ngIf"],[1,"btn","btn-primary","mr-0","ml-auto",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["campoObrigatorio",""],["class","text-danger",4,"ngIf"],[1,"m-0"],["class","text-red",4,"ngFor","ngForOf"],["class","text-red",4,"ngIf"],[1,"text-red"],[1,"spinner-border","spinner-border-sm","mr-1"],[1,"py-3","px-4"]],template:function(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",0)(1,"div",1),e.NdJ("click",function(){return n.voltar()}),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),e._uU(6,"Adicionar investimento"),e.qZA(),e.TgZ(7,"a",6),e.NdJ("click",function(){return n.voltar()}),e._UZ(8,"span")(9,"span"),e.qZA()(),e.TgZ(10,"div",7)(11,"form",8,9),e.NdJ("ngSubmit",function(){e.CHM(o);const a=e.MAs(12);return e.KtG(n.send(a))}),e.TgZ(13,"div",10)(14,"div",11)(15,"label",12),e._uU(16,"Investimento: "),e.TgZ(17,"span",13),e._uU(18,"*"),e.qZA()(),e.TgZ(19,"select",14,15),e.NdJ("ngModelChange",function(a){return n.investimento=a}),e.TgZ(21,"option",16),e._uU(22,"Selecione"),e.qZA(),e.YNc(23,Un,2,2,"option",17),e.qZA(),e.YNc(24,Rn,2,1,"div",18),e.qZA()(),e.TgZ(25,"div",10)(26,"div",19)(27,"label",20),e._uU(28,"Rentabilidade Bruta: "),e.qZA(),e.TgZ(29,"input",21,22),e.NdJ("ngModelChange",function(a){return n.objeto.rentabilidade=a})("keyup.arrowup",function(){e.CHM(o);const a=e.MAs(30);return e.KtG(n.objeto.rentabilidade=n.arrowUp(a.value))})("keyup.arrowdown",function(){e.CHM(o);const a=e.MAs(30);return e.KtG(n.objeto.rentabilidade=n.arrowDown(a.value))}),e.qZA(),e.YNc(31,Fn,2,1,"div",18),e.qZA(),e.TgZ(32,"div",19)(33,"label",23),e._uU(34,"Rentabilidade L\xedquida: "),e.qZA(),e.TgZ(35,"input",24,25),e.NdJ("ngModelChange",function(a){return n.objeto.rentabilidadeLiquida=a})("keyup.arrowup",function(){e.CHM(o);const a=e.MAs(36);return e.KtG(n.objeto.rentabilidadeLiquida=n.arrowUp(a.value))})("keyup.arrowdown",function(){e.CHM(o);const a=e.MAs(36);return e.KtG(n.objeto.rentabilidadeLiquida=n.arrowDown(a.value))}),e.qZA()(),e.TgZ(37,"div",19)(38,"label",26),e._uU(39,"Custos/Taxas: "),e.qZA(),e.TgZ(40,"input",27,28),e.NdJ("ngModelChange",function(a){return n.objeto.custosTaxas=a})("keyup.arrowup",function(){e.CHM(o);const a=e.MAs(41);return e.KtG(n.objeto.custosTaxas=n.arrowUp(a.value))})("keyup.arrowdown",function(){e.CHM(o);const a=e.MAs(41);return e.KtG(n.objeto.custosTaxas=n.arrowDown(a.value))}),e.qZA()(),e.TgZ(42,"div",19)(43,"label",29),e._uU(44,"Montante Atual: "),e.qZA(),e.TgZ(45,"input",30,31),e.NdJ("ngModelChange",function(a){return n.objeto.montanteAtual=a})("keyup.arrowup",function(){e.CHM(o);const a=e.MAs(46);return e.KtG(n.objeto.montanteAtual=n.arrowUp(a.value))})("keyup.arrowdown",function(){e.CHM(o);const a=e.MAs(46);return e.KtG(n.objeto.montanteAtual=n.arrowDown(a.value))}),e.qZA()(),e.TgZ(47,"div",19)(48,"label",32),e._uU(49,"Montante Sugerido: "),e.qZA(),e.TgZ(50,"input",33,34),e.NdJ("ngModelChange",function(a){return n.objeto.sugerido=a})("keyup.arrowup",function(){e.CHM(o);const a=e.MAs(51);return e.KtG(n.objeto.sugerido=n.arrowUp(a.value))})("keyup.arrowdown",function(){e.CHM(o);const a=e.MAs(51);return e.KtG(n.objeto.sugerido=n.arrowDown(a.value))}),e.qZA()(),e.TgZ(52,"div",19)(53,"label",35),e._uU(54,"Plano de A\xe7\xe3o: "),e.qZA(),e.TgZ(55,"input",36,37),e.NdJ("ngModelChange",function(a){return n.objeto.planoAcao=a})("keyup.arrowup",function(){e.CHM(o);const a=e.MAs(56);return e.KtG(n.objeto.planoAcao=n.arrowUp(a.value))})("keyup.arrowdown",function(){e.CHM(o);const a=e.MAs(56);return e.KtG(n.objeto.planoAcao=n.arrowDown(a.value))}),e.qZA()()(),e.TgZ(57,"div",38),e.YNc(58,Ln,3,2,"div",39),e.TgZ(59,"button",40),e.YNc(60,En,1,0,"span",41),e._uU(61," Salvar "),e.qZA()()(),e.YNc(62,$n,2,0,"ng-template",null,42,e.W1O),e.qZA()()()()}if(2&t){const o=e.MAs(12),i=e.MAs(20),a=e.MAs(30),s=e.MAs(36),c=e.MAs(41),_=e.MAs(46),m=e.MAs(51),g=e.MAs(56),M=e.MAs(63);e.ekj("active",n.modalOpen),e.xp6(19),e.ekj("form-control-loading",n.loadingInvestimentos),e.Q6J("ngModel",n.investimento)("ngbPopover",M)("disablePopover",null==i.errors),e.xp6(2),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",n.investimentos),e.xp6(1),e.Q6J("ngIf",i.errors&&i.touched),e.xp6(5),e.Q6J("ngModel",n.objeto.rentabilidade)("ngbPopover",M)("disablePopover",null==a.errors),e.xp6(2),e.Q6J("ngIf",a.errors&&a.touched),e.xp6(4),e.Q6J("ngModel",n.objeto.rentabilidadeLiquida)("ngbPopover",M)("disablePopover",null==s.errors),e.xp6(5),e.Q6J("ngModel",n.objeto.custosTaxas)("ngbPopover",M)("disablePopover",null==c.errors),e.xp6(5),e.Q6J("ngModel",n.objeto.montanteAtual)("ngbPopover",M)("disablePopover",null==_.errors),e.xp6(5),e.Q6J("ngModel",n.objeto.sugerido)("ngbPopover",M)("disablePopover",null==m.errors),e.xp6(5),e.Q6J("ngModel",n.objeto.planoAcao)("ngbPopover",M)("disablePopover",null==g.errors),e.xp6(3),e.Q6J("ngIf",n.erro||o.invalid),e.xp6(1),e.Q6J("disabled",o.invalid||n.loading),e.xp6(1),e.Q6J("ngIf",n.loading)}},dependencies:[v.sg,v.O5,d._Y,d.YN,d.Kr,d.Fj,d.EJ,d.JJ,d.JL,d.Q7,d.On,d.F,w.hx,I.o8,v.Ts]}),r})();var Yn=p(6886);class Hn{constructor(){this.id=0,this.planejamento_Id=0,this.rentabilidade="",this.rentabilidadeLiquida="",this.montanteAtual="",this.sugerido="",this.planoAcao="",this.percentual="",this.custosTaxas="",this.produto=new Yn.a7,this.produto_Id=void 0}}var zn=p(9885);function Kn(r,l){if(1&r){const t=e.EpF();e.TgZ(0,"div",13)(1,"input",46,15),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedRisco=o)})("ngModelChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.setProdutos())}),e.qZA(),e.TgZ(3,"label",47),e._uU(4),e.qZA()()}if(2&r){const t=l.$implicit,n=e.oxw();e.xp6(1),e.MGl("id","tipoRisco-",t.nome,""),e.Q6J("ngModel",n.selectedRisco)("value",t)("checked",t.id==(null==n.selectedRisco?null:n.selectedRisco.id)),e.xp6(2),e.MGl("for","tipoRisco-",t.nome,""),e.xp6(1),e.Oqu(t.nome)}}function Vn(r,l){1&r&&(e.TgZ(0,"span"),e._uU(1,"Selecione"),e.qZA())}function Bn(r,l){1&r&&(e.TgZ(0,"span"),e._uU(1,"Nenhum produto"),e.qZA())}function Wn(r,l){if(1&r&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&r){const t=l.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.descricao)}}function Xn(r,l){1&r&&(e.TgZ(0,"p",21)(1,"small"),e._uU(2,"Esse campo \xe9 obrigat\xf3rio "),e.qZA()())}function et(r,l){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,Xn,3,0,"p",48),e.qZA()),2&r){e.oxw();const t=e.MAs(30);e.xp6(1),e.Q6J("ngIf",t.errors.required)}}function nt(r,l){1&r&&(e.TgZ(0,"p",21),e._uU(1,"Esse campo \xe9 obrigat\xf3rio"),e.qZA())}function tt(r,l){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,nt,2,0,"p",49),e.qZA()),2&r){e.oxw();const t=e.MAs(51);e.xp6(1),e.Q6J("ngIf",t.errors.required)}}function ot(r,l){1&r&&(e.TgZ(0,"p",21),e._uU(1,"Esse campo \xe9 obrigat\xf3rio"),e.qZA())}function at(r,l){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,ot,2,0,"p",49),e.qZA()),2&r){e.oxw();const t=e.MAs(59);e.xp6(1),e.Q6J("ngIf",t.errors.required)}}function rt(r,l){1&r&&(e.TgZ(0,"p",21),e._uU(1,"Esse campo \xe9 obrigat\xf3rio"),e.qZA())}function it(r,l){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,rt,2,0,"p",49),e.qZA()),2&r){e.oxw();const t=e.MAs(67);e.xp6(1),e.Q6J("ngIf",t.errors.required)}}function lt(r,l){if(1&r&&(e.TgZ(0,"p",53),e._uU(1),e.ALo(2,"json"),e.qZA()),2&r){const t=l.$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,t))}}function st(r,l){1&r&&(e.TgZ(0,"p",53),e._uU(1,"Preencha todos os campos obrigat\xf3rios (*) corretamente para salvar"),e.qZA())}function pt(r,l){if(1&r&&(e.TgZ(0,"div",50),e.YNc(1,lt,3,3,"p",51),e.YNc(2,st,2,0,"p",52),e.qZA()),2&r){const t=e.oxw(),n=e.MAs(12);e.xp6(1),e.Q6J("ngForOf",t.erro),e.xp6(1),e.Q6J("ngIf",n.invalid&&0==t.erro.length)}}function dt(r,l){1&r&&e._UZ(0,"span",54)}function ut(r,l){1&r&&(e.TgZ(0,"div",55),e._uU(1," Este campo \xe9 obrigat\xf3rio "),e.qZA())}let se=(()=>{class r{constructor(t,n,o,i,a){this.modal=t,this.plannerService=n,this.produtoService=o,this.setupService=i,this.dropdown=a,this.faTimes=f.NBC,this.faChevronLeft=f.A35,this.modalOpen=!1,this.objeto=new Hn,this.erro=[],this.loading=!1,this.carteirasSetup=[],this.loadingCarteiraSetup=!0,this.produtos=[],this.loadingProdutos=!0,this.tipoRiscos=[],this.loadingRiscos=!0,this.planner=new b,this.aliquota="",this.subscription=[];var s=this.modal.getOpen().subscribe(g=>this.modalOpen=g);this.subscription.push(s);var c=this.plannerService.objeto.subscribe(g=>this.planner=g);this.subscription.push(c);var m=this.setupService.list.subscribe(g=>this.carteirasSetup=g);this.subscription.push(m),(0,C.n)(this.setupService.getList()).then(g=>this.carteirasSetup=g).finally(()=>this.loadingCarteiraSetup=!1);var _=this.dropdown.tipoRisco.subscribe(g=>this.tipoRiscos=g);this.subscription.push(_),(0,C.n)(this.dropdown.getRisco()).then(g=>this.tipoRiscos=g).finally(()=>this.loadingRiscos=!1),m=this.produtoService.list.subscribe(g=>this.setProdutos()),this.subscription.push(m),(0,C.n)(this.produtoService.getList()).then(g=>this.setProdutos()).finally(()=>this.loadingProdutos=!1),setTimeout(()=>{this.modal.setOpen(!0)},200)}ngOnDestroy(){this.modal.setOpen(!1),this.subscription.forEach(t=>t.unsubscribe())}voltar(){this.modal.voltar()}setProdutos(){this.loadingProdutos=!0,this.produtos=this.produtoService.list.value,this.selectedRisco&&(this.produtos=this.produtoService.list.value.filter(t=>t.tipoRisco_Id==this.selectedRisco?.id)),this.produto=void 0,this.aliquota="",this.loadingProdutos=!1}produtoChange(){this.aliquota=""}arrowUp(t){return(0,x.zJ)(t)}arrowDown(t,n=!1){return(0,x.DI)(t,n)}send(t){this.loading=!0,this.erro=[],this.planner.planejamentoProduto.push(this.objeto),this.plannerService.setObject(this.planner),this.voltar(),this.loading=!1}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(q.Q),e.Y36(P),e.Y36(zn.m),e.Y36(D.A),e.Y36(F.V))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-produto-form"]],decls:76,vars:29,consts:[[1,"modal"],[1,"modal__bg",3,"click"],[1,"modal__inner",2,"max-width","700px"],[1,"modal__content"],[1,"modal__header","pb-2"],[1,"text-orange"],[1,"modal__header-close","btn-close",3,"click"],[1,"modal__body","mt-0"],[1,"needs-validation",3,"ngSubmit"],["form","ngForm"],[1,"mt-2","mb-2","px-2"],[1,"h6"],[1,"d-flex","align-items-center"],[1,"mx-2"],["type","radio","name","tipoRisco","id","tipoRisco-0",1,"mr-1","mt-1",3,"ngModel","value","checked","ngModelChange"],["tipoRisco","ngModel"],["for","tipoRisco-0"],["class","mx-2",4,"ngFor","ngForOf"],[1,"form-row"],[1,"form-group","col-lg-12","col-md-4","col-sm-12"],["for","produto"],[1,"text-danger"],["id","produto","name","produto","required","",1,"form-control",3,"ngModel","ngModelChange"],["_produto","ngModel"],[3,"ngValue"],[4,"ngIf"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"form-group","col-lg-4","col-md-4","col-sm-6"],["for","aliquota"],["type","text","id","aliquota","name","aliquota","mask","separator.5","thousandSeparator",".","suffix","%","readonly","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["_aliquota","ngModel"],[1,"form-group","col-lg-4","col-md-4","col-sm-12"],["for","percentual"],["type","text","id","percentual","name","percentual","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown"],["percentual","ngModel"],["for","rentabilidade"],["type","text","id","rentabilidade","name","rentabilidade","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown"],["rentabilidade","ngModel"],["for","montanteAtual"],["type","text","id","montanteAtual","name","montanteAtual","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown"],["montanteAtual","ngModel"],[1,"d-flex","p-0","mt-3","align-items-center"],["class","m-0",4,"ngIf"],[1,"btn","btn-primary","mr-0","ml-auto",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["campoObrigatorio",""],["type","radio","name","tipoRisco",1,"mr-1","mt-1",3,"id","ngModel","value","checked","ngModelChange"],[3,"for"],["class","text-danger ",4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"m-0"],["class","text-red",4,"ngFor","ngForOf"],["class","text-red",4,"ngIf"],[1,"text-red"],[1,"spinner-border","spinner-border-sm","mr-1"],[1,"py-3","px-4"]],template:function(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",0)(1,"div",1),e.NdJ("click",function(){return n.voltar()}),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),e._uU(6,"Adicionar produto"),e.qZA(),e.TgZ(7,"a",6),e.NdJ("click",function(){return n.voltar()}),e._UZ(8,"span")(9,"span"),e.qZA()(),e.TgZ(10,"div",7)(11,"form",8,9),e.NdJ("ngSubmit",function(){e.CHM(o);const a=e.MAs(12);return e.KtG(n.send(a))}),e.TgZ(13,"div",10)(14,"p",11),e._uU(15,"Selecione o Risco"),e.qZA(),e.TgZ(16,"div",12)(17,"div",13)(18,"input",14,15),e.NdJ("ngModelChange",function(a){return n.selectedRisco=a})("ngModelChange",function(){return n.setProdutos()}),e.qZA(),e.TgZ(20,"label",16),e._uU(21,"Todos"),e.qZA()(),e.YNc(22,Kn,5,6,"div",17),e.qZA()(),e.TgZ(23,"div",18)(24,"div",19)(25,"label",20),e._uU(26,"Produto: "),e.TgZ(27,"span",21),e._uU(28,"*"),e.qZA()(),e.TgZ(29,"select",22,23),e.NdJ("ngModelChange",function(a){return n.produto=a})("ngModelChange",function(){return n.produtoChange()}),e.TgZ(31,"option",24),e.YNc(32,Vn,2,0,"span",25),e.YNc(33,Bn,2,0,"span",25),e.qZA(),e.YNc(34,Wn,2,2,"option",26),e.qZA(),e.YNc(35,et,2,1,"div",25),e.qZA()(),e.TgZ(36,"div",18)(37,"div",27)(38,"label",28),e._uU(39,"Al\xedquota: "),e.TgZ(40,"span",21),e._uU(41,"*"),e.qZA()(),e.TgZ(42,"input",29,30),e.NdJ("ngModelChange",function(a){return n.aliquota=a}),e.qZA()()(),e.TgZ(44,"div",18)(45,"div",31)(46,"label",32),e._uU(47,"Percentual: "),e.TgZ(48,"span",21),e._uU(49,"*"),e.qZA()(),e.TgZ(50,"input",33,34),e.NdJ("ngModelChange",function(a){return n.objeto.percentual=a})("keyup.arrowup",function(){e.CHM(o);const a=e.MAs(51);return e.KtG(n.objeto.percentual=n.arrowUp(a.value))})("keyup.arrowdown",function(){e.CHM(o);const a=e.MAs(51);return e.KtG(n.objeto.percentual=n.arrowDown(a.value))}),e.qZA(),e.YNc(52,tt,2,1,"div",25),e.qZA(),e.TgZ(53,"div",31)(54,"label",35),e._uU(55,"Rentabilidade: "),e.TgZ(56,"span",21),e._uU(57,"*"),e.qZA()(),e.TgZ(58,"input",36,37),e.NdJ("ngModelChange",function(a){return n.objeto.rentabilidade=a})("keyup.arrowup",function(){e.CHM(o);const a=e.MAs(59);return e.KtG(n.objeto.rentabilidade=n.arrowUp(a.value))})("keyup.arrowdown",function(){e.CHM(o);const a=e.MAs(59);return e.KtG(n.objeto.rentabilidade=n.arrowDown(a.value))}),e.qZA(),e.YNc(60,at,2,1,"div",25),e.qZA(),e.TgZ(61,"div",31)(62,"label",38),e._uU(63,"Montante Atual: "),e.TgZ(64,"span",21),e._uU(65,"*"),e.qZA()(),e.TgZ(66,"input",39,40),e.NdJ("ngModelChange",function(a){return n.objeto.montanteAtual=a})("keyup.arrowup",function(){e.CHM(o);const a=e.MAs(67);return e.KtG(n.objeto.montanteAtual=n.arrowUp(a.value))})("keyup.arrowdown",function(){e.CHM(o);const a=e.MAs(67);return e.KtG(n.objeto.montanteAtual=n.arrowDown(a.value))}),e.qZA(),e.YNc(68,it,2,1,"div",25),e.qZA()(),e.TgZ(69,"div",41),e.YNc(70,pt,3,2,"div",42),e.TgZ(71,"button",43),e.YNc(72,dt,1,0,"span",44),e._uU(73," Salvar "),e.qZA()()(),e.YNc(74,ut,2,0,"ng-template",null,45,e.W1O),e.qZA()()()()}if(2&t){const o=e.MAs(12),i=e.MAs(30),a=e.MAs(51),s=e.MAs(59),c=e.MAs(67),_=e.MAs(75);e.ekj("active",n.modalOpen),e.xp6(18),e.Q6J("ngModel",n.selectedRisco)("value",void 0)("checked",!n.selectedRisco),e.xp6(4),e.Q6J("ngForOf",n.tipoRiscos),e.xp6(7),e.Q6J("ngModel",n.produto),e.xp6(2),e.Q6J("ngValue",void 0),e.xp6(1),e.Q6J("ngIf",n.produtos.length>0),e.xp6(1),e.Q6J("ngIf",0==n.produtos.length),e.xp6(1),e.Q6J("ngForOf",n.produtos),e.xp6(1),e.Q6J("ngIf",i.touched&&i.errors),e.xp6(7),e.Q6J("ngModel",n.aliquota)("disabled",!n.produto),e.xp6(8),e.Q6J("ngModel",n.objeto.percentual)("ngbPopover",_)("disablePopover",null==a.errors),e.xp6(2),e.Q6J("ngIf",a.errors&&a.touched),e.xp6(6),e.Q6J("ngModel",n.objeto.rentabilidade)("ngbPopover",_)("disablePopover",null==s.errors),e.xp6(2),e.Q6J("ngIf",s.errors&&s.touched),e.xp6(6),e.Q6J("ngModel",n.objeto.montanteAtual)("ngbPopover",_)("disablePopover",null==c.errors),e.xp6(2),e.Q6J("ngIf",c.errors&&c.touched),e.xp6(2),e.Q6J("ngIf",n.erro||o.invalid),e.xp6(1),e.Q6J("disabled",o.invalid||n.loading||!n.produto),e.xp6(1),e.Q6J("ngIf",n.loading)}},dependencies:[v.sg,v.O5,d._Y,d.YN,d.Kr,d.Fj,d.EJ,d._,d.JJ,d.JL,d.Q7,d.On,d.F,w.hx,I.o8,v.Ts]}),r})();var mt=p(4506);let pe=(()=>{class r{constructor(t,n,o){this.modal=t,this.alert=n,this.plannerService=o}canActivate(t,n){let o=this.plannerService.objeto.value;return o.carteiraSetup?0!=o.planejamentoInvestimento.length||(this.modal.voltar(),this.alert.warn("Insira um investimento para cadastrar um produto!"),!1):(this.modal.voltar(),this.alert.warn("Escolha um setup para adicionar um produto!"),!1)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(q.Q),e.LFG(mt.c),e.LFG(P))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function ct(r,l){if(1&r&&(e.TgZ(0,"li",16),e._uU(1),e.ALo(2,"json"),e.qZA()),2&r){const t=l.$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,t))}}function gt(r,l){if(1&r&&(e.TgZ(0,"ul",14),e.YNc(1,ct,3,3,"li",15),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.erro)}}function _t(r,l){1&r&&e._UZ(0,"span",17)}let ht=(()=>{class r{constructor(t,n,o,i,a){this.router=t,this.activatedRoute=n,this.modal=o,this.plannerService=i,this.crypto=a,this.faTimes=f.NBC,this.modalOpen=!1,this.erro=[],this.loading=!1,this.id=0,this.subscription=[];var s=this.modal.getOpen().subscribe(_=>this.modalOpen=_);this.subscription.push(s);var c=this.activatedRoute.params.subscribe(_=>{_.planner_id?this.id=this.crypto.decrypt(_.planner_id):this.voltar()});this.subscription.push(c),setTimeout(()=>{this.modal.setOpen(!0)},200)}ngOnDestroy(){this.subscription.forEach(t=>t.unsubscribe())}voltar(){this.modal.voltar()}send(){this.loading=!0,(0,C.n)(this.plannerService.delete(this.id)).then(t=>{(0,C.n)(this.plannerService.getList()),this.router.navigate(["..","..",".."]),this.plannerService.setObject(new b)}).finally(()=>this.loading=!1)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Z.F0),e.Y36(Z.gz),e.Y36(q.Q),e.Y36(P),e.Y36(J.w))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-delete-planner"]],decls:22,vars:5,consts:[[1,"modal"],[1,"modal__bg",3,"click"],[1,"modal__inner",2,"max-width","600px"],[1,"modal__content"],[1,"modal__header","pb-2"],[1,"text-orange"],[1,"mt-2"],[1,"modal__header-close","btn-close",3,"click"],[1,"modal__body","mt-0"],["class","m-0 col-lg-12 mt-1",4,"ngIf"],[1,"d-flex","justify-content-center","flex-wrap","p-0","mt-1"],[1,"btn","btn-grey","mr-1",3,"click"],[1,"btn","btn-primary","mr-0",3,"disabled","click"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"m-0","col-lg-12","mt-1"],["class","text-red",4,"ngFor","ngForOf"],[1,"text-red"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.NdJ("click",function(){return n.voltar()}),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),e._uU(6,"Excluir registro"),e.qZA(),e.TgZ(7,"p",6),e._uU(8,"Tem certeza que deseja excluir esse registro? Ele n\xe3o poder\xe1 ser recuperado."),e.qZA(),e.TgZ(9,"p"),e._uU(10,"Todos os registros relacionados a esse planejamento, tamb\xe9m ser\xe3o removidos."),e.qZA(),e.TgZ(11,"a",7),e.NdJ("click",function(){return n.voltar()}),e._UZ(12,"span")(13,"span"),e.qZA()(),e.TgZ(14,"div",8),e.YNc(15,gt,2,1,"ul",9),e.TgZ(16,"div",10)(17,"button",11),e.NdJ("click",function(){return n.voltar()}),e._uU(18," Voltar"),e.qZA(),e.TgZ(19,"button",12),e.NdJ("click",function(){return n.send()}),e.YNc(20,_t,1,0,"span",13),e._uU(21," Excluir "),e.qZA()()()()()()),2&t&&(e.ekj("active",n.modalOpen),e.xp6(15),e.Q6J("ngIf",n.erro),e.xp6(4),e.Q6J("disabled",n.loading),e.xp6(1),e.Q6J("ngIf",n.loading))},dependencies:[v.sg,v.O5,v.Ts]}),r})();var vt=p(8785),ft=p(3834),de=p(9738);const Ct=[{path:"",component:te,children:[{path:"cadastrar",component:vt.G,title:"Planner - Cadastrar cliente"},{path:"editar/:cliente_id",component:ft.F,title:"Planner - Editar cliente"},{path:"excluir/:cliente_id",component:qn.T,title:"Planner - Excluir cliente"},{path:"habilitar/:cliente_id",component:de.T,title:"Planner - Habilitar cliente"},{path:"desabilitar/:cliente_id",component:de.T,title:"Planner - Desabilitar cliente"}]},{path:"planner",component:ie,title:"Planner - Planejamento",children:[{path:"investimento",component:le},{path:"produto",component:se,canActivate:[pe]},{path:"excluir/:planner_id",component:ht}]},{path:"planner/:cliente_id",component:ie,children:[{path:"investimento",component:le},{path:"produto",component:se,canActivate:[pe]}]}];let Mt=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[Z.Bz.forChild(Ct),Z.Bz]}),r})();var At=p(9880),bt=p(1740);let Tt=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r,bootstrap:[te]}),r.\u0275inj=e.cJS({imports:[v.ez,Mt,d.u5,N.uH,w.yI,S.Rh,z.U$,I.dT,oe.kW,G.S,At.m,bt.j,d.UX]}),r})()}}]);