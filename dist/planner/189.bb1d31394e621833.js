"use strict";(self.webpackChunkplanner=self.webpackChunkplanner||[]).push([[189],{9189:(zn,j,p)=>{p.r(j),p.d(j,{ClientesModule:()=>Dn});var M=p(6895),d=p(433),I=p(3868),Z=p(1094),P=p(7185),F=p(5576),y=p(279),c=p(801),R=p(4429),Q=p(932),k=p(9243),oe=p(46),e=p(4650),f=p(8627),re=p(453);const ae=function(){return["planner"]};let G=(()=>{class r{constructor(t,n,i,a){this.table=t,this.clienteService=n,this.crypto=i,this.mask=a,this.faFilter=c.G_j,this.faEllipsisV=c.iV1,this.faCity=c.SBo,this.faTimes=c.NBC,this.list=[],this.selectedItems=[],this.loading=!0,this.columns=R.lF,this.filters=[],this.tableLinks=[],this.filters=this.columns.map(o=>o.field),this.table.loading.subscribe(o=>this.loading=o),this.table.selected.subscribe(o=>{this.selected=o,this.selected&&(this.tableLinks=this.table.encryptParams(this.tableLinks))}),this.table.selectedItems.subscribe(o=>this.selectedItems=o),this.clienteService.list.subscribe(o=>this.list=o),this.clienteService.getList().subscribe(),this.tableLinks=[{label:"Ver planner",routePath:["planner"],paramsFieldName:["id"]},{label:"Excluir",routePath:["excluir"],paramsFieldName:["id"]}]}ngOnInit(){}onRowSelect(t){this.table.onRowSelect(t)}onRowUnselect(t){this.table.onRowUnselect(t)}onAllRowToggle(t){this.table.onAllRowToggle(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(oe.i),e.Y36(Q.$),e.Y36(k.w),e.Y36(Z.d6))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-list"]],decls:15,vars:14,consts:[[1,"page"],[1,"page__header"],[1,"title-icon"],[3,"icon"],[1,"page__header-title"],[1,"page__header-subtitle"],[1,"page__body"],[3,"createLink","list","paginator","filterLink","filterTable","sortTable","menuTable","canCreate","columns","selectable","tableLinks"]],template:function(t,n){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"span",2),e._UZ(3,"fa-icon",3),e.qZA(),e.TgZ(4,"div")(5,"h3",4),e._uU(6,"Clientes"),e.qZA(),e.TgZ(7,"p",5)(8,"small"),e._uU(9,"Clientes cadastrados em "),e.TgZ(10,"strong"),e._uU(11,'"Empresa X"'),e.qZA()()()()(),e.TgZ(12,"div",6),e._UZ(13,"app-list-shared",7),e.qZA()(),e._UZ(14,"router-outlet")),2&t&&(e.xp6(3),e.Q6J("icon",n.faCity),e.xp6(10),e.Q6J("createLink",e.DdM(13,ae))("list",n.list)("paginator",!0)("filterLink",!1)("filterTable",!0)("sortTable",!0)("menuTable",!0)("canCreate",!0)("columns",n.columns)("selectable",!0)("tableLinks",n.tableLinks)("selectable",!0))},dependencies:[f.lC,I.BN,re.o]}),r})();var E=p(2210),Y=p(5861),ie=p(6025),U=p(9398);class le{constructor(){this.id=0,this.planejamento_Id=0,this.idade="",this.valor=""}}class se{constructor(){this.id=0,this.descricao=""}}class b{constructor(){this.id=0,this.cliente_Id=0,this.cliente=new R.c1,this.usuario_Id=0,this.carteiraSetup_Id=void 0,this.carteiraSetup=void 0,this.data="",this.descricao="",this.taxaSelic="",this.taxaIpca="",this.cm=!1,this.rE_Sugerido="",this.rE_Planejado="",this.riscoAssumido="",this.riscoTolerado="",this.sugestao_Baixissimo="",this.sugestao_Baixo="",this.sugestao_Moderado="",this.sugestao_Arrojado="",this.sugestao_SuperArrojado="",this.sugestao_Hedge="",this.sugestao_Total="",this.plano_Baixissimo="",this.plano_Baixo="",this.plano_Moderado="",this.plano_Arrojado="",this.plano_SuperArrojado="",this.plano_Hedge="",this.plano_Total="",this.atual_Total=0,this.atual_RentabilidadeMedia=0,this.atual_RentabilidadeReal=0,this.sugerido_Total=0,this.planoAcao_Total=0,this.planoAcao_RentabilidadeMedia=0,this.planoAcao_RentabilidadeReal=0,this.planejamentoGrafico=[],this.planejamentoInvestimento=[],this.planejamentoProduto=[],this.planejamentoFluxosPontuais=[],this.principaisObjetivos=[]}}var pe=p(9876),O=p(9535),J=p(1135),H=p(4004),D=p(2340),de=p(8913),K=p(529);let x=(()=>{class r{constructor(t,n,i){this.http=t,this.crypto=n,this.empresaService=i,this.list=new J.X([]),this.url=D.N.url,this.objeto=new J.X(new b),this.empresa=new U.oW,this.empresaService.empresaObject.subscribe(a=>{this.empresa=a})}getObject(){let t=localStorage.getItem("planejamento");if(t){let n=this.crypto.decrypt(t);this.objeto.next(n)}else this.setObject(new b);return this.objeto}setObject(t){localStorage.setItem("planejamento",this.crypto.encrypt(t)??""),this.objeto.next(t)}getList(t=1){return this.http.get(`${this.url}/planejamento/all/${t}`).pipe((0,H.U)(n=>(this.list.next(n),n)))}getByClienteId(t){return console.log(t),this.http.get(`${this.url}/planejamento/${t}`).pipe((0,H.U)(n=>(n.principaisObjetivos=n.principaisObjetivos?n.principaisObjetivos:[],this.setObject(n),n)))}send(t){return this.http.post(`${this.url}/planejamento/`,t)}create(t){return this.http.post(`${this.url}/planejamento/`,t)}edit(t){return this.http.put(`${this.url}/planejamento/`,t)}delete(t){return this.http.delete(`${this.url}/planejamento/${t}`)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(K.eN),e.LFG(k.w),e.LFG(de.P))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var L=p(9885),S=p(9205),A=p(4551),w=p(3866),B=p(2788),q=p(7549),ue=p(805),V=p(9364);const me=["chartPatrimonioIdade"],ge=["chartCapitalSegurado"];function ce(r,l){if(1&r&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&r){const t=l.$implicit;e.Q6J("ngValue",t.id),e.xp6(1),e.hij("",t.descricao," ")}}function _e(r,l){if(1&r&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&r){const t=l.$implicit;e.Q6J("ngValue",t.id),e.xp6(1),e.Oqu(t.descricao)}}function he(r,l){1&r&&(e.TgZ(0,"tr",67)(1,"th",168),e._uU(2,"Investimento"),e.qZA(),e.TgZ(3,"th",68),e._uU(4,"Tributa\xe7\xe3o"),e.qZA(),e.TgZ(5,"th",68),e._uU(6,"Rentabilidade"),e.qZA(),e.TgZ(7,"th",68),e._uU(8,"Rentab. Liquida"),e.qZA(),e.TgZ(9,"th",68),e._uU(10,"Montante Atual"),e.qZA(),e.TgZ(11,"th",68),e._uU(12,"Montante Sugerida"),e.qZA(),e.TgZ(13,"th",68),e._uU(14,"Plano de A\xe7\xe3o"),e.qZA(),e._UZ(15,"th",169),e.qZA())}function ve(r,l){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"td",170)(2,"small")(3,"b"),e._uU(4),e.qZA()()(),e.TgZ(5,"td",171),e._uU(6),e.qZA(),e.TgZ(7,"td",110)(8,"input",172,173),e.NdJ("ngModelChange",function(i){const o=e.CHM(t).$implicit;return e.KtG(o.rentabilidade=i)})("keyup.arrowup",function(){const a=e.CHM(t).$implicit,o=e.MAs(9),s=e.oxw();return e.KtG(a.rentabilidade=s.arrowUp(o.value))})("keyup.arrowdown",function(){const a=e.CHM(t).$implicit,o=e.MAs(9),s=e.oxw();return e.KtG(a.rentabilidade=s.arrowDown(o.value,!0))}),e.qZA()(),e.TgZ(10,"td",171)(11,"input",174,175),e.NdJ("ngModelChange",function(i){const o=e.CHM(t).$implicit;return e.KtG(o.rentabilidadeLiquida=i)})("keyup.arrowup",function(){const a=e.CHM(t).$implicit,o=e.MAs(12),s=e.oxw();return e.KtG(a.rentabilidadeLiquida=s.arrowUp(o.value))})("keyup.arrowdown",function(){const a=e.CHM(t).$implicit,o=e.MAs(12),s=e.oxw();return e.KtG(a.rentabilidadeLiquida=s.arrowDown(o.value,!0))}),e.qZA()(),e.TgZ(13,"td",110)(14,"input",176,177),e.NdJ("ngModelChange",function(i){const o=e.CHM(t).$implicit;return e.KtG(o.montanteAtual=i)})("keyup.arrowup",function(){const a=e.CHM(t).$implicit,o=e.MAs(15),s=e.oxw();return e.KtG(a.montanteAtual=s.arrowUp(o.value))})("keyup.arrowdown",function(){const a=e.CHM(t).$implicit,o=e.MAs(15),s=e.oxw();return e.KtG(a.montanteAtual=s.arrowDown(o.value,!0))}),e.qZA()(),e.TgZ(16,"td",171)(17,"input",178,179),e.NdJ("ngModelChange",function(i){const o=e.CHM(t).$implicit;return e.KtG(o.sugerido=i)})("keyup.arrowup",function(){const a=e.CHM(t).$implicit,o=e.MAs(18),s=e.oxw();return e.KtG(a.sugerido=s.arrowUp(o.value))})("keyup.arrowdown",function(){const a=e.CHM(t).$implicit,o=e.MAs(18),s=e.oxw();return e.KtG(a.sugerido=s.arrowDown(o.value,!0))}),e.qZA()(),e.TgZ(19,"td",171)(20,"input",178,180),e.NdJ("ngModelChange",function(i){const o=e.CHM(t).$implicit;return e.KtG(o.planoAcao=i)})("keyup.arrowup",function(){const a=e.CHM(t).$implicit,o=e.MAs(21),s=e.oxw();return e.KtG(a.planoAcao=s.arrowUp(o.value))})("keyup.arrowdown",function(){const a=e.CHM(t).$implicit,o=e.MAs(21),s=e.oxw();return e.KtG(a.planoAcao=s.arrowDown(o.value,!0))}),e.qZA()(),e.TgZ(22,"td",169)(23,"a",181),e.NdJ("click",function(){const a=e.CHM(t).$implicit,o=e.oxw();return e.KtG(o.removerInvestimento(a))}),e._UZ(24,"fa-icon",157),e.qZA()()()}if(2&r){const t=l.$implicit,n=l.rowIndex,i=e.oxw(),a=e.MAs(404);e.xp6(4),e.Oqu(null==t.investimentoTributacaoRel||null==t.investimentoTributacaoRel.investimento?null:t.investimentoTributacaoRel.investimento.descricao),e.xp6(2),e.hij(" ",null==t.investimentoTributacaoRel||null==t.investimentoTributacaoRel.tributacao?null:t.investimentoTributacaoRel.tributacao.descricao," "),e.xp6(2),e.MGl("id","investimento-rentabilidade-",n,"")("name","investimento-rentabilidade-",n,""),e.Q6J("ngModel",t.rentabilidade)("allowNegativeNumbers",!0)("ngbPopover",a),e.xp6(3),e.MGl("id","investimento-rentabilidadeLiquida-",n,"")("name","investimento-rentabilidadeLiquida-",n,""),e.Q6J("ngModel",t.rentabilidadeLiquida)("ngbPopover",a),e.xp6(3),e.MGl("id","investimento-montanteAtual-",n,"")("name","investimento-montanteAtual-",n,""),e.Q6J("ngModel",t.montanteAtual)("ngbPopover",a),e.xp6(3),e.MGl("id","investimento-sugerido-",n,"")("name","investimento-sugerido-",n,""),e.Q6J("ngModel",t.sugerido)("ngbPopover",a),e.xp6(3),e.MGl("id","investimento-planoAcao-",n,"")("name","investimento-planoAcao-",n,""),e.Q6J("ngModel",t.planoAcao)("ngbPopover",a),e.xp6(4),e.Q6J("icon",i.faTrash)}}function fe(r,l){1&r&&(e.TgZ(0,"tr"),e._UZ(1,"td"),e.TgZ(2,"td",182),e._uU(3," Nenhum registro "),e.qZA(),e._UZ(4,"td"),e.qZA()),2&r&&(e.xp6(2),e.uIk("colspan",6))}function Ce(r,l){if(1&r){const t=e.EpF();e.TgZ(0,"button",183),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(),a=e.MAs(13);return e.KtG(i.adicionarProdutoCarteira(a))}),e._uU(1," Salvar "),e.qZA()}if(2&r){const t=e.oxw(),n=e.MAs(13);e.Gre("btn btn-primary ml-1 d-flex align-items-center ",n.invalid||t.loading?"disabled-button":"","")}}const Me=function(){return["produto"]};function be(r,l){1&r&&(e.TgZ(0,"a",184),e._uU(1," Adicionar outros produtos "),e.qZA()),2&r&&e.Q6J("routerLink",e.DdM(1,Me))}function Te(r,l){1&r&&(e.TgZ(0,"p",185),e._uU(1,"* Insira um investimento para adicionar um produto"),e.qZA())}function Ze(r,l){1&r&&(e.TgZ(0,"tr",67)(1,"th",114),e._uU(2,"Produto"),e.qZA(),e.TgZ(3,"th",68),e._uU(4,"Tributa\xe7\xe3o"),e.qZA(),e.TgZ(5,"th",68),e._uU(6,"Percentual"),e.qZA(),e.TgZ(7,"th",68),e._uU(8,"Rentabilidade"),e.qZA(),e.TgZ(9,"th",68),e._uU(10,"Rentab. Liquida"),e.qZA(),e.TgZ(11,"th",68),e._uU(12,"Montante Atual"),e.qZA(),e.TgZ(13,"th",68),e._uU(14,"Montante Sugerida"),e.qZA(),e.TgZ(15,"th",68),e._uU(16,"Plano de A\xe7\xe3o"),e.qZA(),e._UZ(17,"th",169),e.qZA())}function Ae(r,l){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"td",170)(2,"small")(3,"b"),e._uU(4),e.qZA()()(),e.TgZ(5,"td",171),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"input",186,187),e.NdJ("ngModelChange",function(i){const o=e.CHM(t).$implicit;return e.KtG(o.percentual=i)})("keyup.arrowup",function(){const a=e.CHM(t).$implicit,o=e.MAs(9),s=e.oxw();return e.KtG(a.percentual=s.arrowUp(o.value))})("keyup.arrowdown",function(){const a=e.CHM(t).$implicit,o=e.MAs(9),s=e.oxw();return e.KtG(a.percentual=s.arrowDown(o.value,!0))})("ngModelChange",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.calculaPercentualProduto())}),e.qZA()(),e.TgZ(10,"td")(11,"input",188,173),e.NdJ("ngModelChange",function(i){const o=e.CHM(t).$implicit;return e.KtG(o.rentabilidade=i)})("keyup.arrowup",function(){const a=e.CHM(t).$implicit,o=e.MAs(12),s=e.oxw();return e.KtG(a.rentabilidade=s.arrowUp(o.value))})("keyup.arrowdown",function(){const a=e.CHM(t).$implicit,o=e.MAs(12),s=e.oxw();return e.KtG(a.rentabilidade=s.arrowDown(o.value,!0))}),e.qZA()(),e.TgZ(13,"td",171),e._uU(14),e.ALo(15,"mask"),e.qZA(),e.TgZ(16,"td",171),e._uU(17),e.ALo(18,"mask"),e.qZA(),e.TgZ(19,"td",171),e._uU(20),e.ALo(21,"mask"),e.qZA(),e.TgZ(22,"td",171)(23,"input",189,180),e.NdJ("ngModelChange",function(i){const o=e.CHM(t).$implicit;return e.KtG(o.planoAcao=i)})("keyup.arrowup",function(){const a=e.CHM(t).$implicit,o=e.MAs(24),s=e.oxw();return e.KtG(a.planoAcao=s.arrowUp(o.value))})("keyup.arrowdown",function(){const a=e.CHM(t).$implicit,o=e.MAs(24),s=e.oxw();return e.KtG(a.planoAcao=s.arrowDown(o.value,!1))}),e.qZA()(),e.TgZ(25,"td",169)(26,"a",181),e.NdJ("click",function(){const a=e.CHM(t).$implicit,o=e.oxw();return e.KtG(o.removerProduto(a))}),e._UZ(27,"fa-icon",157),e.qZA()()()}if(2&r){const t=l.$implicit,n=l.rowIndex,i=e.oxw(),a=e.MAs(404);e.xp6(4),e.Oqu(null==t.produtoTributacaoRel||null==t.produtoTributacaoRel.produto?null:t.produtoTributacaoRel.produto.descricao),e.xp6(2),e.hij(" ",null==t.produtoTributacaoRel||null==t.produtoTributacaoRel.tributacao?null:t.produtoTributacaoRel.tributacao.descricao," "),e.xp6(2),e.MGl("id","produto-percentual-",n,"")("name","produto-percentual-",n,""),e.Q6J("ngModel",t.percentual)("allowNegativeNumbers",!0)("ngbPopover",a)("required",!0)("min",.1)("max",100-i.percentualTotalProduto),e.xp6(3),e.MGl("id","produto-rentabilidade-",n,"")("name","produto-rentabilidade-",n,""),e.Q6J("ngModel",t.rentabilidade)("allowNegativeNumbers",!0)("ngbPopover",a)("required",!0),e.xp6(3),e.hij("",e.Dn7(15,26,t.rentabilidadeLiquida,"separator",","),"%"),e.xp6(3),e.hij(" R$ ",e.Dn7(18,30,t.montanteAtual,"separator",",")," "),e.xp6(3),e.hij(" R$ ",e.Dn7(21,34,t.sugerido,"separator",",")," "),e.xp6(3),e.MGl("id","produto-planoAcao-",n,"")("name","produto-planoAcao-",n,""),e.Q6J("ngModel",t.planoAcao)("allowNegativeNumbers",!0)("ngbPopover",a)("required",!0),e.xp6(4),e.Q6J("icon",i.faTrash)}}function we(r,l){if(1&r&&(e.TgZ(0,"tr"),e._UZ(1,"td")(2,"td"),e.TgZ(3,"td"),e._uU(4,"Total: "),e.TgZ(5,"span"),e._uU(6),e.qZA(),e._uU(7," %"),e.qZA(),e._UZ(8,"td")(9,"td")(10,"td")(11,"td")(12,"td")(13,"td"),e.qZA()),2&r){const t=e.oxw();e.xp6(6),e.Oqu(t.percentualTotalProduto)}}function Pe(r,l){1&r&&(e.TgZ(0,"tr"),e._UZ(1,"td"),e.TgZ(2,"td",182),e._uU(3," Nenhum registro "),e.qZA(),e._UZ(4,"td"),e.qZA()),2&r&&(e.xp6(2),e.uIk("colspan",7))}function xe(r,l){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"td",170)(2,"small"),e._uU(3),e.qZA()(),e.TgZ(4,"td")(5,"input",190,191),e.NdJ("ngModelChange",function(i){const o=e.CHM(t).$implicit;return e.KtG(o.rentabilidadeAtual=i)}),e.qZA()(),e.TgZ(7,"td")(8,"input",190,192),e.NdJ("ngModelChange",function(i){const o=e.CHM(t).$implicit;return e.KtG(o.retornoAnual=i)}),e.qZA()(),e.TgZ(10,"td")(11,"input",190,193),e.NdJ("ngModelChange",function(i){const o=e.CHM(t).$implicit;return e.KtG(o.retornoMensal=i)}),e.qZA()(),e.TgZ(13,"td")(14,"input",190,194),e.NdJ("ngModelChange",function(i){const o=e.CHM(t).$implicit;return e.KtG(o.patrimonioMaximo=i)}),e.qZA()(),e.TgZ(16,"td")(17,"input",190,195),e.NdJ("ngModelChange",function(i){const o=e.CHM(t).$implicit;return e.KtG(o.tempo=i)}),e.qZA()()()}if(2&r){const t=l.$implicit;e.xp6(3),e.Oqu(t.tipo),e.xp6(2),e.MGl("id","rentabilidadeAtual-",t.id,"")("name","rentabilidadeAtual-",t.id,""),e.Q6J("ngModel",t.rentabilidadeAtual),e.xp6(3),e.MGl("id","retornoAnual-",t.id,"")("name","retornoAnual-",t.id,""),e.Q6J("ngModel",t.retornoAnual),e.xp6(3),e.MGl("id","retornoMensal-",t.id,"")("name","retornoMensal-",t.id,""),e.Q6J("ngModel",t.retornoMensal),e.xp6(3),e.MGl("id","patrimonioMaximo-",t.id,"")("name","patrimonioMaximo-",t.id,""),e.Q6J("ngModel",t.patrimonioMaximo),e.xp6(3),e.MGl("id","tempo-",t.id,"")("name","tempo-",t.id,""),e.Q6J("ngModel",t.tempo)}}function qe(r,l){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"td",159)(2,"input",196,44),e.NdJ("ngModelChange",function(i){const o=e.CHM(t).$implicit;return e.KtG(o.idade=i)})("keyup.arrowup",function(){const a=e.CHM(t).$implicit,o=e.MAs(3),s=e.oxw();return e.KtG(a.idade=s.arrowUp(o.value))})("keyup.arrowdown",function(){const a=e.CHM(t).$implicit,o=e.MAs(3),s=e.oxw();return e.KtG(a.idade=s.arrowDown(o.value))})("change",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.saveData())}),e.qZA()(),e.TgZ(4,"td")(5,"input",197,198),e.NdJ("ngModelChange",function(i){const o=e.CHM(t).$implicit;return e.KtG(o.valor=i)})("keyup.arrowup",function(){const a=e.CHM(t).$implicit,o=e.MAs(6),s=e.oxw();return e.KtG(a.valor=s.arrowUp(o.value))})("keyup.arrowdown",function(){const a=e.CHM(t).$implicit,o=e.MAs(6),s=e.oxw();return e.KtG(a.valor=s.arrowDown(o.value,!0))})("change",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.saveData())}),e.qZA()(),e.TgZ(7,"td",199)(8,"button",200),e.NdJ("click",function(){const a=e.CHM(t).$implicit,o=e.oxw();return e.KtG(o.removerFluxoPontual(a))}),e._UZ(9,"fa-icon",157),e.qZA()()()}if(2&r){const t=l.$implicit,n=l.index,i=e.MAs(3),a=e.MAs(6),o=e.oxw(),s=e.MAs(402);e.xp6(2),e.MGl("id","idade-",n,"")("name","idade-",n,""),e.Q6J("ngModel",t.idade)("ngbPopover",s)("disablePopover",null==i.errors),e.xp6(3),e.MGl("id","valor",n,"")("name","valor",n,""),e.Q6J("ngModel",t.valor)("ngbPopover",s)("disablePopover",null==a.errors),e.xp6(4),e.Q6J("icon",o.faTrash)}}function ye(r,l){1&r&&(e.TgZ(0,"tr")(1,"td",201),e._uU(2,"Nenhum registro"),e.qZA()())}function ke(r,l){if(1&r&&(e.TgZ(0,"p",205),e._uU(1),e.qZA()),2&r){const t=l.$implicit;e.xp6(1),e.Oqu(t)}}function Ie(r,l){1&r&&(e.TgZ(0,"p",205),e._uU(1,"Preencha todos os campos corretamente para salvar"),e.qZA())}function Ue(r,l){if(1&r&&(e.TgZ(0,"div",202),e.YNc(1,ke,2,1,"p",203),e.YNc(2,Ie,2,0,"p",204),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.erro),e.xp6(1),e.Q6J("ngIf",0==t.erro.length)}}function Je(r,l){1&r&&e._UZ(0,"span",206)}function Se(r,l){1&r&&(e.TgZ(0,"div",207),e._uU(1," Este campo \xe9 obrigat\xf3rio "),e.qZA())}function Ne(r,l){1&r&&(e.TgZ(0,"div",208),e._uU(1," Acione a seta para cima ou para baixo no teclado para mudar o valor "),e.qZA())}function je(r,l){1&r&&(e.TgZ(0,"div",207),e._uU(1,"Preencha todos os campos corretamente para adicionar produtos"),e.qZA())}const Fe=function(){return["investimento"]};let z=(()=>{class r{constructor(t,n,i,a,o,s,g,u,C,T,v,N){this.modal=t,this.plannerService=n,this.clienteService=i,this.isMobile=a,this.toastr=o,this.activatedRoute=s,this.dropdown=g,this.setup=u,this.produtoService=C,this.crypto=T,this.router=v,this.accountService=N,this.faTimes=c.NBC,this.faWallet=c.X5K,this.faChevronLeft=c.A35,this.faTrash=c.$aW,this.faArrowRight=c.eFW,this.faPlus=c.r8p,this.faTrashAlt=c.I7k,this.modalOpen=!1,this.planner=new b,this.erro=[],this.loading=!1,this.loadingProduto=!1,this.solucaoInicial=[{id:0,tipo:"Atual",rentabilidadeAtual:0,retornoAnual:0,retornoMensal:0,patrimonioMaximo:0,tempo:0},{id:1,tipo:"Sugerida",rentabilidadeAtual:0,retornoAnual:0,retornoMensal:0,patrimonioMaximo:0,tempo:0},{id:2,tipo:"Diferen\xe7a",rentabilidadeAtual:0,retornoAnual:0,retornoMensal:0,patrimonioMaximo:0,tempo:0}],this.carteirasSetup=[],this.loadingCarteiraSetup=!0,this.estadoCivil=[],this.loadingEstadoCivil=!0,this.perfilInvestidor=[],this.loadingPerfilInvestidor=!0,this.isEditPage=!1,this.chartSize={"chart-capital-segurado":{width:"0",height:"0"},"chart-patrimonio-idade":{width:"0",height:"0"}},this.mobile=B.I.lg,this.percentualTotalProduto=0,this.carteiraSetupInalterada=new ie.Wj,this.mudouCarteiraSetup=!1,this.clienteIdEncrypted="",this.plannerService.getObject().subscribe(m=>{this.planner=m,this.mudouCarteiraSetup=0!=this.planner.id,this.calculaPercentualProduto()}),this.activatedRoute.params.subscribe(m=>{this.isEditPage=!!m.cliente_id,this.isEditPage&&(this.clienteIdEncrypted=m.cliente_id,this.planner.cliente_Id=this.crypto.decrypt(m.cliente_id),this.plannerService.getByClienteId(this.planner.cliente_Id).subscribe({next:h=>{h.cliente.rg=h.cliente.rg.toString().padStart(9,"0"),h.cliente.cpf=h.cliente.cpf.toString().padStart(11,"0"),h.principaisObjetivos=h.principaisObjetivos?h.principaisObjetivos:[],this.planner=h,this.carteiraSetupInalterada=h.carteiraSetup,this.mudouCarteiraSetup=!1,this.setChartPatrimonioIdade()},error:h=>{this.voltar()}}))}),this.isMobile.get().subscribe(m=>this.mobile=m),this.setup.list.subscribe(m=>this.carteirasSetup=m),this.setup.getList().subscribe({next:m=>{this.carteirasSetup=m,this.loadingCarteiraSetup=!1},error:m=>{this.loadingCarteiraSetup=!1}}),this.dropdown.estadoCivil.subscribe(m=>this.estadoCivil=m),this.dropdown.getEstadoCivil().subscribe({next:m=>{this.estadoCivil=m,this.loadingEstadoCivil=!1},error:m=>{this.loadingEstadoCivil=!1}}),this.dropdown.perfilInvestidor.subscribe(m=>this.perfilInvestidor=m),this.dropdown.getPerfilInvestidor().subscribe({next:m=>{this.perfilInvestidor=m,this.loadingPerfilInvestidor=!1},error:m=>{this.loadingPerfilInvestidor=!1}}),this.setChartPatrimonioIdade(),this.setChartCapitalSegurado()}ngOnInit(){}ngAfterViewInit(){this.setChartPatrimonioIdade(),this.setChartCapitalSegurado()}onResize(t){this.setChartWidth("chart-capital-segurado"),this.setChartWidth("chart-patrimonio-idade")}voltar(){this.modal.voltar()}resetForm(){this.plannerService.setObject(new b)}calcularICM(){this.planner.cliente.imc=this.planner.cliente.altura&&this.planner.cliente.peso?this.planner.cliente.peso/Math.pow(this.planner.cliente.altura,2):""}calculaPercentualProduto(){if(this.planner.planejamentoProduto.length>0){let t=this.planner.planejamentoProduto.map(n=>n.percentual).filter(n=>""!=n.toString().trim()&&0!=n);this.percentualTotalProduto=t.length>0?t.reduce((n,i)=>n+i):0}else this.percentualTotalProduto=0;return this.percentualTotalProduto}calculaIdade(){if(this.planner.cliente.dataNascimento&&""!=this.planner.cliente.dataNascimento.toString().trim()){var t=Date.now()-new Date(new Date(this.planner.cliente.dataNascimento).toUTCString()).getTime(),n=new Date(t);this.planner.cliente.idade=Math.abs(n.getUTCFullYear()-1970)}else this.planner.cliente.idade=""}carteiraSetupChange(t){if(t.value){let n=this.carteirasSetup.find(i=>i.id==t.value);this.planner.carteiraSetup=n}else this.planner.carteiraSetup=void 0;this.mudouCarteiraSetup=this.planner.carteiraSetup_Id!=this.carteiraSetupInalterada.id,this.saveData()}perfilInvestidorChange(){this.planner.cliente.perfilInvestidor=this.perfilInvestidor.find(t=>t.id==this.planner.cliente.perfilInvestidor_Id),this.saveData()}setChartPatrimonioIdade(){this.setChartWidth("chart-patrimonio-idade"),this.planner.planejamentoGrafico.sort((t,n)=>t.idade-n.idade),this.chartPatrimonioIdadeData={labels:this.planner.planejamentoGrafico.map(t=>t.idade),datasets:[{type:"line",label:"Planejado",data:this.planner.planejamentoGrafico.map(t=>t.valorPlanejado),backgroundColor:"#242424"},{type:"bar",label:"Realidade Atual",data:this.planner.planejamentoGrafico.map(t=>t.valorAtual),backgroundColor:"#2d7a95"}]},this.chartPatrimonioIdadeOptions={plugins:{title:{display:!0,text:"Planejado x Realidade Atual",font:{size:20},color:A.w.primary},subtitle:{display:!1,text:"Planejado x Realidade Atual",font:{size:22},color:A.w.grey},legend:{position:"top"}},scales:{xAxes:{min:0,max:100,suggestedMax:100}}}}setChartCapitalSegurado(){this.setChartWidth("chart-capital-segurado"),this.chartCapitalSeguradoData={labels:["","","","","","",""],datasets:[{type:"line",label:"Renda Interrompida 0 anos antes",data:[39,52,36,47,14,55,74],backgroundColor:A.O},{type:"bar",label:"Capital Segurado",data:[74,65,87,19,25,25,25],backgroundColor:A.O},{type:"bar",label:"Planejado",data:[28,48,40,19,86,27,90],backgroundColor:A.O}]},this.chartCapitalSeguradoOptions={plugins:{title:{display:!0,text:"Capital Segurado x Evolu\xe7\xe3o Patrimonial",font:{size:20},color:A.w.primary},legend:{position:"top"}}}}setChartWidth(t){let n=window.innerWidth,i=window.innerHeight,a=$("#"+t).width()??0,o=$("#"+t).height()??0,g=100/i;this.chartSize[t].width=(100/n*a).toString()+"vw",this.chartSize[t].height=(g*o).toString()+"vh"}adicionarProdutoCarteira(t){var n=this;return(0,Y.Z)(function*(){if(n.planner.planejamentoProduto=[],n.planner.usuario_Id=n.accountService.accountValue?.id??0,n.planner.cliente.empresa_Id=1,n.planner.cliente.empresa||(n.planner.cliente.empresa=new U.oW),n.planner.cliente.empresa.id=1,n.saveData(),n.erro=[],t.invalid)return n.erro.push("Campos inv\xe1lidos!"),n.toastr.error("Campos inv\xe1lidos!"),void(n.loading=!1);n.plannerService.create(n.planner).subscribe({next:i=>{n.loading=!1,n.plannerService.setObject(i),n.mudouCarteiraSetup=!0},error:i=>{n.loading=!1}})})()}adicionarFLuxoPontual(){this.planner.planejamentoFluxosPontuais.push(new le),this.saveData()}removerFluxoPontual(t){let n=this.planner.planejamentoFluxosPontuais.findIndex(i=>i==t);-1!=n&&(this.planner.planejamentoFluxosPontuais.splice(n,1),this.saveData())}adicionarObjetivo(){this.planner.principaisObjetivos.push(new se),this.saveData()}removerObjetivo(t){let n=this.planner.principaisObjetivos.findIndex(i=>i==t);-1!=n&&(this.planner.principaisObjetivos.splice(n,1),this.saveData())}removerInvestimento(t){let n=this.planner.planejamentoInvestimento.findIndex(i=>i==t);-1!=n&&(this.planner.planejamentoInvestimento.splice(n,1),this.saveData())}removerProduto(t){let n=this.planner.planejamentoProduto.findIndex(i=>i==t);-1!=n&&(this.planner.planejamentoProduto.splice(n,1),this.saveData())}arrowUp(t){return(0,w.zJ)(t)}arrowDown(t,n=!1){return(0,w.DI)(t,n)}saveData(){this.plannerService.setObject(this.planner)}validaForm(t){return this.erro=[],t.invalid?(this.erro.push("Campos inv\xe1lidos!"),this.toastr.error("Campos inv\xe1lidos!"),!1):1!=this.loading&&(0==this.planner.planejamentoInvestimento.length?(this.erro.push("Insira um ou mais investimentos no planner."),this.toastr.error("Insira um ou mais investimentos no planner."),!1):(0==this.planner.planejamentoProduto.length&&(this.erro.push("Insira um ou mais produtos no planner."),this.toastr.error("Insira um ou mais produtos no planner.")),!0))}send(t){this.planner.usuario_Id=1,this.planner.cliente.empresa_Id=1,this.planner.cliente.empresa||(this.planner.cliente.empresa=new U.oW),this.planner.cliente.empresa.id=1,this.saveData(),this.validaForm(t)&&this.plannerService.edit(this.planner).subscribe({next:i=>{this.loading=!1,this.plannerService.setObject(i)},error:i=>{this.loading=!1}})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(q.Q),e.Y36(x),e.Y36(Q.$),e.Y36(B.h),e.Y36(P._W),e.Y36(f.gz),e.Y36(O.V),e.Y36(S.A),e.Y36(L.m),e.Y36(k.w),e.Y36(f.F0),e.Y36(pe.B))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-planner"]],viewQuery:function(t,n){if(1&t&&(e.Gf(me,5),e.Gf(ge,5)),2&t){let i;e.iGM(i=e.CRH())&&(n.chartPatrimonioIdade=i.first),e.iGM(i=e.CRH())&&(n.chartCapitalSegurado=i.first)}},hostBindings:function(t,n){1&t&&e.NdJ("resize",function(a){return n.onResize(a)},!1,e.Jf7)},decls:408,vars:112,consts:[[1,"modal__content"],[1,"modal__header","pb-2",2,"padding","0 25px"],[1,"d-flex","align-items-center","justify-content-between","flex-wrap","w-100"],["href","",1,"link","text-dark",3,"click"],[1,"mr-1",3,"icon"],[1,"btn","btn-yellow",3,"click"],[1,"text-orange","mt-1"],[1,"modal__body","mt-0"],["disabled","",1,"needs-validation","home","editable",3,"ngSubmit"],["form","ngForm"],[1,"form-row","mb-2"],[1,"col-lg-8","col-md-8","col-sm-12"],[1,"card","card-body"],[1,"home__container-header","mb-2"],[1,"form-row"],[1,"form-group","col-lg-5","col-md-5","col-sm-12"],["for","nome"],[1,"text-danger"],["type","text","name","nome","id","nome","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","change"],["nome","ngModel"],[1,"form-group","col-lg-3","col-md-3","col-sm-12"],["for","perfilInvestidor"],["name","perfilInvestidor","id","perfilInvestidor","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange"],["_perfilInvestidor","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"form-group","col-lg-4","col-md-4","col-sm-12"],["for","estadoCivil"],["name","estadoCivil","id","estadoCivil","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange"],["_estadoCivil","ngModel"],[1,"form-group","col-lg-3","col-md-3","col-sm-6","col-6"],["for","cpf"],["type","text","name","cpf","id","cpf","mask","000.000.000-00","placeHolder","000.000.000-00","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","change"],["cpf","ngModel"],["for","rg"],["type","text","name","rg","id","rg","mask","00.000.000-0","placeHolder","00.000.000-0","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","change"],["rg","ngModel"],[1,"form-group","col-lg-4","col-md-4","col-sm-6","col-6"],["for","dataNascimento"],["type","date","name","dataNascimento","id","dataNascimento","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","change"],["dataNascimento","ngModel"],[1,"form-group","col-lg-2","col-md-2","col-sm-6","col-6"],["for","idade"],["type","text","name","idade","id","idade","popoverClass","popover-danger","triggers","mouseenter:mouseleave","mask","0*","suffix"," anos","required","",1,"form-control","form-control-number",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["idade","ngModel"],[1,"form-group","col-lg-12","col-md-12","col-sm-12"],["for","email"],["type","email","name","email","id","email","placeholder","example@gmail.com","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"email","ngModel","ngbPopover","disablePopover","ngModelChange","change"],["email","ngModel"],[1,"col-lg-6","col-md-6","col-sm-12","col-12","pl-0","pr-0"],[1,"home__container"],[1,"form-group","col-lg-6","col-md-6","col-sm-12","d-lg-block","d-md-block"],["for","receita"],["type","text","id","receita","name","receita","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["receita","ngModel"],[1,"form-group","col-lg-6","col-md-6","col-sm-12"],["for","despesa"],["type","text","id","despesa","name","despesa","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["despesa","ngModel"],[1,"col-lg-6","col-md-6","col-sm-12","col-12","pr-0","pl-0"],["for","taxaSelic"],["type","text","id","taxaSelic","name","taxaSelic","mask","separator","thousandSeparator",".","decimalMarker",",","suffix","%","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["taxaSelic","ngModel"],["for","taxaIpca"],["type","text","id","taxaIpca","name","taxaIpca","mask","separator","thousandSeparator",".","decimalMarker",",","suffix","%","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["taxaIpca","ngModel"],[1,"table","table-editable","table-responsive"],[1,"primary"],[2,"white-space","nowrap"],[1,"px-3","bg-light","text-right"],["type","text","id","sugestao_Baixissimo","name","sugestao_Baixissimo","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["sugestao_Baixissimo","ngModel"],["type","text","id","sugestao_Baixo","name","sugestao_Baixo","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["sugestao_Baixo","ngModel"],["type","text","id","sugestao_Moderado","name","sugestao_Moderado","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["sugestao_Moderado","ngModel"],["type","text","id","sugestao_Arrojado","name","sugestao_Arrojado","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["sugestao_Arrojado","ngModel"],["type","text","id","sugestao_SuperArrojado","name","sugestao_SuperArrojado","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["sugestao_SuperArrojado","ngModel"],["type","text","id","sugestao_Hedge","name","sugestao_Hedge","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["sugestao_Hedge","ngModel"],["type","text","id","sugestao_Total","name","sugestao_Total","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["sugestao_Total","ngModel"],["type","text","id","plano_Baixissimo","name","plano_Baixissimo","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["plano_Baixissimo","ngModel"],["type","text","id","plano_Baixo","name","plano_Baixo","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["plano_Baixo","ngModel"],["type","text","id","plano_Moderado","name","plano_Moderado","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["plano_Moderado","ngModel"],["type","text","id","plano_Arrojado","name","plano_Arrojado","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["plano_Arrojado","ngModel"],["type","text","id","plano_SuperArrojado","name","plano_SuperArrojado","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["plano_SuperArrojado","ngModel"],["type","text","id","plano_Hedge","name","plano_Hedge","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["plano_Hedge","ngModel"],[1,"btn","btn-primary",3,"routerLink"],["responsiveLayout","scroll","emptyMessage","Nenhum registro",1,"table","table-editable",3,"value","responsive"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"d-flex","justify-content-end","align-items-center","w-100"],[1,"col-lg-4","col-md-5","col-sm-6","col-8","px-0"],["id","carteirasSetup","name","carteirasSetup","optionLabel","nome","optionValue","id","filterBy","nome","placeholder","Selecione para adicionar",1,"form-control",3,"disabled","options","ngModel","filter","showClear","required","ngModelChange"],["_carteirasSetup","ngModel"],["type","button","triggers","mouseenter:mouseleave",3,"class","click",4,"ngIf"],["class","link ml-3",3,"routerLink",4,"ngIf"],["class","text-danger px-2",4,"ngIf"],["pTemplate","footer"],["colspan","6",1,"text-center","p-2"],[1,""],["colspan","2",1,"text-right","primary"],[2,"background-color","var(--primary-light)","color","#fff"],["colspan","2",2,"background-color","var(--primary-light)","color","#fff"],[1,"text-right",2,"white-space","nowrap"],[4,"ngFor","ngForOf"],["colspan","3",1,"py-2","bg-light","text-center","font-weight-bold",2,"white-space","nowrap"],[1,"py-2"],["id","chart-patrimonio-idade",1,"form-row","chart-container"],[3,"data","options","width","height"],["chartPatrimonioIdade",""],[1,"col-lg-4","col-md-4","col-sm-12","col-12"],["for","descricao"],["type","text","name","descricao","id","descricao","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","change"],["descricao","ngModel"],[1,"home__container-header","mb-4"],[1,"col-lg-12","col-md-12","col-sm-12","col-12","px-0"],[1,"form-container"],[1,"form-container-title","font-weight-bold"],[1,"form-container-body"],[1,"form-group","col-lg-6","col-md-6","col-sm-6","pr-1"],["for","rE_Sugerido"],["type","text","id","rE_Sugerido","name","rE_Sugerido","mask","separator.5","thousandSeparator",".","decimalMarker",",","placeholder","R$ 00,00","prefix","R$ ","readonly","",1,"form-control","form-control-number",3,"ngModel","allowNegativeNumbers","ngModelChange"],["rE_Sugerido","ngModel"],[1,"form-group","col-lg-6","col-md-6","col-sm-6","pr-0"],["for","rE_Planejado"],["type","text","id","rE_Planejado","name","rE_Planejado","mask","separator.5","thousandSeparator",".","decimalMarker",",","placeholder","R$ 00,00","prefix","R$ ","readonly","",1,"form-control","form-control-number",3,"ngModel","allowNegativeNumbers","ngModelChange"],["rE_Planejado","ngModel"],[1,"form-container","mb-0"],["for","riscoAssumido"],["type","text","id","riscoAssumido","name","riscoAssumido","mask","separator.5","thousandSeparator",".","decimalMarker",",","placeholder","R$ 00,00","suffix","%","readonly","",1,"form-control","form-control-number",3,"ngModel","allowNegativeNumbers","ngModelChange"],["riscoAssumido","ngModel"],["for","riscoTolerado"],["type","text","id","riscoTolerado","name","riscoTolerado","mask","separator.5","thousandSeparator",".","decimalMarker",",","placeholder","R$ 00,00","suffix","%","suffix","%","readonly","",1,"form-control","form-control-number",3,"ngModel","allowNegativeNumbers","ngModelChange"],["riscoTolerado","ngModel"],[1,"table","table-editable","table-responsive","w-100","d-md-table","d-sm-table"],[1,"bg-light","px-3","text-right",2,"white-space","nowrap"],["type","text","id","idadeAposentadoria","name","idadeAposentadoria","mask","0*","suffix"," anos","placeholder","0","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control","form-control-number",3,"ngModel","allowNegativeNumbers","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["idadeAposentadoria","ngModel"],["type","text","id","rendaMensalAposentadoria","name","rendaMensalAposentadoria","mask","separator.5","thousandSeparator",".","decimalMarker",",","placeholder","R$ 00,00","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control","form-control-number",3,"ngModel","prefix","allowNegativeNumbers","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["rendaMensalAposentadoria","ngModel"],["type","text","id","rentabilidadeAposentadoria","name","rentabilidadeAposentadoria","mask","separator.5","thousandSeparator",".","decimalMarker",",","placeholder","00,00%","suffix","%","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control","form-control-number",3,"ngModel","allowNegativeNumbers","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["rentabilidadeAposentadoria","ngModel"],[1,"table","table-editable","table-responsive","w-100","d-table"],["colspan","3",1,"pl-4"],[1,"text-center","d-flex","align-items-center"],["title","Adicionar",1,"btn","p-0","ml-auto","text-white",3,"click"],[3,"icon"],[1,"subheader"],[1,"pl-4"],[4,"ngIf"],[1,"form-footer-submit-fixed"],["class","m-0",4,"ngIf"],[1,"btn","btn-primary","mr-0","ml-auto",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["campoObrigatorio",""],["setaUpDown",""],["formInvalido",""],[1,"text-right"],[1,"td-actions"],[1,"px-3","bg-light","text-right",2,"white-space","nowrap"],[1,"px-2",2,"white-space","nowrap"],["type","text","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%","triggers","mouseenter:mouseleave",1,"form-control","form-control-number",3,"id","name","ngModel","allowNegativeNumbers","ngbPopover","ngModelChange","keyup.arrowup","keyup.arrowdown"],["rentabilidade","ngModel"],["type","text","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%","triggers","mouseenter:mouseleave","required","",1,"form-control","form-control-number",3,"id","name","ngModel","ngbPopover","ngModelChange","keyup.arrowup","keyup.arrowdown"],["rentabilidadeLiquida","ngModel"],["type","text","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$","triggers","mouseenter:mouseleave","required","",1,"form-control","form-control-number",3,"id","name","ngModel","ngbPopover","ngModelChange","keyup.arrowup","keyup.arrowdown"],["montanteAtual","ngModel"],["type","text","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ","triggers","mouseenter:mouseleave","required","",1,"form-control","form-control-number",3,"id","name","ngModel","ngbPopover","ngModelChange","keyup.arrowup","keyup.arrowdown"],["sugerido","ngModel"],["planoAcao","ngModel"],["title","Remover linha",1,"btn","btn-trash",3,"click"],[1,"py-2","px-2","text-grey"],["type","button","triggers","mouseenter:mouseleave",3,"click"],[1,"link","ml-3",3,"routerLink"],[1,"text-danger","px-2"],["type","text","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%","triggers","mouseenter:mouseleave",1,"form-control","form-control-number",3,"id","name","ngModel","allowNegativeNumbers","ngbPopover","required","min","max","ngModelChange","keyup.arrowup","keyup.arrowdown"],["percentual","ngModel"],["type","text","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%","triggers","mouseenter:mouseleave",1,"form-control","form-control-number",3,"id","name","ngModel","allowNegativeNumbers","ngbPopover","required","ngModelChange","keyup.arrowup","keyup.arrowdown"],["type","text","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ","triggers","mouseenter:mouseleave",1,"form-control","form-control-number",3,"id","name","ngModel","allowNegativeNumbers","ngbPopover","required","ngModelChange","keyup.arrowup","keyup.arrowdown"],["type","text",1,"form-control","form-control-number",3,"id","name","ngModel","ngModelChange"],["rentabilidadeAtual","ngModel"],["retornoAnual","ngModel"],["retornoMensal","ngModel"],["patrimonioMaximo","ngModel"],["tempo","ngModel"],["type","text","mask","0*","suffix"," anos","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control","form-control-number",3,"id","name","ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["type","text","mask","separator.5","thousandSeparator",".","decimalMarker",",","placeholder","R$ 00,00","prefix","R$ ","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control","form-control-number",3,"id","name","ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["valor","ngModel"],[1,"text-center"],["title","Remover linha",1,"btn","btn-trash","d-inline",3,"click"],["colspan","3",1,"py-2","pl-4","text-grey"],[1,"m-0"],["class","text-red",4,"ngFor","ngForOf"],["class","text-red",4,"ngIf"],[1,"text-red"],[1,"spinner-border","spinner-border-sm","mr-1"],[1,"py-2","px-2","text-danger"],[1,"py-2","px-2","text-info"]],template:function(t,n){if(1&t){const i=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),e.NdJ("click",function(){return n.voltar()}),e._UZ(4,"fa-icon",4),e._uU(5," Voltar "),e.qZA(),e.TgZ(6,"div")(7,"button",5),e.NdJ("click",function(){return n.resetForm()}),e._uU(8,"Limpar campos"),e.qZA()()(),e.TgZ(9,"h3",6),e._uU(10,"Planner"),e.qZA()(),e.TgZ(11,"div",7)(12,"form",8,9),e.NdJ("ngSubmit",function(){e.CHM(i);const o=e.MAs(13);return e.KtG(n.send(o))}),e.TgZ(14,"div",10)(15,"div",11)(16,"div",10)(17,"div",12)(18,"div",13)(19,"h6"),e._uU(20,"Dados Cadastrais"),e.qZA()(),e.TgZ(21,"div",14)(22,"div",15)(23,"label",16),e._uU(24,"Nome Completo: "),e.TgZ(25,"span",17),e._uU(26,"*"),e.qZA()(),e.TgZ(27,"input",18,19),e.NdJ("ngModelChange",function(o){return n.planner.cliente.nome=o})("change",function(){return n.saveData()}),e.qZA()(),e.TgZ(29,"div",20)(30,"label",21),e._uU(31,"Perfil de Investidor: "),e.TgZ(32,"span",17),e._uU(33,"*"),e.qZA()(),e.TgZ(34,"select",22,23),e.NdJ("ngModelChange",function(o){return n.planner.cliente.perfilInvestidor_Id=o})("ngModelChange",function(){return n.perfilInvestidorChange()}),e.TgZ(36,"option",24),e._uU(37,"Selecione"),e.qZA(),e.YNc(38,ce,2,2,"option",25),e.qZA()(),e.TgZ(39,"div",26)(40,"label",27),e._uU(41,"Estado Civil: "),e.TgZ(42,"span",17),e._uU(43,"*"),e.qZA()(),e.TgZ(44,"select",28,29),e.NdJ("ngModelChange",function(o){return n.planner.cliente.estadoCivil_Id=o})("ngModelChange",function(){return n.saveData()}),e.TgZ(46,"option",24),e._uU(47,"Selecione"),e.qZA(),e.YNc(48,_e,2,2,"option",25),e.qZA()()(),e.TgZ(49,"div",14)(50,"div",30)(51,"label",31),e._uU(52,"CPF: "),e.TgZ(53,"span",17),e._uU(54,"*"),e.qZA()(),e.TgZ(55,"input",32,33),e.NdJ("ngModelChange",function(o){return n.planner.cliente.cpf=o})("change",function(){return n.saveData()}),e.qZA()(),e.TgZ(57,"div",30)(58,"label",34),e._uU(59,"RG: "),e.TgZ(60,"span",17),e._uU(61,"*"),e.qZA()(),e.TgZ(62,"input",35,36),e.NdJ("ngModelChange",function(o){return n.planner.cliente.rg=o})("change",function(){return n.saveData()}),e.qZA()(),e.TgZ(64,"div",37)(65,"label",38),e._uU(66,"Data de Nascimento: "),e.TgZ(67,"span",17),e._uU(68,"*"),e.qZA()(),e.TgZ(69,"input",39,40),e.NdJ("ngModelChange",function(o){return n.planner.cliente.dataNascimento=o})("ngModelChange",function(){return n.calculaIdade()})("change",function(){return n.saveData()}),e.qZA()(),e.TgZ(71,"div",41)(72,"label",42),e._uU(73,"Idade: "),e.TgZ(74,"span",17),e._uU(75,"*"),e.qZA()(),e.TgZ(76,"input",43,44),e.NdJ("ngModelChange",function(o){return n.planner.cliente.idade=o})("keyup.arrowup",function(){e.CHM(i);const o=e.MAs(77);return e.KtG(n.planner.cliente.idade=n.arrowUp(o.value))})("keyup.arrowdown",function(){e.CHM(i);const o=e.MAs(77);return e.KtG(n.planner.cliente.idade=n.arrowDown(o.value,!0))})("change",function(){return n.saveData()}),e.qZA()()(),e.TgZ(78,"div",14)(79,"div",45)(80,"label",46),e._uU(81,"E-mail: "),e.TgZ(82,"span",17),e._uU(83,"*"),e.qZA()(),e.TgZ(84,"input",47,48),e.NdJ("ngModelChange",function(o){return n.planner.cliente.email=o})("change",function(){return n.saveData()}),e.qZA()()()()(),e.TgZ(86,"div",10)(87,"div",49)(88,"div",50)(89,"div",13)(90,"h6"),e._uU(91,"Valores"),e.qZA()(),e.TgZ(92,"div",14)(93,"div",51)(94,"label",52),e._uU(95,"Receita: "),e.TgZ(96,"span",17),e._uU(97,"*"),e.qZA()(),e.TgZ(98,"input",53,54),e.NdJ("ngModelChange",function(o){return n.planner.cliente.receita=o})("keyup.arrowup",function(){e.CHM(i);const o=e.MAs(99);return e.KtG(n.planner.cliente.receita=n.arrowUp(o.value))})("keyup.arrowdown",function(){e.CHM(i);const o=e.MAs(99);return e.KtG(n.planner.cliente.receita=n.arrowDown(o.value,!0))})("change",function(){return n.saveData()}),e.qZA()(),e.TgZ(100,"div",55)(101,"label",56),e._uU(102,"Despesas: "),e.TgZ(103,"span",17),e._uU(104,"*"),e.qZA()(),e.TgZ(105,"input",57,58),e.NdJ("ngModelChange",function(o){return n.planner.cliente.despesa=o})("keyup.arrowup",function(){e.CHM(i);const o=e.MAs(106);return e.KtG(n.planner.cliente.despesa=n.arrowUp(o.value))})("keyup.arrowdown",function(){e.CHM(i);const o=e.MAs(106);return e.KtG(n.planner.cliente.despesa=n.arrowDown(o.value,!0))})("change",function(){return n.saveData()}),e.qZA()()()()(),e.TgZ(107,"div",59)(108,"div",50)(109,"div",13)(110,"h6"),e._uU(111,"Taxas"),e.qZA()(),e.TgZ(112,"div",14)(113,"div",51)(114,"label",60),e._uU(115,"Taxa Selic: "),e.TgZ(116,"span",17),e._uU(117,"*"),e.qZA()(),e.TgZ(118,"input",61,62),e.NdJ("ngModelChange",function(o){return n.planner.taxaSelic=o})("keyup.arrowup",function(){e.CHM(i);const o=e.MAs(119);return e.KtG(n.planner.taxaSelic=n.arrowUp(o.value))})("keyup.arrowdown",function(){e.CHM(i);const o=e.MAs(119);return e.KtG(n.planner.taxaSelic=n.arrowDown(o.value,!0))})("change",function(){return n.saveData()}),e.qZA()(),e.TgZ(120,"div",55)(121,"label",63),e._uU(122,"Taxa IPCA: "),e.TgZ(123,"span",17),e._uU(124,"*"),e.qZA()(),e.TgZ(125,"input",64,65),e.NdJ("ngModelChange",function(o){return n.planner.taxaIpca=o})("keyup.arrowup",function(){e.CHM(i);const o=e.MAs(126);return e.KtG(n.planner.taxaIpca=n.arrowUp(o.value))})("keyup.arrowdown",function(){e.CHM(i);const o=e.MAs(126);return e.KtG(n.planner.taxaIpca=n.arrowDown(o.value,!0))})("change",function(){return n.saveData()}),e.qZA()()()()()(),e.TgZ(127,"div",10)(128,"div",50)(129,"div",13)(130,"h6"),e._uU(131,"C\xe1lculos"),e.qZA()(),e.TgZ(132,"div",14)(133,"table",66)(134,"thead",67)(135,"tr"),e._UZ(136,"th"),e.TgZ(137,"th"),e._uU(138,"Baix\xedssimo"),e.qZA(),e.TgZ(139,"th"),e._uU(140,"Baixo"),e.qZA(),e.TgZ(141,"th"),e._uU(142,"Moderado"),e.qZA(),e.TgZ(143,"th"),e._uU(144,"Arrojado"),e.qZA(),e.TgZ(145,"th",68),e._uU(146,"Super Arrojado"),e.qZA(),e.TgZ(147,"th"),e._uU(148,"Hedge"),e.qZA(),e.TgZ(149,"th"),e._uU(150,"Total"),e.qZA()()(),e.TgZ(151,"tbody")(152,"tr")(153,"td",69)(154,"small")(155,"b"),e._uU(156,"Sugest\xe3o"),e.qZA()()(),e.TgZ(157,"td")(158,"input",70,71),e.NdJ("ngModelChange",function(o){return n.planner.sugestao_Baixissimo=o}),e.qZA()(),e.TgZ(160,"td")(161,"input",72,73),e.NdJ("ngModelChange",function(o){return n.planner.sugestao_Baixo=o}),e.qZA()(),e.TgZ(163,"td")(164,"input",74,75),e.NdJ("ngModelChange",function(o){return n.planner.sugestao_Moderado=o}),e.qZA()(),e.TgZ(166,"td")(167,"input",76,77),e.NdJ("ngModelChange",function(o){return n.planner.sugestao_Arrojado=o}),e.qZA()(),e.TgZ(169,"td")(170,"input",78,79),e.NdJ("ngModelChange",function(o){return n.planner.sugestao_SuperArrojado=o}),e.qZA()(),e.TgZ(172,"td")(173,"input",80,81),e.NdJ("ngModelChange",function(o){return n.planner.sugestao_Hedge=o}),e.qZA()(),e.TgZ(175,"td")(176,"input",82,83),e.NdJ("ngModelChange",function(o){return n.planner.sugestao_Total=o}),e.qZA()()(),e.TgZ(178,"tr")(179,"td",69)(180,"small")(181,"b"),e._uU(182,"Plano"),e.qZA()()(),e.TgZ(183,"td")(184,"input",84,85),e.NdJ("ngModelChange",function(o){return n.planner.plano_Baixissimo=o}),e.qZA()(),e.TgZ(186,"td")(187,"input",86,87),e.NdJ("ngModelChange",function(o){return n.planner.plano_Baixo=o}),e.qZA()(),e.TgZ(189,"td")(190,"input",88,89),e.NdJ("ngModelChange",function(o){return n.planner.plano_Moderado=o}),e.qZA()(),e.TgZ(192,"td")(193,"input",90,91),e.NdJ("ngModelChange",function(o){return n.planner.plano_Arrojado=o}),e.qZA()(),e.TgZ(195,"td")(196,"input",92,93),e.NdJ("ngModelChange",function(o){return n.planner.plano_SuperArrojado=o}),e.qZA()(),e.TgZ(198,"td")(199,"input",94,95),e.NdJ("ngModelChange",function(o){return n.planner.plano_Hedge=o}),e.qZA()(),e.TgZ(201,"td")(202,"input",82,83),e.NdJ("ngModelChange",function(o){return n.planner.sugestao_Total=o}),e.qZA()()()()()()()(),e.TgZ(204,"div",10)(205,"div",50)(206,"div",13)(207,"h6"),e._uU(208,"Investimento"),e.qZA(),e.TgZ(209,"a",96),e._uU(210,"Adicionar"),e.qZA()(),e.TgZ(211,"div",14)(212,"p-table",97),e.YNc(213,he,16,0,"ng-template",98),e.YNc(214,ve,25,24,"ng-template",99),e.YNc(215,fe,5,1,"ng-template",100),e.qZA()()()(),e.TgZ(216,"div",10)(217,"div",50)(218,"div",13)(219,"h6"),e._uU(220,"Produto"),e.qZA(),e.TgZ(221,"div",101)(222,"div",102)(223,"p-dropdown",103,104),e.NdJ("ngModelChange",function(o){return n.planner.carteiraSetup_Id=o})("ngModelChange",function(){e.CHM(i);const o=e.MAs(224);return e.KtG(n.carteiraSetupChange(o))}),e.qZA()(),e.YNc(225,Ce,2,3,"button",105),e.YNc(226,be,2,2,"a",106),e.qZA()(),e.TgZ(227,"div",14),e.YNc(228,Te,2,0,"p",107),e.TgZ(229,"p-table",97),e.YNc(230,Ze,18,0,"ng-template",98),e.YNc(231,Ae,28,38,"ng-template",99),e.YNc(232,we,14,1,"ng-template",108),e.YNc(233,Pe,5,1,"ng-template",100),e.qZA()()()(),e.TgZ(234,"div",10)(235,"div",50)(236,"div",13)(237,"h6"),e._uU(238,"Solu\xe7\xe3o Inicial"),e.qZA()(),e.TgZ(239,"div",14)(240,"table",66)(241,"thead")(242,"tr",67)(243,"th",109)(244,"h6"),e._uU(245,"Agregando Valor"),e.qZA()()(),e.TgZ(246,"tr",110)(247,"th",111),e._uU(248,"Montante Total"),e.qZA(),e.TgZ(249,"th",112),e._uU(250,"0"),e.qZA(),e.TgZ(251,"th",67),e._uU(252,"Exposi\xe7\xe3o a Risco"),e.qZA(),e.TgZ(253,"th",113),e._uU(254,"0"),e.qZA()(),e.TgZ(255,"tr",67)(256,"th",114),e._uU(257,"Carteira"),e.qZA(),e.TgZ(258,"th",68),e._uU(259,"Rentabilidade Atual "),e.TgZ(260,"small"),e._uU(261,"(ano)"),e.qZA()(),e.TgZ(262,"th",68),e._uU(263,"Retorno anual "),e.TgZ(264,"small"),e._uU(265,"(R$)"),e.qZA()(),e.TgZ(266,"th",68),e._uU(267,"Retorno mensal "),e.TgZ(268,"small"),e._uU(269,"(R$)"),e.qZA()(),e.TgZ(270,"th",68),e._uU(271,"Patrim\xf4nio M\xe1ximo "),e.TgZ(272,"small"),e._uU(273,"(R$)"),e.qZA()(),e.TgZ(274,"th",68),e._uU(275,"Tempo "),e.TgZ(276,"small"),e._uU(277,"(anos)"),e.qZA()()()(),e.TgZ(278,"tbody"),e.YNc(279,xe,19,16,"tr",115),e.TgZ(280,"tr")(281,"td",116),e._uU(282,"Melhora de Desempenho"),e.qZA(),e._UZ(283,"td",117),e.TgZ(284,"td",117),e._uU(285,"0"),e.qZA(),e.TgZ(286,"td",117),e._uU(287,"+120"),e.qZA()()()()()()(),e.TgZ(288,"div",10)(289,"div",50)(290,"div",13)(291,"h6"),e._uU(292,"Patrim\xf4nio por Idade"),e.qZA()(),e.TgZ(293,"div",118),e._UZ(294,"p-chart",119,120),e.qZA()()()(),e.TgZ(296,"div",121)(297,"div",10)(298,"div",12)(299,"div",13)(300,"h6"),e._uU(301,"Descri\xe7\xe3o"),e.qZA()(),e.TgZ(302,"div",14)(303,"div",45)(304,"label",122),e._uU(305,"Observa\xe7\xf5es do planner: "),e.qZA(),e.TgZ(306,"textarea",123,124),e.NdJ("ngModelChange",function(o){return n.planner.descricao=o})("change",function(){return n.saveData()}),e._uU(308,"                                        "),e.qZA()()()()(),e.TgZ(309,"div",10)(310,"div",12)(311,"div",125)(312,"h6"),e._uU(313,"Capacidade de Risco"),e.qZA()(),e.TgZ(314,"div",126)(315,"div",127)(316,"div",128),e._uU(317,"Reserva de Emerg\xeancia"),e.qZA(),e.TgZ(318,"div",129)(319,"div",130)(320,"label",131),e._uU(321," Sugerida:"),e.qZA(),e.TgZ(322,"input",132,133),e.NdJ("ngModelChange",function(o){return n.planner.rE_Sugerido=o}),e.qZA()(),e.TgZ(324,"div",134)(325,"label",135),e._uU(326," Planejada:"),e.qZA(),e.TgZ(327,"input",136,137),e.NdJ("ngModelChange",function(o){return n.planner.rE_Planejado=o}),e.qZA()()()()(),e.TgZ(329,"div",126)(330,"div",138)(331,"div",128),e._uU(332,"Risco"),e.qZA(),e.TgZ(333,"div",129)(334,"div",130)(335,"label",139),e._uU(336," Assumido:"),e.qZA(),e.TgZ(337,"input",140,141),e.NdJ("ngModelChange",function(o){return n.planner.riscoAssumido=o}),e.qZA()(),e.TgZ(339,"div",134)(340,"label",142),e._uU(341," Tolerado:"),e.qZA(),e.TgZ(342,"input",143,144),e.NdJ("ngModelChange",function(o){return n.planner.riscoTolerado=o}),e.qZA()()()()()()(),e.TgZ(344,"div",10)(345,"div",50)(346,"table",145)(347,"thead",67)(348,"tr"),e._UZ(349,"th"),e.TgZ(350,"th"),e._uU(351,"Aposentadoria"),e.qZA()()(),e.TgZ(352,"tbody")(353,"tr")(354,"td",146)(355,"small")(356,"b"),e._uU(357,"Idade"),e.qZA()()(),e.TgZ(358,"td")(359,"input",147,148),e.NdJ("ngModelChange",function(o){return n.planner.cliente.idadeAposentadoria=o})("keyup.arrowup",function(){e.CHM(i);const o=e.MAs(360);return e.KtG(n.planner.cliente.idadeAposentadoria=n.arrowUp(o.value))})("keyup.arrowdown",function(){e.CHM(i);const o=e.MAs(360);return e.KtG(n.planner.cliente.idadeAposentadoria=n.arrowDown(o.value))})("change",function(){return n.saveData()}),e.qZA()()(),e.TgZ(361,"tr")(362,"td",146)(363,"small")(364,"b"),e._uU(365,"Renda Mensal"),e.qZA()()(),e.TgZ(366,"td")(367,"input",149,150),e.NdJ("ngModelChange",function(o){return n.planner.cliente.rendaMensalAposentadoria=o})("keyup.arrowup",function(){e.CHM(i);const o=e.MAs(368);return e.KtG(n.planner.cliente.rendaMensalAposentadoria=n.arrowUp(o.value))})("keyup.arrowdown",function(){e.CHM(i);const o=e.MAs(368);return e.KtG(n.planner.cliente.rendaMensalAposentadoria=n.arrowDown(o.value))})("change",function(){return n.saveData()}),e.qZA()()(),e.TgZ(369,"tr")(370,"td",146)(371,"small")(372,"b"),e._uU(373,"Rentabilidade"),e.qZA()()(),e.TgZ(374,"td")(375,"input",151,152),e.NdJ("ngModelChange",function(o){return n.planner.cliente.rentabilidadeAposentadoria=o})("keyup.arrowup",function(){e.CHM(i);const o=e.MAs(376);return e.KtG(n.planner.cliente.rentabilidadeAposentadoria=n.arrowUp(o.value))})("keyup.arrowdown",function(){e.CHM(i);const o=e.MAs(376);return e.KtG(n.planner.cliente.rentabilidadeAposentadoria=n.arrowDown(o.value))})("change",function(){return n.saveData()}),e.qZA()()()()()()(),e.TgZ(377,"div",10)(378,"div",50)(379,"table",153)(380,"thead",67)(381,"tr")(382,"th",154)(383,"p",155),e._uU(384," Fluxos Pontuais "),e.TgZ(385,"a",156),e.NdJ("click",function(){return n.adicionarFLuxoPontual()}),e._UZ(386,"fa-icon",157),e.qZA()()()(),e.TgZ(387,"tr",158)(388,"th",159),e._uU(389,"Idade"),e.qZA(),e.TgZ(390,"th"),e._uU(391,"Valor"),e.qZA(),e._UZ(392,"th"),e.qZA()(),e.TgZ(393,"tbody"),e.YNc(394,qe,10,11,"tr",115),e.YNc(395,ye,3,0,"tr",160),e.qZA()()()()()(),e.TgZ(396,"div",161),e.YNc(397,Ue,3,2,"div",162),e.TgZ(398,"button",163),e.YNc(399,Je,1,0,"span",164),e._uU(400," Salvar "),e.qZA()()(),e.YNc(401,Se,2,0,"ng-template",null,165,e.W1O),e.YNc(403,Ne,2,0,"ng-template",null,166,e.W1O),e.YNc(405,je,2,0,"ng-template",null,167,e.W1O),e.qZA()(),e._UZ(407,"router-outlet")}if(2&t){const i=e.MAs(13),a=e.MAs(28),o=e.MAs(35),s=e.MAs(45),g=e.MAs(56),u=e.MAs(63),C=e.MAs(70),T=e.MAs(77),v=e.MAs(85),N=e.MAs(99),m=e.MAs(106),h=e.MAs(119),Kn=e.MAs(126),Ln=e.MAs(307),Bn=e.MAs(360),te=e.MAs(368),Vn=e.MAs(376),_=e.MAs(402);e.xp6(4),e.Q6J("icon",n.faChevronLeft),e.xp6(23),e.Q6J("ngModel",n.planner.cliente.nome)("ngbPopover",_)("disablePopover",null==a.errors),e.xp6(7),e.ekj("form-control-loading",n.loadingPerfilInvestidor),e.Q6J("ngModel",n.planner.cliente.perfilInvestidor_Id)("ngbPopover",_)("disablePopover",null==o.errors),e.xp6(2),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",n.perfilInvestidor),e.xp6(6),e.ekj("form-control-loading",n.loadingEstadoCivil),e.Q6J("ngModel",n.planner.cliente.estadoCivil_Id)("ngbPopover",_)("disablePopover",null==s.errors),e.xp6(2),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",n.estadoCivil),e.xp6(7),e.Q6J("ngModel",n.planner.cliente.cpf)("ngbPopover",_)("disablePopover",null==g.errors),e.xp6(7),e.Q6J("ngModel",n.planner.cliente.rg)("ngbPopover",_)("disablePopover",null==u.errors),e.xp6(7),e.Q6J("ngModel",n.planner.cliente.dataNascimento)("ngbPopover",_)("disablePopover",null==C.errors),e.xp6(7),e.Q6J("ngModel",n.planner.cliente.idade)("ngbPopover",_)("disablePopover",null==T.errors),e.xp6(8),e.Q6J("email",!0)("ngModel",n.planner.cliente.email)("ngbPopover",_)("disablePopover",null==v.errors),e.xp6(14),e.Q6J("ngModel",n.planner.cliente.receita)("ngbPopover",_)("disablePopover",null==N.errors),e.xp6(7),e.Q6J("ngModel",n.planner.cliente.despesa)("ngbPopover",_)("disablePopover",null==m.errors),e.xp6(13),e.Q6J("ngModel",n.planner.taxaSelic)("ngbPopover",_)("disablePopover",null==h.errors),e.xp6(7),e.Q6J("ngModel",n.planner.taxaIpca)("ngbPopover",_)("disablePopover",null==Kn.errors),e.xp6(33),e.Q6J("ngModel",n.planner.sugestao_Baixissimo),e.xp6(3),e.Q6J("ngModel",n.planner.sugestao_Baixo),e.xp6(3),e.Q6J("ngModel",n.planner.sugestao_Moderado),e.xp6(3),e.Q6J("ngModel",n.planner.sugestao_Arrojado),e.xp6(3),e.Q6J("ngModel",n.planner.sugestao_SuperArrojado),e.xp6(3),e.Q6J("ngModel",n.planner.sugestao_Hedge),e.xp6(3),e.Q6J("ngModel",n.planner.sugestao_Total),e.xp6(8),e.Q6J("ngModel",n.planner.plano_Baixissimo),e.xp6(3),e.Q6J("ngModel",n.planner.plano_Baixo),e.xp6(3),e.Q6J("ngModel",n.planner.plano_Moderado),e.xp6(3),e.Q6J("ngModel",n.planner.plano_Arrojado),e.xp6(3),e.Q6J("ngModel",n.planner.plano_SuperArrojado),e.xp6(3),e.Q6J("ngModel",n.planner.plano_Hedge),e.xp6(3),e.Q6J("ngModel",n.planner.sugestao_Total),e.xp6(7),e.Q6J("routerLink",e.DdM(111,Fe)),e.xp6(3),e.Q6J("value",n.planner.planejamentoInvestimento)("responsive",!0),e.xp6(11),e.ekj("form-control-loading",n.loadingCarteiraSetup),e.Q6J("disabled",n.loadingCarteiraSetup)("options",n.carteirasSetup)("ngModel",n.planner.carteiraSetup_Id)("filter",!0)("showClear",!0)("required",!0),e.xp6(2),e.Q6J("ngIf",0!=n.planner.carteiraSetup_Id&&n.mudouCarteiraSetup||0==n.planner.planejamentoProduto.length),e.xp6(1),e.Q6J("ngIf",n.planner.planejamentoInvestimento.length>0&&n.planner.planejamentoProduto.length>0&&!n.mudouCarteiraSetup),e.xp6(2),e.Q6J("ngIf",0==n.planner.planejamentoInvestimento.length),e.xp6(1),e.Q6J("value",n.planner.planejamentoProduto)("responsive",!0),e.xp6(50),e.Q6J("ngForOf",n.solucaoInicial),e.xp6(15),e.Q6J("data",n.chartPatrimonioIdadeData)("options",n.chartPatrimonioIdadeOptions)("width",n.chartSize["chart-patrimonio-idade"].width)("height",n.chartSize["chart-patrimonio-idade"].height),e.xp6(12),e.Q6J("ngModel",n.planner.descricao)("ngbPopover",_)("disablePopover",null==Ln.errors),e.xp6(16),e.Q6J("ngModel",n.planner.rE_Sugerido)("allowNegativeNumbers",!1),e.xp6(5),e.Q6J("ngModel",n.planner.rE_Planejado)("allowNegativeNumbers",!1),e.xp6(10),e.Q6J("ngModel",n.planner.riscoAssumido)("allowNegativeNumbers",!1),e.xp6(5),e.Q6J("ngModel",n.planner.riscoTolerado)("allowNegativeNumbers",!1),e.xp6(17),e.Q6J("ngModel",n.planner.cliente.idadeAposentadoria)("allowNegativeNumbers",!1)("ngbPopover",_)("disablePopover",null==Bn.errors),e.xp6(8),e.Q6J("ngModel",n.planner.cliente.rendaMensalAposentadoria)("prefix",""!=te.value?"R$ ":"")("allowNegativeNumbers",!1)("ngbPopover",_)("disablePopover",null==te.errors),e.xp6(8),e.Q6J("ngModel",n.planner.cliente.rentabilidadeAposentadoria)("allowNegativeNumbers",!0)("ngbPopover",_)("disablePopover",null==Vn.errors),e.xp6(11),e.Q6J("icon",n.faPlus),e.xp6(8),e.Q6J("ngForOf",n.planner.planejamentoFluxosPontuais),e.xp6(1),e.Q6J("ngIf",0==n.planner.planejamentoFluxosPontuais.length),e.xp6(2),e.Q6J("ngIf",n.erro||i.invalid),e.xp6(1),e.Q6J("disabled",i.invalid||n.loading),e.xp6(1),e.Q6J("ngIf",n.loading)}},dependencies:[M.sg,M.O5,f.lC,f.yS,d._Y,d.YN,d.Kr,d.Fj,d.EJ,d.JJ,d.JL,d.Q7,d.on,d.On,d.F,I.BN,Z.hx,F.iA,ue.jx,y.o8,E.Lt,V.C,Z.Iq]}),r})();var Re=p(4595);p(316);class Qe{constructor(){this.id=0,this.planejamento_Id=0,this.investimentoTributacaoRel_Id=void 0,this.investimentoTributacaoRel=void 0,this.rentabilidade="",this.rentabilidadeLiquida="",this.montanteAtual="",this.sugerido="",this.planoAcao=""}}let Ge=(()=>{class r{constructor(t,n,i){this.router=t,this.http=n,this.toastr=i,this.url=D.N.url,this.list=new J.X([])}getAll(){return this.http.get(`${this.url}/investimento/getAll`)}get(t){return this.http.get(`${this.url}/investimento/${t}`)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(f.F0),e.LFG(K.eN),e.LFG(P._W))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Ee(r,l){if(1&r&&(e.TgZ(0,"option",16),e._uU(1),e.qZA()),2&r){const t=l.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.descricao)}}function Ye(r,l){1&r&&(e.TgZ(0,"p",13),e._uU(1,"Esse campo \xe9 obrigat\xf3rio"),e.qZA())}function Oe(r,l){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,Ye,2,0,"p",50),e.qZA()),2&r){e.oxw();const t=e.MAs(20);e.xp6(1),e.Q6J("ngIf",t.errors.required)}}function $e(r,l){1&r&&(e.TgZ(0,"option",16),e._uU(1,"Selecione"),e.qZA()),2&r&&e.Q6J("ngValue",void 0)}function He(r,l){1&r&&(e.TgZ(0,"option",16),e._uU(1,"Selecione um investimento"),e.qZA()),2&r&&e.Q6J("ngValue",void 0)}function De(r,l){if(1&r&&(e.TgZ(0,"option",16),e._uU(1),e.qZA()),2&r){const t=l.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.hij(" ",t.tributacao.descricao," ")}}function Ke(r,l){1&r&&(e.TgZ(0,"p",13),e._uU(1,"Esse campo \xe9 obrigat\xf3rio"),e.qZA())}function Le(r,l){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,Ke,2,0,"p",50),e.qZA()),2&r){e.oxw();const t=e.MAs(31);e.xp6(1),e.Q6J("ngIf",t.errors.required)}}function Be(r,l){1&r&&(e.TgZ(0,"p",13),e._uU(1,"Esse campo \xe9 obrigat\xf3rio"),e.qZA())}function Ve(r,l){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,Be,2,0,"p",50),e.qZA()),2&r){e.oxw();const t=e.MAs(48);e.xp6(1),e.Q6J("ngIf",t.errors.required)}}function ze(r,l){1&r&&(e.TgZ(0,"p",13),e._uU(1,"Esse campo \xe9 obrigat\xf3rio"),e.qZA())}function We(r,l){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,ze,2,0,"p",50),e.qZA()),2&r){e.oxw();const t=e.MAs(56);e.xp6(1),e.Q6J("ngIf",t.errors.required)}}function Xe(r,l){1&r&&(e.TgZ(0,"p",13),e._uU(1,"Esse campo \xe9 obrigat\xf3rio"),e.qZA())}function en(r,l){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,Xe,2,0,"p",50),e.qZA()),2&r){e.oxw();const t=e.MAs(65);e.xp6(1),e.Q6J("ngIf",t.errors.required)}}function nn(r,l){1&r&&(e.TgZ(0,"p",13),e._uU(1,"Esse campo \xe9 obrigat\xf3rio"),e.qZA())}function tn(r,l){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,nn,2,0,"p",50),e.qZA()),2&r){e.oxw();const t=e.MAs(73);e.xp6(1),e.Q6J("ngIf",t.errors.required)}}function on(r,l){1&r&&(e.TgZ(0,"p",13),e._uU(1,"Esse campo \xe9 obrigat\xf3rio"),e.qZA())}function rn(r,l){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,on,2,0,"p",50),e.qZA()),2&r){e.oxw();const t=e.MAs(81);e.xp6(1),e.Q6J("ngIf",t.errors.required)}}function an(r,l){if(1&r&&(e.TgZ(0,"p",54),e._uU(1),e.qZA()),2&r){const t=l.$implicit;e.xp6(1),e.Oqu(t)}}function ln(r,l){1&r&&(e.TgZ(0,"p",54),e._uU(1,"Preencha todos os campos obrigat\xf3rios (*) corretamente para salvar"),e.qZA())}function sn(r,l){if(1&r&&(e.TgZ(0,"div",51),e.YNc(1,an,2,1,"p",52),e.YNc(2,ln,2,0,"p",53),e.qZA()),2&r){const t=e.oxw(),n=e.MAs(12);e.xp6(1),e.Q6J("ngForOf",t.erro),e.xp6(1),e.Q6J("ngIf",n.invalid&&0==t.erro.length)}}function pn(r,l){1&r&&e._UZ(0,"span",55)}function dn(r,l){1&r&&(e.TgZ(0,"div",56),e._uU(1," Este campo \xe9 obrigat\xf3rio "),e.qZA())}const un=function(){return[]};let W=(()=>{class r{constructor(t,n,i,a,o){this.modal=t,this.plannerService=n,this.setupService=i,this.investimentoService=a,this.toastr=o,this.faTimes=c.NBC,this.faChevronLeft=c.A35,this.modalOpen=!1,this.objeto=new Qe,this.erro=[],this.loading=!1,this.carteirasSetup=[],this.loadingCarteiraSetup=!0,this.planner=new b,this.investimento=void 0,this.investimentos=[],this.loadingInvestimentos=!0,this.aliquota="",this.plannerService.getObject().subscribe(s=>{this.planner=s}),this.setupService.list.subscribe(s=>this.carteirasSetup=s),this.setupService.getList().subscribe(s=>{this.carteirasSetup=s,this.loadingCarteiraSetup=!1}),this.investimentoService.getAll().subscribe({next:s=>{this.investimentos=s,this.loadingInvestimentos=!1},error:s=>{this.loadingInvestimentos=!1}}),this.modal.getOpen().subscribe(s=>{this.modalOpen=s})}ngOnInit(){setTimeout(()=>{this.modal.setOpen(!0)},200)}voltar(){this.modal.voltar()}arrowUp(t){return(0,w.zJ)(t)}arrowDown(t,n=!1){return(0,w.DI)(t,n)}tributacaoChange(t){this.objeto.investimentoTributacaoRel_Id=t?.id??0;let n=Object.assign({},this.investimento);n.investimentoTributacaoRel=[],this.objeto.investimentoTributacaoRel.investimento=n,this.aliquota=this.objeto.investimentoTributacaoRel?.tributacao?.aliquota.toString()??""}send(t){this.loading=!0,this.erro=[],this.planner.planejamentoInvestimento.find(i=>i.investimentoTributacaoRel_Id==this.objeto.investimentoTributacaoRel_Id)?(this.erro.push("Esse investimento j\xe1 est\xe1 inserido."),this.toastr.error("Esse investimento j\xe1 est\xe1 inserido.")):(this.erro=[],this.planner.planejamentoInvestimento.push(this.objeto),this.plannerService.setObject(this.planner),this.voltar()),this.loading=!1}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(q.Q),e.Y36(x),e.Y36(S.A),e.Y36(Ge),e.Y36(P._W))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-investimento-form"]],decls:90,vars:43,consts:[[1,"modal"],[1,"modal__bg",3,"click"],[1,"modal__inner",2,"max-width","700px"],[1,"modal__content"],[1,"modal__header","pb-2"],[1,"text-orange"],[1,"modal__header-close","btn-close",3,"click"],[1,"modal__body","mt-0"],[1,"needs-validation",3,"ngSubmit"],["form","ngForm"],[1,"form-row"],[1,"form-group","col-lg-5","col-md-5","col-sm-12"],["for","investimento"],[1,"text-danger"],["name","investimento","id","investimento","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange"],["_investimento","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"form-group","col-lg-4","col-md-4","col-sm-9"],["for","investimentoTributacaoRel"],["name","investimentoTributacaoRel","id","investimentoTributacaoRel","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","disabled","ngModelChange"],["_investimentoTributacaoRel","ngModel"],[3,"ngValue",4,"ngIf"],[1,"form-group","col-lg-3","col-md-3","col-sm-3"],["for","aliquota"],["type","text","name","aliquota","id","aliquota","mask","separator.2","thousandSeparator",".","decimalMarker",",","suffix","%","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["_aliquota","ngModel"],[1,"form-group","col-lg-6","col-md-6","col-sm-12"],["for","rentabilidade"],["type","text","id","rentabilidade","name","rentabilidade","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown"],["rentabilidade","ngModel"],["for","rentabilidadeLiquida"],["type","text","id","rentabilidadeLiquida","name","rentabilidadeLiquida","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown"],["rentabilidadeLiquida","ngModel"],[1,"form-group","col-lg-4","col-md-4","col-sm-12"],["for","montanteAtual"],["type","text","id","montanteAtual","name","montanteAtual","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown"],["montanteAtual","ngModel"],["for","sugerido"],["type","text","id","sugerido","name","sugerido","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown"],["sugerido","ngModel"],["for","planoAcao"],["type","text","id","planoAcao","name","planoAcao","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown"],["planoAcao","ngModel"],[1,"d-flex","p-0","mt-3"],["class","m-0",4,"ngIf"],[1,"btn","btn-primary","mr-0","ml-auto",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["campoObrigatorio",""],["class","text-danger",4,"ngIf"],[1,"m-0"],["class","text-red",4,"ngFor","ngForOf"],["class","text-red",4,"ngIf"],[1,"text-red"],[1,"spinner-border","spinner-border-sm","mr-1"],[1,"py-3","px-4"]],template:function(t,n){if(1&t){const i=e.EpF();e.TgZ(0,"div",0)(1,"div",1),e.NdJ("click",function(){return n.voltar()}),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),e._uU(6,"Adicionar investimento"),e.qZA(),e.TgZ(7,"a",6),e.NdJ("click",function(){return n.voltar()}),e._UZ(8,"span")(9,"span"),e.qZA()(),e.TgZ(10,"div",7)(11,"form",8,9),e.NdJ("ngSubmit",function(){e.CHM(i);const o=e.MAs(12);return e.KtG(n.send(o))}),e.TgZ(13,"div",10)(14,"div",11)(15,"label",12),e._uU(16,"Investimento: "),e.TgZ(17,"span",13),e._uU(18,"*"),e.qZA()(),e.TgZ(19,"select",14,15),e.NdJ("ngModelChange",function(o){return n.investimento=o}),e.TgZ(21,"option",16),e._uU(22,"Selecione"),e.qZA(),e.YNc(23,Ee,2,2,"option",17),e.qZA(),e.YNc(24,Oe,2,1,"div",18),e.qZA(),e.TgZ(25,"div",19)(26,"label",20),e._uU(27,"Tributa\xe7\xe3o: "),e.TgZ(28,"span",13),e._uU(29,"*"),e.qZA()(),e.TgZ(30,"select",21,22),e.NdJ("ngModelChange",function(o){return n.objeto.investimentoTributacaoRel=o})("ngModelChange",function(){e.CHM(i);const o=e.MAs(31);return e.KtG(n.tributacaoChange(o.value))}),e.YNc(32,$e,2,1,"option",23),e.YNc(33,He,2,1,"option",23),e.YNc(34,De,2,2,"option",17),e.qZA(),e.YNc(35,Le,2,1,"div",18),e.qZA(),e.TgZ(36,"div",24)(37,"label",25),e._uU(38,"Al\xedquota: "),e.qZA(),e.TgZ(39,"input",26,27),e.NdJ("ngModelChange",function(o){return n.aliquota=o}),e.qZA()()(),e.TgZ(41,"div",10)(42,"div",28)(43,"label",29),e._uU(44,"Rentabilidade Bruta: "),e.TgZ(45,"span",13),e._uU(46,"*"),e.qZA()(),e.TgZ(47,"input",30,31),e.NdJ("ngModelChange",function(o){return n.objeto.rentabilidade=o})("keyup.arrowup",function(){e.CHM(i);const o=e.MAs(48);return e.KtG(n.objeto.rentabilidade=n.arrowUp(o.value))})("keyup.arrowdown",function(){e.CHM(i);const o=e.MAs(48);return e.KtG(n.objeto.rentabilidade=n.arrowDown(o.value))}),e.qZA(),e.YNc(49,Ve,2,1,"div",18),e.qZA(),e.TgZ(50,"div",28)(51,"label",32),e._uU(52,"Rentabilidade L\xedquida: "),e.TgZ(53,"span",13),e._uU(54,"*"),e.qZA()(),e.TgZ(55,"input",33,34),e.NdJ("ngModelChange",function(o){return n.objeto.rentabilidadeLiquida=o})("keyup.arrowup",function(){e.CHM(i);const o=e.MAs(56);return e.KtG(n.objeto.rentabilidadeLiquida=n.arrowUp(o.value))})("keyup.arrowdown",function(){e.CHM(i);const o=e.MAs(56);return e.KtG(n.objeto.rentabilidadeLiquida=n.arrowDown(o.value))}),e.qZA(),e.YNc(57,We,2,1,"div",18),e.qZA()(),e.TgZ(58,"div",10)(59,"div",35)(60,"label",36),e._uU(61,"Montante Atual: "),e.TgZ(62,"span",13),e._uU(63,"*"),e.qZA()(),e.TgZ(64,"input",37,38),e.NdJ("ngModelChange",function(o){return n.objeto.montanteAtual=o})("keyup.arrowup",function(){e.CHM(i);const o=e.MAs(65);return e.KtG(n.objeto.montanteAtual=n.arrowUp(o.value))})("keyup.arrowdown",function(){e.CHM(i);const o=e.MAs(65);return e.KtG(n.objeto.montanteAtual=n.arrowDown(o.value))}),e.qZA(),e.YNc(66,en,2,1,"div",18),e.qZA(),e.TgZ(67,"div",35)(68,"label",39),e._uU(69,"Montante Sugerido: "),e.TgZ(70,"span",13),e._uU(71,"*"),e.qZA()(),e.TgZ(72,"input",40,41),e.NdJ("ngModelChange",function(o){return n.objeto.sugerido=o})("keyup.arrowup",function(){e.CHM(i);const o=e.MAs(73);return e.KtG(n.objeto.sugerido=n.arrowUp(o.value))})("keyup.arrowdown",function(){e.CHM(i);const o=e.MAs(73);return e.KtG(n.objeto.sugerido=n.arrowDown(o.value))}),e.qZA(),e.YNc(74,tn,2,1,"div",18),e.qZA(),e.TgZ(75,"div",35)(76,"label",42),e._uU(77,"Plano de A\xe7\xe3o: "),e.TgZ(78,"span",13),e._uU(79,"*"),e.qZA()(),e.TgZ(80,"input",43,44),e.NdJ("ngModelChange",function(o){return n.objeto.planoAcao=o})("keyup.arrowup",function(){e.CHM(i);const o=e.MAs(81);return e.KtG(n.objeto.planoAcao=n.arrowUp(o.value))})("keyup.arrowdown",function(){e.CHM(i);const o=e.MAs(81);return e.KtG(n.objeto.planoAcao=n.arrowDown(o.value))}),e.qZA(),e.YNc(82,rn,2,1,"div",18),e.qZA()(),e.TgZ(83,"div",45),e.YNc(84,sn,3,2,"div",46),e.TgZ(85,"button",47),e.YNc(86,pn,1,0,"span",48),e._uU(87," Salvar "),e.qZA()()(),e.YNc(88,dn,2,0,"ng-template",null,49,e.W1O),e.qZA()()()()}if(2&t){const i=e.MAs(12),a=e.MAs(20),o=e.MAs(31),s=e.MAs(48),g=e.MAs(56),u=e.MAs(65),C=e.MAs(73),T=e.MAs(81),v=e.MAs(89);e.ekj("active",n.modalOpen),e.xp6(19),e.ekj("form-control-loading",n.loadingInvestimentos),e.Q6J("ngModel",n.investimento)("ngbPopover",v)("disablePopover",null==a.errors),e.xp6(2),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",n.investimentos),e.xp6(1),e.Q6J("ngIf",a.errors&&a.touched),e.xp6(6),e.Q6J("ngModel",n.objeto.investimentoTributacaoRel)("ngbPopover",v)("disablePopover",null==o.errors)("disabled",!n.investimento),e.xp6(2),e.Q6J("ngIf",n.investimento),e.xp6(1),e.Q6J("ngIf",!n.investimento),e.xp6(1),e.Q6J("ngForOf",n.investimento?n.investimento.investimentoTributacaoRel:e.DdM(42,un)),e.xp6(1),e.Q6J("ngIf",o.errors&&o.touched),e.xp6(4),e.Q6J("ngModel",n.aliquota),e.xp6(8),e.Q6J("ngModel",n.objeto.rentabilidade)("ngbPopover",v)("disablePopover",null==s.errors),e.xp6(2),e.Q6J("ngIf",s.errors&&s.touched),e.xp6(6),e.Q6J("ngModel",n.objeto.rentabilidadeLiquida)("ngbPopover",v)("disablePopover",null==g.errors),e.xp6(2),e.Q6J("ngIf",g.errors&&g.touched),e.xp6(7),e.Q6J("ngModel",n.objeto.montanteAtual)("ngbPopover",v)("disablePopover",null==u.errors),e.xp6(2),e.Q6J("ngIf",u.errors&&u.touched),e.xp6(6),e.Q6J("ngModel",n.objeto.sugerido)("ngbPopover",v)("disablePopover",null==C.errors),e.xp6(2),e.Q6J("ngIf",C.errors&&C.touched),e.xp6(6),e.Q6J("ngModel",n.objeto.planoAcao)("ngbPopover",v)("disablePopover",null==T.errors),e.xp6(2),e.Q6J("ngIf",T.errors&&T.touched),e.xp6(2),e.Q6J("ngIf",n.erro||i.invalid),e.xp6(1),e.Q6J("disabled",i.invalid||n.loading),e.xp6(1),e.Q6J("ngIf",n.loading)}},dependencies:[M.sg,M.O5,d._Y,d.YN,d.Kr,d.Fj,d.EJ,d.JJ,d.JL,d.Q7,d.On,d.F,Z.hx,y.o8]}),r})();var mn=p(6886);class gn{constructor(){this.id=void 0,this.descricao="",this.aliquota=0}}class cn{constructor(){this.id=0,this.produto_Id=0,this.tributacao_Id=0,this.produto=new mn.a7,this.tributacao=new gn}}class _n{constructor(){this.id=0,this.planejamento_Id=0,this.produtoTributacaoRel_Id=void 0,this.produtoTributacaoRel=new cn,this.rentabilidade="",this.rentabilidadeLiquida="",this.montanteAtual="",this.sugerido="",this.planoAcao="",this.percentual=""}}var X=p(4506);function hn(r,l){if(1&r){const t=e.EpF();e.TgZ(0,"div",13)(1,"input",51,15),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedRisco=i)})("ngModelChange",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.setProdutos())}),e.qZA(),e.TgZ(3,"label",52),e._uU(4),e.qZA()()}if(2&r){const t=l.$implicit,n=e.oxw();e.xp6(1),e.MGl("id","tipoRisco-",t.nome,""),e.Q6J("ngModel",n.selectedRisco)("value",t)("checked",t.id==(null==n.selectedRisco?null:n.selectedRisco.id)),e.xp6(2),e.MGl("for","tipoRisco-",t.nome,""),e.xp6(1),e.Oqu(t.nome)}}function vn(r,l){1&r&&(e.TgZ(0,"span"),e._uU(1,"Selecione"),e.qZA())}function fn(r,l){1&r&&(e.TgZ(0,"span"),e._uU(1,"Nenhum produto"),e.qZA())}function Cn(r,l){if(1&r&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&r){const t=l.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.descricao)}}function Mn(r,l){1&r&&(e.TgZ(0,"p",21)(1,"small"),e._uU(2,"Esse campo \xe9 obrigat\xf3rio "),e.qZA()())}function bn(r,l){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,Mn,3,0,"p",53),e.qZA()),2&r){e.oxw();const t=e.MAs(30);e.xp6(1),e.Q6J("ngIf",t.errors.required)}}function Tn(r,l){1&r&&(e.TgZ(0,"option",24),e._uU(1,"Selecione"),e.qZA()),2&r&&e.Q6J("ngValue",void 0)}function Zn(r,l){1&r&&(e.TgZ(0,"option",24),e._uU(1,"Selecione um produto"),e.qZA()),2&r&&e.Q6J("ngValue",void 0)}function An(r,l){if(1&r&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&r){const t=l.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.tributacao.descricao)}}function wn(r,l){1&r&&(e.TgZ(0,"p",21),e._uU(1,"Esse campo \xe9 obrigat\xf3rio"),e.qZA())}function Pn(r,l){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,wn,2,0,"p",54),e.qZA()),2&r){e.oxw();const t=e.MAs(61);e.xp6(1),e.Q6J("ngIf",t.errors.required)}}function xn(r,l){1&r&&(e.TgZ(0,"p",21),e._uU(1,"Esse campo \xe9 obrigat\xf3rio"),e.qZA())}function qn(r,l){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,xn,2,0,"p",54),e.qZA()),2&r){e.oxw();const t=e.MAs(69);e.xp6(1),e.Q6J("ngIf",t.errors.required)}}function yn(r,l){1&r&&(e.TgZ(0,"p",21),e._uU(1,"Esse campo \xe9 obrigat\xf3rio"),e.qZA())}function kn(r,l){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,yn,2,0,"p",54),e.qZA()),2&r){e.oxw();const t=e.MAs(77);e.xp6(1),e.Q6J("ngIf",t.errors.required)}}function In(r,l){if(1&r&&(e.TgZ(0,"p",58),e._uU(1),e.qZA()),2&r){const t=l.$implicit;e.xp6(1),e.Oqu(t)}}function Un(r,l){1&r&&(e.TgZ(0,"p",58),e._uU(1,"Preencha todos os campos obrigat\xf3rios (*) corretamente para salvar"),e.qZA())}function Jn(r,l){if(1&r&&(e.TgZ(0,"div",55),e.YNc(1,In,2,1,"p",56),e.YNc(2,Un,2,0,"p",57),e.qZA()),2&r){const t=e.oxw(),n=e.MAs(12);e.xp6(1),e.Q6J("ngForOf",t.erro),e.xp6(1),e.Q6J("ngIf",n.invalid&&0==t.erro.length)}}function Sn(r,l){1&r&&e._UZ(0,"span",59)}function Nn(r,l){1&r&&(e.TgZ(0,"div",60),e._uU(1," Este campo \xe9 obrigat\xf3rio "),e.qZA())}const jn=function(){return[]};let ee=(()=>{class r{constructor(t,n,i,a,o,s){var g=this;this.modal=t,this.plannerService=n,this.alertService=i,this.produtoService=a,this.setup=o,this.dropdown=s,this.faTimes=c.NBC,this.faChevronLeft=c.A35,this.modalOpen=!1,this.objeto=new _n,this.erro=[],this.loading=!1,this.carteirasSetup=[],this.loadingCarteiraSetup=!0,this.produtos=[],this.loadingProdutos=!0,this.tipoRiscos=[],this.loadingRiscos=!0,this.planner=new b,this.aliquota="",this.plannerService.getObject().subscribe(function(){var u=(0,Y.Z)(function*(C){g.planner=C});return function(C){return u.apply(this,arguments)}}()),this.setup.list.subscribe(u=>this.carteirasSetup=u),this.setup.getList().subscribe({next:u=>{this.carteirasSetup=u,this.loadingCarteiraSetup=!1},error:u=>{this.loadingCarteiraSetup=!1}}),this.modal.getOpen().subscribe(u=>{this.modalOpen=u}),this.dropdown.getRisco().subscribe({next:u=>{this.tipoRiscos=u,this.loadingRiscos=!1},error:u=>{this.loadingRiscos=!1}}),this.produtoService.list.subscribe(u=>{this.setProdutos()}),this.produtoService.getList().subscribe({next:u=>{this.setProdutos(),this.loadingProdutos=!1},error:u=>{this.loadingProdutos=!1}})}ngOnInit(){setTimeout(()=>{this.modal.setOpen(!0)},200)}voltar(){this.modal.voltar()}setProdutos(){this.loadingProdutos=!0,this.produtos=this.produtoService.list.value,this.selectedRisco&&(this.produtos=this.produtoService.list.value.filter(t=>t.tipoRisco_Id==this.selectedRisco?.id)),this.objeto.produtoTributacaoRel=void 0,this.objeto.produtoTributacaoRel_Id=0,this.produto=void 0,this.aliquota="",this.loadingProdutos=!1}produtoChange(){this.objeto.produtoTributacaoRel_Id=0,this.objeto.produtoTributacaoRel=void 0,this.aliquota=""}tributacaoChange(t){if(this.planner.planejamentoProduto.map(i=>i.produtoTributacaoRel).find(i=>i.produto_Id==t.produto_Id&&i.tributacao_Id==t.tributacao_Id))this.objeto.produtoTributacaoRel_Id=0,this.objeto.produtoTributacaoRel=void 0,this.aliquota="",this.produto=void 0,this.alertService.error("Voc\xea n\xe3o pode inserir essa tributa\xe7\xe3o e produto, pois j\xe1 est\xe3o cadastrados.",{keepAfterRouteChange:!1});else{this.objeto.produtoTributacaoRel_Id=t?.id??0;let i=Object.assign({},this.produto);i.produtoTributacaoRel=[],this.objeto.produtoTributacaoRel.produto=i,this.aliquota=this.objeto.produtoTributacaoRel?.tributacao?.aliquota.toString()??""}}arrowUp(t){return(0,w.zJ)(t)}arrowDown(t,n=!1){return(0,w.DI)(t,n)}send(t){this.loading=!0,this.erro=[],this.planner.planejamentoProduto.push(this.objeto),this.plannerService.setObject(this.planner),this.voltar(),this.loading=!1}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(q.Q),e.Y36(x),e.Y36(X.c),e.Y36(L.m),e.Y36(S.A),e.Y36(O.V))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-produto-form"]],decls:86,vars:35,consts:[[1,"modal"],[1,"modal__bg",3,"click"],[1,"modal__inner",2,"max-width","700px"],[1,"modal__content"],[1,"modal__header","pb-2"],[1,"text-orange"],[1,"modal__header-close","btn-close",3,"click"],[1,"modal__body","mt-0"],[1,"needs-validation",3,"ngSubmit"],["form","ngForm"],[1,"mt-2","mb-2","px-2"],[1,"h6"],[1,"d-flex","align-items-center"],[1,"mx-2"],["type","radio","name","tipoRisco","id","tipoRisco-0",1,"mr-1","mt-1",3,"ngModel","value","checked","ngModelChange"],["tipoRisco","ngModel"],["for","tipoRisco-0"],["class","mx-2",4,"ngFor","ngForOf"],[1,"form-row"],[1,"form-group","col-lg-12","col-md-4","col-sm-12"],["for","produto"],[1,"text-danger"],["id","produto","name","produto","required","",1,"form-control",3,"ngModel","ngModelChange"],["_produto","ngModel"],[3,"ngValue"],[4,"ngIf"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"form-group","col-lg-8","col-md-8","col-sm-6"],["for","produtoTributacaoRel"],["id","produtoTributacaoRel","name","produtoTributacaoRel","required","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["produtoTributacaoRel","ngModel"],[3,"ngValue",4,"ngIf"],[1,"form-group","col-lg-4","col-md-4","col-sm-6"],["for","aliquota"],["type","text","id","aliquota","name","aliquota","mask","separator.5","thousandSeparator",".","suffix","%","readonly","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["_aliquota","ngModel"],[1,"form-group","col-lg-4","col-md-4","col-sm-12"],["for","percentual"],["type","text","id","percentual","name","percentual","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown"],["percentual","ngModel"],["for","rentabilidade"],["type","text","id","rentabilidade","name","rentabilidade","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown"],["rentabilidade","ngModel"],["for","montanteAtual"],["type","text","id","montanteAtual","name","montanteAtual","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown"],["montanteAtual","ngModel"],[1,"d-flex","p-0","mt-3","align-items-center"],["class","m-0",4,"ngIf"],[1,"btn","btn-primary","mr-0","ml-auto",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["campoObrigatorio",""],["type","radio","name","tipoRisco",1,"mr-1","mt-1",3,"id","ngModel","value","checked","ngModelChange"],[3,"for"],["class","text-danger ",4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"m-0"],["class","text-red",4,"ngFor","ngForOf"],["class","text-red",4,"ngIf"],[1,"text-red"],[1,"spinner-border","spinner-border-sm","mr-1"],[1,"py-3","px-4"]],template:function(t,n){if(1&t){const i=e.EpF();e.TgZ(0,"div",0)(1,"div",1),e.NdJ("click",function(){return n.voltar()}),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),e._uU(6,"Adicionar produto"),e.qZA(),e.TgZ(7,"a",6),e.NdJ("click",function(){return n.voltar()}),e._UZ(8,"span")(9,"span"),e.qZA()(),e.TgZ(10,"div",7)(11,"form",8,9),e.NdJ("ngSubmit",function(){e.CHM(i);const o=e.MAs(12);return e.KtG(n.send(o))}),e.TgZ(13,"div",10)(14,"p",11),e._uU(15,"Selecione o Risco"),e.qZA(),e.TgZ(16,"div",12)(17,"div",13)(18,"input",14,15),e.NdJ("ngModelChange",function(o){return n.selectedRisco=o})("ngModelChange",function(){return n.setProdutos()}),e.qZA(),e.TgZ(20,"label",16),e._uU(21,"Todos"),e.qZA()(),e.YNc(22,hn,5,6,"div",17),e.qZA()(),e.TgZ(23,"div",18)(24,"div",19)(25,"label",20),e._uU(26,"Produto: "),e.TgZ(27,"span",21),e._uU(28,"*"),e.qZA()(),e.TgZ(29,"select",22,23),e.NdJ("ngModelChange",function(o){return n.produto=o})("ngModelChange",function(){return n.produtoChange()}),e.TgZ(31,"option",24),e.YNc(32,vn,2,0,"span",25),e.YNc(33,fn,2,0,"span",25),e.qZA(),e.YNc(34,Cn,2,2,"option",26),e.qZA(),e.YNc(35,bn,2,1,"div",25),e.qZA()(),e.TgZ(36,"div",18)(37,"div",27)(38,"label",28),e._uU(39,"Tributa\xe7\xe3o: "),e.TgZ(40,"span",21),e._uU(41,"*"),e.qZA()(),e.TgZ(42,"select",29,30),e.NdJ("ngModelChange",function(o){return n.objeto.produtoTributacaoRel=o})("ngModelChange",function(){return n.tributacaoChange(n.objeto.produtoTributacaoRel)}),e.YNc(44,Tn,2,1,"option",31),e.YNc(45,Zn,2,1,"option",31),e.YNc(46,An,2,2,"option",26),e.qZA()(),e.TgZ(47,"div",32)(48,"label",33),e._uU(49,"Al\xedquota: "),e.TgZ(50,"span",21),e._uU(51,"*"),e.qZA()(),e.TgZ(52,"input",34,35),e.NdJ("ngModelChange",function(o){return n.aliquota=o}),e.qZA()()(),e.TgZ(54,"div",18)(55,"div",36)(56,"label",37),e._uU(57,"Percentual: "),e.TgZ(58,"span",21),e._uU(59,"*"),e.qZA()(),e.TgZ(60,"input",38,39),e.NdJ("ngModelChange",function(o){return n.objeto.percentual=o})("keyup.arrowup",function(){e.CHM(i);const o=e.MAs(61);return e.KtG(n.objeto.percentual=n.arrowUp(o.value))})("keyup.arrowdown",function(){e.CHM(i);const o=e.MAs(61);return e.KtG(n.objeto.percentual=n.arrowDown(o.value))}),e.qZA(),e.YNc(62,Pn,2,1,"div",25),e.qZA(),e.TgZ(63,"div",36)(64,"label",40),e._uU(65,"Rentabilidade: "),e.TgZ(66,"span",21),e._uU(67,"*"),e.qZA()(),e.TgZ(68,"input",41,42),e.NdJ("ngModelChange",function(o){return n.objeto.rentabilidade=o})("keyup.arrowup",function(){e.CHM(i);const o=e.MAs(69);return e.KtG(n.objeto.rentabilidade=n.arrowUp(o.value))})("keyup.arrowdown",function(){e.CHM(i);const o=e.MAs(69);return e.KtG(n.objeto.rentabilidade=n.arrowDown(o.value))}),e.qZA(),e.YNc(70,qn,2,1,"div",25),e.qZA(),e.TgZ(71,"div",36)(72,"label",43),e._uU(73,"Montante Atual: "),e.TgZ(74,"span",21),e._uU(75,"*"),e.qZA()(),e.TgZ(76,"input",44,45),e.NdJ("ngModelChange",function(o){return n.objeto.montanteAtual=o})("keyup.arrowup",function(){e.CHM(i);const o=e.MAs(77);return e.KtG(n.objeto.montanteAtual=n.arrowUp(o.value))})("keyup.arrowdown",function(){e.CHM(i);const o=e.MAs(77);return e.KtG(n.objeto.montanteAtual=n.arrowDown(o.value))}),e.qZA(),e.YNc(78,kn,2,1,"div",25),e.qZA()(),e.TgZ(79,"div",46),e.YNc(80,Jn,3,2,"div",47),e.TgZ(81,"button",48),e.YNc(82,Sn,1,0,"span",49),e._uU(83," Salvar "),e.qZA()()(),e.YNc(84,Nn,2,0,"ng-template",null,50,e.W1O),e.qZA()()()()}if(2&t){const i=e.MAs(12),a=e.MAs(30),o=e.MAs(61),s=e.MAs(69),g=e.MAs(77),u=e.MAs(85);e.ekj("active",n.modalOpen),e.xp6(18),e.Q6J("ngModel",n.selectedRisco)("value",void 0)("checked",!n.selectedRisco),e.xp6(4),e.Q6J("ngForOf",n.tipoRiscos),e.xp6(7),e.Q6J("ngModel",n.produto),e.xp6(2),e.Q6J("ngValue",void 0),e.xp6(1),e.Q6J("ngIf",n.produtos.length>0),e.xp6(1),e.Q6J("ngIf",0==n.produtos.length),e.xp6(1),e.Q6J("ngForOf",n.produtos),e.xp6(1),e.Q6J("ngIf",a.touched&&a.errors),e.xp6(7),e.Q6J("ngModel",n.objeto.produtoTributacaoRel)("disabled",!n.produto),e.xp6(2),e.Q6J("ngIf",n.produto),e.xp6(1),e.Q6J("ngIf",!n.produto),e.xp6(1),e.Q6J("ngForOf",n.produto?n.produto.produtoTributacaoRel:e.DdM(34,jn)),e.xp6(6),e.Q6J("ngModel",n.aliquota)("disabled",!n.produto),e.xp6(8),e.Q6J("ngModel",n.objeto.percentual)("ngbPopover",u)("disablePopover",null==o.errors),e.xp6(2),e.Q6J("ngIf",o.errors&&o.touched),e.xp6(6),e.Q6J("ngModel",n.objeto.rentabilidade)("ngbPopover",u)("disablePopover",null==s.errors),e.xp6(2),e.Q6J("ngIf",s.errors&&s.touched),e.xp6(6),e.Q6J("ngModel",n.objeto.montanteAtual)("ngbPopover",u)("disablePopover",null==g.errors),e.xp6(2),e.Q6J("ngIf",g.errors&&g.touched),e.xp6(2),e.Q6J("ngIf",n.erro||i.invalid),e.xp6(1),e.Q6J("disabled",i.invalid||n.loading||!n.produto),e.xp6(1),e.Q6J("ngIf",n.loading)}},dependencies:[M.sg,M.O5,d._Y,d.YN,d.Kr,d.Fj,d.EJ,d._,d.JJ,d.JL,d.Q7,d.On,d.F,Z.hx,y.o8]}),r})(),ne=(()=>{class r{constructor(t,n,i){this.modal=t,this.alert=n,this.plannerService=i}canActivate(t,n){let i=this.plannerService.getObject().value;return i.carteiraSetup?0!=i.planejamentoInvestimento.length||(this.modal.voltar(),this.alert.warn("Insira um investimento para cadastrar um produto!"),!1):(this.modal.voltar(),this.alert.warn("Escolha um setup para adicionar um produto!"),!1)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(q.Q),e.LFG(X.c),e.LFG(x))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Fn(r,l){if(1&r&&(e.TgZ(0,"li",16),e._uU(1),e.qZA()),2&r){const t=l.$implicit;e.xp6(1),e.Oqu(t)}}function Rn(r,l){if(1&r&&(e.TgZ(0,"ul",14),e.YNc(1,Fn,2,1,"li",15),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.erro)}}function Qn(r,l){1&r&&e._UZ(0,"span",17)}let Gn=(()=>{class r{constructor(t,n,i,a,o,s){this.router=t,this.activatedRoute=n,this.toastr=i,this.modal=a,this.plannerService=o,this.crypto=s,this.faTimes=c.NBC,this.modalOpen=!1,this.erro=[],this.loading=!1,this.id=0,this.modal.getOpen().subscribe(g=>{this.modalOpen=g}),this.activatedRoute.params.subscribe(g=>{g.planner_id?this.id=this.crypto.decrypt(g.planner_id):this.voltar()})}ngOnInit(){setTimeout(()=>{this.modal.setOpen(!0)},200)}voltar(){this.modal.voltar()}send(){this.loading=!0,this.plannerService.delete(this.id).subscribe({next:t=>{this.plannerService.getList(),this.router.navigate(["..","..",".."]),this.plannerService.setObject(new b)},error:t=>{this.loading=!1}})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(f.F0),e.Y36(f.gz),e.Y36(P._W),e.Y36(q.Q),e.Y36(x),e.Y36(k.w))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-delete-planner"]],decls:22,vars:5,consts:[[1,"modal"],[1,"modal__bg",3,"click"],[1,"modal__inner",2,"max-width","600px"],[1,"modal__content"],[1,"modal__header","pb-2"],[1,"text-orange"],[1,"mt-2"],[1,"modal__header-close","btn-close",3,"click"],[1,"modal__body","mt-0"],["class","m-0 col-lg-12 mt-1",4,"ngIf"],[1,"d-flex","justify-content-center","flex-wrap","p-0","mt-1"],[1,"btn","btn-grey","mr-1",3,"click"],[1,"btn","btn-primary","mr-0",3,"disabled","click"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"m-0","col-lg-12","mt-1"],["class","text-red",4,"ngFor","ngForOf"],[1,"text-red"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.NdJ("click",function(){return n.voltar()}),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),e._uU(6,"Excluir registro"),e.qZA(),e.TgZ(7,"p",6),e._uU(8,"Tem certeza que deseja excluir esse registro? Ele n\xe3o poder\xe1 ser recuperado."),e.qZA(),e.TgZ(9,"p"),e._uU(10,"Todos os registros relacionados a esse planejamento, tamb\xe9m ser\xe3o removidos."),e.qZA(),e.TgZ(11,"a",7),e.NdJ("click",function(){return n.voltar()}),e._UZ(12,"span")(13,"span"),e.qZA()(),e.TgZ(14,"div",8),e.YNc(15,Rn,2,1,"ul",9),e.TgZ(16,"div",10)(17,"button",11),e.NdJ("click",function(){return n.voltar()}),e._uU(18," Voltar"),e.qZA(),e.TgZ(19,"button",12),e.NdJ("click",function(){return n.send()}),e.YNc(20,Qn,1,0,"span",13),e._uU(21," Excluir "),e.qZA()()()()()()),2&t&&(e.ekj("active",n.modalOpen),e.xp6(15),e.Q6J("ngIf",n.erro),e.xp6(4),e.Q6J("disabled",n.loading),e.xp6(1),e.Q6J("ngIf",n.loading))},dependencies:[M.sg,M.O5]}),r})();var En=p(8785),Yn=p(3834);const On=[{path:"",component:G,children:[{path:"cadastrar",component:En.G},{path:"editar/:cliente_id",component:Yn.F},{path:"excluir/:cliente_id",component:Re.T}]},{path:"planner",component:z,children:[{path:"investimento",component:W},{path:"produto",component:ee,canActivate:[ne]},{path:"excluir/:planner_id",component:Gn}]},{path:"planner/:cliente_id",component:z,children:[{path:"investimento",component:W},{path:"produto",component:ee,canActivate:[ne]}]}];let $n=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[f.Bz.forChild(On),f.Bz]}),r})();var Hn=p(5089);let Dn=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r,bootstrap:[G]}),r.\u0275inj=e.cJS({imports:[M.ez,$n,d.u5,I.uH,Z.yI,P.Rh,F.U$,y.dT,E.kW,V.S,Hn.m]}),r})()}}]);