"use strict";(self.webpackChunkplanner=self.webpackChunkplanner||[]).push([[193],{4429:(j,Z,o)=>{o.d(Z,{c1:()=>r,lF:()=>T});var e=o(655),E=o(43),f=o(805),C=o(1956),I=o(9398),g=o(5897);class r extends g.D{constructor(){super(...arguments),this.id=0,this.empresa=new I.oW,this.empresa_Id=void 0,this.perfilInvestidor_Id=void 0,this.nome="",this.idade="",this.altura="",this.peso="",this.imc="",this.estadoCivil_Id=void 0,this.dataNascimento="",this.cpf="",this.rg="",this.email="",this.receita="",this.despesa="",this.idadeAposentadoria="",this.rendaMensalAposentadoria="",this.rentabilidadeAposentadoria="",this.registroNaoSalvo=!1}}(0,e.gn)([(0,E.Vp)(),(0,e.w6)("design:type",Boolean)],r.prototype,"registroNaoSalvo",void 0);var T=[{field:"id",header:"Id",maskType:C.O.undefined,filterType:C.vA.text,filterDisplay:C.w2.menu,filterShowAddButton:!1,filterShowMatchMode:!1,filterMatchMode:f.a6.CONTAINS},{field:"nome",header:"Nome",maskType:C.O.substring,substringLength:22,filterType:C.vA.text,filterDisplay:C.w2.menu,filterShowAddButton:!1,filterShowMatchMode:!1,filterMatchMode:f.a6.CONTAINS},{field:"cpf",header:"CPF",maskType:C.O.cpf,filterType:C.vA.text,filterDisplay:C.w2.menu,filterShowAddButton:!1,filterShowMatchMode:!1,filterMatchMode:f.a6.CONTAINS},{field:"perfilInvestidor.descricao",header:"Perfil Investidor",maskType:C.O.substring,substringLength:20,filterType:C.vA.text,filterDisplay:C.w2.menu,filterShowAddButton:!1,filterShowMatchMode:!1,filterMatchMode:f.a6.CONTAINS},{field:"account.email",header:"Analista Resp.",maskType:C.O.substring,substringLength:15,filterType:C.vA.text,filterDisplay:C.w2.menu,filterShowAddButton:!1,filterShowMatchMode:!1,filterMatchMode:f.a6.CONTAINS},{field:"ativo",header:"Ativo",maskType:C.O.boolean,filterType:C.vA.text,filterDisplay:C.w2.menu,filterShowAddButton:!1,filterShowMatchMode:!1,filterMatchMode:f.a6.CONTAINS,booleanValues:{true:"ativo",false:"inativo"}}]},8164:(j,Z,o)=>{o.d(Z,{Sf:()=>r,bo:()=>I});var e=o(655),E=o(43),f=o(1956),C=o(805);class I{constructor(){this.id=0,this.empresa_Id=0,this.perfilAcesso=void 0,this.perfilAcesso_Id=void 0,this.name="",this.email="",this.telefoneCelular="",this.registroNaoSalvo=!1}}(0,e.gn)([(0,E.Vp)(),(0,e.w6)("design:type",Boolean)],I.prototype,"registroNaoSalvo",void 0),(0,e.gn)([(0,E.Vp)(),(0,e.w6)("design:type",Boolean)],class g{constructor(){this.id=0,this.empresa_Id=0,this.perfilAcesso_Id=void 0,this.name="",this.email="",this.telefoneCelular="",this.registroNaoSalvo=!1}}.prototype,"registroNaoSalvo",void 0);var r=[{field:"id",header:"Id",filterType:f.vA.text,filterDisplay:f.w2.menu},{field:"name",header:"Nome",filterType:f.vA.text,filterDisplay:f.w2.menu,maskType:f.O.substring,substringLength:22},{field:"email",header:"E-mail",filterType:f.vA.text,filterDisplay:f.w2.menu,maskType:f.O.substring,substringLength:30},{field:"telefoneCelular",header:"Telefone/Celular",filterType:f.vA.text,filterDisplay:f.w2.menu,maskType:f.O.telefoneCelular},{field:"perfilAcesso.perfil",header:"Tipo de Acesso",filterType:f.vA.text,filterDisplay:f.w2.menu},{field:"ativo",header:"Ativo",maskType:f.O.boolean,filterType:f.vA.text,filterDisplay:f.w2.menu,filterShowAddButton:!1,filterShowMatchMode:!1,filterMatchMode:C.a6.CONTAINS,booleanValues:{true:"ativo",false:"inativo"}}]},8785:(j,Z,o)=>{o.d(Z,{G:()=>L});var e=o(801),E=o(9808),f=o(4429),C=o(932),I=o(9243),g=o(878),r=o(4650),p=o(202),T=o(7185),w=o(7549),y=o(6680);let L=(()=>{class D{constructor(h,m,s,u,n){this.activatedRoute=h,this.toastr=m,this.modal=s,this.clienteService=u,this.crypto=n,this.faTimes=e.NBC,this.faChevronLeft=e.A35,this.modalOpen=!1,this.objeto=new f.c1,this.erro=[],this.loading=!1,this.url="",this.subscription=[],this.routerBack=["../"],this.routeBackOptions={relativeTo:this.activatedRoute},this.url=this.activatedRoute.snapshot.pathFromRoot.map(_=>_.routeConfig?.path).join("/");var t=this.modal.getOpen().subscribe(_=>this.modalOpen=_);if(this.subscription.push(t),this.url.includes("empresas/editar")){var i=h.parent?.parent?.params.subscribe(_=>{_.empresa_id?this.objeto.empresa_Id=this.crypto.decrypt(_.empresa_id):this.voltar()});i&&this.subscription.push(i)}setTimeout(()=>{this.modal.setOpen(!0)},200)}ngOnDestroy(){this.modal.setOpen(!1),this.subscription.forEach(h=>h.unsubscribe())}resetForm(){this.objeto=new f.c1}voltar(){this.modal.voltar(this.routerBack,this.routeBackOptions)}send(h){this.loading=!0,this.erro=[],this.url.includes("empresas/cadastrar")?(this.clienteService.add_To_Empresa_List(this.objeto)&&(this.toastr.success("Opera\xe7\xe3o conclu\xedda"),this.voltar()),this.loading=!1):(this.url.includes("empresas/editar"),(0,E.n)(this.clienteService.create(h)).then(m=>{this.modal.voltar(this.routerBack,this.routeBackOptions),(0,E.n)(this.clienteService.getList())}).catch(m=>{this.erro.push((0,g.b)(m))}).finally(()=>this.loading=!1))}}return D.\u0275fac=function(h){return new(h||D)(r.Y36(p.gz),r.Y36(T._W),r.Y36(w.Q),r.Y36(C.$),r.Y36(I.w))},D.\u0275cmp=r.Xpm({type:D,selectors:[["app-create"]],decls:12,vars:5,consts:[[1,"modal"],[1,"modal__bg",3,"click"],[1,"modal__inner",2,"max-width","1000px"],[1,"modal__content"],[1,"modal__header","pb-2"],[1,"text-orange"],[1,"modal__header-close","btn-close",3,"click"],[1,"modal__body","mt-0"],[3,"objeto","loading","erro","sendData"]],template:function(h,m){1&h&&(r.TgZ(0,"div",0)(1,"div",1),r.NdJ("click",function(){return m.voltar()}),r.qZA(),r.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),r._uU(6,"Adicionar cliente"),r.qZA(),r.TgZ(7,"a",6),r.NdJ("click",function(){return m.voltar()}),r._UZ(8,"span")(9,"span"),r.qZA()(),r.TgZ(10,"div",7)(11,"app-form-cliente",8),r.NdJ("sendData",function(u){return m.send(u)}),r.qZA()()()()()),2&h&&(r.ekj("active",m.modalOpen),r.xp6(11),r.Q6J("objeto",m.objeto)("loading",m.loading)("erro",m.erro))},dependencies:[y.r],styles:["p[_ngcontent-%COMP%]{margin:10px 5px 2px}"]}),D})()},9738:(j,Z,o)=>{o.d(Z,{T:()=>L});var e=o(5861),E=o(801),f=o(9808),C=o(4429),I=o(9876),g=o(932),r=o(9243),p=o(4650),T=o(202),w=o(7549),y=o(7119);let L=(()=>{class D{constructor(h,m,s,u,n){var t=this;this.activatedRoute=h,this.modal=m,this.crypto=s,this.clienteService=u,this.accountService=n,this.faTimes=E.NBC,this.modalOpen=!1,this.erro=[],this.loading=!1,this.url="",this.objeto=new C.c1,this.subscription=[],this.routerBack=["../../"],this.routeBackOptions={relativeTo:this.activatedRoute};var i=this.modal.getOpen().subscribe(l=>this.modalOpen=l);this.subscription.push(i),this.account=this.accountService.accountValue,this.url=this.activatedRoute.snapshot.pathFromRoot.map(l=>l.routeConfig?.path).join("/");var _=h.params.subscribe(function(){var l=(0,e.Z)(function*(b){b.cliente_id?(t.objeto.id=t.crypto.decrypt(b.cliente_id),(0,f.n)(t.clienteService.get(t.objeto.id)).then(P=>{t.objeto=P,3!=t.account?.perfilAcesso_Id||3==t.account?.perfilAcesso_Id&&t.account?.id==P.account_Id?setTimeout(()=>{t.modal.setOpen(!0)},200):t.voltar()}).catch(P=>{t.voltar()})):t.voltar()});return function(b){return l.apply(this,arguments)}}());this.subscription.push(_)}ngOnDestroy(){this.modal.setOpen(!1),this.subscription.forEach(h=>h.unsubscribe())}voltar(){this.modal.voltar(this.routerBack,this.routeBackOptions)}}return D.\u0275fac=function(h){return new(h||D)(p.Y36(T.gz),p.Y36(w.Q),p.Y36(r.w),p.Y36(g.$),p.Y36(I.B))},D.\u0275cmp=p.Xpm({type:D,selectors:[["app-deactivated"]],decls:4,vars:4,consts:[[1,"modal"],[1,"modal__bg",3,"click"],[1,"modal__inner",2,"max-width","600px"],[3,"objeto","service"]],template:function(h,m){1&h&&(p.TgZ(0,"div",0)(1,"div",1),p.NdJ("click",function(){return m.voltar()}),p.qZA(),p.TgZ(2,"div",2),p._UZ(3,"app-shared-deactivated",3),p.qZA()()),2&h&&(p.ekj("active",m.modalOpen),p.xp6(3),p.Q6J("objeto",m.objeto)("service",m.clienteService))},dependencies:[y.T]}),D})()},4595:(j,Z,o)=>{o.d(Z,{T:()=>h});var e=o(801),E=o(9808),f=o(4429),C=o(932),I=o(8913),g=o(9243),r=o(4650),p=o(202),T=o(7185),w=o(7549),y=o(6895);function L(m,s){if(1&m&&(r.TgZ(0,"li",16),r._uU(1),r.ALo(2,"json"),r.qZA()),2&m){const u=s.$implicit;r.xp6(1),r.Oqu(r.lcZ(2,1,u))}}function D(m,s){if(1&m&&(r.TgZ(0,"ul",14),r.YNc(1,L,3,3,"li",15),r.qZA()),2&m){const u=r.oxw();r.xp6(1),r.Q6J("ngForOf",u.erro)}}function N(m,s){1&m&&r._UZ(0,"span",17)}let h=(()=>{class m{constructor(u,n,t,i,_,l,b){this.router=u,this.activatedRoute=n,this.toastr=t,this.modal=i,this.clienteService=_,this.empresaService=l,this.crypto=b,this.faTimes=e.NBC,this.modalOpen=!1,this.erro=[],this.loading=!1,this.objeto=new f.c1,this.url="",this.subscription=[],this.routerBack=["../../"],this.routeBackOptions={relativeTo:this.activatedRoute};var P=this.modal.getOpen().subscribe(U=>this.modalOpen=U);this.subscription.push(P),this.url=this.activatedRoute.snapshot.pathFromRoot.map(U=>U.routeConfig?.path).join("/");var A=this.activatedRoute.params.subscribe(U=>{U.cliente_id?this.objeto.id=this.crypto.decrypt(U.cliente_id):this.voltar()});this.subscription.push(A),(this.url.includes("empresas/cadastrar")||this.objeto.registroNaoSalvo)&&(this.objeto=this.empresaService.object.cliente.find(U=>U.id==this.objeto.id)),setTimeout(()=>{this.modal.setOpen(!0)},200)}ngOnDestroy(){this.modal.setOpen(!1),this.subscription.forEach(u=>u.unsubscribe())}voltar(){this.modal.voltar(this.routerBack,this.routeBackOptions)}send(){this.loading=!0,this.url.includes("empresas/cadastrar")||this.objeto.registroNaoSalvo?(this.clienteService.delete_To_Empresa_List(this.objeto.id)&&(this.toastr.success("Opera\xe7\xe3o conclu\xedda"),this.voltar()),this.loading=!1):(this.url.includes("empresas/editar"),(0,E.n)(this.clienteService.delete(this.objeto.id)).then(u=>{(0,E.n)(this.clienteService.getList()),this.voltar(),this.clienteService.setObject(new f.c1)}).catch().finally(()=>this.loading=!1))}}return m.\u0275fac=function(u){return new(u||m)(r.Y36(p.F0),r.Y36(p.gz),r.Y36(T._W),r.Y36(w.Q),r.Y36(C.$),r.Y36(I.P),r.Y36(g.w))},m.\u0275cmp=r.Xpm({type:m,selectors:[["app-delete"]],decls:22,vars:5,consts:[[1,"modal"],[1,"modal__bg",3,"click"],[1,"modal__inner",2,"max-width","600px"],[1,"modal__content"],[1,"modal__header","pb-2"],[1,"text-orange"],[1,"mt-2"],[1,"modal__header-close","btn-close",3,"click"],[1,"modal__body","mt-0"],["class","m-0 col-lg-12 mt-1",4,"ngIf"],[1,"d-flex","justify-content-center","flex-wrap","p-0","mt-1"],[1,"btn","btn-grey","mr-1",3,"click"],[1,"btn","btn-primary","mr-0",3,"disabled","click"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"m-0","col-lg-12","mt-1"],["class","text-red",4,"ngFor","ngForOf"],[1,"text-red"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(u,n){1&u&&(r.TgZ(0,"div",0)(1,"div",1),r.NdJ("click",function(){return n.voltar()}),r.qZA(),r.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),r._uU(6,"Excluir registro"),r.qZA(),r.TgZ(7,"p",6),r._uU(8,"Tem certeza que deseja excluir esse registro? Ele n\xe3o poder\xe1 ser recuperado."),r.qZA(),r.TgZ(9,"p"),r._uU(10,"Todos os registros relacionados a este, tamb\xe9m ser\xe3o removidos."),r.qZA(),r.TgZ(11,"a",7),r.NdJ("click",function(){return n.voltar()}),r._UZ(12,"span")(13,"span"),r.qZA()(),r.TgZ(14,"div",8),r.YNc(15,D,2,1,"ul",9),r.TgZ(16,"div",10)(17,"button",11),r.NdJ("click",function(){return n.voltar()}),r._uU(18," Voltar"),r.qZA(),r.TgZ(19,"button",12),r.NdJ("click",function(){return n.send()}),r.YNc(20,N,1,0,"span",13),r._uU(21," Excluir "),r.qZA()()()()()()),2&u&&(r.ekj("active",n.modalOpen),r.xp6(15),r.Q6J("ngIf",n.erro),r.xp6(4),r.Q6J("disabled",n.loading),r.xp6(1),r.Q6J("ngIf",n.loading))},dependencies:[y.sg,y.O5,y.Ts]}),m})()},3834:(j,Z,o)=>{o.d(Z,{F:()=>D});var e=o(801),E=o(9808),f=o(4429),C=o(932),I=o(8913),g=o(9243),r=o(878),p=o(4650),T=o(202),w=o(7185),y=o(7549),L=o(6680);let D=(()=>{class N{constructor(m,s,u,n,t,i){this.activatedRoute=m,this.toastr=s,this.modal=u,this.crypto=n,this.clienteService=t,this.empresaService=i,this.faTimes=e.NBC,this.faChevronLeft=e.A35,this.modalOpen=!1,this.objeto=new f.c1,this.erro=[],this.loading=!1,this.url="",this.subscription=[],this.routerBack=["../../"],this.routeBackOptions={relativeTo:this.activatedRoute};var _=this.modal.getOpen().subscribe(l=>this.modalOpen=l);this.subscription.push(_),m.params.subscribe(l=>{l.cliente_id?this.objeto.id=this.crypto.decrypt(l.cliente_id):this.voltar()}),this.url=this.activatedRoute.snapshot.pathFromRoot.map(l=>l.routeConfig?.path).join("/"),this.url.includes("empresas/cadastrar")||this.objeto.registroNaoSalvo?this.objeto=this.empresaService.object.cliente.find(l=>l.id==this.objeto.id):(0,E.n)(this.clienteService.get(this.objeto.id)).then(l=>this.objeto=l).catch(l=>this.voltar()).finally(()=>this.loading=!1),setTimeout(()=>{this.modal.setOpen(!0)},200)}ngOnDestroy(){this.modal.setOpen(!1)}resetForm(){this.objeto=new f.c1}voltar(){this.modal.voltar(this.routerBack,this.routeBackOptions)}send(m){this.loading=!0,this.erro=[],this.url.includes("empresas/cadastrar")||this.objeto.registroNaoSalvo?(this.clienteService.edit_To_Empresa_List(this.objeto)&&(this.toastr.success("Opera\xe7\xe3o conclu\xedda"),this.voltar()),this.loading=!1):(this.url.includes("empresas/editar"),(0,E.n)(this.clienteService.edit(m)).then(s=>{(0,E.n)(this.clienteService.getList()),this.modal.voltar(this.routerBack,this.routeBackOptions)}).catch(s=>{this.erro.push((0,r.b)(s))}).finally(()=>this.loading=!1))}}return N.\u0275fac=function(m){return new(m||N)(p.Y36(T.gz),p.Y36(w._W),p.Y36(y.Q),p.Y36(g.w),p.Y36(C.$),p.Y36(I.P))},N.\u0275cmp=p.Xpm({type:N,selectors:[["app-edit"]],decls:12,vars:5,consts:[[1,"modal"],[1,"modal__bg",3,"click"],[1,"modal__inner",2,"max-width","1000px"],[1,"modal__content"],[1,"modal__header","pb-2"],[1,"text-orange"],[1,"modal__header-close","btn-close",3,"click"],[1,"modal__body","mt-0"],[3,"objeto","loading","erro","sendData"]],template:function(m,s){1&m&&(p.TgZ(0,"div",0)(1,"div",1),p.NdJ("click",function(){return s.voltar()}),p.qZA(),p.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),p._uU(6,"Editar cliente"),p.qZA(),p.TgZ(7,"a",6),p.NdJ("click",function(){return s.voltar()}),p._UZ(8,"span")(9,"span"),p.qZA()(),p.TgZ(10,"div",7)(11,"app-form-cliente",8),p.NdJ("sendData",function(n){return s.send(n)}),p.qZA()()()()()),2&m&&(p.ekj("active",s.modalOpen),p.xp6(11),p.Q6J("objeto",s.objeto)("loading",s.loading)("erro",s.erro))},dependencies:[L.r]}),N})()},932:(j,Z,o)=>{o.d(Z,{$:()=>s});var e=o(529),E=o(1135),f=o(8505),C=o(9646),I=o(4429),g=o(2340),r=o(9243),p=o(9398),T=o(8913),w=o(9535),y=o(46),L=o(1685),D=o(9876),N=o(4409),h=o(4650),m=o(7185);let s=(()=>{class u{constructor(t,i,_,l,b,P,A){this.http=t,this.crypto=i,this.empresaService=_,this.dropdownService=l,this.accountService=b,this.toastr=P,this.table=A,this.list=new E.X([]),this.url=g.N.url,this.objeto=new E.X(new I.c1),this.empresa=new p.oW,this.account=new L.mR,this.empresa=this.empresaService.object,this.empresaService.empresa.subscribe(U=>this.empresa=U),this.accountService.account.subscribe(U=>this.account=U??new L.mR)}getObject(){var t=localStorage.getItem("cliente");return t&&this.setObject(this.crypto.decrypt(t)??new I.c1),this.objeto}setObject(t){localStorage.setItem("cliente",this.crypto.encrypt(t)??""),this.objeto.next(t)}add_To_Empresa_List(t){if(this.empresa){var i=this.empresa.cliente??[];let l=this.dropdownService.perfilInvestidor.value.find(A=>A.id==t.perfilInvestidor_Id);if(!l)return this.toastr.error("Selecione um perfil de investidor v\xe1lido!!"),!1;t.perfilInvestidor=l;let b=this.dropdownService.estadoCivil.value.find(A=>A.id==t.estadoCivil_Id);if(!b)return this.toastr.error("Selecione um estado civil v\xe1lido!!"),!1;if(t.estadoCivil=b,this.empresa.cliente.find(A=>A.cpf==t.cpf||A.rg==t.rg))return this.toastr.error("CPF ou RG j\xe1 foram cadastrados!!"),!1;i.sort((A,U)=>A.id-U.id);var _=0==i.length?0:i[i.length-1].id;return t.id=++_,t.registroNaoSalvo=!0,i.push(t),this.empresa.cliente=i,this.empresaService.setObject(this.empresa,"add_To_Empresa_List"),this.toastr.success("Opera\xe7\xe3o conclu\xedda"),this.table.resetSelection(),!0}return this.toastr.error("Nenhuma empresa selecionada."),!1}edit_To_Empresa_List(t){if(this.empresa){var i=this.empresa.cliente??[];let _=i.findIndex(l=>l.id==t.id);if(-1!=_){let l=this.dropdownService.perfilInvestidor.value.find(A=>A.id==t.perfilInvestidor_Id);if(!l)return this.toastr.error("Selecione um perfil de investidor v\xe1lido!!"),!1;t.perfilInvestidor=l;let b=this.dropdownService.estadoCivil.value.find(A=>A.id==t.estadoCivil_Id);return b?(t.estadoCivil=b,this.empresa.cliente.find(A=>(A.cpf==t.cpf||A.rg==t.rg)&&A.id!=t.id)?(this.toastr.error("CPF ou RG j\xe1 foram cadastrados!!"),!1):(i.splice(_,1,t),this.empresa.cliente=i,this.empresaService.setObject(this.empresa,"edit_To_Empresa_List"),this.toastr.success("Opera\xe7\xe3o conclu\xedda"),!0)):(this.toastr.error("Selecione um estado civil v\xe1lido!!"),!1)}return this.toastr.error("Cliente n\xe3o encontrado!!"),!1}return this.toastr.error("Nenhuma empresa selecionada."),!1}delete_To_Empresa_List(t){if(this.empresa){var i=this.empresa.cliente??[];let _=i.findIndex(l=>l.id==t);return-1!=_?(i.splice(_,1),this.empresa.cliente=i,this.empresaService.setObject(this.empresa,"delete_To_Empresa_List"),this.toastr.success("Opera\xe7\xe3o conclu\xedda"),this.table.resetSelection(),!0):(this.toastr.error("Cliente n\xe3o encontrado!!"),!1)}return this.toastr.error("Nenhuma empresa selecionada."),!1}getList(t){return this.table.loading.next(!0),this.http.get(`${this.url}/cliente/all/${t=t??(this.account.perfilAcesso_Id!=N.u.Admin?this.account.empresa_Id:this.empresa.id)}`,{headers:new e.WM({loading:"false"})}).pipe((0,f.b)({next:i=>(i=i.map(_=>(_.ativo=!_.dataDesativado,_)),this.list.next(i),(0,C.of)(i))}))}get(t){return this.http.get(`${this.url}/cliente/${t}`,{headers:new e.WM({loading:"true"})})}getByDoc(t,i){return this.http.get(`${this.url}/cliente/get-by-doc/${t}/${i}`)}create(t){return this.http.post(`${this.url}/cliente/${this.account.perfilAcesso_Id!=N.u.Admin?this.account.empresa_Id:this.empresa.id}`,t)}edit(t){return this.http.put(`${this.url}/cliente/${t.id}`,t)}delete(t){return this.http.delete(`${this.url}/cliente/${t}`)}deactivated(t,i){return this.http.patch(`${this.url}/cliente/${t}/${i}`,{})}}return u.\u0275fac=function(t){return new(t||u)(h.LFG(e.eN),h.LFG(r.w),h.LFG(T.P),h.LFG(w.V),h.LFG(D.B),h.LFG(m._W),h.LFG(y.i))},u.\u0275prov=h.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},3071:(j,Z,o)=>{o.d(Z,{i:()=>s});var e=o(529),E=o(1135),f=o(8505),C=o(9646),I=o(9243),g=o(8164),r=o(2340),p=o(9535),T=o(9398),w=o(8913),y=o(46),L=o(9876),D=o(1685),N=o(4409),h=o(4650),m=o(7185);let s=(()=>{class u{constructor(t,i,_,l,b,P,A){this.table=t,this.http=i,this.toastr=_,this.crypto=l,this.dropdownService=b,this.empresaService=P,this.accountService=A,this.url=r.N.url,this.list=new E.X([]),this.objeto=new E.X(void 0),this.empresa=new T.oW,this.account=new D.mR,this.empresa=this.empresaService.object,this.empresaService.empresa.subscribe(U=>this.empresa=U),this.accountService.account.subscribe(U=>this.account=U??new D.mR)}getObject(){var t=localStorage.getItem("usuario");return t&&this.setObject(this.crypto.decrypt(t)??new g.bo),this.objeto}setObject(t){localStorage.setItem("usuario",this.crypto.encrypt(t)??""),this.objeto.next(t)}add_To_Empresa_List(t){if(this.empresa){var i=this.empresa.account??[];let l=this.dropdownService.perfilAcesso.value.find(P=>P.id==t.perfilAcesso_Id);if(!l)return this.toastr.error("Selecione um perfil de acesso v\xe1lido!!"),!1;if(t.perfilAcesso=l,this.empresa.account.find(P=>P.email==t.email))return this.toastr.error("Esse e-mail j\xe1 foi cadastrado!!"),!1;i.sort((P,A)=>P.id-A.id);var _=0==i.length?0:i[i.length-1].id;return t.id=++_,t.registroNaoSalvo=!0,i.push(t),this.empresa.account=i,this.empresaService.setObject(this.empresa,"add_To_Empresa_List"),this.toastr.success("Opera\xe7\xe3o conclu\xedda"),this.table.resetSelection(),!0}return this.toastr.error("Nenhuma empresa selecionada."),!1}edit_To_Empresa_List(t){if(this.empresa){var i=this.empresa.account??[];let _=i.findIndex(l=>l.id==t.id);if(-1!=_){let l=this.dropdownService.perfilAcesso.value.find(P=>P.id==t.perfilAcesso_Id);return l?(t.perfilAcesso=l,this.empresa.account.find(P=>P.email==t.email&&P.id!=t.id)?(this.toastr.error("E-mail j\xe1 foram cadastrados!!"),!1):(i.splice(_,1,t),this.empresa.account=i,this.empresaService.setObject(this.empresa,"edit_To_Empresa_List"),this.toastr.success("Opera\xe7\xe3o conclu\xedda"),!0)):(this.toastr.error("Selecione um perfil de investidor v\xe1lido!!"),!1)}return this.toastr.error("Usuario n\xe3o encontrado!!"),!1}return this.toastr.error("Nenhuma empresa selecionada."),!1}delete_To_Empresa_List(t){if(this.empresa){var i=this.empresa.account??[];let _=i.findIndex(l=>l.id==t);return-1!=_?(i.splice(_,1),this.empresa.account=i,this.empresaService.setObject(this.empresa,"delete_To_Empresa_List"),this.toastr.success("Opera\xe7\xe3o conclu\xedda"),this.table.resetSelection(),!0):(this.toastr.error("Usuario n\xe3o encontrado!!"),!1)}return this.toastr.error("Nenhuma empresa selecionada."),!1}getList(t){return this.table.loading.next(!0),this.http.get(`${this.url}/usuario/all/${t=t??(this.account.perfilAcesso_Id!=N.u.Admin?this.account.empresa_Id:this.empresa.id)}`,{headers:new e.WM({loading:"false"})}).pipe((0,f.b)({next:i=>(i=i.map(_=>(_.ativo=!_.dataDesativado,_)),this.list.next(i),(0,C.of)(i))}))}get(t){return this.http.get(`${this.url}/usuario/${t}`,{headers:new e.WM({loading:"true"})})}create(t){return this.http.post(`${this.url}/usuario/${this.account.perfilAcesso_Id!=N.u.Admin?this.account.empresa_Id:this.empresa.id}`,t)}edit(t){return this.http.put(`${this.url}/usuario`,t)}delete(t){return this.http.delete(`${this.url}/usuario/${t}`)}deactivated(t,i){return this.http.patch(`${this.url}/usuario/${t}/${i}`,{})}resetPassword(t){return this.http.patch(`${this.url}/usuario/reset-password/${t}`,{})}}return u.\u0275fac=function(t){return new(t||u)(h.LFG(y.i),h.LFG(e.eN),h.LFG(m._W),h.LFG(I.w),h.LFG(p.V),h.LFG(w.P),h.LFG(L.B))},u.\u0275prov=h.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},6680:(j,Z,o)=>{o.d(Z,{r:()=>ie});var e=o(4650),E=o(801),f=o(4429),C=o(9535),I=o(3866),g=o(9808),r=o(7185),p=o(6895),T=o(433),w=o(1094),y=o(279),L=o(7897);const D=["dataNascimento"];function N(a,M){1&a&&(e.TgZ(0,"p",8),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function h(a,M){1&a&&(e.TgZ(0,"span"),e._uU(1,"Remova os espa\xe7os antes e depois do texto."),e.qZA())}function m(a,M){if(1&a&&(e.TgZ(0,"p",8),e.YNc(1,h,2,0,"span",11),e.qZA()),2&a){e.oxw(2);const d=e.MAs(12);e.xp6(1),e.Q6J("ngIf","^\\S(.*\\S)?$"==d.errors.pattern.requiredPattern)}}function s(a,M){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,N,2,0,"p",57),e.YNc(2,m,2,1,"p",57),e.qZA()),2&a){e.oxw();const d=e.MAs(12);e.xp6(1),e.Q6J("ngIf",d.errors.required),e.xp6(1),e.Q6J("ngIf",d.errors.pattern)}}function u(a,M){if(1&a&&(e.TgZ(0,"option",16),e._uU(1),e.qZA()),2&a){const d=M.$implicit;e.Q6J("ngValue",d.id),e.xp6(1),e.Oqu(d.descricao)}}function n(a,M){1&a&&(e.TgZ(0,"p",8),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function t(a,M){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,n,2,0,"p",57),e.qZA()),2&a){e.oxw();const d=e.MAs(20);e.xp6(1),e.Q6J("ngIf",d.errors.required)}}function i(a,M){if(1&a&&(e.TgZ(0,"option",16),e._uU(1),e.qZA()),2&a){const d=M.$implicit;e.Q6J("ngValue",d.id),e.xp6(1),e.Oqu(d.descricao)}}function _(a,M){1&a&&(e.TgZ(0,"p",8),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function l(a,M){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,_,2,0,"p",57),e.qZA()),2&a){e.oxw();const d=e.MAs(31);e.xp6(1),e.Q6J("ngIf",d.errors.required)}}function b(a,M){1&a&&(e.TgZ(0,"p",8),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function P(a,M){1&a&&(e.TgZ(0,"p",8),e._uU(1,"CPF inv\xe1lido."),e.qZA())}function A(a,M){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,b,2,0,"p",57),e.YNc(2,P,2,0,"p",57),e.qZA()),2&a){e.oxw();const d=e.MAs(43);e.xp6(1),e.Q6J("ngIf",d.errors.required),e.xp6(1),e.Q6J("ngIf",d.errors.mask)}}function U(a,M){1&a&&(e.TgZ(0,"p",8),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function J(a,M){1&a&&(e.TgZ(0,"p",8),e._uU(1,"RG inv\xe1lido."),e.qZA())}function Y(a,M){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,U,2,0,"p",57),e.YNc(2,J,2,0,"p",57),e.qZA()),2&a){e.oxw();const d=e.MAs(51);e.xp6(1),e.Q6J("ngIf",d.errors.required),e.xp6(1),e.Q6J("ngIf",d.errors.mask)}}function Q(a,M){1&a&&(e.TgZ(0,"p",8),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function k(a,M){1&a&&(e.TgZ(0,"p",8),e._uU(1,"Data inv\xe1lida."),e.qZA())}function $(a,M){if(1&a&&(e.TgZ(0,"p",8)(1,"small"),e._uU(2),e.qZA()()),2&a){const d=e.oxw(2);e.xp6(2),e.hij("Data m\xednima \xe9 ",d.dataNascimentoMin,"")}}function V(a,M){if(1&a&&(e.TgZ(0,"p",8)(1,"small"),e._uU(2),e.qZA()()),2&a){const d=e.oxw(2);e.xp6(2),e.hij("Data m\xe1xima \xe9 ",d.dataNascimentoMax,"")}}function G(a,M){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,Q,2,0,"p",57),e.YNc(2,k,2,0,"p",57),e.YNc(3,$,3,1,"p",57),e.YNc(4,V,3,1,"p",57),e.qZA()),2&a){e.oxw();const d=e.MAs(59);e.xp6(1),e.Q6J("ngIf",d.errors.required),e.xp6(1),e.Q6J("ngIf",d.errors.date),e.xp6(1),e.Q6J("ngIf",d.errors.min),e.xp6(1),e.Q6J("ngIf",d.errors.max)}}function q(a,M){1&a&&(e.TgZ(0,"p",8),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function H(a,M){1&a&&(e.TgZ(0,"p",8),e._uU(1,"E-mail inv\xe1lido."),e.qZA())}function X(a,M){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,q,2,0,"p",57),e.YNc(2,H,2,0,"p",57),e.qZA()),2&a){e.oxw();const d=e.MAs(75);e.xp6(1),e.Q6J("ngIf",d.errors.required),e.xp6(1),e.Q6J("ngIf",d.errors.email)}}function z(a,M){if(1&a&&(e.TgZ(0,"p",61),e._uU(1),e.ALo(2,"json"),e.qZA()),2&a){const d=M.$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,d))}}function ee(a,M){1&a&&(e.TgZ(0,"p",61),e._uU(1,"Preencha todos os campos obrigat\xf3rios (*) corretamente para salvar"),e.qZA())}function te(a,M){if(1&a&&(e.TgZ(0,"div",58),e.YNc(1,z,3,3,"p",59),e.YNc(2,ee,2,0,"p",60),e.qZA()),2&a){const d=e.oxw(),c=e.MAs(1);e.xp6(1),e.Q6J("ngForOf",d.erro),e.xp6(1),e.Q6J("ngIf",c.invalid&&0==d.erro.length)}}function oe(a,M){1&a&&e._UZ(0,"span",62)}function re(a,M){1&a&&(e.TgZ(0,"div",63),e._uU(1," Este campo \xe9 obrigat\xf3rio "),e.qZA())}let ie=(()=>{class a{constructor(d,c){this.toastr=d,this.dropdown=c,this.objeto=new f.c1,this.loading=!1,this.erro=[],this.sendData=new e.vpe,this.faPlus=E.r8p,this.faTrashAlt=E.I7k,this.faChartSimple=E.Wpq,this.faTable=E.B3e,this.faEdit=E.Xcf,this.perfilInvestidor=[],this.loadingPerfilInvestidor=!0,this.estadoCivil=[],this.loadingEstadoCivil=!0,this.dataNascimentoMin="",this.dataNascimentoMax="",(0,g.n)(this.dropdown.getPerfilInvestidor()).then(v=>this.perfilInvestidor=v).finally(()=>this.loadingPerfilInvestidor=!1),(0,g.n)(this.dropdown.getEstadoCivil()).then(v=>this.estadoCivil=v).catch().finally(()=>this.loadingEstadoCivil=!1);var x=new Date;x.setFullYear(x.getFullYear()+100),this.dataNascimentoMax=x.toJSON().substring(0,10);var O=new Date;O.setFullYear(O.getFullYear()-100),this.dataNascimentoMin=O.toJSON().substring(0,10)}ngOnChanges(d){d.objeto&&(this.objeto=d.objeto.currentValue),d.loading&&(this.loading=d.loading.currentValue),d.erro&&(this.erro=d.erro.currentValue)}send(d){if(d.invalid)return this.toastr.error("Campos inv\xe1lidos"),void(this.erro=["Campos inv\xe1lidos"]);this.erro=[],this.objeto.idadeAposentadoria=parseInt(this.objeto.idadeAposentadoria.toString()),this.objeto.cpf=parseInt(this.objeto.cpf.toString()),this.objeto.rg=parseInt(this.objeto.rg.toString()),this.sendData.emit(this.objeto)}calculaIdade(){if(this.objeto.dataNascimento&&""!=this.objeto.dataNascimento.toString().trim()){var d=Date.now()-new Date(new Date(this.objeto.dataNascimento).toUTCString()).getTime(),c=new Date(d);this.objeto.idade=Math.abs(c.getUTCFullYear()-1970)}else this.objeto.idade=""}arrowUp(d){return(0,I.zJ)(d)}arrowDown(d,c=!1){return(0,I.DI)(d,c)}validateDataNascimento(){var d=new Date(this.objeto.dataNascimento),c=new Date(this.dataNascimentoMin),x=new Date(this.dataNascimentoMax);this.dataNascimento&&(d>x?this.dataNascimento.control.setErrors({max:!0}):d<c&&this.dataNascimento.control.setErrors({min:!0}))}validateNumber(d){var O=d.value;return O>1e8&&d.control.setErrors({max:!0}),O>0&&d.control.setErrors({min:!0}),d}}return a.\u0275fac=function(d){return new(d||a)(e.Y36(r._W),e.Y36(C.V))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-form-cliente"]],viewQuery:function(d,c){if(1&d&&e.Gf(D,5),2&d){let x;e.iGM(x=e.CRH())&&(c.dataNascimento=x.first)}},inputs:{objeto:"objeto",loading:"loading",erro:"erro"},outputs:{sendData:"sendData"},features:[e.TTD],decls:128,vars:85,consts:[[1,"needs-validation",3,"ngSubmit"],["form","ngForm"],[1,"d-flex","flex-wrap","row"],[1,"col-xl-8","col-lg-8","col-md-8","col-sm-12","col-12"],[1,""],[1,"form-row"],[1,"form-group","col-lg-5","col-md-5","col-sm-12","col-12"],["for","nome"],[1,"text-danger"],["type","text","name","nome","id","nome","required","","popoverClass","popover-danger","triggers","mouseenter:mouseleave","pattern","\\S(.*\\S)?",1,"form-control",3,"ngModel","ngbPopover","ngModelChange","change"],["nome","ngModel"],[4,"ngIf"],[1,"form-group","col-lg-4","col-md-4","col-sm-6","col-12"],["for","perfilInvestidor"],["name","perfilInvestidor","id","perfilInvestidor","required","","popoverClass","popover-danger","triggers","mouseenter:mouseleave",1,"form-control",3,"ngModel","ngbPopover","ngModelChange"],["_perfilInvestidor","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"form-group","col-lg-3","col-md-3","col-sm-6","col-12"],["for","estadoCivil"],["name","estadoCivil","id","estadoCivil","required","","popoverClass","popover-danger","triggers","mouseenter:mouseleave",1,"form-control",3,"ngModel","ngbPopover","ngModelChange"],["_estadoCivil","ngModel"],["for","cpf"],["type","text","name","cpf","id","cpf","popoverClass","popover-danger","triggers","mouseenter:mouseleave","mask","000.000.000-00","placeholder","000.000.000-00","required","","pattern","\\d{3}\\.?\\d{3}\\.?\\d{3}-?\\d{2}",1,"form-control",3,"ngModel","ngbPopover","ngModelChange"],["cpf","ngModel"],["for","rg"],["type","text","name","rg","id","rg","popoverClass","popover-danger","triggers","mouseenter:mouseleave","mask","00.000.000-0","placeholder","00.000.000-0","required","","pattern","\\d{2}\\.?\\d{3}\\.?\\d{3}-?\\d{1}",1,"form-control",3,"ngModel","ngbPopover","ngModelChange"],["rg","ngModel"],["for","dataNascimento"],["type","date","name","dataNascimento","id","dataNascimento","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","min","max","ngModelChange"],["dataNascimento","ngModel"],[1,"form-group","col-lg-2","col-md-2","col-sm-6","col-12"],["for","idade"],["type","text","name","idade","id","idade","popoverClass","popover-danger","triggers","mouseenter:mouseleave","mask","0*","suffix"," anos","required","",1,"form-control","form-control-number",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown"],["idade","ngModel"],[1,"form-group","col-lg-12","col-md-12","col-sm-12","col-12"],["for","email"],["type","email","name","email","id","email","required","","popoverClass","popover-danger","triggers","mouseenter:mouseleave",1,"form-control",3,"email","ngModel","ngbPopover","ngModelChange"],["email","ngModel"],[1,"form-group","col-lg-6","col-md-6","col-sm-12"],["for","receita"],[3,"valueInput","inputId","mask","thousandSeparator","decimalMarker","prefix","min","max","required","valueChanges"],["for","despesa"],[1,"col-xl-4","col-lg-4","col-md-4","col-sm-12","col-12"],[1,"mt-3"],[1,"p-datatable-wrapper"],[1,"table","table-editable","table-responsive","w-100","d-md-table","d-sm-table"],[1,"primary"],[1,"bg-light","px-3","text-right",2,"white-space","nowrap"],[3,"valueInput","inputId","mask","suffix","min","max","required","showErrorMessage","valueChanges"],[3,"valueInput","inputId","mask","thousandSeparator","decimalMarker","prefix","min","max","required","placeholder","showErrorMessage","valueChanges"],[3,"valueInput","inputId","mask","suffix","max","required","showErrorMessage","allowNegativeNumbers","placeholder","valueChanges"],[1,"d-flex","p-0","mt-1"],["class","m-0",4,"ngIf"],[1,"btn","btn-primary","mr-0","ml-auto",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["campoObrigatorio",""],["class","text-danger",4,"ngIf"],[1,"m-0"],["class","text-red",4,"ngFor","ngForOf"],["class","text-red",4,"ngIf"],[1,"text-red"],[1,"spinner-border","spinner-border-sm","mr-1"],[1,"py-3","px-4"]],template:function(d,c){if(1&d){const x=e.EpF();e.TgZ(0,"form",0,1),e.NdJ("ngSubmit",function(){e.CHM(x);const v=e.MAs(1);return e.KtG(c.send(v))}),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"label",7),e._uU(8,"Nome Completo: "),e.TgZ(9,"span",8),e._uU(10,"*"),e.qZA()(),e.TgZ(11,"input",9,10),e.NdJ("ngModelChange",function(v){return c.objeto.nome=v})("change",function(){e.CHM(x);const v=e.MAs(12);return e.KtG(c.objeto.nome=v.value.trim())}),e.qZA(),e.YNc(13,s,3,2,"div",11),e.qZA(),e.TgZ(14,"div",12)(15,"label",13),e._uU(16,"Perfil de Investidor: "),e.TgZ(17,"span",8),e._uU(18,"*"),e.qZA()(),e.TgZ(19,"select",14,15),e.NdJ("ngModelChange",function(v){return c.objeto.perfilInvestidor_Id=v}),e.TgZ(21,"option",16),e._uU(22,"Selecione"),e.qZA(),e.YNc(23,u,2,2,"option",17),e.qZA(),e.YNc(24,t,2,1,"div",11),e.qZA(),e.TgZ(25,"div",18)(26,"label",19),e._uU(27,"Estado Civil: "),e.TgZ(28,"span",8),e._uU(29,"*"),e.qZA()(),e.TgZ(30,"select",20,21),e.NdJ("ngModelChange",function(v){return c.objeto.estadoCivil_Id=v}),e.TgZ(32,"option",16),e._uU(33,"Selecione"),e.qZA(),e.YNc(34,i,2,2,"option",17),e.qZA(),e.YNc(35,l,2,1,"div",11),e.qZA()(),e.TgZ(36,"div",5)(37,"div",18)(38,"label",22),e._uU(39,"CPF: "),e.TgZ(40,"span",8),e._uU(41,"*"),e.qZA()(),e.TgZ(42,"input",23,24),e.NdJ("ngModelChange",function(v){return c.objeto.cpf=v}),e.qZA(),e.YNc(44,A,3,2,"div",11),e.qZA(),e.TgZ(45,"div",18)(46,"label",25),e._uU(47,"RG: "),e.TgZ(48,"span",8),e._uU(49,"*"),e.qZA()(),e.TgZ(50,"input",26,27),e.NdJ("ngModelChange",function(v){return c.objeto.rg=v}),e.qZA(),e.YNc(52,Y,3,2,"div",11),e.qZA(),e.TgZ(53,"div",12)(54,"label",28),e._uU(55,"Data de Nascimento: "),e.TgZ(56,"span",8),e._uU(57,"*"),e.qZA()(),e.TgZ(58,"input",29,30),e.NdJ("ngModelChange",function(v){return c.objeto.dataNascimento=v})("ngModelChange",function(){return c.calculaIdade(),c.validateDataNascimento()}),e.qZA(),e.YNc(60,G,5,4,"div",11),e.qZA(),e.TgZ(61,"div",31)(62,"label",32),e._uU(63,"Idade: "),e.TgZ(64,"span",8),e._uU(65,"*"),e.qZA()(),e.TgZ(66,"input",33,34),e.NdJ("ngModelChange",function(v){return c.objeto.idade=v})("keyup.arrowup",function(){e.CHM(x);const v=e.MAs(67);return e.KtG(c.objeto.idade=c.arrowUp(v.value))})("keyup.arrowdown",function(){e.CHM(x);const v=e.MAs(67);return e.KtG(c.objeto.idade=c.arrowDown(v.value,!0))}),e.qZA()()(),e.TgZ(68,"div",5)(69,"div",35)(70,"label",36),e._uU(71,"E-mail: "),e.TgZ(72,"span",8),e._uU(73,"*"),e.qZA()(),e.TgZ(74,"input",37,38),e.NdJ("ngModelChange",function(v){return c.objeto.email=v}),e.qZA(),e.YNc(76,X,3,2,"div",11),e.qZA()(),e.TgZ(77,"div",5)(78,"div",39)(79,"label",40),e._uU(80,"Receita: "),e.TgZ(81,"span",8),e._uU(82,"*"),e.qZA()(),e.TgZ(83,"app-input-number",41),e.NdJ("valueChanges",function(v){return c.objeto.receita=v}),e.qZA()(),e.TgZ(84,"div",39)(85,"label",42),e._uU(86,"Despesas: "),e.TgZ(87,"span",8),e._uU(88,"*"),e.qZA()(),e.TgZ(89,"app-input-number",41),e.NdJ("valueChanges",function(v){return c.objeto.despesa=v}),e.qZA()()()()(),e.TgZ(90,"div",43)(91,"div",44)(92,"div",45)(93,"table",46)(94,"thead",47)(95,"tr"),e._UZ(96,"th"),e.TgZ(97,"th"),e._uU(98,"Aposentadoria"),e.qZA()()(),e.TgZ(99,"tbody")(100,"tr")(101,"td",48)(102,"small")(103,"b"),e._uU(104,"Idade"),e.qZA()()(),e.TgZ(105,"td")(106,"app-input-number",49),e.NdJ("valueChanges",function(v){return c.objeto.idadeAposentadoria=v}),e.qZA()()(),e.TgZ(107,"tr")(108,"td",48)(109,"small")(110,"b"),e._uU(111,"Renda Mensal"),e.qZA()()(),e.TgZ(112,"td")(113,"app-input-number",50),e.NdJ("valueChanges",function(v){return c.objeto.rendaMensalAposentadoria=v}),e.qZA()()(),e.TgZ(114,"tr")(115,"td",48)(116,"small")(117,"b"),e._uU(118,"Rentabilidade"),e.qZA()()(),e.TgZ(119,"td")(120,"app-input-number",51),e.NdJ("valueChanges",function(v){return c.objeto.rentabilidadeAposentadoria=v}),e.qZA()()()()()()()()(),e.TgZ(121,"div",52),e.YNc(122,te,3,2,"div",53),e.TgZ(123,"button",54),e.YNc(124,oe,1,0,"span",55),e._uU(125," Salvar "),e.qZA()()(),e.YNc(126,re,2,0,"ng-template",null,56,e.W1O)}if(2&d){const x=e.MAs(1),O=e.MAs(12),v=e.MAs(20),R=e.MAs(31),S=e.MAs(43),F=e.MAs(51),W=e.MAs(59),ne=e.MAs(67),K=e.MAs(75),B=e.MAs(127);e.xp6(11),e.Q6J("ngModel",c.objeto.nome)("ngbPopover",B),e.xp6(2),e.Q6J("ngIf",O.touched&&O.errors),e.xp6(6),e.ekj("form-control-loading",c.loadingPerfilInvestidor),e.Q6J("ngModel",c.objeto.perfilInvestidor_Id)("ngbPopover",B),e.xp6(2),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",c.perfilInvestidor),e.xp6(1),e.Q6J("ngIf",v.touched&&v.errors),e.xp6(6),e.ekj("form-control-loading",c.loadingEstadoCivil),e.Q6J("ngModel",c.objeto.estadoCivil_Id)("ngbPopover",B),e.xp6(2),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",c.estadoCivil),e.xp6(1),e.Q6J("ngIf",R.touched&&R.errors),e.xp6(7),e.Q6J("ngModel",c.objeto.cpf)("ngbPopover",B),e.xp6(2),e.Q6J("ngIf",S.touched&&S.errors),e.xp6(6),e.Q6J("ngModel",c.objeto.rg)("ngbPopover",B),e.xp6(2),e.Q6J("ngIf",F.touched&&F.errors),e.xp6(6),e.Q6J("ngModel",c.objeto.dataNascimento)("ngbPopover",B)("min",c.dataNascimentoMin)("max",c.dataNascimentoMax),e.xp6(2),e.Q6J("ngIf",W.touched&&W.errors),e.xp6(6),e.Q6J("ngModel",c.objeto.idade)("ngbPopover",B)("disablePopover",null==ne.errors),e.xp6(8),e.Q6J("email",!0)("ngModel",c.objeto.email)("ngbPopover",B),e.xp6(2),e.Q6J("ngIf",K.touched&&K.errors),e.xp6(7),e.Q6J("valueInput",c.objeto.receita)("inputId","receita")("mask","separator")("thousandSeparator",".")("decimalMarker",",")("prefix","R$")("min",1)("max",1e8)("required",!0),e.xp6(6),e.Q6J("valueInput",c.objeto.despesa)("inputId","despesa")("mask","separator")("thousandSeparator",".")("decimalMarker",",")("prefix","R$")("min",1)("max",1e8)("required",!0),e.xp6(17),e.Q6J("valueInput",c.objeto.idadeAposentadoria)("inputId","idadeAposentadoria")("mask","0*")("suffix"," anos")("min",20)("max",100)("required",!0)("showErrorMessage",!1),e.xp6(7),e.Q6J("valueInput",c.objeto.rendaMensalAposentadoria)("inputId","rendaMensalAposentadoria")("mask","separator.5")("thousandSeparator",".")("decimalMarker",",")("prefix","R$")("min",1)("max",1e8)("required",!0)("placeholder","R$ 00,00")("showErrorMessage",!1),e.xp6(7),e.Q6J("valueInput",c.objeto.rentabilidadeAposentadoria)("inputId","rentabilidadeAposentadoria")("mask","separator.5")("suffix","%")("max",1e8)("required",!0)("showErrorMessage",!1)("allowNegativeNumbers",!0)("placeholder","0,00%")("showErrorMessage",!1),e.xp6(2),e.Q6J("ngIf",c.erro||x.invalid),e.xp6(1),e.Q6J("disabled",x.invalid||c.loading),e.xp6(1),e.Q6J("ngIf",c.loading)}},dependencies:[p.sg,p.O5,T._Y,T.YN,T.Kr,T.Fj,T.EJ,T.JJ,T.JL,T.Q7,T.c5,T.on,T.On,T.F,w.hx,y.o8,L.l,p.Ts]}),a})()},7897:(j,Z,o)=>{o.d(Z,{l:()=>D});var e=o(4650),E=o(433),f=o(6895),C=o(1094),I=o(279);const g=["input"];function r(s,u){1&s&&(e.TgZ(0,"p",5),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function p(s,u){1&s&&(e.TgZ(0,"p",5),e._uU(1,"Valor inv\xe1lido."),e.qZA())}function T(s,u){if(1&s&&(e.TgZ(0,"p",5),e._uU(1),e.qZA()),2&s){const n=e.oxw(2);e.xp6(1),e.hij("Valor m\xednimo \xe9 ",n.min,".")}}function w(s,u){if(1&s&&(e.TgZ(0,"p",5),e._uU(1),e.qZA()),2&s){const n=e.oxw(2);e.xp6(1),e.hij("Valor m\xe1ximo \xe9 ",n.max,".")}}function y(s,u){if(1&s&&(e.TgZ(0,"div"),e.YNc(1,r,2,0,"p",4),e.YNc(2,p,2,0,"p",4),e.YNc(3,T,2,1,"p",4),e.YNc(4,w,2,1,"p",4),e.qZA()),2&s){e.oxw();const n=e.MAs(1);e.xp6(1),e.Q6J("ngIf",n.errors.required),e.xp6(1),e.Q6J("ngIf",n.errors.mask),e.xp6(1),e.Q6J("ngIf",n.errors.min),e.xp6(1),e.Q6J("ngIf",n.errors.max)}}function L(s,u){1&s&&(e.TgZ(0,"div",6),e._uU(1," Este campo \xe9 obrigat\xf3rio "),e.qZA())}let D=(()=>{class s{constructor(){this.thousandSeparator=".",this.decimalMarker=",",this.inputId="",this.required=!1,this.arrowControls=!0,this.showErrorMessage=!0,this.showPopover=!0,this.allowNegativeNumbers=!1,this.placeholder="",this.readonly=!1,this.disabled=!1,this.valueChanges=new e.vpe}ngOnChanges(n){n.valueInput&&(this.valueInput=n.valueInput.currentValue),n.mask&&(this.mask=n.mask.currentValue),n.suffix&&(this.suffix=n.suffix.currentValue),n.prefix&&(this.prefix=n.prefix.currentValue),n.thousandSeparator&&(this.thousandSeparator=n.thousandSeparator.currentValue),n.decimalMarker&&(this.decimalMarker=n.decimalMarker.currentValue),n.inputId&&(this.inputId=n.inputId.currentValue),n.min&&(this.min=n.min.currentValue),n.max&&(this.max=n.max.currentValue),n.required&&(this.required=n.required.currentValue),n.arrowControls&&(this.arrowControls=n.arrowControls.currentValue),n.showErrorMessage&&(this.showErrorMessage=n.showErrorMessage.currentValue),n.showPopover&&(this.showPopover=n.showPopover.currentValue),n.placeholder&&(this.placeholder=n.placeholder.currentValue),n.allowNegativeNumbers&&(this.allowNegativeNumbers=n.allowNegativeNumbers.currentValue),n.readonly&&(this.readonly=n.readonly.currentValue),n.disabled&&(this.disabled=n.disabled.currentValue),setTimeout(()=>{this.validate()},300)}validate(){this.input.control.setValue(this.valueInput),1==this.required&&!this.valueInput.toString().trim()&&this.input.control.setErrors({required:!0}),null!=this.max&&this.valueInput>this.max&&this.input.control.setErrors({max:!0}),null!=this.min&&this.valueInput<this.min&&this.input.control.setErrors({min:!0})}inputChanged(){this.valueChanges.emit(this.valueInput)}arrowUp(n,t=1,i=0,_=1e8,l=this.allowNegativeNumbers){var b=function N(s){return s.value+=s.skip,null!=s.max&&null!=s.max&&s.value>s.max&&(s.value=s.max),s.value}({value:n,skip:t,min:i,max:_,allowNegativeNumbers:l??!1});return this.valueInput=parseFloat(b),setTimeout(()=>this.validate(),500),b}arrowDown(n,t=1,i=0,_=1e8,l=this.allowNegativeNumbers){var b=function h(s){var u=s.value-s.skip;return!s.allowNegativeNumbers&&u<1?u=0:null!=s.min&&null!=s.min&&u<s.min&&(u=s.min),u}({value:n,skip:t,min:i,max:_,allowNegativeNumbers:l??!1});return this.valueInput=parseFloat(b),setTimeout(()=>this.validate(),500),n}}return s.\u0275fac=function(n){return new(n||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-input-number"]],viewQuery:function(n,t){if(1&n&&e.Gf(g,5),2&n){let i;e.iGM(i=e.CRH())&&(t.input=i.first)}},inputs:{valueInput:"valueInput",mask:"mask",suffix:"suffix",prefix:"prefix",thousandSeparator:"thousandSeparator",decimalMarker:"decimalMarker",inputId:"inputId",min:"min",max:"max",required:"required",arrowControls:"arrowControls",showErrorMessage:"showErrorMessage",showPopover:"showPopover",allowNegativeNumbers:"allowNegativeNumbers",placeholder:"placeholder",readonly:"readonly",disabled:"disabled"},outputs:{valueChanges:"valueChanges"},features:[e._Bn([],[{provide:E.gN,useExisting:E.F}]),e.TTD],decls:5,vars:20,consts:[["type","text",1,"form-control","form-control-number",3,"id","name","ngModel","mask","thousandSeparator","decimalMarker","suffix","prefix","allowNegativeNumbers","ngbPopover","popoverClass","disablePopover","triggers","min","max","required","placeholder","readonly","disabled","ngModelChange","change","keyup.arrowup","keyup.arrowdown","keyup.shift.arrowup","keyup.shift.arrowdown","keyup.control.arrowup","keyup.control.arrowdown","keyup.alt.arrowUp","keyup.alt.arrowdown"],["input","ngModel"],[4,"ngIf"],["campoObrigatorio",""],["class","text-danger",4,"ngIf"],[1,"text-danger"],[1,"py-3","px-4"]],template:function(n,t){if(1&n){const i=e.EpF();e.TgZ(0,"input",0,1),e.NdJ("ngModelChange",function(l){return t.valueInput=l})("change",function(){return t.inputChanged(),t.validate()})("keyup.arrowup",function(){e.CHM(i);const l=e.MAs(1);return e.KtG(t.arrowControls?t.arrowUp(l.value):void 0)})("keyup.arrowdown",function(){e.CHM(i);const l=e.MAs(1);return e.KtG(t.arrowControls?t.arrowDown(l.value):void 0)})("keyup.shift.arrowup",function(){e.CHM(i);const l=e.MAs(1);return e.KtG(t.arrowControls?t.arrowUp(l.value,10):void 0)})("keyup.shift.arrowdown",function(){e.CHM(i);const l=e.MAs(1);return e.KtG(t.arrowControls?t.arrowDown(l.value,10):void 0)})("keyup.control.arrowup",function(){e.CHM(i);const l=e.MAs(1);return e.KtG(t.arrowControls?t.arrowUp(l.value,100):void 0)})("keyup.control.arrowdown",function(){e.CHM(i);const l=e.MAs(1);return e.KtG(t.arrowControls?t.arrowDown(l.value,100):void 0)})("keyup.alt.arrowUp",function(){e.CHM(i);const l=e.MAs(1);return e.KtG(t.arrowControls?t.arrowUp(l.value,.1):void 0)})("keyup.alt.arrowdown",function(){e.CHM(i);const l=e.MAs(1);return e.KtG(t.arrowControls?t.arrowDown(l.value,.1):void 0)}),e.qZA(),e.YNc(2,y,5,4,"div",2),e.YNc(3,L,2,0,"ng-template",null,3,e.W1O)}if(2&n){const i=e.MAs(1),_=e.MAs(4);let l;e.Q6J("id",t.inputId)("name",t.inputId)("ngModel",t.valueInput)("mask",t.mask?t.mask:"")("thousandSeparator",t.thousandSeparator?t.thousandSeparator:"")("decimalMarker",t.decimalMarker)("suffix",t.suffix?t.suffix:"")("prefix",t.prefix?t.prefix+" ":"")("allowNegativeNumbers",null!==(l=t.allowNegativeNumbers)&&void 0!==l&&l)("ngbPopover",t.showPopover&&t.required?_:void 0)("popoverClass",t.showPopover?"popover-danger":"")("disablePopover",null==i.errors||!t.showPopover)("triggers",t.showPopover?"mouseenter:mouseleave":"")("min",t.min)("max",t.max)("required",t.required)("placeholder",t.placeholder)("readonly",t.readonly)("disabled",t.disabled),e.xp6(2),e.Q6J("ngIf",i.touched&&i.errors&&t.showErrorMessage)}},dependencies:[f.O5,E.Fj,E.JJ,E.Q7,E.On,C.hx,I.o8],styles:[".form-control[disabled][_ngcontent-%COMP%]{cursor:default;background-color:inherit}"]}),s})()},3866:(j,Z,o)=>{function C(g=0,r){return g=++g,null!=r&&null!=r&&g>r&&(g=r),g}function I(g=0,r=!1){return(g=--g)<0&&!r&&(g=0),g}o.d(Z,{DI:()=>I,zJ:()=>C})}}]);