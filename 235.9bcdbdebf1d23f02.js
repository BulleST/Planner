"use strict";(self.webpackChunkplanner=self.webpackChunkplanner||[]).push([[235],{235:(oo,ae,m)=>{m.r(ae),m.d(ae,{ClientesModule:()=>ao});var f=m(6895),g=m(433),S=m(3868),B=m(1094),H=m(7185),k=m(7318),Q=m(279),Me=m(5861),b=m(801),Z=m(9808),oe=m(4429),re=m(9398),z=m(1685);class j{constructor(){this.id=0,this.planejamento_Id=0,this.montante=0}}class T{constructor(){this.id=0,this.cliente_Id=0,this.cliente=new oe.c1,this.account_Id=0,this.account=new z.mR,this.carteiraSetup_Id=void 0,this.carteiraSetup=void 0,this.data="",this.descricao="",this.taxaSelic="",this.taxaIpca="",this.cm=!1,this.rE_Sugerido="",this.rE_Planejado="",this.riscoAssumido="",this.riscoTolerado="",this.sugestao_Baixissimo="",this.sugestao_Baixo="",this.sugestao_Moderado="",this.sugestao_Arrojado="",this.sugestao_SuperArrojado="",this.sugestao_Hedge="",this.sugestao_Total="",this.plano_Baixissimo="",this.plano_Baixo="",this.plano_Moderado="",this.plano_Arrojado="",this.plano_SuperArrojado="",this.plano_Hedge="",this.plano_Total="",this.atual_Total=0,this.atual_RentabilidadeMedia=0,this.atual_RentabilidadeReal=0,this.sugerido_Total=0,this.planoAcao_Total=0,this.planoAcao_RentabilidadeMedia=0,this.planoAcao_RentabilidadeReal=0,this.planejamentoAgregandoValor=new j,this.planejamentoGrafico=[],this.planejamentoInvestimento=[],this.planejamentoProduto=[],this.planejamentoFluxosPontuais=[],this.principaisObjetivos=[]}}var O=m(9876),ie=m(932),K=m(8913),V=m(529),E=m(1135),Ae=m(8505),xe=m(9646),L=m(4004),le=m(2340),R=m(9243),W=m(4409),se=m(46),de=m(1939),e=m(4650);let w=(()=>{class a{constructor(t,n,o,i,r,s){this.http=t,this.crypto=n,this.accountService=o,this.empresaService=i,this.table=r,this.urlBackendService=s,this.list=new E.X([]),this.url=le.N.url,this.objeto=new E.X(new T),this.empresa=new re.oW,this.account=new z.mR,this.planejamentoBackup=new E.X(new T),this.urlBackendService.url.subscribe(d=>this.url=d),this.empresa=this.empresaService.object,this.empresaService.empresa.subscribe(d=>this.empresa=d),this.accountService.account.subscribe(d=>this.account=d??new z.mR)}getObject(){let t=localStorage.getItem("planejamento");if(t){let n=this.crypto.decrypt(t);this.objeto.next(n)}else this.setObject(new T);return this.objeto}setObject(t){t.planejamentoAgregandoValor=t.planejamentoAgregandoValor??new j,localStorage.setItem("planejamento",this.crypto.encrypt(t)??""),this.objeto.next(t)}getList(){return this.table.loading.next(!0),this.http.get(`${this.url}/planejamento/all/${this.account.perfilAcesso_Id!=W.u.Admin?this.account.empresa_Id:this.empresa.id}`,{headers:new V.WM({loading:"false"})}).pipe((0,Ae.b)({next:n=>(n=n.map(o=>(o.cliente.ativo=!o.cliente.dataDesativado,o)),this.list.next(n),(0,xe.of)(n))}))}getByClienteId(t){return this.http.get(`${this.url}/planejamento/${t}`,{headers:new V.WM({loading:"true"})}).pipe((0,L.U)(n=>(n.principaisObjetivos=n.principaisObjetivos?n.principaisObjetivos:[],n.planejamentoAgregandoValor=n.planejamentoAgregandoValor??new j,this.setObject(n),n)))}create(t){return t.cliente.empresa_Id=this.account.perfilAcesso_Id!=W.u.Admin?this.account.empresa_Id:this.empresa.id,t.account_Id=this.account.id,t.cliente.account_Id=this.account.id,this.http.post(`${this.url}/planejamento/`,t).pipe((0,L.U)(o=>(o.planejamentoAgregandoValor=o.planejamentoAgregandoValor??new j,this.setObject(o),o)))}edit(t){return this.http.put(`${this.url}/planejamento/`,t).pipe((0,L.U)(n=>(n.planejamentoAgregandoValor=n.planejamentoAgregandoValor??new j,this.setObject(n),n)))}delete(t){return this.http.delete(`${this.url}/planejamento/${t}`)}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(V.eN),e.LFG(R.w),e.LFG(O.B),e.LFG(K.P),e.LFG(se.i),e.LFG(de.j))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var P=m(202),Ce=m(453),Te=m(8944);function Pe(a,l){1&a&&e._UZ(0,"app-empresa-select")}const qe=function(){return["planner"]};let pe=(()=>{class a{constructor(t,n,o,i,r,s){var d=this;this.table=t,this.crypto=n,this.clienteService=o,this.plannerService=i,this.accountService=r,this.empresaService=s,this.faCity=b.SBo,this.list=[],this.columns=oe.lF,this.tableLinks=[],this.empresaSelected=new re.oW,this.subscription=[],this.create=(u=this.plannerService)=>{u.setObject(new T)};var h=this.clienteService.list.subscribe(u=>this.list=u);this.subscription.push(h),this.table.currentPage.next(1);var v=this.accountService.account.subscribe(u=>this.account=u);this.subscription.push(v);var p=this.empresaService.empresa.subscribe(function(){var u=(0,Me.Z)(function*(_){d.empresaSelected=_,0!=_.id&&(yield(0,Z.n)(d.clienteService.getList()))});return function(_){return u.apply(this,arguments)}}());this.subscription.push(p);var c=this.table.selected.subscribe(u=>{if(u)if(this.tableLinks=[{label:"Ver planner",routePath:["planner"],paramsFieldName:["id"]}],3!=this.account?.perfilAcesso_Id||this.account?.id==u.account_Id){var _=u.ativo?"Desabilitar":"Habilitar";this.tableLinks=[{label:"Ver planner",routePath:["planner"],paramsFieldName:["id"]},{label:_,routePath:[_.toLowerCase()],paramsFieldName:["id"]},{label:"Excluir",routePath:["excluir"],paramsFieldName:["id"]}],this.tableLinks=this.table.encryptParams(this.tableLinks)}else if(3==this.account?.perfilAcesso_Id&&this.account?.id!=u.account_Id){var A=this.crypto.encrypt(u.id)??"",y=this.crypto.encrypt(this.account.perfilAcesso_Id)??"";this.tableLinks=[{label:"Ver planner",fullRoute:["planner",A,y],routePath:[]}]}});this.subscription.push(c)}ngOnDestroy(){this.subscription.forEach(t=>t.unsubscribe())}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(se.i),e.Y36(R.w),e.Y36(ie.$),e.Y36(w),e.Y36(O.B),e.Y36(K.P))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-list"]],decls:17,vars:17,consts:[[1,"page"],[1,"page__header"],[1,"title-icon"],[3,"icon"],[1,"mr-auto"],[1,"page__header-title"],[1,"page__header-subtitle"],[1,"ml-auto","mb-0","col-xl-3","col-lg-4","col-md-5","col-sm-5","col-12","px-0"],[4,"ngIf"],[1,"page__body"],[3,"createLink","onCreate","canCreate","list","paginator","filterLink","filterTable","sortTable","menuTable","columns","selectable","tableLinks"]],template:function(t,n){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"span",2),e._UZ(3,"fa-icon",3),e.qZA(),e.TgZ(4,"div",4)(5,"h3",5),e._uU(6,"Clientes"),e.qZA(),e.TgZ(7,"p",6)(8,"small"),e._uU(9,"Clientes cadastrados em "),e.TgZ(10,"strong"),e._uU(11),e.qZA()()()(),e.TgZ(12,"div",7),e.YNc(13,Pe,1,0,"app-empresa-select",8),e.qZA()(),e.TgZ(14,"div",9),e._UZ(15,"app-list-shared",10),e.qZA()(),e._UZ(16,"router-outlet")),2&t&&(e.xp6(3),e.Q6J("icon",n.faCity),e.xp6(8),e.Oqu(n.empresaSelected.nome||"Empresa X"),e.xp6(2),e.Q6J("ngIf",n.account&&1==n.account.perfilAcesso_Id),e.xp6(2),e.Q6J("createLink",e.DdM(16,qe))("onCreate",n.create)("canCreate",!0)("list",n.list)("paginator",!0)("filterLink",!1)("filterTable",!0)("sortTable",!0)("menuTable",!0)("columns",n.columns)("selectable",!0)("tableLinks",n.tableLinks)("selectable",!0))},dependencies:[f.O5,P.lC,S.BN,Ce.o,Te.l]}),a})();var F=m(2210),ue=m(6025);class Ie{constructor(){this.id=0,this.idEncrypted="",this.planejamento_Id=0,this.idade="",this.valor=""}}class ye{constructor(){this.id=0,this.descricao=""}}var Y=m(9535),ce=m(9205),we=m(3071),Ne=m(878),Re=m(8659),U=m(7549),D=m(805),G=m(7897),X=m(9364);const Je=["chartAtivo_Produto"],Ue=["chartAtivo_Investimento"],ke=["chartRisco_Produto"],je=["chartRisco_Investimento"],Se=["chartLiquidez_Produto"],Qe=["chartLiquidez_Investimento"],ee=function(a){return{"background-color":a}};function Oe(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"label",19),e._UZ(1,"span",20),e.TgZ(2,"input",21,22),e.NdJ("ngModelChange",function(o){const r=e.CHM(t).$implicit;return e.KtG(r.visible=o)})("change",function(){const i=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.setVisibilityRisco(i))}),e.qZA(),e.TgZ(4,"span",23),e._uU(5),e.qZA()()}if(2&a){const t=l.$implicit;e.ekj("hidden",!t.visible),e.Q6J("for","colorsRisco-"+t.id),e.xp6(1),e.Q6J("ngStyle",e.VKq(9,ee,t.color)),e.xp6(1),e.MGl("name","colorsRisco-",t.id,"")("id","colorsRisco-",t.id,""),e.Q6J("value",!0)("ngModel",t.visible),e.xp6(3),e.Oqu(t.nome)}}function Ve(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"label",19),e._UZ(1,"span",20),e.TgZ(2,"input",21,22),e.NdJ("ngModelChange",function(o){const r=e.CHM(t).$implicit;return e.KtG(r.visible=o)})("change",function(){const i=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.setVisibilityLiquidez(i))}),e.qZA(),e.TgZ(4,"span",23),e._uU(5),e.qZA()()}if(2&a){const t=l.$implicit;e.ekj("hidden",!t.visible),e.Q6J("for","colorsLiquidez-"+t.id),e.xp6(1),e.Q6J("ngStyle",e.VKq(9,ee,t.color)),e.xp6(1),e.MGl("name","colorsLiquidez-",t.id,"")("id","colorsLiquidez-",t.id,""),e.Q6J("value",!0)("ngModel",t.visible),e.xp6(3),e.Oqu(t.nome)}}function Ee(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"label",19),e._UZ(1,"span",20),e.TgZ(2,"input",21,22),e.NdJ("ngModelChange",function(o){const r=e.CHM(t).$implicit;return e.KtG(r.visible=o)})("change",function(){const i=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.setVisibilityAtivo(i))}),e.qZA(),e.TgZ(4,"span",23),e._uU(5),e.qZA()()}if(2&a){const t=l.$implicit;e.ekj("hidden",!t.visible),e.Q6J("for","colorsAtivo-"+t.id),e.xp6(1),e.Q6J("ngStyle",e.VKq(9,ee,t.color)),e.xp6(1),e.MGl("name","colorsAtivo-",t.id,"")("id","colorsAtivo-",t.id,""),e.Q6J("value",!0)("ngModel",t.visible),e.xp6(3),e.Oqu(t.nome)}}let me=(()=>{class a{constructor(t,n,o){this.dropdown=t,this.currency=n,this.plannerService=o,this.open=!0,this.planner=new T,this.colors=["#36a2eb","#ff6384","#ff9f40","#9966ff","#ffcd56","#c9cbcf","#4bc0c0"],this.colorsRisco=[{id:1,nome:"Baix\xedssimo",color:"#3dad37",visible:!0},{id:2,nome:"Baixo",color:"#74b02e",visible:!0},{id:3,nome:"Moderado",color:"#f2f255",visible:!0},{id:4,nome:"Arrojado",color:"#f78e48",visible:!0},{id:5,nome:"Super Arrojado",color:"#f06e3a",visible:!0},{id:6,nome:"Hedge",color:"#fa3232",visible:!0}],this.colorsLiquidez=[{id:1,nome:"L\xedquido (at\xe9 D+3)",color:"#3275fa",visible:!0},{id:2,nome:"Baixa (D+60 a 2 anos)",color:"#43fa32",visible:!0},{id:3,nome:"M\xe9dia (D+30 a D+60)",color:"#b1fa32",visible:!0},{id:4,nome:"Alta (at\xe9 D+30)",color:"#fab432",visible:!0},{id:5,nome:"Imobilizado",color:"#fa4332",visible:!0}],this.colorsAtivo=[{id:1,nome:"Renda Fixa",color:"#3275fa",visible:!0},{id:2,nome:"Renda Vari\xe1vel",color:"#fab432",visible:!0},{id:3,nome:"Hedge",color:"#fa4332",visible:!0}],this.produtoTotal=0,this.investimentoTotal=0,this.viewInit=!1,this.plannerChanged=!1,this.chartOptions={plugins:{legend:{position:"bottom",display:!1,fullWidth:!1},colors:{enabled:!1}},animations:{tension:{duration:1e3,easing:"linear",from:1,to:0,loop:!0}}},this.plannerService.objeto.subscribe(i=>{this.viewInit&&this.plannerChanged&&(this.planner=i,this.planner.planejamentoProduto.length>0&&(this.produtoTotal=this.planner.planejamentoProduto.map(r=>r.sugerido).reduce((r,s)=>r+s)),this.planner.planejamentoInvestimento.length>0&&(this.investimentoTotal=this.planner.planejamentoInvestimento.map(r=>r.montanteAtual).reduce((r,s)=>r+s)),this.setChartRisco(),this.setChartLiquidez(),this.setChartAtivo())})}ngAfterViewInit(){this.viewInit=!0}ngOnChanges(t){t.open&&(this.open=t.open.currentValue),t.planner&&(this.planner=t.planner.currentValue,this.plannerChanged=!0,this.planner.planejamentoProduto.length>0&&(this.produtoTotal=this.planner.planejamentoProduto.map(n=>n.sugerido).reduce((n,o)=>n+o)),this.planner.planejamentoInvestimento.length>0&&(this.investimentoTotal=this.planner.planejamentoInvestimento.map(n=>n.montanteAtual).reduce((n,o)=>n+o)),this.setChartRisco(),this.setChartLiquidez(),this.setChartAtivo())}voltar(){setTimeout(()=>{this.open=!1},300)}setChartRisco(){this.chartRiscoOptions=JSON.parse(JSON.stringify(this.chartOptions)),this.chartRiscoOptions.plugins.tooltip={callbacks:{afterBody:o=>this.formatReais(o[0].element.$context.raw.reais),label:o=>"  "+this.formatPorcentagem(o.parsed)}},this.chartRiscoOptions.parsing={key:"percentual"};var t=[],n=[];this.colorsRisco.forEach(o=>{var i=this.planner.planejamentoProduto.filter(p=>p.produto.tipoRisco_Id==o.id),r=i.length?i.map(p=>p.sugerido).reduce((p,c)=>p+c):0;t.push({percentual:r/this.produtoTotal*100,tipoRisco:o,tipoRisco_Id:o.id,reais:r,label:o.nome,color:o.color});var d=this.planner.planejamentoInvestimento.filter(p=>p.investimento.tipoRisco_Id==o.id),h=d.length?d.map(p=>p.montanteAtual).reduce((p,c)=>p+c):0;n.push({percentual:h/this.produtoTotal*100,tipoRisco:o,tipoRisco_Id:o.id,reais:h,label:o.nome,color:o.color})}),this.chartRiscoData_Produto={labels:this.colorsRisco.map(o=>o.nome),datasets:[{label:t.map(o=>o.tipoRisco?o.tipoRisco.nome:"-"),data:t,backgroundColor:t.map(o=>o.color),borderWidth:2}]},this.chartRiscoData_Investimento={labels:this.colorsRisco.map(o=>o.nome),datasets:[{label:n.map(o=>o.tipoRisco?o.tipoRisco.nome:"-"),data:n,backgroundColor:n.map(o=>o.color),borderWidth:2}]}}setChartLiquidez(){this.chartLiquidezOptions=JSON.parse(JSON.stringify(this.chartOptions)),this.chartLiquidezOptions.plugins.tooltip={callbacks:{afterBody:o=>this.formatReais(o[0].element.$context.raw.reais),label:o=>this.formatPorcentagem(o.parsed)}},this.chartLiquidezOptions.parsing={key:"percentual"};var t=[],n=[];this.colorsLiquidez.forEach(o=>{var i=this.planner.planejamentoProduto.filter(p=>p.produto.tipoLiquidez_Id==o.id),r=i.length?i.map(p=>p.sugerido).reduce((p,c)=>p+c):0;t.push({percentual:r/this.produtoTotal*100,tipoLiquidez:o,tipoLiquidez_Id:o.id,reais:r,label:o.nome,color:o.color});var d=this.planner.planejamentoInvestimento.filter(p=>p.investimento.tipoLiquidez_Id==o.id),h=d.length?d.map(p=>p.montanteAtual).reduce((p,c)=>p+c):0;n.push({percentual:h/this.produtoTotal*100,tipoLiquidez:o,tipoLiquidez_Id:o.id,reais:h,label:o.nome,color:o.color})}),this.chartLiquidezData_Produto={labels:this.colorsLiquidez.map(o=>o.nome),datasets:[{label:t.map(o=>o.tipoLiquidez?o.tipoLiquidez.nome:"-"),data:t,backgroundColor:t.map(o=>o.color),borderWidth:2}]},this.chartLiquidezData_Investimento={labels:this.colorsLiquidez.map(o=>o.nome),datasets:[{label:n.map(o=>o.tipoLiquidez?o.tipoLiquidez.nome:"-"),data:n,backgroundColor:n.map(o=>o.color),borderWidth:2}]}}setChartAtivo(){this.chartAtivoOptions=JSON.parse(JSON.stringify(this.chartOptions)),this.chartAtivoOptions.plugins.tooltip={callbacks:{afterBody:o=>this.formatReais(o[0].element.$context.raw.reais),label:o=>this.formatPorcentagem(o.parsed)}},this.chartAtivoOptions.parsing={key:"percentual"};var t=[],n=[];this.colorsAtivo.forEach(o=>{var i=this.planner.planejamentoProduto.filter(p=>p.produto.tipoAtivo_Id==o.id),r=i.length?i.map(p=>p.sugerido).reduce((p,c)=>p+c):0;t.push({percentual:r/this.produtoTotal*100,tipoAtivo:o,tipoAtivo_Id:o.id,reais:r,label:o.nome,color:o.color});var d=this.planner.planejamentoInvestimento.filter(p=>p.investimento.tipoAtivo_Id==o.id),h=d.length?d.map(p=>p.montanteAtual).reduce((p,c)=>p+c):0;n.push({percentual:h/this.produtoTotal*100,tipoAtivo:o,tipoAtivo_Id:o.id,reais:h,label:o.nome,color:o.color})}),this.chartAtivoData_Produto={labels:this.colorsAtivo.map(o=>o.nome),datasets:[{label:t.map(o=>o.tipoAtivo?o.tipoAtivo.nome:"-"),data:t,backgroundColor:t.map(o=>o.color),borderWidth:2}]},this.chartAtivoData_Investimento={labels:this.colorsAtivo.map(o=>o.nome),datasets:[{label:n.map(o=>o.tipoAtivo?o.tipoAtivo.nome:"-"),data:n,backgroundColor:n.map(o=>o.color),borderWidth:2}]}}setVisibilityRisco(t){this.chartRisco_Investimento.chart.toggleDataVisibility(0==t.id?0:t.id-1),this.chartRisco_Investimento.chart.update(),this.chartRisco_Produto.chart.toggleDataVisibility(0==t.id?0:t.id-1),this.chartRisco_Produto.chart.update()}setVisibilityLiquidez(t){this.chartLiquidez_Investimento.chart.toggleDataVisibility(0==t.id?0:t.id-1),this.chartLiquidez_Investimento.chart.update(),this.chartLiquidez_Produto.chart.toggleDataVisibility(0==t.id?0:t.id-1),this.chartLiquidez_Produto.chart.update()}setVisibilityAtivo(t){this.chartAtivo_Investimento.chart.toggleDataVisibility(0==t.id?0:t.id-1),this.chartAtivo_Investimento.chart.update(),this.chartAtivo_Produto.chart.toggleDataVisibility(0==t.id?0:t.id-1),this.chartAtivo_Produto.chart.update()}formatReais(t){return t=Math.round(t*Math.pow(10,2))/Math.pow(10,2),this.currency.transform(t,"BRL","R$","1.2")}formatPorcentagem(t){return t=Math.round(t*Math.pow(10,2))/Math.pow(10,2),this.currency.transform(t,"BRL","","1.2")+"%"}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(Y.V),e.Y36(f.H9),e.Y36(w))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-grafico-comparativo"]],viewQuery:function(t,n){if(1&t&&(e.Gf(Je,5),e.Gf(Ue,5),e.Gf(ke,5),e.Gf(je,5),e.Gf(Se,5),e.Gf(Qe,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.chartAtivo_Produto=o.first),e.iGM(o=e.CRH())&&(n.chartAtivo_Investimento=o.first),e.iGM(o=e.CRH())&&(n.chartRisco_Produto=o.first),e.iGM(o=e.CRH())&&(n.chartRisco_Investimento=o.first),e.iGM(o=e.CRH())&&(n.chartLiquidez_Produto=o.first),e.iGM(o=e.CRH())&&(n.chartLiquidez_Investimento=o.first)}},inputs:{open:"open",planner:"planner"},features:[e.TTD],decls:53,vars:15,consts:[[1,"home__container","col-12"],[1,"home__container-header","mb-2"],[1,"d-flex","flex-wrap"],[1,"col-lg-4","col-md-4","col-sm-12","col-12","mb-4","ps-md-0"],[1,"card-header","border","text-center","font-weight-bold","w-100"],[1,"card","card-body","rounded-0","d-flex","flex-wrap","flex-row","p-0","pt-4"],[1,"col-sm-6","col-6","px-1"],[1,"text-center","font-weight-bold","w-100","mb-2"],["type","pie",3,"data","options"],["chartRisco_Investimento",""],["chartRisco_Produto",""],[1,"col-12","chart-legenda"],["class","chart-legenda-item",3,"for","hidden",4,"ngFor","ngForOf"],[1,"col-lg-4","col-md-4","col-sm-12","col-12","mb-4","px-sm-0"],["chartLiquidez_Investimento",""],["chartLiquidez_Produto",""],[1,"col-lg-4","col-md-4","col-sm-12","col-12","mb-4","pe-md-0"],["chartAtivo_Investimento",""],["chartAtivo_Produto",""],[1,"chart-legenda-item",3,"for"],[1,"box-color",3,"ngStyle"],["type","checkbox","hidden","",3,"name","id","value","ngModel","ngModelChange","change"],["modelRisco","ngModel"],[1,"box-text"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h6"),e._uU(3,"Comparativo"),e.qZA()(),e.TgZ(4,"div",2)(5,"div",3)(6,"p",4),e._uU(7,"Risco"),e.qZA(),e.TgZ(8,"div",5)(9,"div",6)(10,"p",7),e._uU(11,"Investimento"),e.qZA(),e._UZ(12,"p-chart",8,9),e.qZA(),e.TgZ(14,"div",6)(15,"p",7),e._uU(16,"Produto"),e.qZA(),e._UZ(17,"p-chart",8,10),e.qZA(),e.TgZ(19,"div",11),e.YNc(20,Oe,6,11,"label",12),e.qZA()()(),e.TgZ(21,"div",13)(22,"p",4),e._uU(23,"Liquidez"),e.qZA(),e.TgZ(24,"div",5)(25,"div",6)(26,"p",7),e._uU(27,"Investimento"),e.qZA(),e._UZ(28,"p-chart",8,14),e.qZA(),e.TgZ(30,"div",6)(31,"p",7),e._uU(32,"Produto"),e.qZA(),e._UZ(33,"p-chart",8,15),e.qZA(),e.TgZ(35,"div",11),e.YNc(36,Ve,6,11,"label",12),e.qZA()()(),e.TgZ(37,"div",16)(38,"p",4),e._uU(39,"Ativo"),e.qZA(),e.TgZ(40,"div",5)(41,"div",6)(42,"p",7),e._uU(43,"Investimento"),e.qZA(),e._UZ(44,"p-chart",8,17),e.qZA(),e.TgZ(46,"div",6)(47,"p",7),e._uU(48,"Produto"),e.qZA(),e._UZ(49,"p-chart",8,18),e.qZA(),e.TgZ(51,"div",11),e.YNc(52,Ee,6,11,"label",12),e.qZA()()()()()),2&t&&(e.xp6(12),e.Q6J("data",n.chartRiscoData_Investimento)("options",n.chartRiscoOptions),e.xp6(5),e.Q6J("data",n.chartRiscoData_Produto)("options",n.chartRiscoOptions),e.xp6(3),e.Q6J("ngForOf",n.colorsRisco),e.xp6(8),e.Q6J("data",n.chartLiquidezData_Investimento)("options",n.chartLiquidezOptions),e.xp6(5),e.Q6J("data",n.chartLiquidezData_Produto)("options",n.chartLiquidezOptions),e.xp6(3),e.Q6J("ngForOf",n.colorsLiquidez),e.xp6(8),e.Q6J("data",n.chartAtivoData_Investimento)("options",n.chartAtivoOptions),e.xp6(5),e.Q6J("data",n.chartAtivoData_Produto)("options",n.chartAtivoOptions),e.xp6(3),e.Q6J("ngForOf",n.colorsAtivo))},dependencies:[f.sg,f.PC,g.Wl,g.JJ,g.On,X.C],styles:['.modal__bg-grafico[_ngcontent-%COMP%]{opacity:0;visibility:hidden;transition:.5s;position:fixed;z-index:1;background:#00000030}.modal__bg-grafico.active[_ngcontent-%COMP%]{opacity:1;visibility:visible}.modal-grafico.modal[_ngcontent-%COMP%]{position:absolute;top:0;left:auto;right:0;transform:translateY(50px);width:90%;max-width:1100px;height:auto;max-height:90vw;display:flex;align-items:center;justify-content:end;z-index:2;overflow:visible;opacity:1;visibility:visible}.modal-grafico.modal.active[_ngcontent-%COMP%]{z-index:1;transition:.5s}.navigation-open[_ngcontent-%COMP%]   .modal-grafico.modal[_ngcontent-%COMP%]{max-width:900px}.modal-grafico[_ngcontent-%COMP%]   .modal__inner[_ngcontent-%COMP%]{position:absolute;width:0;max-width:100%;top:0;right:0;left:auto;transform:none;overflow:visible;box-shadow:2px 2px 4px #00000069;transition:1s,1s opacity 3s,1s visibility 2s}.active.modal-grafico[_ngcontent-%COMP%]   .modal__inner[_ngcontent-%COMP%]{width:100%;transition:1s;transition:1s,1s opacity 3s,1s visibility 3s}.modal-grafico[_ngcontent-%COMP%]   .modal__inner[_ngcontent-%COMP%]   .modal-arrow[_ngcontent-%COMP%]{position:absolute;right:0;transform:translateY(-100%);z-index:1005;top:1px;width:15px;height:15px;filter:drop-shadow(0px -2px 1px rgba(0,0,0,.4));border:#0000008f;opacity:0;transition:.3s}.modal-grafico.active[_ngcontent-%COMP%]   .modal__inner[_ngcontent-%COMP%]   .modal-arrow[_ngcontent-%COMP%]{opacity:1;right:107px}.modal-grafico[_ngcontent-%COMP%]   .modal__inner[_ngcontent-%COMP%]   .modal-arrow[_ngcontent-%COMP%]:before{content:"";background:var(--primary);background-color:#fff;width:15px;height:15px;clip-path:polygon(51% 39%,0% 100%,100% 100%);position:relative;display:flex}.modal-grafico[_ngcontent-%COMP%]   .modal__content[_ngcontent-%COMP%]{max-height:80vh;overflow:auto}.modal-grafico[_ngcontent-%COMP%]   .modal__header[_ngcontent-%COMP%]{background-color:var(--primary);background-color:#fff}.modal-grafico[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{background-color:var(--primary);background-color:#fff;color:#fff;opacity:1;position:static;margin-left:auto;width:auto;height:auto;margin-right:15px}.modal-grafico[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:15px}.chart-legenda[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-evenly;flex-flow:wrap;margin:13px 0}.chart-legenda-item[_ngcontent-%COMP%]{flex:0 0 20%;white-space:nowrap;font-size:13px;display:flex;align-items:center;justify-content:space-between;margin:2px 6px 2px 0;cursor:pointer}.chart-legenda-item[_ngcontent-%COMP%]   .box-color[_ngcontent-%COMP%]{width:25px;height:12px;display:block;margin-right:6px;flex:0 0 25px}.chart-legenda-item[_ngcontent-%COMP%]   .box-text[_ngcontent-%COMP%]{flex:0 1 80%;font-weight:500;margin:0;cursor:pointer}.chart-legenda-item.hidden[_ngcontent-%COMP%]   .box-text[_ngcontent-%COMP%]{text-decoration:line-through}']}),a})();var _e=m(4551);const Le=["chartPatrimonioIdade"];let ge=(()=>{class a{constructor(t,n){this.plannerService=t,this.currency=n,this.planner=new T,this.chartSize={"chart-capital-segurado":{width:"0",height:"0"},"chart-patrimonio-idade":{width:"0",height:"0"}},this.subscription=[];var o=this.plannerService.objeto.subscribe(i=>{this.planner=i,this.setChartPatrimonioIdade()});this.subscription.push(o)}ngOnDestroy(){this.subscription.forEach(t=>t.unsubscribe())}ngOnChanges(t){t.planner&&(this.planner=t.planner.currentValue,this.planner.planejamentoGrafico.length>0&&this.setChartPatrimonioIdade())}onResize(t){this.setChartWidth("chart-capital-segurado"),this.setChartWidth("chart-patrimonio-idade")}setChartWidth(t){let n=window.innerWidth,o=window.innerHeight,i=$("#"+t).width()??0,r=$("#"+t).height()??0,d=100/o;this.chartSize[t].width=(100/n*i).toString()+"vw",this.chartSize[t].height=(d*r).toString()+"vh"}setChartPatrimonioIdade(){this.setChartWidth("chart-patrimonio-idade"),this.planner.planejamentoGrafico.sort((t,n)=>t.idade-n.idade),this.chartPatrimonioIdadeData={labels:this.planner.planejamentoGrafico.map(t=>t.idade),datasets:[{type:"line",label:"Realidade Atual",data:this.planner.planejamentoGrafico.map(t=>t.valorAtual),backgroundColor:"#242424",borderColor:"#2424247a"},{type:"bar",label:"Planejado",data:this.planner.planejamentoGrafico.map(t=>t.valorPlanejado),backgroundColor:"#2d7a95"}]},this.chartPatrimonioIdadeOptions={plugins:{title:{display:!0,text:"Planejado x Realidade Atual",font:{size:20},color:_e.w.primary},subtitle:{display:!1,text:"Planejado x Realidade Atual",font:{size:22},color:_e.w.grey},legend:{position:"top"},tooltip:{callbacks:{title:t=>t[0].dataset.label,label:t=>"  "+t.label+" anos",footer:t=>this.formatReais(t[0].raw)}}},scales:{xAxes:{min:0,suggestedMax:100,display:!0,title:{text:"Idade",display:!0,align:"start",font:{weight:"bold"}}},yAxes:{title:{text:"Valor",display:!0,align:"start",font:{weight:"bold"}}}}}}formatReais(t){return t=Math.round(t*Math.pow(10,2))/Math.pow(10,2),this.currency.transform(t,"BRL","R$","1.2")}formatPorcentagem(t){return t=Math.round(t*Math.pow(10,2))/Math.pow(10,2),this.currency.transform(t,"BRL","","1.2")+"%"}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(w),e.Y36(f.H9))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-patrimonio-por-idade"]],viewQuery:function(t,n){if(1&t&&e.Gf(Le,5),2&t){let o;e.iGM(o=e.CRH())&&(n.chartPatrimonioIdade=o.first)}},hostBindings:function(t,n){1&t&&e.NdJ("resize",function(i){return n.onResize(i)},!1,e.Jf7)},inputs:{planner:"planner"},features:[e.TTD],decls:7,vars:4,consts:[[1,"home__container"],[1,"home__container-header","mb-2"],["id","chart-patrimonio-idade",1,"form-row","chart-container"],[3,"data","options","width","height"],["chartPatrimonioIdade",""]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h6"),e._uU(3,"Patrim\xf4nio por Idade"),e.qZA()(),e.TgZ(4,"div",2),e._UZ(5,"p-chart",3,4),e.qZA()()),2&t&&(e.xp6(5),e.Q6J("data",n.chartPatrimonioIdadeData)("options",n.chartPatrimonioIdadeOptions)("width",n.chartSize["chart-patrimonio-idade"].width)("height",n.chartSize["chart-patrimonio-idade"].height))},dependencies:[X.C]}),a})();const Fe=["chartCapitalSegurado"],Ye=["form"],De=["dataNascimento"],$e=["rg"],Ge=["cpf"],Be=["receita"],He=["despesa"];function ze(a,l){1&a&&(e.TgZ(0,"p",17),e._uU(1,"Esse campo \xe9 obrigat\xf3rio"),e.qZA())}function Ke(a,l){1&a&&(e.TgZ(0,"span"),e._uU(1,"Remova os espa\xe7os antes e depois do texto."),e.qZA())}function We(a,l){if(1&a&&(e.TgZ(0,"p",17),e.YNc(1,Ke,2,0,"span",20),e.qZA()),2&a){e.oxw(2);const t=e.MAs(29);e.xp6(1),e.Q6J("ngIf","^\\S(.*\\S)?$"==t.errors.pattern.requiredPattern)}}function Xe(a,l){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,ze,2,0,"p",223),e.YNc(2,We,2,1,"p",223),e.qZA()),2&a){e.oxw();const t=e.MAs(29);e.xp6(1),e.Q6J("ngIf",t.errors.required),e.xp6(1),e.Q6J("ngIf",t.errors.pattern)}}function et(a,l){if(1&a&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&a){const t=l.$implicit;e.Q6J("ngValue",t.id),e.xp6(1),e.hij("",t.descricao," ")}}function tt(a,l){if(1&a&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&a){const t=l.$implicit;e.Q6J("ngValue",t.id),e.xp6(1),e.Oqu(t.descricao)}}function nt(a,l){if(1&a&&(e.TgZ(0,"p",17),e._uU(1),e.qZA()),2&a){e.oxw(2);const t=e.MAs(58);e.xp6(1),e.Oqu(t.errors.jaExiste)}}function at(a,l){1&a&&(e.TgZ(0,"p",17),e._uU(1,"Esse CPF \xe9 inv\xe1lido"),e.qZA())}function ot(a,l){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,nt,2,1,"p",223),e.YNc(2,at,2,0,"p",223),e.qZA()),2&a){e.oxw();const t=e.MAs(58);e.xp6(1),e.Q6J("ngIf",t.errors.jaExiste),e.xp6(1),e.Q6J("ngIf",t.errors.invalid)}}function rt(a,l){1&a&&(e.TgZ(0,"div")(1,"p",224),e._uU(2,"Ap\xf3s salvar, o CPF n\xe3o poder\xe1 ser alterado"),e.qZA()())}function it(a,l){if(1&a&&(e.TgZ(0,"p",17),e._uU(1),e.qZA()),2&a){e.oxw(2);const t=e.MAs(67);e.xp6(1),e.Oqu(t.errors.jaExiste)}}function lt(a,l){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,it,2,1,"p",223),e.qZA()),2&a){e.oxw();const t=e.MAs(67);e.xp6(1),e.Q6J("ngIf",t.errors.jaExiste)}}function st(a,l){if(1&a&&(e.TgZ(0,"p",17)(1,"small"),e._uU(2),e.qZA()()),2&a){const t=e.oxw(2);e.xp6(2),e.hij("Data m\xednima \xe9 ",t.dataNascimentoMin,"")}}function dt(a,l){if(1&a&&(e.TgZ(0,"p",17)(1,"small"),e._uU(2),e.qZA()()),2&a){const t=e.oxw(2);e.xp6(2),e.hij("Data m\xe1xima \xe9 ",t.dataNascimentoMax,"")}}function pt(a,l){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,st,3,1,"p",223),e.YNc(2,dt,3,1,"p",223),e.qZA()),2&a){e.oxw();const t=e.MAs(75);e.xp6(1),e.Q6J("ngIf",t.errors.min),e.xp6(1),e.Q6J("ngIf",t.errors.max)}}function ut(a,l){1&a&&(e.TgZ(0,"span"),e._uU(1,"Remova os espa\xe7os antes e depois do texto."),e.qZA())}function ct(a,l){if(1&a&&(e.TgZ(0,"p",17),e.YNc(1,ut,2,0,"span",20),e.qZA()),2&a){e.oxw(2);const t=e.MAs(216);e.xp6(1),e.Q6J("ngIf","^\\S(.*\\S)?$"==t.errors.pattern.requiredPattern)}}function mt(a,l){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,ct,2,1,"p",223),e.qZA()),2&a){e.oxw();const t=e.MAs(216);e.xp6(1),e.Q6J("ngIf",t.errors.pattern)}}function _t(a,l){if(1&a&&(e.TgZ(0,"span",231),e._uU(1," Inativo "),e.qZA()),2&a){e.oxw();const t=e.MAs(5);e.Q6J("ngbPopover",t)}}function gt(a,l){if(1&a&&(e.TgZ(0,"span",232),e._uU(1),e.ALo(2,"date"),e.qZA()),2&a){const t=e.oxw().$implicit;e.xp6(1),e.hij("Desativado em ",e.Dn7(2,1,t.dataDesativado,"dd/MM/yyyy","UTC")," ")}}function ht(a,l){if(1&a&&(e.TgZ(0,"p",228)(1,"span"),e._uU(2),e.qZA(),e.YNc(3,_t,2,1,"span",229),e.YNc(4,gt,3,5,"ng-template",null,230,e.W1O),e.qZA(),e.TgZ(6,"p"),e._uU(7),e.qZA()),2&a){const t=l.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(1),e.Q6J("ngIf",t.dataDesativado),e.xp6(4),e.Oqu(t.email)}}function ft(a,l){1&a&&(e.TgZ(0,"p",17),e._uU(1,"Esse campo \xe9 obrigat\xf3rio"),e.qZA())}function vt(a,l){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,ft,2,0,"p",223),e.qZA()),2&a){e.oxw();const t=e.MAs(2);e.xp6(1),e.Q6J("ngIf",t.errors.required)}}function bt(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"div")(1,"p-dropdown",225,226),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.planner.account_Id=o)})("ngModelChange",function(){e.CHM(t);const o=e.MAs(2),i=e.oxw();return e.KtG(i.planner.cliente.account_Id=o.value)}),e.YNc(3,ht,8,3,"ng-template",227),e.qZA(),e.YNc(4,vt,2,1,"div",20),e.qZA()}if(2&a){const t=e.MAs(2),n=e.oxw();e.xp6(1),e.ekj("form-control-loading",n.loadingUsuarios),e.Q6J("ngModel",n.planner.account_Id)("disabled",n.loadingCarteiraSetup)("options",n.listUsuarios)("filter",!0)("showClear",!0)("placeholder",n.loadingUsuarios?"Carregando":"Selecione para adicionar")("required",!0),e.xp6(3),e.Q6J("ngIf",t.errors)}}function Zt(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"input",233,226),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.planner.account.name=o)}),e.qZA()}if(2&a){const t=e.oxw();e.Q6J("ngModel",t.planner.account.name)}}function Mt(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"tr",95)(1,"th",234)(2,"p",235)(3,"span"),e._uU(4,"Fluxos Pontuais"),e.qZA(),e.TgZ(5,"a",236),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.adicionarFLuxoPontual())}),e._UZ(6,"fa-icon",212),e.qZA()()()(),e.TgZ(7,"tr",237)(8,"th",238),e._uU(9,"Idade"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Valor "),e.TgZ(12,"small"),e._uU(13,"(R$)"),e.qZA()(),e._UZ(14,"th"),e.qZA()}if(2&a){const t=e.oxw();e.xp6(6),e.Q6J("icon",t.faPlus)}}function At(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"tr")(1,"td",238)(2,"app-input-number",239,240),e.NdJ("valueChanges",function(o){const r=e.CHM(t).$implicit,s=e.MAs(3),d=e.oxw();return r.idade=o,d.saveData(),e.KtG(d.validaIdade(s,r))}),e.qZA()(),e.TgZ(4,"td")(5,"app-input-number",241),e.NdJ("valueChanges",function(o){const r=e.CHM(t).$implicit,s=e.oxw();return r.valor=o,e.KtG(s.saveData())}),e.qZA()(),e.TgZ(6,"td",242)(7,"button",243),e.NdJ("click",function(){const i=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.removerFluxoPontual(i))}),e._UZ(8,"fa-icon",212),e.qZA()()()}if(2&a){const t=l.$implicit,n=e.oxw();e.xp6(2),e.Q6J("valueInput",t.idade)("inputId","idade-"+(0==t.id?t.idEncrypted:t.id))("mask","0*")("suffix"," anos")("min",1)("max",100)("required",!0)("showErrorMessage",!1)("allowNegativeNumbers",!1)("autoReplaceValue",!0),e.xp6(3),e.Q6J("valueInput",t.valor)("inputId","valor-"+(0==t.id?t.idEncrypted:t.id))("mask","separator")("required",!0)("showErrorMessage",!1)("allowNegativeNumbers",!0)("showErrorMessage",!1)("autoReplaceValue",!0),e.xp6(3),e.Q6J("icon",n.faTrash)}}function xt(a,l){1&a&&(e.TgZ(0,"tr"),e._UZ(1,"td"),e.TgZ(2,"td",244),e._uU(3," Nenhum registro "),e.qZA(),e._UZ(4,"td"),e.qZA()),2&a&&(e.xp6(2),e.uIk("colspan",3))}function Ct(a,l){1&a&&(e.TgZ(0,"tr",95)(1,"th",245),e._uU(2,"Risco |"),e.qZA(),e.TgZ(3,"th",246),e._uU(4,"Investimento"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Custos/Taxas"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Rentab. Bruta"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Rentab. Liquida"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Montante Atual"),e.qZA(),e._UZ(13,"th",247),e.qZA())}function Tt(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"tr")(1,"td",248)(2,"small")(3,"b"),e._uU(4),e.qZA(),e._uU(5," |"),e.qZA()(),e.TgZ(6,"td",249)(7,"small")(8,"b"),e._uU(9),e.qZA()()(),e.TgZ(10,"td")(11,"app-input-number",250),e.NdJ("valueChanges",function(o){const r=e.CHM(t).$implicit,s=e.oxw();return r.custosTaxas=o,e.KtG(s.saveData())}),e.qZA()(),e.TgZ(12,"td")(13,"app-input-number",250),e.NdJ("valueChanges",function(o){const r=e.CHM(t).$implicit,s=e.oxw();return r.rentabilidade=o,e.KtG(s.saveData())}),e.qZA()(),e.TgZ(14,"td")(15,"app-input-number",251),e.NdJ("valueChanges",function(o){const r=e.CHM(t).$implicit;return e.KtG(r.rentabilidadeLiquida=o)}),e.qZA()(),e.TgZ(16,"td",252)(17,"app-input-number",253),e.NdJ("valueChanges",function(o){const r=e.CHM(t).$implicit,s=e.oxw();return r.montanteAtual=o,e.KtG(s.saveData())}),e.qZA()(),e.TgZ(18,"td",247)(19,"a",254),e.NdJ("click",function(){const i=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.removerInvestimento(i))}),e._UZ(20,"fa-icon",212),e.qZA()()()}if(2&a){const t=l.$implicit,n=e.oxw();e.xp6(4),e.Oqu(t.investimento.tipoRisco.nome),e.xp6(5),e.Oqu(t.investimento.descricao),e.xp6(2),e.Q6J("valueInput",t.custosTaxas)("inputId","investimento-custosTaxas-"+t.investimento_Id)("mask","separator.2")("min",0)("max",100)("showErrorMessage",!1)("allowNegativeNumbers",!1)("required",!0)("autoReplaceValue",!0),e.xp6(2),e.Q6J("valueInput",t.rentabilidade)("inputId","investimento-rentabilidade-"+t.investimento_Id)("mask","separator.2")("min",void 0)("max",100)("showErrorMessage",!1)("allowNegativeNumbers",!0)("required",!0)("autoReplaceValue",!0),e.xp6(2),e.Q6J("valueInput",t.rentabilidadeLiquida)("inputId","investimento-rentabilidadeLiquida-"+t.investimento_Id)("mask","separator.4")("min",void 0)("max",100)("showErrorMessage",!1)("allowNegativeNumbers",!0)("readonly",!0)("disabled",!0)("autoReplaceValue",!0),e.xp6(1),e.Q6J("title","L\xedquido "+n.formatReais(t.valorLiquido_MontanteAtual)),e.xp6(1),e.Q6J("valueInput",t.montanteAtual)("inputId","investimento-montanteAtual-"+t.investimento_Id)("mask","separator.2")("min",1)("required",!0)("showErrorMessage",!1)("allowNegativeNumbers",!1)("autoReplaceValue",!0),e.xp6(3),e.Q6J("icon",n.faTrash)}}function Pt(a,l){if(1&a&&(e.TgZ(0,"tr",256),e._UZ(1,"td"),e.TgZ(2,"td",257)(3,"small")(4,"b"),e._uU(5,"Total"),e.qZA()()(),e._UZ(6,"td")(7,"td")(8,"td"),e.TgZ(9,"td",252),e._UZ(10,"app-input-number",258),e.qZA(),e._UZ(11,"td"),e.qZA()),2&a){const t=e.oxw(2);e.ekj("bg-danger",t.somaInvestimentos.somaMontanteAtual<0),e.xp6(9),e.Q6J("title","L\xedquido "+t.formatReais(t.somaInvestimentos.somaMontanteAtualLiquido)),e.xp6(1),e.Q6J("valueInput",t.somaInvestimentos.somaMontanteAtual)("inputId","somaMontanteAtual")("mask","separator.2")("required",!1)("showErrorMessage",!1)("readonly",!0)("disabled",!0)("autoReplaceValue",!0)}}function qt(a,l){if(1&a&&e.YNc(0,Pt,12,11,"tr",255),2&a){const t=e.oxw();e.Q6J("ngIf",t.planner.planejamentoInvestimento.length>0)}}function It(a,l){1&a&&(e.TgZ(0,"tr"),e._UZ(1,"td"),e.TgZ(2,"td",259),e._uU(3," Nenhum registro "),e.qZA(),e._UZ(4,"td"),e.qZA()),2&a&&(e.xp6(2),e.uIk("colspan",5))}function yt(a,l){if(1&a&&(e.TgZ(0,"span",231),e._uU(1," Inativo "),e.qZA()),2&a){e.oxw();const t=e.MAs(5);e.Q6J("ngbPopover",t)}}function wt(a,l){if(1&a&&(e.TgZ(0,"div",232),e._uU(1),e.ALo(2,"date"),e.qZA()),2&a){const t=e.oxw().$implicit;e.xp6(1),e.hij("Desativado em ",e.Dn7(2,1,t.dataDesativado,"dd/MM/yyyy","UTC")," ")}}function Nt(a,l){if(1&a&&(e.TgZ(0,"div",228)(1,"span"),e._uU(2),e.qZA(),e.YNc(3,yt,2,1,"span",229),e.YNc(4,wt,3,5,"ng-template",null,230,e.W1O),e.qZA()),2&a){const t=l.$implicit;e.xp6(2),e.Oqu(t.nome),e.xp6(1),e.Q6J("ngIf",t.dataDesativado)}}function Rt(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"button",266),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3),i=e.MAs(14);return e.KtG(o.carregarProdutos(i))}),e.TgZ(1,"span"),e._uU(2,"Carregar setup e salvar"),e.qZA()()}if(2&a){const t=e.oxw(3),n=e.MAs(14);e.Gre("btn btn-primary ml-1 d-flex align-items-center ",n.invalid||t.loading?"disabled-button":"",""),e.Q6J("disabled",n.invalid||t.loading)}}const Jt=function(){return["produto"]};function Ut(a,l){1&a&&(e.TgZ(0,"a",267),e._uU(1," Adicionar outros produtos "),e.qZA()),2&a&&e.Q6J("routerLink",e.DdM(1,Jt))}function kt(a,l){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,Rt,3,4,"button",264),e.YNc(2,Ut,2,2,"a",265),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.mudouCarteiraSetup||1==t.planner.planejamentoProduto.length&&61==t.planner.planejamentoProduto[0].produto_Id),e.xp6(1),e.Q6J("ngIf",t.planner.planejamentoProduto.length>1&&!t.mudouCarteiraSetup)}}function jt(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"div",260)(1,"div",261)(2,"p-dropdown",262,263),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.planner.carteiraSetup_Id=o)})("ngModelChange",function(){e.CHM(t);const o=e.MAs(3),i=e.oxw();return e.KtG(i.carteiraSetupChange(o))}),e.YNc(4,Nt,6,2,"ng-template",227),e.qZA()(),e.YNc(5,kt,3,2,"div",20),e.qZA()}if(2&a){const t=e.oxw();e.xp6(2),e.ekj("form-control-loading",t.loadingCarteiraSetup),e.Q6J("disabled",t.loadingCarteiraSetup)("options",t.carteirasSetup)("ngModel",t.planner.carteiraSetup_Id)("filter",!0)("showClear",!0)("required",!0),e.xp6(3),e.Q6J("ngIf",0!=t.planner.carteiraSetup_Id)}}function St(a,l){1&a&&(e.TgZ(0,"p",268),e._uU(1,"* Insira um investimento para adicionar um produto"),e.qZA())}function Qt(a,l){1&a&&(e.TgZ(0,"th",272),e._uU(1,"Custos/Taxas"),e.qZA())}function Ot(a,l){1&a&&(e.TgZ(0,"th",272),e._uU(1,"Rentab. Bruta"),e.qZA())}function Vt(a,l){1&a&&(e.TgZ(0,"th",272),e._uU(1,"Rentab. Liquida"),e.qZA())}function Et(a,l){1&a&&(e.TgZ(0,"th",272),e._uU(1,"Montante Sugerido"),e.qZA())}function Lt(a,l){1&a&&(e.TgZ(0,"th",272),e._uU(1,"Plano de A\xe7\xe3o"),e.qZA())}function Ft(a,l){1&a&&(e.TgZ(0,"th",272),e._uU(1,"Percentual (~)"),e.qZA())}function Yt(a,l){if(1&a&&(e.TgZ(0,"tr",95)(1,"th",269),e._uU(2,"Risco |"),e.qZA(),e.TgZ(3,"th",270),e._uU(4,"Produto"),e.qZA(),e.YNc(5,Qt,2,0,"th",271),e.YNc(6,Ot,2,0,"th",271),e.YNc(7,Vt,2,0,"th",271),e.YNc(8,Et,2,0,"th",271),e.YNc(9,Lt,2,0,"th",271),e.YNc(10,Ft,2,0,"th",271),e._UZ(11,"th",247),e.qZA()),2&a){e.oxw();const t=e.MAs(373),n=e.MAs(385),o=e.MAs(379),i=e.MAs(391),r=e.MAs(397),s=e.MAs(403);e.xp6(5),e.Q6J("ngIf",t.value),e.xp6(1),e.Q6J("ngIf",n.value),e.xp6(1),e.Q6J("ngIf",o.value),e.xp6(1),e.Q6J("ngIf",i.value),e.xp6(1),e.Q6J("ngIf",r.value),e.xp6(1),e.Q6J("ngIf",s.value)}}function Dt(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"app-input-number",279),e.NdJ("valueChanges",function(o){e.CHM(t);const i=e.oxw(2).$implicit,r=e.oxw();return i.custosTaxas=o,e.KtG(r.saveData())}),e.qZA()}if(2&a){const t=e.oxw(2).$implicit;e.Q6J("valueInput",t.custosTaxas)("inputId","produto-custosTaxas-"+t.produto_Id)("mask","separator.2")("min",0)("max",100)("required",!0)("showErrorMessage",!1)("allowNegativeNumbers",!1)("autoReplaceValue",!0)}}function $t(a,l){1&a&&(e.TgZ(0,"span",280),e._uU(1,"-"),e.qZA())}function Gt(a,l){if(1&a&&(e.TgZ(0,"td",272),e.YNc(1,Dt,1,9,"app-input-number",277),e.YNc(2,$t,2,0,"span",278),e.qZA()),2&a){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",61!=t.produto_Id),e.xp6(1),e.Q6J("ngIf",61==t.produto_Id)}}function Bt(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"app-input-number",279),e.NdJ("valueChanges",function(o){e.CHM(t);const i=e.oxw(2).$implicit,r=e.oxw();return i.rentabilidade=o,e.KtG(r.saveData())}),e.qZA()}if(2&a){const t=e.oxw(2).$implicit;e.Q6J("valueInput",t.rentabilidade)("inputId","produto-rentabilidade-"+t.produto_Id)("mask","separator.2")("min",void 0)("max",100)("required",!0)("showErrorMessage",!1)("allowNegativeNumbers",!0)("autoReplaceValue",!0)}}function Ht(a,l){1&a&&(e.TgZ(0,"span",280),e._uU(1,"-"),e.qZA())}function zt(a,l){if(1&a&&(e.TgZ(0,"td",272),e.YNc(1,Bt,1,9,"app-input-number",277),e.YNc(2,Ht,2,0,"span",278),e.qZA()),2&a){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",61!=t.produto_Id),e.xp6(1),e.Q6J("ngIf",61==t.produto_Id)}}function Kt(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"app-input-number",251),e.NdJ("valueChanges",function(o){e.CHM(t);const i=e.oxw(2).$implicit;return e.KtG(i.rentabilidadeLiquida=o)}),e.qZA()}if(2&a){const t=e.oxw(2).$implicit;e.Q6J("valueInput",t.rentabilidadeLiquida)("inputId","produto-rentabilidadeLiquida-"+t.produto_Id)("mask","separator.4")("min",void 0)("max",100)("showErrorMessage",!1)("allowNegativeNumbers",!0)("readonly",!0)("disabled",!0)("autoReplaceValue",!0)}}function Wt(a,l){1&a&&(e.TgZ(0,"span",280),e._uU(1,"-"),e.qZA())}function Xt(a,l){if(1&a&&(e.TgZ(0,"td",272),e.YNc(1,Kt,1,10,"app-input-number",281),e.YNc(2,Wt,2,0,"span",278),e.qZA()),2&a){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",61!=t.produto_Id),e.xp6(1),e.Q6J("ngIf",61==t.produto_Id)}}function en(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"td",282)(1,"app-input-number",283),e.NdJ("valueChanges",function(o){e.CHM(t);const i=e.oxw().$implicit;return e.KtG(i.sugerido=o)}),e.qZA()()}if(2&a){const t=e.oxw().$implicit,n=e.oxw();e.Q6J("title","L\xedquido "+n.formatReais(t.valorLiquido_MontanteAtual)),e.xp6(1),e.Q6J("valueInput",t.sugerido)("inputId","produto-sugerido-"+t.produto_Id)("mask","separator.2")("min",0)("showErrorMessage",!1)("allowNegativeNumbers",!1)("readonly",!0)("disabled",!0)("autoReplaceValue",!0)}}function tn(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"td",282)(1,"app-input-number",284),e.NdJ("valueChanges",function(o){e.CHM(t);const i=e.oxw().$implicit,r=e.oxw();return i.planoAcao=o,e.KtG(r.saveData())}),e.qZA()()}if(2&a){const t=e.oxw().$implicit,n=e.oxw();e.Q6J("title","L\xedquido "+n.formatReais(t.valorLiquido_PlanoAcao)),e.xp6(1),e.Q6J("valueInput",t.planoAcao)("inputId","produto-planoAcao-"+t.produto_Id)("mask","separator.2")("min",0)("required",!0)("showErrorMessage",!1)("allowNegativeNumbers",!1)("readonly",61==t.produto_Id)("disabled",61==t.produto_Id)("autoReplaceValue",!0)}}function nn(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"td",272)(1,"app-input-number",251),e.NdJ("valueChanges",function(o){e.CHM(t);const i=e.oxw().$implicit;return e.KtG(i.percentual=o)}),e.qZA()()}if(2&a){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("valueInput",t.percentual)("inputId","produto-percentual-"+t.produto_Id)("mask","separator")("min",0)("max",100)("showErrorMessage",!1)("allowNegativeNumbers",!1)("readonly",!0)("disabled",!0)("autoReplaceValue",!0)}}function an(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"a",254),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,i=e.oxw();return e.KtG(i.removerProduto(o))}),e._UZ(1,"fa-icon",212),e.qZA()}if(2&a){const t=e.oxw(2);e.xp6(1),e.Q6J("icon",t.faTrash)}}function on(a,l){if(1&a&&(e.TgZ(0,"tr")(1,"td",273)(2,"small")(3,"b"),e._uU(4),e.qZA(),e._uU(5," |"),e.qZA()(),e.TgZ(6,"td",274)(7,"small")(8,"b"),e._uU(9),e.qZA()()(),e.YNc(10,Gt,3,2,"td",271),e.YNc(11,zt,3,2,"td",271),e.YNc(12,Xt,3,2,"td",271),e.YNc(13,en,2,10,"td",275),e.YNc(14,tn,2,11,"td",275),e.YNc(15,nn,2,10,"td",271),e.TgZ(16,"td",247),e.YNc(17,an,2,1,"a",276),e.qZA()()),2&a){const t=l.$implicit;e.oxw();const n=e.MAs(373),o=e.MAs(385),i=e.MAs(379),r=e.MAs(391),s=e.MAs(397),d=e.MAs(403);e.xp6(4),e.Oqu(t.produto.tipoRisco.nome),e.xp6(5),e.Oqu(t.produto.descricao),e.xp6(1),e.Q6J("ngIf",n.value),e.xp6(1),e.Q6J("ngIf",o.value),e.xp6(1),e.Q6J("ngIf",i.value),e.xp6(1),e.Q6J("ngIf",r.value),e.xp6(1),e.Q6J("ngIf",s.value),e.xp6(1),e.Q6J("ngIf",d.value),e.xp6(2),e.Q6J("ngIf",61!=t.produto.id)}}function rn(a,l){1&a&&e._UZ(0,"td")}function ln(a,l){1&a&&e._UZ(0,"td")}function sn(a,l){1&a&&e._UZ(0,"td")}function dn(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"td",252)(1,"app-input-number",286),e.NdJ("valueChanges",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.somaProdutos.somaSugerido=o)}),e.qZA()()}if(2&a){const t=e.oxw(3);e.Q6J("title","Liquido "+t.formatReais(t.somaProdutos.somaSugeridoLiquido)),e.xp6(1),e.Q6J("valueInput",t.somaProdutos.somaSugerido)("inputId","somaSugerido")("mask","separator.2")("required",!1)("showErrorMessage",!1)("readonly",!0)("disabled",!0)("autoReplaceValue",!0)}}function pn(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"td",252)(1,"app-input-number",286),e.NdJ("valueChanges",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.somaProdutos.somaPlanoAcao=o)}),e.qZA()()}if(2&a){const t=e.oxw(3);e.Q6J("title","Liquido "+t.formatReais(t.somaProdutos.somaPlanoAcaoLiquido)),e.xp6(1),e.Q6J("valueInput",t.somaProdutos.somaPlanoAcao)("inputId","somaPlanoAcao")("mask","separator.2")("required",!1)("showErrorMessage",!1)("readonly",!0)("disabled",!0)("autoReplaceValue",!0)}}function un(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"td")(1,"app-input-number",287),e.NdJ("valueChanges",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.somaProdutos.somaPercentual=o)}),e.qZA()()}if(2&a){const t=e.oxw(3);e.xp6(1),e.Q6J("valueInput",t.somaProdutos.somaPercentual)("inputId","somaPercentual")("mask","separator.2")("required",!1)("showErrorMessage",!1)("readonly",!0)("disabled",!0)("autoReplaceValue",!0)}}function cn(a,l){if(1&a&&(e.TgZ(0,"tr",256),e._UZ(1,"td"),e.TgZ(2,"td",257)(3,"small")(4,"b"),e._uU(5,"Total"),e.qZA()()(),e.YNc(6,rn,1,0,"td",20),e.YNc(7,ln,1,0,"td",20),e.YNc(8,sn,1,0,"td",20),e.YNc(9,dn,2,9,"td",285),e.YNc(10,pn,2,9,"td",285),e.YNc(11,un,2,8,"td",20),e._UZ(12,"td"),e.qZA()),2&a){const t=e.oxw(2),n=e.MAs(373),o=e.MAs(385),i=e.MAs(379),r=e.MAs(391),s=e.MAs(397),d=e.MAs(403);e.ekj("bg-danger",t.somaProdutos.somaPercentual<0||t.somaProdutos.somaPercentual>100),e.xp6(6),e.Q6J("ngIf",n.value),e.xp6(1),e.Q6J("ngIf",o.value),e.xp6(1),e.Q6J("ngIf",i.value),e.xp6(1),e.Q6J("ngIf",r.value),e.xp6(1),e.Q6J("ngIf",s.value),e.xp6(1),e.Q6J("ngIf",d.value)}}function mn(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"tr",256),e._UZ(1,"td"),e.TgZ(2,"td",257)(3,"small")(4,"b"),e._uU(5,"Diferen\xe7a"),e.qZA()()(),e._UZ(6,"td",288),e.TgZ(7,"td")(8,"app-input-number",289),e.NdJ("valueChanges",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.somaProdutos.diferencaPlanoAcao=o)}),e.qZA()(),e.TgZ(9,"td")(10,"app-input-number",290),e.NdJ("valueChanges",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.somaProdutos.diferencaPercentual=o)}),e.qZA()(),e._UZ(11,"td"),e.qZA()}if(2&a){const t=e.oxw(2);e.ekj("bg-danger",t.somaProdutos.somaPercentual<0||t.somaProdutos.somaPercentual>100),e.xp6(8),e.Q6J("valueInput",t.somaProdutos.diferencaPlanoAcao)("inputId","diferencaPlanoAcao")("mask","separator.2")("required",!1)("showErrorMessage",!1)("readonly",!0)("disabled",!0)("allowNegativeNumbers",!0)("autoReplaceValue",!0),e.xp6(2),e.Q6J("valueInput",t.somaProdutos.diferencaPercentual)("inputId","diferencaPercentual")("mask","separator.2")("required",!1)("showErrorMessage",!1)("readonly",!0)("disabled",!0)("allowNegativeNumbers",!0)("autoReplaceValue",!0)}}function _n(a,l){if(1&a&&(e.YNc(0,cn,13,8,"tr",255),e.YNc(1,mn,12,20,"tr",255)),2&a){const t=e.oxw();e.Q6J("ngIf",t.planner.planejamentoProduto.length>0),e.xp6(1),e.Q6J("ngIf",t.somaProdutos.somaPercentual>100)}}function gn(a,l){1&a&&(e.TgZ(0,"tr"),e._UZ(1,"td"),e.TgZ(2,"td",259),e._uU(3," Nenhum registro "),e.qZA(),e._UZ(4,"td"),e.qZA()),2&a&&(e.xp6(2),e.uIk("colspan",9))}function hn(a,l){if(1&a&&(e.TgZ(0,"div",10),e._UZ(1,"app-patrimonio-por-idade",291),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("planner",t.planner)}}function fn(a,l){if(1&a&&(e.TgZ(0,"div",10),e._UZ(1,"app-grafico-comparativo",291,292),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("planner",t.planner)}}function vn(a,l){if(1&a&&(e.TgZ(0,"p",17),e._uU(1),e.ALo(2,"json"),e.qZA()),2&a){const t=l.$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,t))}}function bn(a,l){1&a&&(e.TgZ(0,"p",17),e._uU(1,"Preencha todos os campos corretamente para salvar"),e.qZA())}function Zn(a,l){if(1&a&&(e.TgZ(0,"p",17),e._uU(1),e.ALo(2,"json"),e.qZA()),2&a){e.oxw(2);const t=e.MAs(14);e.xp6(1),e.Oqu(e.lcZ(2,1,t.errors))}}function Mn(a,l){if(1&a&&(e.TgZ(0,"div",293),e.YNc(1,vn,3,3,"p",294),e.YNc(2,bn,2,0,"p",223),e.YNc(3,Zn,3,3,"p",223),e.qZA()),2&a){const t=e.oxw(),n=e.MAs(14);e.xp6(1),e.Q6J("ngForOf",t.erro),e.xp6(1),e.Q6J("ngIf",0==t.erro.length),e.xp6(1),e.Q6J("ngIf",n.errors)}}function An(a,l){1&a&&e._UZ(0,"span",297)}function xn(a,l){if(1&a&&(e.TgZ(0,"button",295),e.YNc(1,An,1,0,"span",296),e.TgZ(2,"span"),e._uU(3,"Salvar"),e.qZA()()),2&a){const t=e.oxw();e.Q6J("disabled",t.loading),e.xp6(1),e.Q6J("ngIf",t.loading)}}function Cn(a,l){1&a&&(e.TgZ(0,"div",298),e._uU(1," Este campo \xe9 obrigat\xf3rio "),e.qZA())}const Tn=function(){return["investimento"]};let he=(()=>{class a{constructor(t,n,o,i,r,s,d,h,v,p,c,u,_,A){this.modal=t,this.toastr=n,this.activatedRoute=o,this.router=i,this.crypto=r,this.dropdown=s,this.setup=d,this.accountService=h,this.clienteService=v,this.plannerService=p,this.usuarioService=c,this.empresaService=u,this.currency=_,this.datepipe=A,this.faTimes=b.NBC,this.faWallet=b.X5K,this.faChevronLeft=b.A35,this.faTrash=b.$aW,this.faArrowRight=b.eFW,this.faPlus=b.r8p,this.faTrashAlt=b.I7k,this.faChartPie=b.OS1,this.modalOpen=!1,this.planner=new T,this.erro=[],this.loading=!1,this.loadingProduto=!1,this.carteirasSetup=[],this.loadingCarteiraSetup=!0,this.estadoCivil=[],this.loadingEstadoCivil=!0,this.perfilInvestidor=[],this.loadingPerfilInvestidor=!0,this.isEditPage=!1,this.formIsValid=!1,this.somaProdutos={somaPercentual:0,somaPlanoAcao:0,somaPlanoAcaoLiquido:0,somaSugerido:0,somaSugeridoLiquido:0,diferencaPercentual:0,diferencaPlanoAcao:0,diferencaSugerido:0},this.somaInvestimentos={somaMontanteAtual:0,somaMontanteAtualLiquido:0},this.carteiraSetupInalterada=new ue.Wj,this.mudouCarteiraSetup=!1,this.clienteIdEncrypted="",this.subscription=[],this.dataNascimentoMin="",this.dataNascimentoMax="",this.listUsuarios=[],this.loadingUsuarios=!0,this.routerBack=["../../"],this.colsProdutos={custosTaxas:!0,rentabLiquida:!0,rentabBruta:!0,montanteSugerido:!0,planoAcao:!0,percentual:!0},this.emailPattern=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,this.routeBackOptions={relativeTo:this.activatedRoute};var y=new Date;this.dataNascimentoMax=y.toJSON().substring(0,10);var C,q=y;q.setFullYear(q.getFullYear()-100),this.dataNascimentoMin=q.toJSON().substring(0,10),this.account=this.accountService.accountValue,(0,Z.n)(this.dropdown.getEstadoCivil()).then(M=>this.estadoCivil=M).finally(()=>this.loadingEstadoCivil=!1),(0,Z.n)(this.dropdown.getPerfilInvestidor()).then(M=>this.perfilInvestidor=M).finally(()=>this.loadingPerfilInvestidor=!1),(0,Z.n)(this.setup.getList(C=1==this.account?.perfilAcesso_Id?this.empresaService.object.id:this.planner.account.empresa_Id)).then(M=>{this.planner.carteiraSetup_Id&&(this.planner.carteiraSetup=M.find(I=>I.id==this.planner.carteiraSetup_Id))}).finally(()=>this.loadingCarteiraSetup=!1),(0,Z.n)(this.usuarioService.getList(C)).finally(()=>this.loadingUsuarios=!1);var x=this.setup.list.subscribe(M=>this.carteirasSetup=M.sort((I,N)=>Number(N.ativo)<Number(I.ativo)?-1:Number(N.ativo)>Number(I.ativo)?1:I.nome<N.nome?-1:I.nome>N.nome?1:0));this.subscription.push(x);var te=this.usuarioService.list.subscribe(M=>this.listUsuarios=M.sort((I,N)=>Number(N.ativo)<Number(I.ativo)?-1:Number(N.ativo)>Number(I.ativo)?1:I.name<N.name?-1:I.name>N.name?1:0));this.subscription.push(te);var ne=this.dropdown.estadoCivil.subscribe(M=>this.estadoCivil=M);this.subscription.push(ne);var J=this.dropdown.perfilInvestidor.subscribe(M=>this.perfilInvestidor=M);this.subscription.push(J)}ngAfterViewInit(){var t=this.activatedRoute.params.subscribe(n=>{if(this.isEditPage=!!n.cliente_id,this.isEditPage)this.loading=!0,this.clienteIdEncrypted=n.cliente_id,this.planner.cliente_Id=this.crypto.decrypt(n.cliente_id),this.routerBack=["../../"],(0,Z.n)(this.plannerService.getByClienteId(this.planner.cliente_Id)).then(s=>{this.loading=!1,3==this.account?.perfilAcesso_Id&&s.account_Id!=this.account.id&&this.voltar(),s.cliente.rg=s.cliente.rg.toString().padStart(9,"0"),s.cliente.cpf=s.cliente.cpf.toString().padStart(11,"0"),s.principaisObjetivos=s.principaisObjetivos?s.principaisObjetivos:[],s.data=new Date(s.data).toISOString().substring(0,10),s.cliente.dataNascimento=new Date(s.cliente.dataNascimento).toISOString().substring(0,10),this.planner=s,this.plannerService.planejamentoBackup.next(Object.assign({},s)),this.saveData(),this.carteiraSetupInalterada=s.carteiraSetup;var h=this.plannerService.objeto.subscribe(v=>{this.planner=v,this.calculaPercentualInvestimentos(),this.calculaPercentualProdutos(),this.calculaIdadeCadastro(),this.calculaIdade(),this.formIsValid=this.validaForm(this.form)});this.subscription.push(h)}).catch(s=>{console.error("voltar 2",s),this.voltar()}).finally(()=>this.loading=!1);else{this.routerBack=["../"];var o=this.plannerService.getObject().value;0==o.account_Id&&(o.account_Id=this.account?.id??0,o.account=this.account,o.cliente.account_Id=o.account_Id),o.cliente.empresa_Id=1==this.account?.perfilAcesso_Id?this.empresaService.object.id:o.account.empresa_Id,o.data=new Date(o.cliente.dataNascimento).toISOString().substring(0,10),this.planner=o,this.saveData();var r=this.plannerService.objeto.subscribe(s=>{this.planner=s,this.calculaPercentualInvestimentos(),this.calculaPercentualProdutos(),this.calculaIdadeCadastro(),this.formIsValid=this.validaForm(this.form)});this.subscription.push(r)}});this.subscription.push(t)}ngOnDestroy(){this.subscription.forEach(t=>t.unsubscribe())}voltar(){this.modal.voltar(this.routerBack,this.routeBackOptions)}resetForm(){this.plannerService.setObject(new T)}calcularICM(){this.planner.cliente.imc=this.planner.cliente.altura&&this.planner.cliente.peso?this.planner.cliente.peso/Math.pow(this.planner.cliente.altura,2):""}calculaPercentualProdutos(){if(this.planner.planejamentoProduto.length>0&&null!=this.planner.planejamentoAgregandoValor){const c=(u,_)=>Math.round(u*Math.pow(10,_))/Math.pow(10,_);var t=this.planner.planejamentoAgregandoValor.montante??1,n=0,o=0,i=0,r=0,s=0,d=this.planner.planejamentoProduto,h=(d=d.sort((u,_)=>u.produto.tipoRisco_Id>_.produto.tipoRisco_Id?-1:u.produto.tipoRisco_Id<_.produto.tipoRisco_Id?1:u.produto.descricao.toLowerCase()<_.produto.descricao.toLowerCase()?-1:u.produto.descricao.toLowerCase()>_.produto.descricao.toLowerCase()?1:0)).findIndex(u=>61==u.produto_Id),v=d.splice(h,1);d.push(v[0]);var p=2;d=d.map(u=>{var _=2,A=0;if(61==u.produto_Id){var q=t-o;if(u.sugerido=u.sugerido,u.planoAcao=q>0?q:0,q>0){u.planoAcao=q;var C=this.planner.planejamentoProduto.filter(J=>61!=J.produto_Id).map(J=>J.percentual);A=100-(C=C.length>0?C.reduce((J,M)=>J+M):0)}else A=0;u.percentual=c(A,p)}else{for(u.percentual=c(100*(A=u.planoAcao/t),_);0!=u.planoAcao&&0==u.percentual;)u.percentual=c(1*A,++_),p=_>p?_:p;var x=u.rentabilidade*(100-u.custosTaxas)/100;u.rentabilidadeLiquida=x,u.valorLiquido_MontanteAtual=u.sugerido*x/100,u.valorLiquido_PlanoAcao=u.planoAcao*x/100}return n+=u.percentual,o+=u.planoAcao,i+=u.sugerido,s+=u.valorLiquido_PlanoAcao,r+=u.valorLiquido_MontanteAtual,u}),this.somaProdutos.somaPercentual=c(n,2),this.somaProdutos.somaPlanoAcao=c(o,2),this.somaProdutos.somaSugerido=c(i,2),this.somaProdutos.somaSugeridoLiquido=c(r,2),this.somaProdutos.somaPlanoAcaoLiquido=c(s,2),this.somaProdutos.diferencaPercentual=c(100-this.somaProdutos.somaPercentual,2),this.somaProdutos.diferencaPlanoAcao=c(t-this.somaProdutos.somaPlanoAcao,2),this.somaProdutos.diferencaSugerido=c(t-this.somaProdutos.somaSugerido,2),setTimeout(()=>{this.planner.planejamentoProduto=Object.assign([],d),this.somaProdutos=Object.assign({},this.somaProdutos)},1e3)}}calculaPercentualInvestimentos(){if(this.planner.planejamentoInvestimento.length>0&&null!=this.planner.planejamentoAgregandoValor){const r=(s,d)=>Math.round(s*Math.pow(10,d))/Math.pow(10,d);var n=0,o=0,i=this.planner.planejamentoInvestimento;i=(i=i.sort((s,d)=>s.investimento.tipoRisco_Id>d.investimento.tipoRisco_Id?-1:s.investimento.tipoRisco_Id<d.investimento.tipoRisco_Id?1:s.investimento.descricao.toLowerCase()<d.investimento.descricao.toLowerCase()?-1:s.investimento.descricao.toLowerCase()>d.investimento.descricao.toLowerCase()?1:0)).map(s=>{var d=s.rentabilidade*(100-s.custosTaxas)/100,h=s.montanteAtual*d/100;return s.rentabilidadeLiquida=d,s.valorLiquido_MontanteAtual=h,n+=s.montanteAtual,o+=s.valorLiquido_MontanteAtual,s}),this.somaInvestimentos.somaMontanteAtual=r(n,2),this.somaInvestimentos.somaMontanteAtualLiquido=r(o,2),setTimeout(()=>{this.planner.planejamentoInvestimento=Object.assign([],i),this.somaInvestimentos=Object.assign({},this.somaInvestimentos)},1e3)}}calculaIdade(){if(this.planner.cliente.dataNascimento&&""!=this.planner.cliente.dataNascimento.toString().trim()){var t=Date.now()-new Date(new Date(this.planner.cliente.dataNascimento).toUTCString()).getTime(),n=new Date(t);this.planner.cliente.idade=Math.abs(n.getUTCFullYear()-1970)}else this.planner.cliente.idade=""}calculaIdadeCadastro(){var t=new Date(this.planner.data).getFullYear(),o=(new Date).getFullYear()-t;return!Number.isNaN(o)&&o?o+" anos":""}carteiraSetupChange(t){if(t.value){let n=this.carteirasSetup.find(o=>o.id==t.value);this.planner.carteiraSetup=n}else this.planner.carteiraSetup=void 0;this.mudouCarteiraSetup=this.planner.carteiraSetup_Id!=this.carteiraSetupInalterada.id,this.saveData()}perfilInvestidorChange(){this.planner.cliente.perfilInvestidor=this.perfilInvestidor.find(t=>t.id==this.planner.cliente.perfilInvestidor_Id),this.saveData()}adicionarFLuxoPontual(){var t=new Ie;t.idEncrypted=this.crypto.encrypt(0),this.planner.planejamentoFluxosPontuais.push(t),this.saveData()}removerFluxoPontual(t){let n=this.planner.planejamentoFluxosPontuais.findIndex(o=>o==t);-1!=n&&(this.planner.planejamentoFluxosPontuais.splice(n,1),this.saveData())}adicionarObjetivo(){this.planner.principaisObjetivos.push(new ye),this.saveData()}removerObjetivo(t){let n=this.planner.principaisObjetivos.findIndex(o=>o==t);-1!=n&&(this.planner.principaisObjetivos.splice(n,1),this.saveData())}removerInvestimento(t){let n=this.planner.planejamentoInvestimento.findIndex(o=>o.investimento_Id==t.investimento_Id);-1!=n&&(this.planner.planejamentoInvestimento.splice(n,1),this.saveData())}removerProduto(t){if(61!=t.produto_Id){let n=this.planner.planejamentoProduto.findIndex(o=>o.produto_Id==t.produto_Id);-1!=n&&(this.planner.planejamentoProduto.splice(n,1),this.saveData())}}saveData(){this.planner.planejamentoFluxosPontuais=this.planner.planejamentoFluxosPontuais.sort((t,n)=>Number(t.idade)-Number(n.idade)),this.plannerService.setObject(this.planner)}validaIdade(t,n){var o=this.planner.planejamentoFluxosPontuais.find(r=>r.idade==n.idade&&r.id!=n.id),i=this.planner.planejamentoFluxosPontuais.filter(r=>r.idade==n.idade&&0==r.id);o||i.length>1?(t.setErrors({invalid:"Essa idade j\xe1 foi preenchida"}),this.toastr.error("Essa idade j\xe1 foi preenchida")):t.setErrors(null),this.formIsValid=this.validaForm(this.form)}validaRG_CPF(t,n){if(t){if(!n||0==n)return void t.control.setErrors({required:!0});if("cpf"==t.name&&!(0,Re.v)(n))return void t.control.setErrors({invalid:!0});(0,Z.n)(this.clienteService.getByDoc(this.planner.cliente_Id,n)).then(i=>{this.saveData(),this.formIsValid=this.validaForm(this.form)}).catch(i=>{t.control.setErrors({jaExiste:(0,Ne.b)(i)})})}}validaForm(t){return this.erro=[],t.touched&&t.invalid?(console.log("form.invalid"),this.erro.push("Campos inv\xe1lidos!"),!1):1==this.loading?(console.log("loading",this.loading),!1):0==this.planner.planejamentoInvestimento.length?(console.log("this.planner.planejamentoInvestimento.length == 0",this.planner.planejamentoInvestimento.length),this.erro.push("Insira um ou mais investimentos no planner."),!1):0==this.planner.planejamentoProduto.length?(console.log("this.planner.planejamentoProduto.length == 0",this.planner.planejamentoProduto.length),this.erro.push("Insira um ou mais produtos no planner."),!1):this.somaProdutos.somaPlanoAcao>this.planner.planejamentoAgregandoValor.montante||this.somaProdutos.somaPlanoAcao<this.planner.planejamentoAgregandoValor.montante?(console.log("soma x montante",this.somaProdutos.somaPlanoAcao,this.planner.planejamentoAgregandoValor.montante),this.erro.push("Soma de plano de a\xe7\xe3o em produtos deve ser igual ao montante"),!1):!(this.planner.cliente.receita<this.planner.cliente.despesa&&(console.log("this.planner.cliente.receita < this.planner.cliente.despesa",this.planner.cliente.receita<this.planner.cliente.despesa),this.erro.push("Receita deve ser maior que despesas"),1))}validaReceitaDespesa(t){return this.planner.cliente.receita<this.planner.cliente.despesa?"despesa"==t.name?this.despesa.setErrors({message:"Despesa n\xe3o pode ser maior que receita."}):"receita"==t.name&&this.receita.setErrors({message:"Receita n\xe3o pode ser menor que despesa."}):(this.receita.setErrors(null),this.despesa.setErrors(null),this.receita.validate(),this.despesa.validate()),this.formIsValid=this.validaForm(this.form),t}validaDataNascimento(){var t=new Date(this.planner.cliente.dataNascimento),n=new Date(this.dataNascimentoMin),o=new Date(this.dataNascimentoMax);this.dataNascimento&&(t>o?this.dataNascimento.control.setErrors({max:!0}):t<n&&this.dataNascimento.control.setErrors({min:!0})),this.formIsValid=this.validaForm(this.form)}carregarProdutos(t){if(!this.isEditPage||this.isEditPage&&(3!=this.account?.perfilAcesso_Id||this.account?.id==this.planner.account_Id)){if(this.saveData(),this.erro=[],this.formIsValid=this.validaForm(this.form),!this.formIsValid)return this.erro.push("Campos inv\xe1lidos!"),this.toastr.error("Campos inv\xe1lidos!"),void(this.loading=!1);(0,Z.n)(this.plannerService.create(this.planner)).then(n=>{this.clienteIdEncrypted=this.crypto.encrypt(n.cliente_Id),this.isEditPage||this.router.navigate([this.clienteIdEncrypted],{relativeTo:this.activatedRoute}),n.cliente.rg=n.cliente.rg.toString().padStart(9,"0"),n.cliente.cpf=n.cliente.cpf.toString().padStart(11,"0"),this.plannerService.setObject(n),this.mudouCarteiraSetup=!1,n.carteiraSetup&&(this.carteiraSetupInalterada=n.carteiraSetup)}).finally(()=>{this.loading=!1})}}send(t){this.saveData(),this.formIsValid=this.validaForm(t),this.formIsValid?(!this.isEditPage||this.isEditPage&&this.account?.id==this.planner.account_Id||3!=this.account?.perfilAcesso_Id)&&(0,Z.n)(this.plannerService.edit(this.planner)).then(n=>{this.isEditPage||this.router.navigate([this.clienteIdEncrypted],{relativeTo:this.activatedRoute}),n.cliente.rg=n.cliente.rg.toString().padStart(9,"0"),n.cliente.cpf=n.cliente.cpf.toString().padStart(11,"0"),this.plannerService.setObject(n),this.mudouCarteiraSetup=!1,n.carteiraSetup&&(this.carteiraSetupInalterada=n.carteiraSetup)}).finally(()=>this.loading=!1):this.toastr.error("Campos inv\xe1lidos")}formatReais(t){return t=Math.round(t*Math.pow(10,2))/Math.pow(10,2),"R$ "+this.currency.transform(t,"BRL","","1.2")}formatPorcentagem(t){return t=Math.round(t*Math.pow(10,2))/Math.pow(10,2),this.currency.transform(t,"BRL","","1.2")+"%"}encrypt(t){return console.log(t),this.crypto.encrypt(t)}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(U.Q),e.Y36(H._W),e.Y36(P.gz),e.Y36(P.F0),e.Y36(R.w),e.Y36(Y.V),e.Y36(ce.A),e.Y36(O.B),e.Y36(ie.$),e.Y36(w),e.Y36(we.i),e.Y36(K.P),e.Y36(f.H9),e.Y36(f.uU))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-planner"]],viewQuery:function(t,n){if(1&t&&(e.Gf(Fe,5),e.Gf(Ye,5),e.Gf(De,5),e.Gf($e,5),e.Gf(Ge,5),e.Gf(Be,5),e.Gf(He,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.chartCapitalSegurado=o.first),e.iGM(o=e.CRH())&&(n.form=o.first),e.iGM(o=e.CRH())&&(n.dataNascimento=o.first),e.iGM(o=e.CRH())&&(n.rg=o.first),e.iGM(o=e.CRH())&&(n.cpf=o.first),e.iGM(o=e.CRH())&&(n.receita=o.first),e.iGM(o=e.CRH())&&(n.despesa=o.first)}},decls:532,vars:259,consts:[[1,"modal__content","py-0"],[1,"modal__header","pb-2",2,"padding","0 25px"],[1,"d-flex","align-items-center","justify-content-between","flex-wrap","w-100"],[1,"link","text-dark",3,"click"],[1,"mr-1",3,"icon"],[1,"btn","btn-yellow",3,"click"],[1,"text-orange","mt-1"],[1,"modal__body","mt-0"],["disabled","",1,"needs-validation","home","editable",3,"ngSubmit"],["form","ngForm"],[1,"form-row","mb-2"],[1,"col-lg-8","col-md-8","col-sm-12"],[1,"card","card-body"],[1,"home__container-header","mb-2"],[1,"form-row"],[1,"form-group","col-lg-5","col-md-5","col-sm-12"],["for","nome"],[1,"text-danger"],["type","text","name","nome","id","nome","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","","pattern","\\S(.*\\S)?",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","change"],["nome","ngModel"],[4,"ngIf"],[1,"form-group","col-lg-3","col-md-3","col-sm-12"],["for","perfilInvestidor"],["name","perfilInvestidor","id","perfilInvestidor","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange"],["_perfilInvestidor","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"form-group","col-lg-4","col-md-4","col-sm-12"],["for","estadoCivil"],["name","estadoCivil","id","estadoCivil","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange"],["_estadoCivil","ngModel"],[1,"form-group","col-lg-3","col-md-3","col-sm-6","col-6"],["for","cpf"],["type","text","name","cpf","id","cpf","mask","000.000.000-00","placeHolder","000.000.000-00","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","","pattern","\\d{3}\\.?\\d{3}\\.?\\d{3}-?\\d{2}",1,"form-control",3,"ngModel","ngbPopover","disablePopover","readonly","ngModelChange","change"],["cpf","ngModel"],["for","rg"],["type","text","name","rg","id","rg","mask","00.000.000-0","placeholder","00.000.000-0","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","","pattern","\\d{2}\\.?\\d{3}\\.?\\d{3}-?\\d{1}",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","change"],["rg","ngModel"],[1,"form-group","col-lg-4","col-md-4","col-sm-6","col-6"],["for","dataNascimento"],["type","date","name","dataNascimento","id","dataNascimento","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","min","max","ngbPopover","disablePopover","ngModelChange","change"],["dataNascimento","ngModel"],[1,"form-group","col-lg-2","col-md-2","col-sm-6","col-6"],["for","idade"],[3,"valueInput","inputId","mask","suffix","readonly","required","showErrorMessage","allowNegativeNumbers","autoReplaceValue","valueChanges"],[1,"form-group","col-lg-12","col-md-12","col-sm-12"],["for","email"],["type","email","name","email","id","email","placeholder","example@gmail.com","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"email","ngModel","ngbPopover","disablePopover","pattern","ngModelChange","change"],["email","ngModel"],[1,"col-lg-6","col-md-6","col-sm-12","col-12","pl-0","pr-0"],[1,"home__container"],[1,"form-group","col-lg-6","col-md-6","col-sm-12","d-lg-block","d-md-block"],["for","receita"],["prefix","R$ ","placeholder","R$ 00,00",3,"valueInput","inputId","mask","min","max","required","allowNegativeNumbers","showErrorMessage","autoReplaceValue","valueChanges","ngModelChanged"],["receita",""],[1,"form-group","col-lg-6","col-md-6","col-sm-12"],["for","despesa"],["despesa",""],[1,"col-lg-6","col-md-6","col-sm-12","col-12","pr-0","pl-0"],["for","taxaSelic"],["suffix","%",3,"valueInput","inputId","mask","max","required","showErrorMessage","allowNegativeNumbers","placeholder","autoReplaceValue","valueChanges"],["for","taxaIpca"],[1,"home__container-header","mb-4"],[1,"col-lg-6","col-md-6","col-sm-12","col-12","px-0"],[1,"form-container"],[1,"form-container-title","font-weight-bold"],[1,"form-container-body"],[1,"form-group","col-lg-6","col-md-6","col-sm-6","pr-1"],["for","rE_Sugerido"],["type","text","id","rE_Sugerido","name","rE_Sugerido","mask","separator.5","thousandSeparator",".","decimalMarker",",","placeholder","R$ 00,00","prefix","R$ ","readonly","",1,"form-control","form-control-number",3,"ngModel","allowNegativeNumbers","ngModelChange"],["rE_Sugerido","ngModel"],[1,"form-group","col-lg-6","col-md-6","col-sm-6","pr-0"],["for","rE_Planejado"],["type","text","id","rE_Planejado","name","rE_Planejado","mask","separator.5","thousandSeparator",".","decimalMarker",",","placeholder","R$ 00,00","prefix","R$ ","readonly","",1,"form-control","form-control-number",3,"ngModel","allowNegativeNumbers","ngModelChange"],["rE_Planejado","ngModel"],[1,"form-container","mb-0"],["for","riscoAssumido"],["type","text","id","riscoAssumido","name","riscoAssumido","mask","separator.5","thousandSeparator",".","decimalMarker",",","placeholder","R$ 00,00","suffix","%","readonly","",1,"form-control","form-control-number",3,"ngModel","allowNegativeNumbers","ngModelChange"],["riscoAssumido","ngModel"],["for","riscoTolerado"],["type","text","id","riscoTolerado","name","riscoTolerado","mask","separator.5","thousandSeparator",".","decimalMarker",",","placeholder","R$ 00,00","suffix","%","suffix","%","readonly","",1,"form-control","form-control-number",3,"ngModel","allowNegativeNumbers","ngModelChange"],["riscoTolerado","ngModel"],[1,"col-lg-4","col-md-4","col-sm-12","col-12"],["for","data",1,"mb-0"],[1,"form-group","col-lg-6","col-md-6","col-sm-6"],["type","date","id","data","name","data","readonly","","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["_data","ngModel"],["type","text","readonly","","disabled","",1,"form-control",3,"value"],["for","descricao",1,"mb-0"],["type","text","name","descricao","id","descricao","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","","pattern","\\S(.*\\S)?",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","change"],["descricao","ngModel"],["for","account",1,"mb-0"],["type","text","class","form-control","id","account","name","account","readonly","","disabled","",3,"ngModel","ngModelChange",4,"ngIf"],[1,"home__container","table-responsive","mb-2"],[1,"table","table-editable","w-100","d-md-table","d-sm-table","mb-0"],[1,"primary"],[1,"bg-light","px-3","text-right",2,"white-space","nowrap"],[3,"valueInput","inputId","mask","suffix","min","max","required","placeholder","showErrorMessage","allowNegativeNumbers","autoReplaceValue","valueChanges"],[3,"valueInput","inputId","mask","thousandSeparator","decimalMarker","prefix","min","max","required","placeholder","showErrorMessage","autoReplaceValue","valueChanges"],[3,"valueInput","inputId","mask","suffix","max","required","showErrorMessage","allowNegativeNumbers","placeholder","autoReplaceValue","valueChanges"],["responsiveLayout","scroll","emptyMessage","Nenhum registro",1,"table","table-editable","w-100","mb-0",3,"value","responsive"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"col-lg-12","col-md-12","col-sm-12","col-12"],[1,"table-responsive"],[1,"table","table-editable"],[2,"white-space","nowrap"],[1,"px-3","bg-light","text-right"],["type","text","id","sugestao_Baixissimo","name","sugestao_Baixissimo","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["sugestao_Baixissimo","ngModel"],["type","text","id","sugestao_Baixo","name","sugestao_Baixo","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["sugestao_Baixo","ngModel"],["type","text","id","sugestao_Moderado","name","sugestao_Moderado","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["sugestao_Moderado","ngModel"],["type","text","id","sugestao_Arrojado","name","sugestao_Arrojado","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["sugestao_Arrojado","ngModel"],["type","text","id","sugestao_SuperArrojado","name","sugestao_SuperArrojado","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["sugestao_SuperArrojado","ngModel"],["type","text","id","sugestao_Hedge","name","sugestao_Hedge","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["sugestao_Hedge","ngModel"],["type","text","id","sugestao_Total","name","sugestao_Total","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["sugestao_Total","ngModel"],["type","text","id","plano_Baixissimo","name","plano_Baixissimo","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["plano_Baixissimo","ngModel"],["type","text","id","plano_Baixo","name","plano_Baixo","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["plano_Baixo","ngModel"],["type","text","id","plano_Moderado","name","plano_Moderado","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["plano_Moderado","ngModel"],["type","text","id","plano_Arrojado","name","plano_Arrojado","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["plano_Arrojado","ngModel"],["type","text","id","plano_SuperArrojado","name","plano_SuperArrojado","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["plano_SuperArrojado","ngModel"],["type","text","id","plano_Hedge","name","plano_Hedge","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["plano_Hedge","ngModel"],["type","text","id","plano_Total","name","plano_Total","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["plano_Total","ngModel"],[1,"home__container-header","mb-2","position-relative"],[1,"btn","btn-primary",3,"routerLink"],["responsiveLayout","scroll","emptyMessage","Nenhum registro",1,"table","table-editable",3,"value","responsive"],["pTemplate","footer"],["class","d-flex justify-content-end align-items-center w-100",4,"ngIf"],["class","text-danger px-2",4,"ngIf"],[1,"w-100"],[1,"w-100","d-flex","flex-wrap","my-2"],[1,"d-flex","align-items-center","me-2"],["type","checkbox","hidden","","id","custosTaxas","name","custosTaxas",3,"ngModel","ngModelChange"],["custosTaxas","ngModel"],["for","custosTaxas",1,"d-block","py-1","px-2",2,"cursor","pointer"],["type","checkbox","hidden","","id","rentabLiquida","name","rentabLiquida",3,"ngModel","ngModelChange"],["rentabLiquida","ngModel"],["for","rentabLiquida",1,"d-block","py-1","px-2",2,"cursor","pointer"],["type","checkbox","hidden","","id","rentabBruta","name","rentabBruta",3,"ngModel","ngModelChange"],["rentabBruta","ngModel"],["for","rentabBruta",1,"d-block","py-1","px-2",2,"cursor","pointer"],["type","checkbox","hidden","","id","montanteSugerido","name","montanteSugerido",3,"ngModel","ngModelChange"],["montanteSugerido","ngModel"],["for","montanteSugerido",1,"d-block","py-1","px-2",2,"cursor","pointer"],["type","checkbox","hidden","","id","planoAcao","name","planoAcao",3,"ngModel","ngModelChange"],["planoAcao","ngModel"],["for","planoAcao",1,"d-block","py-1","px-2",2,"cursor","pointer"],["type","checkbox","hidden","","id","percentual","name","percentual",3,"ngModel","ngModelChange"],["percentual","ngModel"],["for","percentual",1,"d-block","py-1","px-2",2,"cursor","pointer"],["responsiveLayout","scroll","emptyMessage","Nenhum registro","columnResizeMode","expand",1,"table","table-editable",3,"value","responsive","resizableColumns"],[1,"form-row","table-responsive","mb-2"],[1,"table","table-editable","mb-0"],["colspan","6",1,"text-center","p-2"],[1,""],["colspan","2",1,"text-right","primary"],[1,"p-0"],["type","text","id","solucao_montante_Atual","name","solucao_montante_Atual","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control","form-control-solucaoInicial",3,"ngModel","readOnly","ngModelChange"],["solucao_montante_Atual","ngModel"],["colspan","2",1,"p-0"],["type","text","id","solucao_riscoAssumido_Atual","name","solucao_riscoAssumido_Atual","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%",1,"form-control","form-control-solucaoInicial",3,"ngModel","readOnly","ngModelChange"],["solucao_riscoAssumido_Atual","ngModel"],[1,"text-right",2,"white-space","nowrap"],[1,"px-3","bg-light","text-right",2,"white-space","nowrap"],["type","text","id","solucao_rentabilidade_Atual","name","solucao_rentabilidade_Atual","mask","separator.2","thousandSeparator",".","decimalMarker",",","suffix","%",1,"form-control",3,"ngModel","allowNegativeNumbers","readOnly","ngModelChange"],["solucao_rentabilidade_Atual","ngModel"],["type","text","id","solucao_retornoAnual_Atual","name","solucao_retornoAnual_Atual","mask","separator.2","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control",3,"ngModel","allowNegativeNumbers","readOnly","ngModelChange"],["solucao_retornoAnual_Atual","ngModel"],["type","text","id","solucao_retornoMensal_Atual","name","solucao_retornoMensal_Atual","mask","separator.2","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control",3,"ngModel","allowNegativeNumbers","readOnly","ngModelChange"],["solucao_retornoMensal_Atual","ngModel"],["type","text","id","solucao_plMax_Atual","name","solucao_plMax_Atual","mask","separator.2","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_plMax_Atual","ngModel"],["type","text","id","solucao_idadeMax_Atual","name","solucao_idadeMax_Atual","mask","separator.2","thousandSeparator",".","decimalMarker",",",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_idadeMax_Atual","ngModel"],["type","text","id","solucao_rentabilidade_Sugerida","name","solucao_rentabilidade_Sugerida","mask","separator.2","thousandSeparator",".","decimalMarker",",","suffix","%",1,"form-control",3,"ngModel","allowNegativeNumbers","readOnly","ngModelChange"],["solucao_rentabilidade_Sugerida","ngModel"],["type","text","id","solucao_retornoAnual_Sugerido","name","solucao_retornoAnual_Sugerido","mask","separator.2","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control",3,"ngModel","allowNegativeNumbers","readOnly","ngModelChange"],["solucao_retornoAnual_Sugerido","ngModel"],["type","text","id","solucao_retornoMensal_Sugerido","name","solucao_retornoMensal_Sugerido","mask","separator.2","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control",3,"ngModel","allowNegativeNumbers","readOnly","ngModelChange"],["solucao_retornoMensal_Sugerido","ngModel"],["type","text","id","solucao_plMax_Sugerido","name","solucao_plMax_Sugerido","mask","separator.2","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_plMax_Sugerido","ngModel"],["type","text","id","solucao_idadeMax_Sugerido","name","solucao_idadeMax_Sugerido","mask","separator.2","thousandSeparator",".","decimalMarker",",",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_idadeMax_Sugerido","ngModel"],["type","text","id","solucao_rentabilidade_Diferenca","name","solucao_rentabilidade_Diferenca","mask","separator.2","thousandSeparator",".","decimalMarker",",","suffix","%",1,"form-control",3,"ngModel","readOnly","allowNegativeNumbers","ngModelChange"],["solucao_rentabilidade_Diferenca","ngModel"],["type","text","id","solucao_retornoAnual_Diferenca","name","solucao_retornoAnual_Diferenca","mask","separator.2","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control",3,"ngModel","readOnly","allowNegativeNumbers","ngModelChange"],["solucao_retornoAnual_Diferenca","ngModel"],["type","text","id","solucao_retornoMensal_Diferenca","name","solucao_retornoMensal_Diferenca","mask","separator.2","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control",3,"ngModel","readOnly","allowNegativeNumbers","ngModelChange"],["solucao_retornoMensal_Diferenca","ngModel"],[1,"border-primary","border-left","border-top"],["type","text","id","solucao_plMax_Diferenca","name","solucao_plMax_Diferenca","mask","separator.2","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control",3,"ngModel","readOnly","allowNegativeNumbers","ngModelChange"],["solucao_plMax_Diferenca","ngModel"],[1,"border-primary","border"],["type","text","id","solucao_idadeMax_Diferenca","name","solucao_idadeMax_Diferenca","mask","separator.2","thousandSeparator",".","decimalMarker",",",1,"form-control",3,"ngModel","readOnly","allowNegativeNumbers","ngModelChange"],["solucao_idadeMax_Diferenca","ngModel"],["colspan","2",1,"px-3","bg-light","text-center",2,"white-space","nowrap"],[1,"px-3","bg-light","text-left"],[3,"icon"],[1,"border-primary","border-left","border-bottom"],["type","text","id","solucao_pL_Desempenho","name","solucao_pL_Desempenho","mask","separator.2","thousandSeparator",".","decimalMarker",",","suffix","%",1,"form-control","h2","mb-0","font-weight-bold",2,"font-size","20px",3,"ngModel","readOnly","allowNegativeNumbers","ngModelChange"],["solucao_pL_Desempenho","ngModel"],["type","text","id","solucao_idade_Desempenho","name","solucao_idade_Desempenho","mask","separator.2","suffix","%","thousandSeparator",".","decimalMarker",",",1,"form-control","h2","mb-0","font-weight-bold",2,"font-size","20px",3,"ngModel","readonly","allowNegativeNumbers","ngModelChange"],["solucao_idade_Desempenho","ngModel"],["class","form-row mb-2",4,"ngIf"],[1,"form-footer-submit-fixed"],["class","m-0",4,"ngIf"],["type","submit","class","btn btn-primary mr-0 ml-auto",3,"disabled",4,"ngIf"],["campoObrigatorio",""],["class","text-danger",4,"ngIf"],[1,"text-info"],["id","account","name","account","optionLabel","name","optionValue","id","optionDisabled","dataDesativado","filterBy","name, email",1,"form-control",3,"ngModel","disabled","options","filter","showClear","placeholder","required","ngModelChange"],["_account","ngModel"],["pTemplate","item"],[1,"d-flex","align-items-center","justify-content-between"],["class","flag flag-red",3,"ngbPopover",4,"ngIf"],["ativo",""],[1,"flag","flag-red",3,"ngbPopover"],[1,"py-2","px-3"],["type","text","id","account","name","account","readonly","","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["colspan","3",1,"pl-4","text-white"],[1,"text-center","d-flex","align-items-center"],["title","Adicionar",1,"btn","p-0","ml-auto","text-white",3,"click"],[1,"primary","text-white"],[1,"pl-4"],[3,"valueInput","inputId","mask","suffix","min","max","required","showErrorMessage","allowNegativeNumbers","autoReplaceValue","valueChanges"],["input",""],["placeholder","R$ 00,00","prefix","R$ ",3,"valueInput","inputId","mask","required","showErrorMessage","allowNegativeNumbers","autoReplaceValue","valueChanges"],[1,"text-center"],["title","Remover linha",1,"btn","btn-trash","d-inline",3,"click"],[1,"py-2","ps-4","pe-2","text-grey"],[1,"text-right","px-3","pe-0"],[1,"text-left","px-3","ps-1","position-sticky"],[1,"td-actions"],[1,"px-3","pe-0","bg-light","text-right"],[1,"px-3","ps-1","bg-light","text-left","position-sticky"],["suffix","%",3,"valueInput","inputId","mask","min","max","showErrorMessage","allowNegativeNumbers","required","autoReplaceValue","valueChanges"],["suffix","%",3,"valueInput","inputId","mask","min","max","showErrorMessage","allowNegativeNumbers","readonly","disabled","autoReplaceValue","valueChanges"],[3,"title"],["prefix","R$ ",3,"valueInput","inputId","mask","min","required","showErrorMessage","allowNegativeNumbers","autoReplaceValue","valueChanges"],["title","Remover linha",1,"btn","btn-trash",3,"click"],["class","bg-light",3,"bg-danger",4,"ngIf"],[1,"bg-light"],[1,"px-3","bg-light","text-right","position-sticky",2,"white-space","nowrap"],["prefix","R$ ",3,"valueInput","inputId","mask","required","showErrorMessage","readonly","disabled","autoReplaceValue"],[1,"py-2","px-2","text-grey"],[1,"d-flex","justify-content-end","align-items-center","w-100"],[1,"col-lg-4","col-md-5","col-sm-6","col-8","px-0"],["id","carteirasSetup","name","carteirasSetup","optionLabel","nome","optionValue","id","optionDisabled","dataDesativado","filterBy","nome","placeholder","Selecione setup para carregar produtos",1,"form-control",3,"disabled","options","ngModel","filter","showClear","required","ngModelChange"],["_carteirasSetup","ngModel"],["type","button","triggers","mouseenter:mouseleave",3,"class","disabled","click",4,"ngIf"],["class","link ml-3",3,"routerLink",4,"ngIf"],["type","button","triggers","mouseenter:mouseleave",3,"disabled","click"],[1,"link","ml-3",3,"routerLink"],[1,"text-danger","px-2"],["pResizableColumn","",1,"text-right","px-3","pe-0"],["pResizableColumn","",1,"text-left","px-3","ps-1","position-sticky"],["pResizableColumn","",4,"ngIf"],["pResizableColumn",""],["pResizableColumn","",1,"px-3","pe-0","bg-light","text-right"],["pResizableColumn","",1,"px-3","ps-1","bg-light","text-left","position-sticky"],["pResizableColumn","",3,"title",4,"ngIf"],["class","btn btn-trash","title","Remover linha",3,"click",4,"ngIf"],["suffix","%",3,"valueInput","inputId","mask","min","max","required","showErrorMessage","allowNegativeNumbers","autoReplaceValue","valueChanges",4,"ngIf"],["class","d-block w-100 text-center",4,"ngIf"],["suffix","%",3,"valueInput","inputId","mask","min","max","required","showErrorMessage","allowNegativeNumbers","autoReplaceValue","valueChanges"],[1,"d-block","w-100","text-center"],["suffix","%",3,"valueInput","inputId","mask","min","max","showErrorMessage","allowNegativeNumbers","readonly","disabled","autoReplaceValue","valueChanges",4,"ngIf"],["pResizableColumn","",3,"title"],["prefix","R$ ",3,"valueInput","inputId","mask","min","showErrorMessage","allowNegativeNumbers","readonly","disabled","autoReplaceValue","valueChanges"],["prefix","R$ ",3,"valueInput","inputId","mask","min","required","showErrorMessage","allowNegativeNumbers","readonly","disabled","autoReplaceValue","valueChanges"],[3,"title",4,"ngIf"],["prefix","R$ ",3,"valueInput","inputId","mask","required","showErrorMessage","readonly","disabled","autoReplaceValue","valueChanges"],["suffix","%",3,"valueInput","inputId","mask","required","showErrorMessage","readonly","disabled","autoReplaceValue","valueChanges"],["colspan","4"],["prefix","R$ ",3,"valueInput","inputId","mask","required","showErrorMessage","readonly","disabled","allowNegativeNumbers","autoReplaceValue","valueChanges"],["suffix","%",3,"valueInput","inputId","mask","required","showErrorMessage","readonly","disabled","allowNegativeNumbers","autoReplaceValue","valueChanges"],[2,"width","100%",3,"planner"],["investimentoGraficos",""],[1,"m-0"],["class","text-danger",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-primary","mr-0","ml-auto",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"spinner-border","spinner-border-sm","mr-1"],[1,"py-2","px-2","text-danger"]],template:function(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),e.NdJ("click",function(){return n.voltar()}),e._UZ(4,"fa-icon",4),e.TgZ(5,"span"),e._uU(6,"Voltar"),e.qZA()(),e.TgZ(7,"div")(8,"button",5),e.NdJ("click",function(){return n.resetForm()}),e._uU(9,"Limpar campos"),e.qZA()()(),e.TgZ(10,"h3",6),e._uU(11,"Planner"),e.qZA()(),e.TgZ(12,"div",7)(13,"form",8,9),e.NdJ("ngSubmit",function(){e.CHM(o);const r=e.MAs(14);return e.KtG(n.send(r))}),e.TgZ(15,"div",10)(16,"div",11)(17,"div",10)(18,"div",12)(19,"div",13)(20,"h6"),e._uU(21,"Dados Cadastrais"),e.qZA()(),e.TgZ(22,"div",14)(23,"div",15)(24,"label",16),e._uU(25,"Nome Completo: "),e.TgZ(26,"span",17),e._uU(27,"*"),e.qZA()(),e.TgZ(28,"input",18,19),e.NdJ("ngModelChange",function(r){return n.planner.cliente.nome=r})("change",function(){e.CHM(o);const r=e.MAs(29);return n.planner.cliente.nome=r.value.trim(),e.KtG(n.saveData())}),e.qZA(),e.YNc(30,Xe,3,2,"div",20),e.qZA(),e.TgZ(31,"div",21)(32,"label",22),e._uU(33,"Perfil de Investidor: "),e.TgZ(34,"span",17),e._uU(35,"*"),e.qZA()(),e.TgZ(36,"select",23,24),e.NdJ("ngModelChange",function(r){return n.planner.cliente.perfilInvestidor_Id=r})("ngModelChange",function(){return n.perfilInvestidorChange()}),e.TgZ(38,"option",25),e._uU(39,"Selecione"),e.qZA(),e.YNc(40,et,2,2,"option",26),e.qZA()(),e.TgZ(41,"div",27)(42,"label",28),e._uU(43,"Estado Civil: "),e.TgZ(44,"span",17),e._uU(45,"*"),e.qZA()(),e.TgZ(46,"select",29,30),e.NdJ("ngModelChange",function(r){return n.planner.cliente.estadoCivil_Id=r})("ngModelChange",function(){return n.saveData()}),e.TgZ(48,"option",25),e._uU(49,"Selecione"),e.qZA(),e.YNc(50,tt,2,2,"option",26),e.qZA()()(),e.TgZ(51,"div",14)(52,"div",31)(53,"label",32),e._uU(54,"CPF: "),e.TgZ(55,"span",17),e._uU(56,"*"),e.qZA()(),e.TgZ(57,"input",33,34),e.NdJ("ngModelChange",function(r){return n.planner.cliente.cpf=r})("change",function(){e.CHM(o);const r=e.MAs(58);return e.KtG(n.validaRG_CPF(r,r.value))}),e.qZA(),e.YNc(59,ot,3,2,"div",20),e.YNc(60,rt,3,0,"div",20),e.qZA(),e.TgZ(61,"div",31)(62,"label",35),e._uU(63,"RG: "),e.TgZ(64,"span",17),e._uU(65,"*"),e.qZA()(),e.TgZ(66,"input",36,37),e.NdJ("ngModelChange",function(r){return n.planner.cliente.rg=r})("change",function(){e.CHM(o);const r=e.MAs(67);return n.saveData(),e.KtG(n.validaRG_CPF(r,r.value))}),e.qZA(),e.YNc(68,lt,2,1,"div",20),e.qZA(),e.TgZ(69,"div",38)(70,"label",39),e._uU(71,"Data de Nascimento: "),e.TgZ(72,"span",17),e._uU(73,"*"),e.qZA()(),e.TgZ(74,"input",40,41),e.NdJ("ngModelChange",function(r){return n.planner.cliente.dataNascimento=r})("ngModelChange",function(){return n.calculaIdade()})("change",function(){return n.saveData(),n.validaDataNascimento()}),e.qZA(),e.YNc(76,pt,3,2,"div",20),e.qZA(),e.TgZ(77,"div",42)(78,"label",43),e._uU(79,"Idade: "),e.TgZ(80,"span",17),e._uU(81,"*"),e.qZA()(),e.TgZ(82,"app-input-number",44),e.NdJ("valueChanges",function(r){return n.planner.cliente.idade=r,n.saveData()}),e.qZA()()(),e.TgZ(83,"div",14)(84,"div",45)(85,"label",46),e._uU(86,"E-mail: "),e.TgZ(87,"span",17),e._uU(88,"*"),e.qZA()(),e.TgZ(89,"input",47,48),e.NdJ("ngModelChange",function(r){return n.planner.cliente.email=r})("change",function(){return n.saveData()}),e.qZA()()()()(),e.TgZ(91,"div",10)(92,"div",49)(93,"div",50)(94,"div",13)(95,"h6"),e._uU(96,"Valores"),e.qZA()(),e.TgZ(97,"div",14)(98,"div",51)(99,"label",52),e._uU(100,"Receita "),e.TgZ(101,"small"),e._uU(102,"(R$)"),e.qZA(),e._uU(103,": "),e.TgZ(104,"span",17),e._uU(105,"*"),e.qZA()(),e.TgZ(106,"app-input-number",53,54),e.NdJ("valueChanges",function(r){return n.planner.cliente.receita=r,n.saveData()})("ngModelChanged",function(r){return n.validaReceitaDespesa(r)}),e.qZA()(),e.TgZ(108,"div",55)(109,"label",56),e._uU(110,"Despesas "),e.TgZ(111,"small"),e._uU(112,"(R$)"),e.qZA(),e._uU(113,": "),e.TgZ(114,"span",17),e._uU(115,"*"),e.qZA()(),e.TgZ(116,"app-input-number",53,57),e.NdJ("valueChanges",function(r){return n.planner.cliente.despesa=r,n.saveData()})("ngModelChanged",function(r){return n.validaReceitaDespesa(r)}),e.qZA()()()()(),e.TgZ(118,"div",58)(119,"div",50)(120,"div",13)(121,"h6"),e._uU(122,"Taxas"),e.qZA()(),e.TgZ(123,"div",14)(124,"div",51)(125,"label",59),e._uU(126,"Taxa Selic "),e.TgZ(127,"small"),e._uU(128,"(%)"),e.qZA(),e._uU(129,": "),e.TgZ(130,"span",17),e._uU(131,"*"),e.qZA()(),e.TgZ(132,"app-input-number",60),e.NdJ("valueChanges",function(r){return n.planner.taxaSelic=r,n.saveData()}),e.qZA()(),e.TgZ(133,"div",55)(134,"label",61),e._uU(135,"Taxa IPCA "),e.TgZ(136,"small"),e._uU(137,"(%)"),e.qZA(),e._uU(138,": "),e.TgZ(139,"span",17),e._uU(140,"*"),e.qZA()(),e.TgZ(141,"app-input-number",60),e.NdJ("valueChanges",function(r){return n.planner.taxaIpca=r,n.saveData()}),e.qZA()()()()()(),e.TgZ(142,"div",10)(143,"div",12)(144,"div",62)(145,"h6"),e._uU(146,"Capacidade de Risco"),e.qZA()(),e.TgZ(147,"div",14)(148,"div",63)(149,"div",64)(150,"div",65),e._uU(151,"Reserva de Emerg\xeancia"),e.qZA(),e.TgZ(152,"div",66)(153,"div",67)(154,"label",68),e._uU(155," Sugerida "),e.TgZ(156,"small"),e._uU(157,"(R$)"),e.qZA(),e._uU(158,":"),e.qZA(),e.TgZ(159,"input",69,70),e.NdJ("ngModelChange",function(r){return n.planner.rE_Sugerido=r}),e.qZA()(),e.TgZ(161,"div",71)(162,"label",72),e._uU(163," Planejada "),e.TgZ(164,"small"),e._uU(165,"(R$)"),e.qZA(),e._uU(166,":"),e.qZA(),e.TgZ(167,"input",73,74),e.NdJ("ngModelChange",function(r){return n.planner.rE_Planejado=r}),e.qZA()()()()(),e.TgZ(169,"div",63)(170,"div",75)(171,"div",65),e._uU(172,"Risco"),e.qZA(),e.TgZ(173,"div",66)(174,"div",67)(175,"label",76),e._uU(176," Assumido "),e.TgZ(177,"small"),e._uU(178,"(%)"),e.qZA(),e._uU(179,":"),e.qZA(),e.TgZ(180,"input",77,78),e.NdJ("ngModelChange",function(r){return n.planner.riscoAssumido=r}),e.qZA()(),e.TgZ(182,"div",71)(183,"label",79),e._uU(184," Tolerado "),e.TgZ(185,"small"),e._uU(186,"(%)"),e.qZA(),e._uU(187,":"),e.qZA(),e.TgZ(188,"input",80,81),e.NdJ("ngModelChange",function(r){return n.planner.riscoTolerado=r}),e.qZA()()()()()()()()(),e.TgZ(190,"div",82)(191,"div",10)(192,"div",12)(193,"div",13)(194,"h6")(195,"label",83),e._uU(196,"Data de Cadastro "),e.TgZ(197,"span",17),e._uU(198,"*"),e.qZA()()()(),e.TgZ(199,"div",14)(200,"div",84)(201,"input",85,86),e.NdJ("ngModelChange",function(r){return n.planner.data=r}),e.qZA()(),e.TgZ(203,"div",84),e._UZ(204,"input",87),e.qZA()()()(),e.TgZ(205,"div",10)(206,"div",12)(207,"div",13)(208,"h6")(209,"label",88),e._uU(210,"Observa\xe7\xf5es do planner "),e.TgZ(211,"span",17),e._uU(212,"*"),e.qZA()()()(),e.TgZ(213,"div",14)(214,"div",45)(215,"textarea",89,90),e.NdJ("ngModelChange",function(r){return n.planner.descricao=r})("change",function(){e.CHM(o);const r=e.MAs(216);return n.planner.descricao=r.value.trim(),e.KtG(n.saveData())}),e._uU(217,"                                        "),e.qZA(),e.YNc(218,mt,2,1,"div",20),e.qZA()()()(),e.TgZ(219,"div",10)(220,"div",12)(221,"div",13)(222,"h6")(223,"label",91),e._uU(224,"Analista respons\xe1vel "),e.TgZ(225,"span",17),e._uU(226,"*"),e.qZA()()()(),e.TgZ(227,"div",14)(228,"div",45),e.YNc(229,bt,5,10,"div",20),e.YNc(230,Zt,2,1,"input",92),e.qZA()()()(),e.TgZ(231,"div",10)(232,"div",93)(233,"table",94)(234,"thead",95)(235,"tr"),e._UZ(236,"th"),e.TgZ(237,"th"),e._uU(238,"Aposentadoria"),e.qZA()()(),e.TgZ(239,"tbody")(240,"tr")(241,"td",96)(242,"small")(243,"b"),e._uU(244,"Idade"),e.qZA()()(),e.TgZ(245,"td")(246,"app-input-number",97),e.NdJ("valueChanges",function(r){return n.planner.cliente.idadeAposentadoria=r,n.saveData()}),e.qZA()()(),e.TgZ(247,"tr")(248,"td",96)(249,"small")(250,"b"),e._uU(251,"Renda Mensal "),e.qZA(),e._uU(252,"(R$)"),e.qZA()(),e.TgZ(253,"td")(254,"app-input-number",98),e.NdJ("valueChanges",function(r){return n.planner.cliente.rendaMensalAposentadoria=r,n.saveData()}),e.qZA()()(),e.TgZ(255,"tr")(256,"td",96)(257,"small")(258,"b"),e._uU(259,"Rentabilidade"),e.qZA(),e._uU(260," (%)"),e.qZA()(),e.TgZ(261,"td")(262,"app-input-number",99),e.NdJ("valueChanges",function(r){return n.planner.cliente.rentabilidadeAposentadoria=r,n.saveData()}),e.qZA()()()()()()(),e.TgZ(263,"div",10)(264,"div",93)(265,"p-table",100),e.YNc(266,Mt,15,1,"ng-template",101),e.YNc(267,At,9,19,"ng-template",102),e.YNc(268,xt,5,1,"ng-template",103),e.qZA()()()(),e.TgZ(269,"div",104)(270,"div",10)(271,"div",50)(272,"div",13)(273,"h6"),e._uU(274,"C\xe1lculos"),e.qZA()(),e.TgZ(275,"div",14)(276,"div",105)(277,"table",106)(278,"thead",95)(279,"tr"),e._UZ(280,"th"),e.TgZ(281,"th"),e._uU(282,"Baix\xedssimo"),e.qZA(),e.TgZ(283,"th"),e._uU(284,"Baixo"),e.qZA(),e.TgZ(285,"th"),e._uU(286,"Moderado"),e.qZA(),e.TgZ(287,"th"),e._uU(288,"Arrojado"),e.qZA(),e.TgZ(289,"th",107),e._uU(290,"Super Arrojado"),e.qZA(),e.TgZ(291,"th"),e._uU(292,"Hedge"),e.qZA(),e.TgZ(293,"th"),e._uU(294,"Total"),e.qZA()()(),e.TgZ(295,"tbody")(296,"tr")(297,"td",108)(298,"small")(299,"b"),e._uU(300,"Sugest\xe3o"),e.qZA()()(),e.TgZ(301,"td")(302,"input",109,110),e.NdJ("ngModelChange",function(r){return n.planner.sugestao_Baixissimo=r}),e.qZA()(),e.TgZ(304,"td")(305,"input",111,112),e.NdJ("ngModelChange",function(r){return n.planner.sugestao_Baixo=r}),e.qZA()(),e.TgZ(307,"td")(308,"input",113,114),e.NdJ("ngModelChange",function(r){return n.planner.sugestao_Moderado=r}),e.qZA()(),e.TgZ(310,"td")(311,"input",115,116),e.NdJ("ngModelChange",function(r){return n.planner.sugestao_Arrojado=r}),e.qZA()(),e.TgZ(313,"td")(314,"input",117,118),e.NdJ("ngModelChange",function(r){return n.planner.sugestao_SuperArrojado=r}),e.qZA()(),e.TgZ(316,"td")(317,"input",119,120),e.NdJ("ngModelChange",function(r){return n.planner.sugestao_Hedge=r}),e.qZA()(),e.TgZ(319,"td")(320,"input",121,122),e.NdJ("ngModelChange",function(r){return n.planner.sugestao_Total=r}),e.qZA()()(),e.TgZ(322,"tr")(323,"td",108)(324,"small")(325,"b"),e._uU(326,"Plano"),e.qZA()()(),e.TgZ(327,"td")(328,"input",123,124),e.NdJ("ngModelChange",function(r){return n.planner.plano_Baixissimo=r}),e.qZA()(),e.TgZ(330,"td")(331,"input",125,126),e.NdJ("ngModelChange",function(r){return n.planner.plano_Baixo=r}),e.qZA()(),e.TgZ(333,"td")(334,"input",127,128),e.NdJ("ngModelChange",function(r){return n.planner.plano_Moderado=r}),e.qZA()(),e.TgZ(336,"td")(337,"input",129,130),e.NdJ("ngModelChange",function(r){return n.planner.plano_Arrojado=r}),e.qZA()(),e.TgZ(339,"td")(340,"input",131,132),e.NdJ("ngModelChange",function(r){return n.planner.plano_SuperArrojado=r}),e.qZA()(),e.TgZ(342,"td")(343,"input",133,134),e.NdJ("ngModelChange",function(r){return n.planner.plano_Hedge=r}),e.qZA()(),e.TgZ(345,"td")(346,"input",135,136),e.NdJ("ngModelChange",function(r){return n.planner.plano_Total=r}),e.qZA()()()()()()()()(),e.TgZ(348,"div",10)(349,"div",50)(350,"div",137)(351,"h6"),e._uU(352,"Investimentos"),e.qZA(),e.TgZ(353,"a",138),e._uU(354,"Adicionar"),e.qZA()(),e.TgZ(355,"div",14)(356,"p-table",139),e.YNc(357,Ct,14,0,"ng-template",101),e.YNc(358,Tt,21,40,"ng-template",102),e.YNc(359,qt,1,1,"ng-template",140),e.YNc(360,It,5,1,"ng-template",103),e.qZA()()()(),e.TgZ(361,"div",10)(362,"div",50)(363,"div",13)(364,"h6"),e._uU(365,"Portif\xf3lio"),e.qZA(),e.YNc(366,jt,6,9,"div",141),e.qZA(),e.TgZ(367,"div",14),e.YNc(368,St,2,0,"p",142),e.TgZ(369,"div",143)(370,"div",144)(371,"div",145)(372,"input",146,147),e.NdJ("ngModelChange",function(r){return n.colsProdutos.custosTaxas=r}),e.qZA(),e.TgZ(374,"label",148)(375,"small"),e._uU(376,"Custos/Taxas"),e.qZA()()(),e.TgZ(377,"div",145)(378,"input",149,150),e.NdJ("ngModelChange",function(r){return n.colsProdutos.rentabLiquida=r}),e.qZA(),e.TgZ(380,"label",151)(381,"small"),e._uU(382,"Rentab. Liquida"),e.qZA()()(),e.TgZ(383,"div",145)(384,"input",152,153),e.NdJ("ngModelChange",function(r){return n.colsProdutos.rentabBruta=r}),e.qZA(),e.TgZ(386,"label",154)(387,"small"),e._uU(388,"Rentab. Bruta"),e.qZA()()(),e.TgZ(389,"div",145)(390,"input",155,156),e.NdJ("ngModelChange",function(r){return n.colsProdutos.montanteSugerido=r}),e.qZA(),e.TgZ(392,"label",157)(393,"small"),e._uU(394,"Montante Sugerido"),e.qZA()()(),e.TgZ(395,"div",145)(396,"input",158,159),e.NdJ("ngModelChange",function(r){return n.colsProdutos.planoAcao=r}),e.qZA(),e.TgZ(398,"label",160)(399,"small"),e._uU(400,"Plano A\xe7\xe3o"),e.qZA()()(),e.TgZ(401,"div",145)(402,"input",161,162),e.NdJ("ngModelChange",function(r){return n.colsProdutos.percentual=r}),e.qZA(),e.TgZ(404,"label",163)(405,"small"),e._uU(406,"Percentual"),e.qZA()()()()(),e.TgZ(407,"p-table",164),e.YNc(408,Yt,12,6,"ng-template",101),e.YNc(409,on,18,9,"ng-template",102),e.YNc(410,_n,2,2,"ng-template",140),e.YNc(411,gn,5,1,"ng-template",103),e.qZA()()()(),e.TgZ(412,"div",10)(413,"div",50)(414,"div",13)(415,"h6"),e._uU(416,"Solu\xe7\xe3o Inicial"),e.qZA()(),e.TgZ(417,"div",165)(418,"table",166)(419,"thead")(420,"tr",95)(421,"th",167)(422,"h6"),e._uU(423,"Agregando Valor"),e.qZA()()(),e.TgZ(424,"tr",168)(425,"th",169),e._uU(426,"Montante Total"),e.qZA(),e.TgZ(427,"th",170)(428,"input",171,172),e.NdJ("ngModelChange",function(r){return n.planner.planejamentoAgregandoValor.montante=r}),e.qZA()(),e.TgZ(430,"th",95),e._uU(431,"Exposi\xe7\xe3o a Risco"),e.qZA(),e.TgZ(432,"th",173)(433,"input",174,175),e.NdJ("ngModelChange",function(r){return n.planner.planejamentoAgregandoValor.riscoAssumido=r}),e.qZA()()(),e.TgZ(435,"tr",95)(436,"th",176),e._uU(437,"Carteira"),e.qZA(),e.TgZ(438,"th",107),e._uU(439,"Rentabilidade Anual"),e.qZA(),e.TgZ(440,"th",107),e._uU(441,"Retorno Anual"),e.qZA(),e.TgZ(442,"th",107),e._uU(443,"Retorno Mensal"),e.qZA(),e.TgZ(444,"th",107),e._uU(445,"Patrim\xf4nio M\xe1ximo"),e.qZA(),e.TgZ(446,"th",107),e._uU(447,"Tempo "),e.TgZ(448,"small"),e._uU(449,"(anos)"),e.qZA()()()(),e.TgZ(450,"tbody")(451,"tr")(452,"td",177)(453,"small"),e._uU(454,"Atual"),e.qZA()(),e.TgZ(455,"td")(456,"input",178,179),e.NdJ("ngModelChange",function(r){return n.planner.planejamentoAgregandoValor.rentabilidade_Atual=r}),e.qZA()(),e.TgZ(458,"td")(459,"input",180,181),e.NdJ("ngModelChange",function(r){return n.planner.planejamentoAgregandoValor.retornoAnual_Atual=r}),e.qZA()(),e.TgZ(461,"td")(462,"input",182,183),e.NdJ("ngModelChange",function(r){return n.planner.planejamentoAgregandoValor.retornoMensal_Atual=r}),e.qZA()(),e.TgZ(464,"td")(465,"input",184,185),e.NdJ("ngModelChange",function(r){return n.planner.planejamentoAgregandoValor.plMax_Atual=r}),e.qZA()(),e.TgZ(467,"td")(468,"input",186,187),e.NdJ("ngModelChange",function(r){return n.planner.planejamentoAgregandoValor.idadeMax_Atual=r}),e.qZA()()(),e.TgZ(470,"tr")(471,"td",177)(472,"small"),e._uU(473,"Sugerida"),e.qZA()(),e.TgZ(474,"td")(475,"input",188,189),e.NdJ("ngModelChange",function(r){return n.planner.planejamentoAgregandoValor.rentabilidade_Sugerida=r}),e.qZA()(),e.TgZ(477,"td")(478,"input",190,191),e.NdJ("ngModelChange",function(r){return n.planner.planejamentoAgregandoValor.retornoAnual_Sugerido=r}),e.qZA()(),e.TgZ(480,"td")(481,"input",192,193),e.NdJ("ngModelChange",function(r){return n.planner.planejamentoAgregandoValor.retornoMensal_Sugerido=r}),e.qZA()(),e.TgZ(483,"td")(484,"input",194,195),e.NdJ("ngModelChange",function(r){return n.planner.planejamentoAgregandoValor.plMax_Sugerido=r}),e.qZA()(),e.TgZ(486,"td")(487,"input",196,197),e.NdJ("ngModelChange",function(r){return n.planner.planejamentoAgregandoValor.idadeMax_Sugerido=r}),e.qZA()()(),e.TgZ(489,"tr")(490,"td",177)(491,"small"),e._uU(492,"Diferen\xe7a"),e.qZA()(),e.TgZ(493,"td")(494,"input",198,199),e.NdJ("ngModelChange",function(r){return n.planner.planejamentoAgregandoValor.rentabilidade_Diferenca=r}),e.qZA()(),e.TgZ(496,"td")(497,"input",200,201),e.NdJ("ngModelChange",function(r){return n.planner.planejamentoAgregandoValor.retornoAnual_Diferenca=r}),e.qZA()(),e.TgZ(499,"td")(500,"input",202,203),e.NdJ("ngModelChange",function(r){return n.planner.planejamentoAgregandoValor.retornoMensal_Diferenca=r}),e.qZA()(),e.TgZ(502,"td",204)(503,"input",205,206),e.NdJ("ngModelChange",function(r){return n.planner.planejamentoAgregandoValor.plMax_Diferenca=r}),e.qZA()(),e.TgZ(505,"td",207)(506,"input",208,209),e.NdJ("ngModelChange",function(r){return n.planner.planejamentoAgregandoValor.idadeMax_Diferenca=r}),e.qZA()()(),e.TgZ(508,"tr"),e._UZ(509,"td",177),e.TgZ(510,"td",210)(511,"span")(512,"b"),e._uU(513,"Melhoria de Desempenho"),e.qZA()()(),e.TgZ(514,"td",211)(515,"span"),e._UZ(516,"fa-icon",212),e.qZA()(),e.TgZ(517,"td",213)(518,"input",214,215),e.NdJ("ngModelChange",function(r){return n.planner.planejamentoAgregandoValor.pL_Desempenho=r}),e.qZA()(),e.TgZ(520,"td",207)(521,"input",216,217),e.NdJ("ngModelChange",function(r){return n.planner.planejamentoAgregandoValor.idade_Desempenho=r}),e.qZA()()()()()()()(),e.YNc(523,hn,2,1,"div",218),e.YNc(524,fn,3,1,"div",218),e.qZA()(),e.TgZ(525,"div",219)(526,"div"),e.YNc(527,Mn,4,3,"div",220),e.qZA(),e.YNc(528,xn,4,2,"button",221),e.qZA()(),e.YNc(529,Cn,2,0,"ng-template",null,222,e.W1O),e.qZA()(),e._UZ(531,"router-outlet")}if(2&t){const o=e.MAs(14),i=e.MAs(29),r=e.MAs(37),s=e.MAs(47),d=e.MAs(58),h=e.MAs(67),v=e.MAs(75),p=e.MAs(90),c=e.MAs(216),u=e.MAs(373),_=e.MAs(379),A=e.MAs(385),y=e.MAs(391),q=e.MAs(397),C=e.MAs(403),x=e.MAs(530);e.xp6(4),e.Q6J("icon",n.faChevronLeft),e.xp6(24),e.Q6J("ngModel",n.planner.cliente.nome)("ngbPopover",x)("disablePopover",null==i.errors),e.xp6(2),e.Q6J("ngIf",i.errors),e.xp6(6),e.ekj("form-control-loading",n.loadingPerfilInvestidor),e.Q6J("ngModel",n.planner.cliente.perfilInvestidor_Id)("ngbPopover",x)("disablePopover",null==r.errors),e.xp6(2),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",n.perfilInvestidor),e.xp6(6),e.ekj("form-control-loading",n.loadingEstadoCivil),e.Q6J("ngModel",n.planner.cliente.estadoCivil_Id)("ngbPopover",x)("disablePopover",null==s.errors),e.xp6(2),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",n.estadoCivil),e.xp6(7),e.Q6J("ngModel",n.planner.cliente.cpf)("ngbPopover",x)("disablePopover",null==d.errors)("readonly",n.isEditPage),e.xp6(2),e.Q6J("ngIf",d.touched&&d.errors),e.xp6(1),e.Q6J("ngIf",!d.errors&&d.touched&&d.dirty),e.xp6(6),e.Q6J("ngModel",n.planner.cliente.rg)("ngbPopover",x)("disablePopover",null==h.errors),e.xp6(2),e.Q6J("ngIf",h.errors),e.xp6(6),e.Q6J("ngModel",n.planner.cliente.dataNascimento)("max",n.dataNascimentoMax)("ngbPopover",x)("disablePopover",null==v.errors),e.xp6(2),e.Q6J("ngIf",v.touched&&v.errors),e.xp6(6),e.Q6J("valueInput",n.planner.cliente.idade)("inputId","idade")("mask","0*")("suffix"," anos")("readonly",!0)("required",!0)("showErrorMessage",!0)("allowNegativeNumbers",!1)("autoReplaceValue",!0),e.xp6(7),e.Q6J("email",!0)("ngModel",n.planner.cliente.email)("ngbPopover",x)("disablePopover",null==p.errors)("pattern",n.emailPattern),e.xp6(17),e.Q6J("valueInput",n.planner.cliente.receita)("inputId","receita")("mask","separator")("min",1)("max",1e8)("required",!0)("allowNegativeNumbers",!0)("showErrorMessage",!0)("autoReplaceValue",!0),e.xp6(10),e.Q6J("valueInput",n.planner.cliente.despesa)("inputId","despesa")("mask","separator")("min",1)("max",1e8)("required",!0)("allowNegativeNumbers",!0)("showErrorMessage",!0)("autoReplaceValue",!0),e.xp6(16),e.Q6J("valueInput",n.planner.taxaSelic)("inputId","taxaSelic")("mask","separator")("max",100)("required",!0)("showErrorMessage",!1)("allowNegativeNumbers",!0)("placeholder","0,00%")("showErrorMessage",!1)("autoReplaceValue",!0),e.xp6(9),e.Q6J("valueInput",n.planner.taxaIpca)("inputId","taxaIpca")("mask","separator")("max",100)("required",!0)("showErrorMessage",!1)("allowNegativeNumbers",!0)("placeholder","0,00%")("showErrorMessage",!1)("autoReplaceValue",!0),e.xp6(18),e.Q6J("ngModel",n.planner.rE_Sugerido)("allowNegativeNumbers",!1),e.xp6(8),e.Q6J("ngModel",n.planner.rE_Planejado)("allowNegativeNumbers",!1),e.xp6(13),e.Q6J("ngModel",n.planner.riscoAssumido)("allowNegativeNumbers",!1),e.xp6(8),e.Q6J("ngModel",n.planner.riscoTolerado)("allowNegativeNumbers",!1),e.xp6(13),e.Q6J("ngModel",n.planner.data),e.xp6(3),e.Q6J("value",n.calculaIdadeCadastro()),e.xp6(11),e.Q6J("ngModel",n.planner.descricao)("ngbPopover",x)("disablePopover",null==c.errors),e.xp6(3),e.Q6J("ngIf",c.errors),e.xp6(11),e.Q6J("ngIf",3!=(null==n.account?null:n.account.perfilAcesso_Id)),e.xp6(1),e.Q6J("ngIf",3==(null==n.account?null:n.account.perfilAcesso_Id)),e.xp6(16),e.MGl("placeholder","Entre ",n.planner.cliente.idade?n.planner.cliente.idade:20," e 100 anos"),e.Q6J("valueInput",n.planner.cliente.idadeAposentadoria)("inputId","idadeAposentadoria")("mask","0*")("suffix"," anos")("min",n.planner.cliente.idade?n.planner.cliente.idade:20)("max",100)("required",!0)("showErrorMessage",!1)("allowNegativeNumbers",!1)("autoReplaceValue",!0),e.xp6(8),e.Q6J("valueInput",n.planner.cliente.rendaMensalAposentadoria)("inputId","rendaMensalAposentadoria")("mask","separator.5")("thousandSeparator",".")("decimalMarker",",")("prefix","R$")("min",1)("max",1e8)("required",!0)("placeholder","R$ 00,00")("showErrorMessage",!1)("autoReplaceValue",!0),e.xp6(8),e.Q6J("valueInput",n.planner.cliente.rentabilidadeAposentadoria)("inputId","rentabilidadeAposentadoria")("mask","separator.5")("suffix","%")("max",100)("required",!0)("showErrorMessage",!1)("allowNegativeNumbers",!0)("placeholder","0,00%")("showErrorMessage",!1)("autoReplaceValue",!0),e.xp6(3),e.Q6J("value",n.planner.planejamentoFluxosPontuais)("responsive",!0),e.xp6(37),e.Q6J("ngModel",n.planner.sugestao_Baixissimo),e.xp6(3),e.Q6J("ngModel",n.planner.sugestao_Baixo),e.xp6(3),e.Q6J("ngModel",n.planner.sugestao_Moderado),e.xp6(3),e.Q6J("ngModel",n.planner.sugestao_Arrojado),e.xp6(3),e.Q6J("ngModel",n.planner.sugestao_SuperArrojado),e.xp6(3),e.Q6J("ngModel",n.planner.sugestao_Hedge),e.xp6(3),e.Q6J("ngModel",n.planner.sugestao_Total),e.xp6(8),e.Q6J("ngModel",n.planner.plano_Baixissimo),e.xp6(3),e.Q6J("ngModel",n.planner.plano_Baixo),e.xp6(3),e.Q6J("ngModel",n.planner.plano_Moderado),e.xp6(3),e.Q6J("ngModel",n.planner.plano_Arrojado),e.xp6(3),e.Q6J("ngModel",n.planner.plano_SuperArrojado),e.xp6(3),e.Q6J("ngModel",n.planner.plano_Hedge),e.xp6(3),e.Q6J("ngModel",n.planner.plano_Total),e.xp6(7),e.Q6J("routerLink",e.DdM(258,Tn)),e.xp6(3),e.Q6J("value",n.planner.planejamentoInvestimento)("responsive",!0),e.xp6(10),e.Q6J("ngIf",n.planner.planejamentoInvestimento.length>0),e.xp6(2),e.Q6J("ngIf",0==n.planner.planejamentoInvestimento.length),e.xp6(4),e.Q6J("ngModel",n.colsProdutos.custosTaxas),e.xp6(2),e.ekj("bg-dark",u.value)("text-white",u.value)("bg-light",!u.value),e.xp6(4),e.Q6J("ngModel",n.colsProdutos.rentabLiquida),e.xp6(2),e.ekj("bg-dark",_.value)("text-white",_.value)("bg-light",!_.value),e.xp6(4),e.Q6J("ngModel",n.colsProdutos.rentabBruta),e.xp6(2),e.ekj("bg-dark",A.value)("text-white",A.value)("bg-light",!A.value),e.xp6(4),e.Q6J("ngModel",n.colsProdutos.montanteSugerido),e.xp6(2),e.ekj("bg-dark",y.value)("text-white",y.value)("bg-light",!y.value),e.xp6(4),e.Q6J("ngModel",n.colsProdutos.planoAcao),e.xp6(2),e.ekj("bg-dark",q.value)("text-white",q.value)("bg-light",!q.value),e.xp6(4),e.Q6J("ngModel",n.colsProdutos.percentual),e.xp6(2),e.ekj("bg-dark",C.value)("text-white",C.value)("bg-light",!C.value),e.xp6(3),e.Q6J("value",n.planner.planejamentoProduto)("responsive",!0)("resizableColumns",!0),e.xp6(21),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.montante)("readOnly",!0),e.xp6(5),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.riscoAssumido)("readOnly",!0),e.xp6(23),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.rentabilidade_Atual)("allowNegativeNumbers",!0)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.retornoAnual_Atual)("allowNegativeNumbers",!0)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.retornoMensal_Atual)("allowNegativeNumbers",!0)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.plMax_Atual)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.idadeMax_Atual)("readOnly",!0),e.xp6(7),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.rentabilidade_Sugerida)("allowNegativeNumbers",!0)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.retornoAnual_Sugerido)("allowNegativeNumbers",!0)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.retornoMensal_Sugerido)("allowNegativeNumbers",!0)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.plMax_Sugerido)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.idadeMax_Sugerido)("readOnly",!0),e.xp6(7),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.rentabilidade_Diferenca)("readOnly",!0)("allowNegativeNumbers",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.retornoAnual_Diferenca)("readOnly",!0)("allowNegativeNumbers",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.retornoMensal_Diferenca)("readOnly",!0)("allowNegativeNumbers",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.plMax_Diferenca)("readOnly",!0)("allowNegativeNumbers",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.idadeMax_Diferenca)("readOnly",!0)("allowNegativeNumbers",!0),e.xp6(10),e.Q6J("icon",n.faArrowRight),e.xp6(2),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.pL_Desempenho)("readOnly",!0)("allowNegativeNumbers",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.idade_Desempenho)("readonly",!0)("allowNegativeNumbers",!0),e.xp6(2),e.Q6J("ngIf",n.planner.planejamentoGrafico.length>0),e.xp6(1),e.Q6J("ngIf",n.planner.planejamentoProduto.length>0&&n.planner.planejamentoInvestimento.length>0),e.xp6(3),e.Q6J("ngIf",n.erro.length>0||o.invalid||!n.formIsValid),e.xp6(1),e.Q6J("ngIf",o.valid&&n.formIsValid)}},dependencies:[f.sg,f.O5,P.lC,P.yS,g._Y,g.YN,g.Kr,g.Fj,g.Wl,g.EJ,g.JJ,g.JL,g.Q7,g.c5,g.on,g.On,g.F,S.BN,B.hx,k.iA,D.jx,k.Q7,Q.o8,F.Lt,G.l,me,ge,f.Ts,f.uU],styles:[".form-control-solucaoInicial[_ngcontent-%COMP%], .form-control-solucaoInicial[_ngcontent-%COMP%]:focus, .form-control-solucaoInicial[_ngcontent-%COMP%]:hover, .form-control-solucaoInicial[_ngcontent-%COMP%]:hover:focus{background-color:var(--primary)!important;background-image:none!important;border-radius:0;color:#fff!important;outline:none!important;box-shadow:none!important}.table[_ngcontent-%COMP%]   td.position-sticky[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th.position-sticky[_ngcontent-%COMP%]{position:sticky;left:0}.table-editable[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{min-width:110px}input#solucao_riscoAssumido_Atual[_ngcontent-%COMP%], input#solucao_montante_Atual[_ngcontent-%COMP%]{background-color:#104456;border:none}tr.bg-light[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px #919090 solid;border-left-color:#ececed;border-right-color:#ececed;border-spacing:1px;border-collapse:separate}tr.bg-danger[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#f1d6d6!important;border:1px #ff0909 solid;border-left-color:#f1d6d6;border-right-color:#f1d6d6;border-spacing:1px;border-collapse:separate}tr.bg-light[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background-color:#ececed}tr.bg-danger[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background-color:#f1d6d6}"]}),a})();var Pn=m(4595),qn=m(1442),In=m(5669),yn=m(316);class wn{constructor(){this.id=0,this.tipoAtivo_Id=0,this.tipoAtivo=new qn.m,this.tipoRisco_Id=0,this.tipoRisco=new yn.p,this.tipoLiquidez_Id=0,this.tipoLiquidez=new In.T,this.descricao=""}}class Nn{constructor(){this.id=0,this.planejamento_Id=0,this.rentabilidade="",this.rentabilidadeLiquida="",this.montanteAtual="",this.valorLiquido_MontanteAtual=0,this.custosTaxas="",this.investimento=new wn,this.investimento_Id=void 0}}let Rn=(()=>{class a{constructor(t,n){this.http=t,this.urlBackendService=n,this.url=le.N.url,this.list=new E.X([]),this.urlBackendService.url.subscribe(o=>this.url=o)}getAll(){return this.http.get(`${this.url}/investimento/getAll`).pipe((0,L.U)(t=>(this.list.next(t),t)))}get(t){return this.http.get(`${this.url}/investimento/${t}`)}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(V.eN),e.LFG(de.j))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function Jn(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"div",13)(1,"input",36,15),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedRisco=o)})("ngModelChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.setInvestimentos())}),e.qZA(),e.TgZ(3,"label",37),e._uU(4),e.qZA()()}if(2&a){const t=l.$implicit,n=e.oxw();e.xp6(1),e.MGl("id","tipoRisco-",t.nome,""),e.Q6J("ngModel",n.selectedRisco)("value",t)("checked",t.id==(null==n.selectedRisco?null:n.selectedRisco.id)),e.xp6(2),e.MGl("for","tipoRisco-",t.nome,""),e.xp6(1),e.Oqu(t.nome)}}function Un(a,l){if(1&a&&(e.TgZ(0,"span",42),e._uU(1," Inativo "),e.qZA()),2&a){e.oxw();const t=e.MAs(10);e.Q6J("ngbPopover",t)}}function kn(a,l){if(1&a&&(e.TgZ(0,"div",43),e._uU(1),e.ALo(2,"date"),e.qZA()),2&a){const t=e.oxw().$implicit;e.xp6(1),e.hij("Desativado em ",e.Dn7(2,1,t.dataDesativado,"dd/MM/yyyy","UTC")," ")}}function jn(a,l){if(1&a&&(e.TgZ(0,"div",38)(1,"div")(2,"p",39),e._uU(3),e.qZA(),e.TgZ(4,"p",39)(5,"strong"),e._uU(6,"Risco:"),e.qZA(),e._uU(7),e.qZA()(),e.YNc(8,Un,2,1,"span",40),e.YNc(9,kn,3,5,"ng-template",null,41,e.W1O),e.qZA()),2&a){const t=l.$implicit;e.xp6(3),e.Oqu(t.descricao),e.xp6(4),e.hij(" ",t.tipoRisco.nome,""),e.xp6(1),e.Q6J("ngIf",t.dataDesativado)}}function Sn(a,l){1&a&&(e.TgZ(0,"p",21),e._uU(1,"Esse campo \xe9 obrigat\xf3rio"),e.qZA())}function Qn(a,l){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,Sn,2,0,"p",44),e.qZA()),2&a){e.oxw();const t=e.MAs(30);e.xp6(1),e.Q6J("ngIf",t.errors.required)}}function On(a,l){if(1&a&&(e.TgZ(0,"p",48),e._uU(1),e.ALo(2,"json"),e.qZA()),2&a){const t=l.$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,t))}}function Vn(a,l){1&a&&(e.TgZ(0,"p",48),e._uU(1,"Preencha todos os campos obrigat\xf3rios (*) corretamente para adicionar"),e.qZA())}function En(a,l){if(1&a&&(e.TgZ(0,"div",45),e.YNc(1,On,3,3,"p",46),e.YNc(2,Vn,2,0,"p",47),e.qZA()),2&a){const t=e.oxw(),n=e.MAs(12);e.xp6(1),e.Q6J("ngForOf",t.erro),e.xp6(1),e.Q6J("ngIf",n.invalid&&0==t.erro.length)}}function Ln(a,l){1&a&&e._UZ(0,"span",49)}function Fn(a,l){1&a&&(e.TgZ(0,"div",50),e._uU(1," Este campo \xe9 obrigat\xf3rio "),e.qZA())}let fe=(()=>{class a{constructor(t,n,o,i,r,s,d,h){this.modal=t,this.plannerService=n,this.setupService=o,this.investimentoService=i,this.toastr=r,this.crypto=s,this.activatedRoute=d,this.dropdown=h,this.faTimes=b.NBC,this.faChevronLeft=b.A35,this.modalOpen=!1,this.objeto=new Nn,this.erro=[],this.loading=!1,this.planner=new T,this.investimentos=[],this.loadingInvestimentos=!0,this.subscription=[],this.routerBack=["../"],this.tipoRiscos=[],this.loadingRiscos=!0,this.routeBackOptions={relativeTo:this.activatedRoute},this.objeto.investimento=void 0;var v=this.modal.getOpen().subscribe(_=>this.modalOpen=_);this.subscription.push(v);var p=this.plannerService.objeto.subscribe(_=>{0==_.id&&(_=this.getPlanner()),this.planner=_,this.objeto.planejamento_Id=this.planner.id});this.subscription.push(p);var c=this.dropdown.tipoRisco.subscribe(_=>this.tipoRiscos=_);this.subscription.push(c),(0,Z.n)(this.dropdown.getRisco()).then(_=>this.tipoRiscos=_).finally(()=>this.loadingRiscos=!1);var u=this.investimentoService.list.subscribe(_=>this.setInvestimentos());this.subscription.push(u),(0,Z.n)(this.investimentoService.getAll()).then(_=>this.setInvestimentos()).finally(()=>this.loadingInvestimentos=!1),setTimeout(()=>{this.modal.setOpen(!0)},200)}ngOnDestroy(){this.modal.setOpen(!1),this.subscription.forEach(t=>t.unsubscribe())}voltar(){this.modal.voltar(this.routerBack,this.routeBackOptions)}setInvestimentos(){this.loadingInvestimentos=!0;var t=this.planner.planejamentoInvestimento.map(n=>n.investimento_Id);this.investimentos=this.investimentoService.list.value,this.selectedRisco&&(this.investimentos=this.investimentos.filter(n=>n.tipoRisco_Id==this.selectedRisco?.id)),this.investimentos=this.investimentos.filter(n=>!t.includes(n.id)),this.investimentos=this.investimentos.sort((n,o)=>n.tipoRisco_Id>o.tipoRisco_Id?1:n.tipoRisco_Id<o.tipoRisco_Id||n.descricao.toLowerCase()<o.descricao.toLowerCase()?-1:n.descricao.toLowerCase()>o.descricao.toLowerCase()?1:0),this.objeto.investimento=void 0,this.objeto.investimento_Id=void 0,this.loadingInvestimentos=!1}send(t){this.loading=!0,this.erro=[],this.objeto.investimento_Id=this.objeto.investimento.id,this.objeto.planejamento_Id=this.planner.id,this.objeto.rentabilidadeLiquida=this.objeto.rentabilidade,this.planner.planejamentoInvestimento.find(o=>o.investimento_Id==this.objeto.investimento_Id)?(this.erro.push("Esse investimento j\xe1 est\xe1 inserido."),this.toastr.error("Esse investimento j\xe1 est\xe1 inserido.")):(this.erro=[],this.planner.planejamentoInvestimento.push(this.objeto),this.plannerService.setObject(this.planner),this.voltar()),this.loading=!1}getPlanner(){let t=localStorage.getItem("planejamento");return this.crypto.decrypt(t)}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(U.Q),e.Y36(w),e.Y36(ce.A),e.Y36(Rn),e.Y36(H._W),e.Y36(R.w),e.Y36(P.gz),e.Y36(Y.V))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-form-investimento"]],decls:67,vars:45,consts:[[1,"modal"],[1,"modal__bg",3,"click"],[1,"modal__inner",2,"max-width","700px","overflow","visible","max-height","95vh"],[1,"modal__content"],[1,"modal__header","pb-2"],[1,"text-orange"],[1,"modal__header-close","btn-close",3,"click"],[1,"modal__body","mt-0"],[1,"needs-validation",3,"ngSubmit"],["form","ngForm"],[1,"mt-2","mb-2","px-2"],[1,"h6"],[1,"d-flex","align-items-center"],[1,"mx-2"],["type","radio","name","tipoRisco","id","tipoRisco-0",1,"mr-1","mt-1",3,"ngModel","value","checked","ngModelChange"],["tipoRisco","ngModel"],["for","tipoRisco-0"],["class","mx-2",4,"ngFor","ngForOf"],[1,"form-row"],[1,"form-group","col-lg-6","col-md-6","col-sm-6","col-12"],["for","investimento"],[1,"text-danger"],["id","investimento","name","investimento","optionLabel","descricao","optionDisabled","dataDesativado","filterBy","descricao","placeholder","Selecione",1,"form-control",3,"disabled","options","ngModel","filter","showClear","required","ngModelChange"],["investimento","ngModel"],["pTemplate","item"],[4,"ngIf"],["for","custosTaxas"],["suffix","%",3,"valueInput","inputId","mask","min","max","showErrorMessage","allowNegativeNumbers","required","autoReplaceValue","valueChanges"],["for","rentabilidade"],["for","montanteAtual"],["prefix","R$ ",3,"valueInput","inputId","mask","min","showErrorMessage","allowNegativeNumbers","required","autoReplaceValue","valueChanges"],[1,"d-flex","p-0","mt-3"],["class","m-0",4,"ngIf"],[1,"btn","btn-primary","mr-0","ml-auto",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["campoObrigatorio",""],["type","radio","name","tipoRisco",1,"mr-1","mt-1",3,"id","ngModel","value","checked","ngModelChange"],[3,"for"],[1,"d-flex","align-items-center","justify-content-between"],[1,"mb-0"],["class","flag flag-red",3,"ngbPopover",4,"ngIf"],["ativo",""],[1,"flag","flag-red",3,"ngbPopover"],[1,"py-2","px-3"],["class","text-danger",4,"ngIf"],[1,"m-0"],["class","text-red",4,"ngFor","ngForOf"],["class","text-red",4,"ngIf"],[1,"text-red"],[1,"spinner-border","spinner-border-sm","mr-1"],[1,"py-3","px-4"]],template:function(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",0)(1,"div",1),e.NdJ("click",function(){return n.voltar()}),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),e._uU(6,"Adicionar investimento"),e.qZA(),e.TgZ(7,"a",6),e.NdJ("click",function(){return n.voltar()}),e._UZ(8,"span")(9,"span"),e.qZA()(),e.TgZ(10,"div",7)(11,"form",8,9),e.NdJ("ngSubmit",function(){e.CHM(o);const r=e.MAs(12);return e.KtG(n.send(r))}),e.TgZ(13,"div",10)(14,"p",11),e._uU(15,"Selecione o Risco"),e.qZA(),e.TgZ(16,"div",12)(17,"div",13)(18,"input",14,15),e.NdJ("ngModelChange",function(r){return n.selectedRisco=r})("ngModelChange",function(){return n.setInvestimentos()}),e.qZA(),e.TgZ(20,"label",16),e._uU(21,"Todos"),e.qZA()(),e.YNc(22,Jn,5,6,"div",17),e.qZA()(),e.TgZ(23,"div",18)(24,"div",19)(25,"label",20),e._uU(26,"Investimento: "),e.TgZ(27,"span",21),e._uU(28,"*"),e.qZA()(),e.TgZ(29,"p-dropdown",22,23),e.NdJ("ngModelChange",function(r){return n.objeto.investimento=r})("ngModelChange",function(){e.CHM(o);const r=e.MAs(30);return e.KtG(n.objeto.investimento_Id=r.value?r.value.id:void 0)}),e.YNc(31,jn,11,3,"ng-template",24),e.qZA(),e.YNc(32,Qn,2,1,"div",25),e.qZA(),e.TgZ(33,"div",19)(34,"label",26),e._uU(35,"Custos/Taxas "),e.TgZ(36,"small"),e._uU(37,"(%)"),e.qZA(),e._uU(38,": "),e.TgZ(39,"span",21),e._uU(40,"*"),e.qZA()(),e.TgZ(41,"app-input-number",27),e.NdJ("valueChanges",function(r){return n.objeto.custosTaxas=r}),e.qZA()(),e.TgZ(42,"div",19)(43,"label",28),e._uU(44,"Rentab. Bruta "),e.TgZ(45,"small"),e._uU(46,"(%)"),e.qZA(),e._uU(47,": "),e.TgZ(48,"span",21),e._uU(49,"*"),e.qZA()(),e.TgZ(50,"app-input-number",27),e.NdJ("valueChanges",function(r){return n.objeto.rentabilidade=r}),e.qZA()(),e.TgZ(51,"div",19)(52,"label",29),e._uU(53,"Montante Atual "),e.TgZ(54,"small"),e._uU(55,"(R$)"),e.qZA(),e._uU(56,": "),e.TgZ(57,"span",21),e._uU(58,"*"),e.qZA()(),e.TgZ(59,"app-input-number",30),e.NdJ("valueChanges",function(r){return n.objeto.montanteAtual=r}),e.qZA()()(),e.TgZ(60,"div",31),e.YNc(61,En,3,2,"div",32),e.TgZ(62,"button",33),e.YNc(63,Ln,1,0,"span",34),e._uU(64," Adicionar "),e.qZA()()(),e.YNc(65,Fn,2,0,"ng-template",null,35,e.W1O),e.qZA()()()()}if(2&t){const o=e.MAs(12),i=e.MAs(30);e.ekj("active",n.modalOpen),e.xp6(18),e.Q6J("ngModel",n.selectedRisco)("value",void 0)("checked",!n.selectedRisco),e.xp6(4),e.Q6J("ngForOf",n.tipoRiscos),e.xp6(7),e.ekj("form-control-loading",n.loadingInvestimentos),e.Q6J("disabled",n.loadingRiscos)("options",n.investimentos)("ngModel",n.objeto.investimento)("filter",!0)("showClear",!0)("required",!0),e.xp6(3),e.Q6J("ngIf",i.errors&&i.touched),e.xp6(9),e.Q6J("valueInput",n.objeto.custosTaxas)("inputId","custosTaxas")("mask","separator.2")("min",0)("max",100)("showErrorMessage",!0)("allowNegativeNumbers",!1)("required",!0)("autoReplaceValue",!0),e.xp6(9),e.Q6J("valueInput",n.objeto.rentabilidade)("inputId","rentabilidade")("mask","separator.2")("min",0)("max",100)("showErrorMessage",!0)("allowNegativeNumbers",!1)("required",!0)("autoReplaceValue",!0),e.xp6(9),e.Q6J("valueInput",n.objeto.montanteAtual)("inputId","montanteAtual")("mask","separator.2")("min",0)("min",1)("showErrorMessage",!0)("allowNegativeNumbers",!1)("required",!0)("autoReplaceValue",!0),e.xp6(2),e.Q6J("ngIf",n.erro||o.invalid),e.xp6(1),e.Q6J("disabled",o.invalid||n.loading),e.xp6(1),e.Q6J("ngIf",n.loading)}},dependencies:[f.sg,f.O5,g._Y,g.Fj,g._,g.JJ,g.JL,g.Q7,g.On,g.F,D.jx,Q.o8,F.Lt,G.l,f.Ts,f.uU]}),a})();var Yn=m(6886);class Dn{constructor(){this.id=0,this.planejamento_Id=0,this.rentabilidade="",this.rentabilidadeLiquida="",this.sugerido="",this.planoAcao="",this.percentual="",this.custosTaxas="",this.produto=new Yn.a7,this.produto_Id=void 0,this.valorLiquido_MontanteAtual=0,this.valorLiquido_PlanoAcao=0}}var $n=m(9885);function Gn(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"div",13)(1,"input",36,15),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedRisco=o)})("ngModelChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.setProdutos())}),e.qZA(),e.TgZ(3,"label",37),e._uU(4),e.qZA()()}if(2&a){const t=l.$implicit,n=e.oxw();e.xp6(1),e.MGl("id","tipoRisco-",t.nome,""),e.Q6J("ngModel",n.selectedRisco)("value",t)("checked",t.id==(null==n.selectedRisco?null:n.selectedRisco.id)),e.xp6(2),e.MGl("for","tipoRisco-",t.nome,""),e.xp6(1),e.Oqu(t.nome)}}function Bn(a,l){if(1&a&&(e.TgZ(0,"span",42),e._uU(1," Inativo "),e.qZA()),2&a){e.oxw();const t=e.MAs(10);e.Q6J("ngbPopover",t)}}function Hn(a,l){if(1&a&&(e.TgZ(0,"div",43),e._uU(1),e.ALo(2,"date"),e.qZA()),2&a){const t=e.oxw().$implicit;e.xp6(1),e.hij("Desativado em ",e.Dn7(2,1,t.dataDesativado,"dd/MM/yyyy","UTC")," ")}}function zn(a,l){if(1&a&&(e.TgZ(0,"div",38)(1,"div")(2,"p",39),e._uU(3),e.qZA(),e.TgZ(4,"p",39)(5,"strong"),e._uU(6,"Risco:"),e.qZA(),e._uU(7),e.qZA()(),e.YNc(8,Bn,2,1,"span",40),e.YNc(9,Hn,3,5,"ng-template",null,41,e.W1O),e.qZA()),2&a){const t=l.$implicit;e.xp6(3),e.Oqu(t.descricao),e.xp6(4),e.hij(" ",t.tipoRisco.nome,""),e.xp6(1),e.Q6J("ngIf",t.dataDesativado)}}function Kn(a,l){1&a&&(e.TgZ(0,"p",21)(1,"small"),e._uU(2,"Esse campo \xe9 obrigat\xf3rio "),e.qZA()())}function Wn(a,l){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,Kn,3,0,"p",44),e.qZA()),2&a){e.oxw();const t=e.MAs(30);e.xp6(1),e.Q6J("ngIf",t.errors.required)}}function Xn(a,l){if(1&a&&(e.TgZ(0,"p",48),e._uU(1),e.ALo(2,"json"),e.qZA()),2&a){const t=l.$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,t))}}function ea(a,l){1&a&&(e.TgZ(0,"p",48),e._uU(1,"Preencha todos os campos obrigat\xf3rios (*) corretamente para adicionar"),e.qZA())}function ta(a,l){if(1&a&&(e.TgZ(0,"div",45),e.YNc(1,Xn,3,3,"p",46),e.YNc(2,ea,2,0,"p",47),e.qZA()),2&a){const t=e.oxw(),n=e.MAs(12);e.xp6(1),e.Q6J("ngForOf",t.erro),e.xp6(1),e.Q6J("ngIf",n.invalid&&0==t.erro.length)}}function na(a,l){1&a&&e._UZ(0,"span",49)}function aa(a,l){1&a&&(e.TgZ(0,"div",50),e._uU(1," Este campo \xe9 obrigat\xf3rio "),e.qZA())}let ve=(()=>{class a{constructor(t,n,o,i,r,s){this.modal=t,this.plannerService=n,this.produtoService=o,this.dropdown=i,this.crypto=r,this.activatedRoute=s,this.faTimes=b.NBC,this.faChevronLeft=b.A35,this.modalOpen=!1,this.objeto=new Dn,this.planner=new T,this.erro=[],this.loading=!1,this.subscription=[],this.produtos=[],this.loadingProdutos=!0,this.tipoRiscos=[],this.loadingRiscos=!0,this.routerBack=["../"],this.routeBackOptions={relativeTo:this.activatedRoute};var d=this.modal.getOpen().subscribe(c=>this.modalOpen=c);this.subscription.push(d);var h=this.plannerService.objeto.subscribe(c=>{0==c.id&&(c=this.getPlanner()),this.planner=c,this.objeto.planejamento_Id=this.planner.id});this.subscription.push(h);var v=this.dropdown.tipoRisco.subscribe(c=>this.tipoRiscos=c);this.subscription.push(v),(0,Z.n)(this.dropdown.getRisco()).then(c=>this.tipoRiscos=c).finally(()=>this.loadingRiscos=!1);var p=this.produtoService.list.subscribe(c=>this.setProdutos());this.subscription.push(p),(0,Z.n)(this.produtoService.getList()).then(c=>this.setProdutos()).finally(()=>this.loadingProdutos=!1),setTimeout(()=>{this.modal.setOpen(!0)},200)}ngOnDestroy(){this.modal.setOpen(!1),this.subscription.forEach(t=>t.unsubscribe())}voltar(){this.modal.voltar(this.routerBack,this.routeBackOptions)}setProdutos(){console.log(this.produtos),this.loadingProdutos=!0;var t=this.planner.planejamentoProduto.map(n=>n.produto_Id);this.produtos=this.produtoService.list.value,this.selectedRisco&&(this.produtos=this.produtos.filter(n=>n.tipoRisco_Id==this.selectedRisco?.id)),this.produtos=this.produtos.filter(n=>!t.includes(n.id)),this.produtos=this.produtos.sort((n,o)=>n.tipoRisco_Id>o.tipoRisco_Id?1:n.tipoRisco_Id<o.tipoRisco_Id||n.descricao.toLowerCase()<o.descricao.toLowerCase()?-1:n.descricao.toLowerCase()>o.descricao.toLowerCase()?1:0),this.objeto.produto=void 0,this.objeto.produto_Id=void 0,this.loadingProdutos=!1,console.log(this.produtos)}send(t){this.loading=!0,this.erro=[],this.objeto.rentabilidadeLiquida=0;var o=this.plannerService.planejamentoBackup.value.planejamentoProduto.find(i=>i.produto_Id==this.objeto.produto_Id);o?(this.objeto.planejamento_Id=o.planejamento_Id,this.objeto.id=o.id,this.objeto.sugerido=o.sugerido):this.objeto.sugerido=0,this.planner.planejamentoProduto.push(this.objeto),this.plannerService.setObject(this.planner),this.voltar(),this.loading=!1}getPlanner(){let t=localStorage.getItem("planejamento");return this.crypto.decrypt(t)}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(U.Q),e.Y36(w),e.Y36($n.m),e.Y36(Y.V),e.Y36(R.w),e.Y36(P.gz))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-form-produto"]],decls:67,vars:46,consts:[[1,"modal"],[1,"modal__bg",3,"click"],[1,"modal__inner",2,"max-width","700px","overflow","visible","max-height","95vh"],[1,"modal__content"],[1,"modal__header","pb-2"],[1,"text-orange"],[1,"modal__header-close","btn-close",3,"click"],[1,"modal__body","mt-0"],[1,"needs-validation",3,"ngSubmit"],["form","ngForm"],[1,"mt-2","mb-2","px-2"],[1,"h6"],[1,"d-flex","align-items-center"],[1,"mx-2"],["type","radio","name","tipoRisco","id","tipoRisco-0",1,"mr-1","mt-1",3,"ngModel","value","checked","ngModelChange"],["tipoRisco","ngModel"],["for","tipoRisco-0"],["class","mx-2",4,"ngFor","ngForOf"],[1,"form-row"],[1,"form-group","col-lg-6","col-md-6","col-sm-6","col-12"],["for","produto"],[1,"text-danger"],["id","produto","name","produto","optionLabel","descricao","optionDisabled","dataDesativado","filterBy","descricao","placeholder","Selecione",1,"form-control",3,"disabled","options","ngModel","filter","showClear","required","ngModelChange"],["produto","ngModel"],["pTemplate","item"],[4,"ngIf"],["for","custosTaxas"],[3,"valueInput","inputId","mask","suffix","max","min","required","showErrorMessage","allowNegativeNumbers","autoReplaceValue","valueChanges"],["for","rentabilidade"],["for","planoAcao"],["prefix","R$ ",3,"valueInput","inputId","mask","min","required","showErrorMessage","allowNegativeNumbers","autoReplaceValue","valueChanges"],[1,"d-flex","p-0","mt-3","align-items-center"],["class","m-0",4,"ngIf"],[1,"btn","btn-primary","mr-0","ml-auto",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["campoObrigatorio",""],["type","radio","name","tipoRisco",1,"mr-1","mt-1",3,"id","ngModel","value","checked","ngModelChange"],[3,"for"],[1,"d-flex","align-items-center","justify-content-between"],[1,"mb-0"],["class","flag flag-red",3,"ngbPopover",4,"ngIf"],["ativo",""],[1,"flag","flag-red",3,"ngbPopover"],[1,"py-2","px-3"],["class","text-danger ",4,"ngIf"],[1,"m-0"],["class","text-red",4,"ngFor","ngForOf"],["class","text-red",4,"ngIf"],[1,"text-red"],[1,"spinner-border","spinner-border-sm","mr-1"],[1,"py-3","px-4"]],template:function(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",0)(1,"div",1),e.NdJ("click",function(){return n.voltar()}),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),e._uU(6,"Adicionar produto"),e.qZA(),e.TgZ(7,"a",6),e.NdJ("click",function(){return n.voltar()}),e._UZ(8,"span")(9,"span"),e.qZA()(),e.TgZ(10,"div",7)(11,"form",8,9),e.NdJ("ngSubmit",function(){e.CHM(o);const r=e.MAs(12);return e.KtG(n.send(r))}),e.TgZ(13,"div",10)(14,"p",11),e._uU(15,"Selecione o Risco"),e.qZA(),e.TgZ(16,"div",12)(17,"div",13)(18,"input",14,15),e.NdJ("ngModelChange",function(r){return n.selectedRisco=r})("ngModelChange",function(){return n.setProdutos()}),e.qZA(),e.TgZ(20,"label",16),e._uU(21,"Todos"),e.qZA()(),e.YNc(22,Gn,5,6,"div",17),e.qZA()(),e.TgZ(23,"div",18)(24,"div",19)(25,"label",20),e._uU(26,"Produto: "),e.TgZ(27,"span",21),e._uU(28,"*"),e.qZA()(),e.TgZ(29,"p-dropdown",22,23),e.NdJ("ngModelChange",function(r){return n.objeto.produto=r})("ngModelChange",function(){e.CHM(o);const r=e.MAs(30);return e.KtG(n.objeto.produto_Id=r.value?r.value.id:void 0)}),e.YNc(31,zn,11,3,"ng-template",24),e.qZA(),e.YNc(32,Wn,2,1,"div",25),e.qZA(),e.TgZ(33,"div",19)(34,"label",26),e._uU(35,"Custos/Taxas "),e.TgZ(36,"small"),e._uU(37,"(%)"),e.qZA(),e._uU(38,": "),e.TgZ(39,"span",21),e._uU(40,"*"),e.qZA()(),e.TgZ(41,"app-input-number",27),e.NdJ("valueChanges",function(r){return n.objeto.custosTaxas=r}),e.qZA()(),e.TgZ(42,"div",19)(43,"label",28),e._uU(44,"Rentab. Bruta "),e.TgZ(45,"small"),e._uU(46,"(%)"),e.qZA(),e._uU(47,": "),e.TgZ(48,"span",21),e._uU(49,"*"),e.qZA()(),e.TgZ(50,"app-input-number",27),e.NdJ("valueChanges",function(r){return n.objeto.rentabilidade=r}),e.qZA()(),e.TgZ(51,"div",19)(52,"label",29),e._uU(53,"Plano de A\xe7\xe3o "),e.TgZ(54,"small"),e._uU(55,"(R$)"),e.qZA(),e._uU(56,": "),e.TgZ(57,"span",21),e._uU(58,"*"),e.qZA()(),e.TgZ(59,"app-input-number",30),e.NdJ("valueChanges",function(r){return n.objeto.planoAcao=r}),e.qZA()()(),e.TgZ(60,"div",31),e.YNc(61,ta,3,2,"div",32),e.TgZ(62,"button",33),e.YNc(63,na,1,0,"span",34),e._uU(64," Adicionar "),e.qZA()()(),e.YNc(65,aa,2,0,"ng-template",null,35,e.W1O),e.qZA()()()()}if(2&t){const o=e.MAs(12),i=e.MAs(30);e.ekj("active",n.modalOpen),e.xp6(18),e.Q6J("ngModel",n.selectedRisco)("value",void 0)("checked",!n.selectedRisco),e.xp6(4),e.Q6J("ngForOf",n.tipoRiscos),e.xp6(7),e.ekj("form-control-loading",n.loadingProdutos),e.Q6J("disabled",n.loadingRiscos)("options",n.produtos)("ngModel",n.objeto.produto)("filter",!0)("showClear",!0)("required",!0),e.xp6(3),e.Q6J("ngIf",i.touched&&i.errors),e.xp6(9),e.Q6J("valueInput",n.objeto.custosTaxas)("inputId","custosTaxas")("mask","separator.2")("suffix","%")("max",100)("min",0)("required",!0)("showErrorMessage",!0)("allowNegativeNumbers",!1)("autoReplaceValue",!0),e.xp6(9),e.Q6J("valueInput",n.objeto.rentabilidade)("inputId","rentabilidade")("mask","separator.2")("suffix","%")("max",100)("min",0)("required",!0)("showErrorMessage",!0)("allowNegativeNumbers",!1)("autoReplaceValue",!0),e.xp6(9),e.Q6J("valueInput",n.objeto.planoAcao)("inputId","planoAcao")("mask","separator.2")("min",1)("required",!0)("showErrorMessage",!0)("allowNegativeNumbers",!1)("autoReplaceValue",!0),e.xp6(2),e.Q6J("ngIf",n.erro||o.invalid),e.xp6(1),e.Q6J("disabled",o.invalid||n.loading||!i),e.xp6(1),e.Q6J("ngIf",n.loading)}},dependencies:[f.sg,f.O5,g._Y,g.Fj,g._,g.JJ,g.JL,g.Q7,g.On,g.F,D.jx,Q.o8,F.Lt,G.l,f.Ts,f.uU]}),a})();var oa=m(4506);let be=(()=>{class a{constructor(t,n,o){this.modal=t,this.alert=n,this.plannerService=o}canActivate(t,n){let o=this.plannerService.objeto.value;return o.carteiraSetup?0!=o.planejamentoInvestimento.length||(this.modal.voltar(),this.alert.warn("Insira um investimento para cadastrar um produto!"),!1):(this.modal.voltar(),this.alert.warn("Escolha um setup para adicionar um produto!"),!1)}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(U.Q),e.LFG(oa.c),e.LFG(w))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function ra(a,l){1&a&&(e._UZ(0,"p",16),e.ALo(1,"json")),2&a&&e.Q6J("innerHTML",e.lcZ(1,1,l.$implicit),e.oJD)}function ia(a,l){if(1&a&&(e.TgZ(0,"div",14),e.YNc(1,ra,2,3,"p",15),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.erro)}}function la(a,l){1&a&&e._UZ(0,"span",17)}let sa=(()=>{class a{constructor(t,n,o,i,r){this.router=t,this.activatedRoute=n,this.modal=o,this.plannerService=i,this.crypto=r,this.faTimes=b.NBC,this.modalOpen=!1,this.erro=[],this.loading=!1,this.id=0,this.subscription=[],this.routerBack=["../../"],this.routeBackOptions={relativeTo:this.activatedRoute};var s=this.modal.getOpen().subscribe(h=>this.modalOpen=h);this.subscription.push(s);var d=this.activatedRoute.params.subscribe(h=>{h.planner_id?this.id=this.crypto.decrypt(h.planner_id):this.voltar()});this.subscription.push(d),setTimeout(()=>{this.modal.setOpen(!0)},200)}ngOnDestroy(){this.subscription.forEach(t=>t.unsubscribe())}voltar(){this.modal.voltar(this.routerBack,this.routeBackOptions)}send(){this.loading=!0,(0,Z.n)(this.plannerService.delete(this.id)).then(t=>{(0,Z.n)(this.plannerService.getList()),this.router.navigate(["..","..",".."]),this.plannerService.setObject(new T)}).finally(()=>this.loading=!1)}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(P.F0),e.Y36(P.gz),e.Y36(U.Q),e.Y36(w),e.Y36(R.w))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-delete-planner"]],decls:22,vars:5,consts:[[1,"modal"],[1,"modal__bg",3,"click"],[1,"modal__inner",2,"max-width","600px"],[1,"modal__content"],[1,"modal__header","pb-2"],[1,"text-orange"],[1,"mt-2"],[1,"modal__header-close","btn-close",3,"click"],[1,"modal__body","mt-0"],["class","m-0 col-lg-12 mt-1",4,"ngIf"],[1,"d-flex","justify-content-center","flex-wrap","p-0","mt-1"],[1,"btn","btn-grey","mr-1",3,"click"],[1,"btn","btn-primary","mr-0",3,"disabled","click"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"m-0","col-lg-12","mt-1"],["class","text-red",3,"innerHTML",4,"ngFor","ngForOf"],[1,"text-red",3,"innerHTML"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.NdJ("click",function(){return n.voltar()}),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),e._uU(6,"Excluir registro"),e.qZA(),e.TgZ(7,"p",6),e._uU(8,"Tem certeza que deseja excluir esse registro? Ele n\xe3o poder\xe1 ser recuperado."),e.qZA(),e.TgZ(9,"p"),e._uU(10,"Todos os registros relacionados a esse planejamento, tamb\xe9m ser\xe3o removidos."),e.qZA(),e.TgZ(11,"a",7),e.NdJ("click",function(){return n.voltar()}),e._UZ(12,"span")(13,"span"),e.qZA()(),e.TgZ(14,"div",8),e.YNc(15,ia,2,1,"div",9),e.TgZ(16,"div",10)(17,"button",11),e.NdJ("click",function(){return n.voltar()}),e._uU(18," Voltar"),e.qZA(),e.TgZ(19,"button",12),e.NdJ("click",function(){return n.send()}),e.YNc(20,la,1,0,"span",13),e._uU(21," Excluir "),e.qZA()()()()()()),2&t&&(e.ekj("active",n.modalOpen),e.xp6(15),e.Q6J("ngIf",n.erro),e.xp6(4),e.Q6J("disabled",n.loading),e.xp6(1),e.Q6J("ngIf",n.loading))},dependencies:[f.sg,f.O5,f.Ts]}),a})();var da=m(8785),pa=m(3834),Ze=m(9738);function ua(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"input",170,171),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.planner.account.name=o)}),e.qZA()}if(2&a){const t=e.oxw();e.Q6J("ngModel",t.planner.account.name)}}function ca(a,l){if(1&a&&(e.TgZ(0,"tr")(1,"td",83),e._UZ(2,"input",172),e.qZA(),e.TgZ(3,"td"),e._UZ(4,"input",173),e.qZA(),e._UZ(5,"td",174),e.qZA()),2&a){const t=l.$implicit,n=l.index;e.xp6(2),e.MGl("id","idade-",n,"")("name","idade-",n,""),e.Q6J("ngModel",t.idade),e.xp6(2),e.MGl("id","valor",n,"")("name","valor",n,""),e.Q6J("ngModel",t.valor)}}function ma(a,l){1&a&&(e.TgZ(0,"tr")(1,"td",175),e._uU(2,"Nenhum registro"),e.qZA()())}function _a(a,l){1&a&&(e.TgZ(0,"tr",74)(1,"th",176),e._uU(2,"Risco |"),e.qZA(),e.TgZ(3,"th",177),e._uU(4,"Investimento"),e.qZA(),e.TgZ(5,"th",88),e._uU(6,"Custos/Taxas"),e.qZA(),e.TgZ(7,"th",88),e._uU(8,"Rentab. Bruta"),e.qZA(),e.TgZ(9,"th",88),e._uU(10,"Rentab. Liquida"),e.qZA(),e.TgZ(11,"th",88),e._uU(12,"Montante Atual"),e.qZA(),e._UZ(13,"th"),e.qZA())}function ga(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"tr")(1,"td",178)(2,"small")(3,"b"),e._uU(4),e.qZA(),e._uU(5," |"),e.qZA()(),e.TgZ(6,"td",179)(7,"small")(8,"b"),e._uU(9),e.qZA()()(),e.TgZ(10,"td")(11,"app-input-number",180),e.NdJ("valueChanges",function(o){const r=e.CHM(t).$implicit;return e.KtG(r.custosTaxas=o)}),e.qZA()(),e.TgZ(12,"td")(13,"app-input-number",180),e.NdJ("valueChanges",function(o){const r=e.CHM(t).$implicit;return e.KtG(r.rentabilidade=o)}),e.qZA()(),e.TgZ(14,"td")(15,"app-input-number",181),e.NdJ("valueChanges",function(o){const r=e.CHM(t).$implicit;return e.KtG(r.rentabilidadeLiquida=o)}),e.qZA()(),e.TgZ(16,"td",182)(17,"app-input-number",183),e.NdJ("valueChanges",function(o){const r=e.CHM(t).$implicit;return e.KtG(r.montanteAtual=o)}),e.qZA()(),e._UZ(18,"td",184),e.qZA()}if(2&a){const t=l.$implicit,n=e.oxw();e.xp6(4),e.Oqu(t.investimento.tipoRisco.nome),e.xp6(5),e.Oqu(t.investimento.descricao),e.xp6(2),e.Q6J("valueInput",t.custosTaxas)("inputId","investimento-custosTaxas-"+t.investimento_Id)("mask","separator.2")("min",0)("max",100)("showErrorMessage",!1)("allowNegativeNumbers",!1)("required",!0)("autoReplaceValue",!0)("readonly",!0)("disabled",!0),e.xp6(2),e.Q6J("valueInput",t.rentabilidade)("inputId","investimento-rentabilidade-"+t.investimento_Id)("mask","separator.2")("min",0)("max",100)("showErrorMessage",!1)("allowNegativeNumbers",!1)("required",!0)("autoReplaceValue",!0)("readonly",!0)("disabled",!0),e.xp6(2),e.Q6J("valueInput",t.rentabilidadeLiquida)("inputId","investimento-rentabilidadeLiquida-"+t.investimento_Id)("mask","separator.2")("min",0)("max",100)("showErrorMessage",!1)("allowNegativeNumbers",!1)("readonly",!0)("disabled",!0)("autoReplaceValue",!0),e.xp6(1),e.Q6J("title","L\xedquido "+n.formatReais(t.valorLiquido_MontanteAtual)),e.xp6(1),e.Q6J("valueInput",t.montanteAtual)("inputId","investimento-montanteAtual-"+t.investimento_Id)("mask","separator.2")("min",1)("required",!0)("showErrorMessage",!1)("allowNegativeNumbers",!1)("autoReplaceValue",!0)("readonly",!0)("disabled",!0)}}function ha(a,l){if(1&a&&(e.TgZ(0,"tr",186),e._UZ(1,"td"),e.TgZ(2,"td",187)(3,"small")(4,"b"),e._uU(5,"Total"),e.qZA()()(),e._UZ(6,"td")(7,"td")(8,"td"),e.TgZ(9,"td",182),e._UZ(10,"app-input-number",188),e.qZA(),e._UZ(11,"td"),e.qZA()),2&a){const t=e.oxw(2);e.ekj("bg-danger",t.somaInvestimentos.somaMontanteAtual<0),e.xp6(9),e.Q6J("title","L\xedquido "+t.formatReais(t.somaInvestimentos.somaMontanteAtualLiquido)),e.xp6(1),e.Q6J("valueInput",t.somaInvestimentos.somaMontanteAtual)("inputId","somaMontanteAtual")("mask","separator.2")("required",!1)("showErrorMessage",!1)("readonly",!0)("disabled",!0)("autoReplaceValue",!0)}}function fa(a,l){if(1&a&&e.YNc(0,ha,12,11,"tr",185),2&a){const t=e.oxw();e.Q6J("ngIf",t.planner.planejamentoInvestimento.length>0)}}function va(a,l){1&a&&(e.TgZ(0,"tr"),e._UZ(1,"td"),e.TgZ(2,"td",189),e._uU(3," Nenhum registro "),e.qZA(),e._UZ(4,"td"),e.qZA()),2&a&&(e.xp6(2),e.uIk("colspan",5))}function ba(a,l){1&a&&(e.TgZ(0,"th",193),e._uU(1,"Custos/Taxas"),e.qZA())}function Za(a,l){1&a&&(e.TgZ(0,"th",193),e._uU(1,"Rentab. Bruta"),e.qZA())}function Ma(a,l){1&a&&(e.TgZ(0,"th",193),e._uU(1,"Rentab. Liquida"),e.qZA())}function Aa(a,l){1&a&&(e.TgZ(0,"th",193),e._uU(1,"Montante Sugerido"),e.qZA())}function xa(a,l){1&a&&(e.TgZ(0,"th",193),e._uU(1,"Plano de A\xe7\xe3o"),e.qZA())}function Ca(a,l){1&a&&(e.TgZ(0,"th",193),e._uU(1,"Percentual (~)"),e.qZA())}function Ta(a,l){if(1&a&&(e.TgZ(0,"tr",74)(1,"th",190),e._uU(2,"Risco |"),e.qZA(),e.TgZ(3,"th",191),e._uU(4,"Produto"),e.qZA(),e.YNc(5,ba,2,0,"th",192),e.YNc(6,Za,2,0,"th",192),e.YNc(7,Ma,2,0,"th",192),e.YNc(8,Aa,2,0,"th",192),e.YNc(9,xa,2,0,"th",192),e.YNc(10,Ca,2,0,"th",192),e._UZ(11,"th",184),e.qZA()),2&a){e.oxw();const t=e.MAs(275),n=e.MAs(287),o=e.MAs(281),i=e.MAs(293),r=e.MAs(299),s=e.MAs(305);e.xp6(5),e.Q6J("ngIf",t.value),e.xp6(1),e.Q6J("ngIf",n.value),e.xp6(1),e.Q6J("ngIf",o.value),e.xp6(1),e.Q6J("ngIf",i.value),e.xp6(1),e.Q6J("ngIf",r.value),e.xp6(1),e.Q6J("ngIf",s.value)}}function Pa(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"app-input-number",199),e.NdJ("valueChanges",function(o){e.CHM(t);const i=e.oxw(2).$implicit;return e.KtG(i.custosTaxas=o)}),e.qZA()}if(2&a){const t=e.oxw(2).$implicit;e.Q6J("valueInput",t.custosTaxas)("inputId","produto-custosTaxas-"+t.produto_Id)("mask","separator.2")("min",0)("max",100)("required",!0)("showErrorMessage",!1)("allowNegativeNumbers",!1)("autoReplaceValue",!0)("readonly",!0)("disabled",!0)}}function qa(a,l){1&a&&(e.TgZ(0,"span",200),e._uU(1,"-"),e.qZA())}function Ia(a,l){if(1&a&&(e.TgZ(0,"td",193),e.YNc(1,Pa,1,11,"app-input-number",197),e.YNc(2,qa,2,0,"span",198),e.qZA()),2&a){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",61!=t.produto_Id),e.xp6(1),e.Q6J("ngIf",61==t.produto_Id)}}function ya(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"app-input-number",199),e.NdJ("valueChanges",function(o){e.CHM(t);const i=e.oxw(2).$implicit;return e.KtG(i.rentabilidade=o)}),e.qZA()}if(2&a){const t=e.oxw(2).$implicit;e.Q6J("valueInput",t.rentabilidade)("inputId","produto-rentabilidade-"+t.produto_Id)("mask","separator.2")("min",0)("max",100)("required",!0)("showErrorMessage",!1)("allowNegativeNumbers",!1)("autoReplaceValue",!0)("readonly",!0)("disabled",!0)}}function wa(a,l){1&a&&(e.TgZ(0,"span",200),e._uU(1,"-"),e.qZA())}function Na(a,l){if(1&a&&(e.TgZ(0,"td",193),e.YNc(1,ya,1,11,"app-input-number",197),e.YNc(2,wa,2,0,"span",198),e.qZA()),2&a){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",61!=t.produto_Id),e.xp6(1),e.Q6J("ngIf",61==t.produto_Id)}}function Ra(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"app-input-number",181),e.NdJ("valueChanges",function(o){e.CHM(t);const i=e.oxw(2).$implicit;return e.KtG(i.rentabilidadeLiquida=o)}),e.qZA()}if(2&a){const t=e.oxw(2).$implicit;e.Q6J("valueInput",t.rentabilidadeLiquida)("inputId","produto-rentabilidadeLiquida-"+t.produto_Id)("mask","separator.2")("min",0)("max",100)("showErrorMessage",!1)("allowNegativeNumbers",!1)("readonly",!0)("disabled",!0)("autoReplaceValue",!0)}}function Ja(a,l){1&a&&(e.TgZ(0,"span",200),e._uU(1,"-"),e.qZA())}function Ua(a,l){if(1&a&&(e.TgZ(0,"td",193),e.YNc(1,Ra,1,10,"app-input-number",201),e.YNc(2,Ja,2,0,"span",198),e.qZA()),2&a){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",61!=t.produto_Id),e.xp6(1),e.Q6J("ngIf",61==t.produto_Id)}}function ka(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"td",202)(1,"app-input-number",203),e.NdJ("valueChanges",function(o){e.CHM(t);const i=e.oxw().$implicit;return e.KtG(i.sugerido=o)}),e.qZA()()}if(2&a){const t=e.oxw().$implicit,n=e.oxw();e.Q6J("title","L\xedquido "+n.formatReais(t.valorLiquido_MontanteAtual)),e.xp6(1),e.Q6J("valueInput",t.sugerido)("inputId","produto-sugerido-"+t.produto_Id)("mask","separator.2")("min",0)("showErrorMessage",!1)("allowNegativeNumbers",!1)("readonly",!0)("disabled",!0)("autoReplaceValue",!0)}}function ja(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"td",202)(1,"app-input-number",204),e.NdJ("valueChanges",function(o){e.CHM(t);const i=e.oxw().$implicit;return e.KtG(i.planoAcao=o)}),e.qZA()()}if(2&a){const t=e.oxw().$implicit,n=e.oxw();e.Q6J("title","L\xedquido "+n.formatReais(t.valorLiquido_PlanoAcao)),e.xp6(1),e.Q6J("valueInput",t.planoAcao)("inputId","produto-planoAcao-"+t.produto_Id)("mask","separator.2")("min",0)("required",!0)("showErrorMessage",!1)("allowNegativeNumbers",!1)("readonly",61==t.produto_Id)("disabled",61==t.produto_Id)("autoReplaceValue",!0)("readonly",!0)("disabled",!0)}}function Sa(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"td",193)(1,"app-input-number",181),e.NdJ("valueChanges",function(o){e.CHM(t);const i=e.oxw().$implicit;return e.KtG(i.percentual=o)}),e.qZA()()}if(2&a){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("valueInput",t.percentual)("inputId","produto-percentual-"+t.produto_Id)("mask","separator")("min",0)("max",100)("showErrorMessage",!1)("allowNegativeNumbers",!1)("readonly",!0)("disabled",!0)("autoReplaceValue",!0)}}function Qa(a,l){if(1&a&&(e.TgZ(0,"tr")(1,"td",194)(2,"small")(3,"b"),e._uU(4),e.qZA(),e._uU(5," |"),e.qZA()(),e.TgZ(6,"td",195)(7,"small")(8,"b"),e._uU(9),e.qZA()()(),e.YNc(10,Ia,3,2,"td",192),e.YNc(11,Na,3,2,"td",192),e.YNc(12,Ua,3,2,"td",192),e.YNc(13,ka,2,10,"td",196),e.YNc(14,ja,2,13,"td",196),e.YNc(15,Sa,2,10,"td",192),e._UZ(16,"td",184),e.qZA()),2&a){const t=l.$implicit;e.oxw();const n=e.MAs(275),o=e.MAs(287),i=e.MAs(281),r=e.MAs(293),s=e.MAs(299),d=e.MAs(305);e.xp6(4),e.Oqu(t.produto.tipoRisco.nome),e.xp6(5),e.Oqu(t.produto.descricao),e.xp6(1),e.Q6J("ngIf",n.value),e.xp6(1),e.Q6J("ngIf",o.value),e.xp6(1),e.Q6J("ngIf",i.value),e.xp6(1),e.Q6J("ngIf",r.value),e.xp6(1),e.Q6J("ngIf",s.value),e.xp6(1),e.Q6J("ngIf",d.value)}}function Oa(a,l){1&a&&e._UZ(0,"td")}function Va(a,l){1&a&&e._UZ(0,"td")}function Ea(a,l){1&a&&e._UZ(0,"td")}function La(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"td",182)(1,"app-input-number",206),e.NdJ("valueChanges",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.somaProdutos.somaSugerido=o)}),e.qZA()()}if(2&a){const t=e.oxw(3);e.Q6J("title","Liquido "+t.formatReais(t.somaProdutos.somaSugeridoLiquido)),e.xp6(1),e.Q6J("valueInput",t.somaProdutos.somaSugerido)("inputId","somaSugerido")("mask","separator.2")("required",!1)("showErrorMessage",!1)("readonly",!0)("disabled",!0)("autoReplaceValue",!0)}}function Fa(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"td",182)(1,"app-input-number",206),e.NdJ("valueChanges",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.somaProdutos.somaPlanoAcao=o)}),e.qZA()()}if(2&a){const t=e.oxw(3);e.Q6J("title","Liquido "+t.formatReais(t.somaProdutos.somaPlanoAcaoLiquido)),e.xp6(1),e.Q6J("valueInput",t.somaProdutos.somaPlanoAcao)("inputId","somaPlanoAcao")("mask","separator.2")("required",!1)("showErrorMessage",!1)("readonly",!0)("disabled",!0)("autoReplaceValue",!0)}}function Ya(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"td")(1,"app-input-number",207),e.NdJ("valueChanges",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.somaProdutos.somaPercentual=o)}),e.qZA()()}if(2&a){const t=e.oxw(3);e.xp6(1),e.Q6J("valueInput",t.somaProdutos.somaPercentual)("inputId","somaPercentual")("mask","separator.2")("required",!1)("showErrorMessage",!1)("readonly",!0)("disabled",!0)("autoReplaceValue",!0)}}function Da(a,l){if(1&a&&(e.TgZ(0,"tr",186),e._UZ(1,"td"),e.TgZ(2,"td",187)(3,"small")(4,"b"),e._uU(5,"Total"),e.qZA()()(),e.YNc(6,Oa,1,0,"td",85),e.YNc(7,Va,1,0,"td",85),e.YNc(8,Ea,1,0,"td",85),e.YNc(9,La,2,9,"td",205),e.YNc(10,Fa,2,9,"td",205),e.YNc(11,Ya,2,8,"td",85),e._UZ(12,"td"),e.qZA()),2&a){const t=e.oxw(2),n=e.MAs(275),o=e.MAs(287),i=e.MAs(281),r=e.MAs(293),s=e.MAs(299),d=e.MAs(305);e.ekj("bg-danger",t.somaProdutos.somaPercentual<0||t.somaProdutos.somaPercentual>100),e.xp6(6),e.Q6J("ngIf",n.value),e.xp6(1),e.Q6J("ngIf",o.value),e.xp6(1),e.Q6J("ngIf",i.value),e.xp6(1),e.Q6J("ngIf",r.value),e.xp6(1),e.Q6J("ngIf",s.value),e.xp6(1),e.Q6J("ngIf",d.value)}}function $a(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"tr",186),e._UZ(1,"td"),e.TgZ(2,"td",187)(3,"small")(4,"b"),e._uU(5,"Diferen\xe7a"),e.qZA()()(),e._UZ(6,"td",208),e.TgZ(7,"td")(8,"app-input-number",209),e.NdJ("valueChanges",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.somaProdutos.diferencaPlanoAcao=o)}),e.qZA()(),e.TgZ(9,"td")(10,"app-input-number",210),e.NdJ("valueChanges",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.somaProdutos.diferencaPercentual=o)}),e.qZA()(),e._UZ(11,"td"),e.qZA()}if(2&a){const t=e.oxw(2);e.ekj("bg-danger",t.somaProdutos.somaPercentual<0||t.somaProdutos.somaPercentual>100),e.xp6(8),e.Q6J("valueInput",t.somaProdutos.diferencaPlanoAcao)("inputId","diferencaPlanoAcao")("mask","separator.2")("required",!1)("showErrorMessage",!1)("readonly",!0)("disabled",!0)("allowNegativeNumbers",!0)("autoReplaceValue",!0),e.xp6(2),e.Q6J("valueInput",t.somaProdutos.diferencaPercentual)("inputId","diferencaPercentual")("mask","separator.2")("required",!1)("showErrorMessage",!1)("readonly",!0)("disabled",!0)("allowNegativeNumbers",!0)("autoReplaceValue",!0)}}function Ga(a,l){if(1&a&&(e.YNc(0,Da,13,8,"tr",185),e.YNc(1,$a,12,20,"tr",185)),2&a){const t=e.oxw();e.Q6J("ngIf",t.planner.planejamentoProduto.length>0),e.xp6(1),e.Q6J("ngIf",t.somaProdutos.somaPercentual>100)}}function Ba(a,l){1&a&&(e.TgZ(0,"tr"),e._UZ(1,"td"),e.TgZ(2,"td",189),e._uU(3," Nenhum registro "),e.qZA(),e._UZ(4,"td"),e.qZA()),2&a&&(e.xp6(2),e.uIk("colspan",9))}function Ha(a,l){if(1&a&&(e.TgZ(0,"div",9),e._UZ(1,"app-patrimonio-por-idade",211),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("planner",t.planner)}}function za(a,l){if(1&a&&(e.TgZ(0,"div",9),e._UZ(1,"app-grafico-comparativo",211,212),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("planner",t.planner)}}let Ka=(()=>{class a{constructor(t,n,o,i,r,s){this.modal=t,this.activatedRoute=n,this.crypto=o,this.plannerService=i,this.accountService=r,this.currency=s,this.faArrowRight=b.eFW,this.faChevronLeft=b.A35,this.planner=new T,this.somaProdutos={somaPercentual:0,somaPlanoAcao:0,somaPlanoAcaoLiquido:0,somaSugerido:0,somaSugeridoLiquido:0,diferencaPercentual:0,diferencaPlanoAcao:0,diferencaSugerido:0},this.somaInvestimentos={somaMontanteAtual:0,somaMontanteAtualLiquido:0},this.subscription=[],this.loading=!1,this.routerBack=["../../"],this.colsProdutos={custosTaxas:!0,rentabLiquida:!0,rentabBruta:!0,montanteSugerido:!0,planoAcao:!0,percentual:!0},this.routeBackOptions={relativeTo:this.activatedRoute},this.planner.carteiraSetup=new ue.Wj,this.account=this.accountService.accountValue;var d=this.activatedRoute.params.subscribe(h=>{if(h.cliente_id&&h.backoffice_id){if(this.loading=!0,this.planner.cliente_Id=this.crypto.decrypt(h.cliente_id),3!=this.crypto.decrypt(h.backoffice_id))return void this.voltar();(0,Z.n)(this.plannerService.getByClienteId(this.planner.cliente_Id)).then(p=>{p.cliente.rg=p.cliente.rg.toString().padStart(9,"0"),p.cliente.cpf=p.cliente.cpf.toString().padStart(11,"0"),p.principaisObjetivos=p.principaisObjetivos?p.principaisObjetivos:[],this.planner=p;var c=this.plannerService.objeto.subscribe(u=>{this.planner=u,this.calculaPercentualProdutos(),this.calculaPercentualInvestimentos()});this.subscription.push(c)}).catch(p=>{this.voltar()}).finally(()=>this.loading=!1)}else this.voltar()});this.subscription.push(d)}ngOnInit(){}ngOnDestroy(){this.subscription.forEach(t=>t.unsubscribe())}voltar(){this.modal.voltar(this.routerBack,this.routeBackOptions)}calculaPercentualProdutos(){if(this.planner.planejamentoProduto.length>0&&null!=this.planner.planejamentoAgregandoValor){const p=(c,u)=>Math.round(c*Math.pow(10,u))/Math.pow(10,u);var t=this.planner.planejamentoAgregandoValor.montante??1,n=0,o=0,i=0,r=0,s=0,d=this.planner.planejamentoProduto,h=(d=d.sort((c,u)=>c.produto.descricao.toLowerCase()>u.produto.descricao.toLowerCase()?1:-1)).findIndex(c=>61==c.produto_Id),v=d.splice(h,1);d.push(v[0]),d=d.map(c=>{var u=0;if(61==c.produto_Id){var _=this.planner.planejamentoAgregandoValor.montante-o;c.percentual=p(100*(u=_>0?_/this.planner.planejamentoAgregandoValor.montante:0),2),c.planoAcao=_>0?_:0,c.sugerido=c.sugerido}else c.percentual=p(100*(u=c.planoAcao/t),2);return n+=u,o+=c.planoAcao,i+=c.sugerido,s+=c.valorLiquido_PlanoAcao,r+=c.valorLiquido_MontanteAtual,c}),this.somaProdutos.somaPercentual=p(n,2),this.somaProdutos.somaPlanoAcao=p(o,2),this.somaProdutos.somaSugerido=p(i,2),this.somaProdutos.somaSugeridoLiquido=p(r,2),this.somaProdutos.somaPlanoAcaoLiquido=p(s,2),this.somaProdutos.diferencaPercentual=p(100-this.somaProdutos.somaPercentual,2),this.somaProdutos.diferencaPlanoAcao=p(t-this.somaProdutos.somaPlanoAcao,2),this.somaProdutos.diferencaSugerido=p(t-this.somaProdutos.somaSugerido,2),this.planner.planejamentoProduto=d}}calculaPercentualInvestimentos(){if(this.planner.planejamentoInvestimento.length>0&&null!=this.planner.planejamentoAgregandoValor){const i=(r,s)=>Math.round(r*Math.pow(10,s))/Math.pow(10,s);var n=0,o=0;this.planner.planejamentoInvestimento=this.planner.planejamentoInvestimento.sort((r,s)=>r.investimento.descricao.toLowerCase()>s.investimento.descricao.toLowerCase()?1:-1),this.planner.planejamentoInvestimento.map(r=>{var s=r.rentabilidade*(100-r.custosTaxas)/100,d=r.montanteAtual*s/100;return r.rentabilidadeLiquida=i(s,2),r.valorLiquido_MontanteAtual=i(d,2),n+=r.montanteAtual,o+=r.valorLiquido_MontanteAtual,r}),this.somaInvestimentos.somaMontanteAtual=i(n,2),this.somaInvestimentos.somaMontanteAtualLiquido=i(o,2)}}formatReais(t){return t=Math.round(t*Math.pow(10,2))/Math.pow(10,2),this.currency.transform(t,"BRL","R$","1.2")}formatPorcentagem(t){return t=Math.round(t*Math.pow(10,2))/Math.pow(10,2),this.currency.transform(t,"BRL","","1.2")+"%"}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(U.Q),e.Y36(P.gz),e.Y36(R.w),e.Y36(w),e.Y36(O.B),e.Y36(f.H9))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-ver-planner-readonly"]],decls:408,vars:108,consts:[[1,"modal__content"],[1,"modal__header","pb-2",2,"padding","0 25px"],[1,"d-flex","align-items-center","justify-content-between","flex-wrap","w-100"],[1,"link","text-dark",3,"click"],[1,"mr-1",3,"icon"],[1,"text-orange","mt-1"],[1,"modal__body","mt-0"],["novalidate","",1,"home","editable","editable-readonly"],["form","ngForm"],[1,"form-row","mb-2"],[1,"col-lg-8","col-md-8","col-sm-12"],[1,"card","card-body"],[1,"home__container-header","mb-2"],[1,"form-row"],[1,"form-group","col-lg-5","col-md-5","col-sm-12"],["for","nome"],["type","text","name","nome","id","nome","readonly","","disabled","",1,"form-control",3,"ngModel"],[1,"form-group","col-lg-3","col-md-3","col-sm-12"],["for","perfilInvestidor"],["type","text","name","perfilInvestidor","id","perfilInvestidor","readonly","","disabled","",1,"form-control",3,"ngModel"],[1,"form-group","col-lg-4","col-md-4","col-sm-12"],["for","estadoCivil"],["type","text","name","estadoCivil","id","estadoCivil","readonly","","disabled","",1,"form-control",3,"ngModel"],[1,"form-group","col-lg-3","col-md-3","col-sm-6","col-6"],["for","cpf"],["type","text","name","cpf","id","cpf","mask","000.000.000-00","placeholder","000.000.000-00","readonly","","disabled","",1,"form-control",3,"ngModel"],["for","rg"],["type","text","name","rg","id","rg","mask","00.000.000-0","placeholder","00.000.000-0","readonly","","disabled","",1,"form-control",3,"ngModel"],[1,"form-group","col-lg-4","col-md-4","col-sm-6","col-6"],["for","dataNascimento"],["type","date","name","dataNascimento","id","dataNascimento","readonly","","disabled","",1,"form-control",3,"ngModel"],[1,"form-group","col-lg-2","col-md-2","col-sm-6","col-6"],["for","idade"],["type","text","name","idade","id","idade","mask","0*","suffix"," anos","readonly","","disabled","",1,"form-control","form-control-number",3,"ngModel"],[1,"form-group","col-lg-12","col-md-12","col-sm-12"],["for","email"],["type","text","name","email","id","email","readonly","","disabled","",1,"form-control",3,"ngModel"],[1,"col-lg-6","col-md-6","col-sm-12","col-12","pl-0","pr-0"],[1,"home__container"],[1,"form-group","col-lg-6","col-md-6","col-sm-12","d-lg-block","d-md-block"],["for","receita"],["type","text","id","receita","name","receita","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","","disabled","",1,"form-control",3,"ngModel"],[1,"form-group","col-lg-6","col-md-6","col-sm-12"],["for","despesa"],["type","text","id","despesa","name","despesa","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","","disabled","",1,"form-control",3,"ngModel"],[1,"col-lg-6","col-md-6","col-sm-12","col-12","pr-0","pl-0"],["for","taxaSelic"],["type","text","id","taxaSelic","name","taxaSelic","mask","separator","thousandSeparator",".","decimalMarker",",","suffix","%","readonly","","disabled","",1,"form-control",3,"ngModel"],["for","taxaIpca"],["type","text","id","taxaIpca","name","taxaIpca","mask","separator","thousandSeparator",".","decimalMarker",",","suffix","%","readonly","","disabled","",1,"form-control",3,"ngModel"],[1,"home__container-header","mb-4"],[1,"col-lg-6","col-md-6","col-sm-12","col-12","px-0"],[1,"form-container"],[1,"form-container-title","font-weight-bold"],[1,"form-container-body"],[1,"form-group","col-lg-6","col-md-6","col-sm-6","pr-1"],["for","rE_Sugerido"],["type","text","id","rE_Sugerido","name","rE_Sugerido","mask","separator.5","thousandSeparator",".","decimalMarker",",","placeholder","R$ 00,00","prefix","R$ ","readonly","","disabled","",1,"form-control","form-control-number",3,"ngModel"],[1,"form-group","col-lg-6","col-md-6","col-sm-6","pr-0"],["for","rE_Planejado"],["type","text","id","rE_Planejado","name","rE_Planejado","mask","separator.5","thousandSeparator",".","decimalMarker",",","placeholder","R$ 00,00","prefix","R$ ","readonly","","disabled","",1,"form-control","form-control-number",3,"ngModel"],[1,"form-container","mb-0"],["for","riscoAssumido"],["type","text","id","riscoAssumido","name","riscoAssumido","mask","separator.5","thousandSeparator",".","decimalMarker",",","placeholder","R$ 00,00","suffix","%","readonly","","disabled","",1,"form-control","form-control-number",3,"ngModel"],["for","riscoTolerado"],["type","text","id","riscoTolerado","name","riscoTolerado","mask","separator.5","thousandSeparator",".","decimalMarker",",","placeholder","R$ 00,00","suffix","%","suffix","%","readonly","","disabled","",1,"form-control","form-control-number",3,"ngModel"],[1,"col-lg-4","col-md-4","col-sm-12","col-12"],["for","descricao"],["type","text","name","descricao","id","descricao","readonly","","disabled","",1,"form-control",3,"ngModel"],["for","account"],[1,"text-danger"],["type","text","class","form-control","id","account","name","account","readonly","","disabled","",3,"ngModel","ngModelChange",4,"ngIf"],[1,"home__container","table-responsive","mb-2"],[1,"table","table-editable","w-100","d-md-table","d-sm-table","mb-0"],[1,"primary"],[1,"bg-light","px-3","text-right",2,"white-space","nowrap"],["type","text","id","idadeAposentadoria","name","idadeAposentadoria","mask","0*","suffix"," anos","readonly","","disabled","",1,"form-control","form-control-number",3,"ngModel"],["type","text","id","rendaMensalAposentadoria","name","rendaMensalAposentadoria","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ","placeholder","R$ 00,00","readonly","","disabled","",1,"form-control","form-control-number",3,"ngModel"],["type","text","id","rentabilidadeAposentadoria","name","rentabilidadeAposentadoria","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%","placeholder","0,00%","readonly","","disabled","",1,"form-control","form-control-number",3,"ngModel"],[1,"table","table-editable","w-100","mb-0"],["colspan","3",1,"pl-4"],[1,"text-center","d-flex","align-items-center"],[1,"subheader"],[1,"pl-4"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-lg-12","col-md-12","col-sm-12","col-12"],[1,"table","table-editable","table-responsive"],[2,"white-space","nowrap"],[1,"px-3","bg-light","text-right"],["type","text","id","sugestao_Baixissimo","name","sugestao_Baixissimo","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","","disabled","",1,"form-control",3,"ngModel"],["type","text","id","sugestao_Baixo","name","sugestao_Baixo","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","","disabled","",1,"form-control",3,"ngModel"],["type","text","id","sugestao_Moderado","name","sugestao_Moderado","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","","disabled","",1,"form-control",3,"ngModel"],["type","text","id","sugestao_Arrojado","name","sugestao_Arrojado","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","","disabled","",1,"form-control",3,"ngModel"],["type","text","id","sugestao_SuperArrojado","name","sugestao_SuperArrojado","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","","disabled","",1,"form-control",3,"ngModel"],["type","text","id","sugestao_Hedge","name","sugestao_Hedge","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","","disabled","",1,"form-control",3,"ngModel"],["type","text","id","sugestao_Total","name","sugestao_Total","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","","disabled","",1,"form-control",3,"ngModel"],["type","text","id","plano_Baixissimo","name","plano_Baixissimo","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","","disabled","",1,"form-control",3,"ngModel"],["type","text","id","plano_Baixo","name","plano_Baixo","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","","disabled","",1,"form-control",3,"ngModel"],["type","text","id","plano_Moderado","name","plano_Moderado","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","","disabled","",1,"form-control",3,"ngModel"],["type","text","id","plano_Arrojado","name","plano_Arrojado","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","","disabled","",1,"form-control",3,"ngModel"],["type","text","id","plano_SuperArrojado","name","plano_SuperArrojado","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","","disabled","",1,"form-control",3,"ngModel"],["type","text","id","plano_Hedge","name","plano_Hedge","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","","disabled","",1,"form-control",3,"ngModel"],["type","text","id","plano_Total","name","plano_Total","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","","disabled","",1,"form-control",3,"ngModel"],[1,"home__container-header","mb-2","position-relative"],["responsiveLayout","scroll","emptyMessage","Nenhum registro",1,"table","table-editable",3,"value","responsive"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],["pTemplate","emptymessage"],[1,"d-flex","justify-content-end","align-items-center","w-100"],[1,"d-flex","align-items-center","col-lg-4","col-md-6","col-sm-8","col-8","px-0"],["type","text","name","carteirasSetup","id","carteirasSetup","readonly","","disabled","",1,"form-control","bg-white","ms-2",3,"ngModel"],[1,"w-100"],[1,"w-100","d-flex","flex-wrap","my-2"],[1,"d-flex","align-items-center","me-2"],["type","checkbox","hidden","","id","custosTaxas","name","custosTaxas",3,"ngModel","ngModelChange"],["custosTaxas","ngModel"],["for","custosTaxas",1,"d-block","py-1","px-2",2,"cursor","pointer"],["type","checkbox","hidden","","id","rentabLiquida","name","rentabLiquida",3,"ngModel","ngModelChange"],["rentabLiquida","ngModel"],["for","rentabLiquida",1,"d-block","py-1","px-2",2,"cursor","pointer"],["type","checkbox","hidden","","id","rentabBruta","name","rentabBruta",3,"ngModel","ngModelChange"],["rentabBruta","ngModel"],["for","rentabBruta",1,"d-block","py-1","px-2",2,"cursor","pointer"],["type","checkbox","hidden","","id","montanteSugerido","name","montanteSugerido",3,"ngModel","ngModelChange"],["montanteSugerido","ngModel"],["for","montanteSugerido",1,"d-block","py-1","px-2",2,"cursor","pointer"],["type","checkbox","hidden","","id","planoAcao","name","planoAcao",3,"ngModel","ngModelChange"],["planoAcao","ngModel"],["for","planoAcao",1,"d-block","py-1","px-2",2,"cursor","pointer"],["type","checkbox","hidden","","id","percentual","name","percentual",3,"ngModel","ngModelChange"],["percentual","ngModel"],["for","percentual",1,"d-block","py-1","px-2",2,"cursor","pointer"],["responsiveLayout","scroll","emptyMessage","Nenhum registro","columnResizeMode","expand",1,"table","table-editable",3,"value","responsive","resizableColumns"],[1,"form-row","table-responsive","mb-2"],[1,"table","table-editable","mb-0"],["colspan","6",1,"text-center","p-2"],[1,""],["colspan","2",1,"text-right","primary"],[1,"p-0"],["type","text","id","solucao_montante_Atual","name","solucao_montante_Atual","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","","disabled","",1,"form-control","form-control-solucaoInicial",3,"ngModel"],["colspan","2",1,"p-0"],["type","text","id","solucao_riscoAssumido_Atual","name","solucao_riscoAssumido_Atual","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%","readonly","","disabled","",1,"form-control","form-control-solucaoInicial",3,"ngModel"],[1,"text-right",2,"white-space","nowrap"],[1,"px-3","bg-light","text-right",2,"white-space","nowrap"],["type","text","id","solucao_rentabilidade_Atual","name","solucao_rentabilidade_Atual","mask","separator.2","thousandSeparator",".","decimalMarker",",","suffix","%","readonly","","disabled","",1,"form-control",3,"ngModel"],["type","text","id","solucao_retornoAnual_Atual","name","solucao_retornoAnual_Atual","mask","separator.2","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","","disabled","",1,"form-control",3,"ngModel"],["type","text","id","solucao_retornoMensal_Atual","name","solucao_retornoMensal_Atual","mask","separator.2","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","","disabled","",1,"form-control",3,"ngModel"],["type","text","id","solucao_plMax_Atual","name","solucao_plMax_Atual","mask","separator.2","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","","disabled","",1,"form-control",3,"ngModel"],["type","text","id","solucao_idadeMax_Atual","name","solucao_idadeMax_Atual","mask","separator.2","thousandSeparator",".","decimalMarker",",","readonly","","disabled","",1,"form-control",3,"ngModel"],["type","text","id","solucao_rentabilidade_Sugerida","name","solucao_rentabilidade_Sugerida","mask","separator.2","thousandSeparator",".","decimalMarker",",","suffix","%","readonly","","disabled","",1,"form-control",3,"ngModel"],["type","text","id","solucao_retornoAnual_Sugerido","name","solucao_retornoAnual_Sugerido","mask","separator.2","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","","disabled","",1,"form-control",3,"ngModel"],["type","text","id","solucao_retornoMensal_Sugerido","name","solucao_retornoMensal_Sugerido","mask","separator.2","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","","disabled","",1,"form-control",3,"ngModel"],["type","text","id","solucao_plMax_Sugerido","name","solucao_plMax_Sugerido","mask","separator.2","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","","disabled","",1,"form-control",3,"ngModel"],["type","text","id","solucao_idadeMax_Sugerido","name","solucao_idadeMax_Sugerido","mask","separator.2","thousandSeparator",".","decimalMarker",",","readonly","","disabled","",1,"form-control",3,"ngModel"],["type","text","id","solucao_rentabilidade_Diferenca","name","solucao_rentabilidade_Diferenca","mask","separator.2","thousandSeparator",".","decimalMarker",",","suffix","%","readonly","","disabled","",1,"form-control",3,"ngModel"],["type","text","id","solucao_retornoAnual_Diferenca","name","solucao_retornoAnual_Diferenca","mask","separator.2","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","","disabled","",1,"form-control",3,"ngModel"],["type","text","id","solucao_retornoMensal_Diferenca","name","solucao_retornoMensal_Diferenca","mask","separator.2","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","","disabled","",1,"form-control",3,"ngModel"],[1,"border-primary","border-left","border-top"],["type","text","id","solucao_plMax_Diferenca","name","solucao_plMax_Diferenca","mask","separator.2","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","","disabled","",1,"form-control",3,"ngModel"],[1,"border-primary","border"],["type","text","id","solucao_idadeMax_Diferenca","name","solucao_idadeMax_Diferenca","mask","separator.2","thousandSeparator",".","decimalMarker",",","readonly","","disabled","",1,"form-control",3,"ngModel"],["colspan","2",1,"px-3","bg-light","text-center",2,"white-space","nowrap"],[1,"px-3","bg-light","text-left"],[3,"icon"],[1,"border-primary","border-left","border-bottom"],["type","text","id","solucao_pL_Desempenho","name","solucao_pL_Desempenho","mask","separator.2","thousandSeparator",".","decimalMarker",",","suffix","%","readonly","","disabled","",1,"form-control","h2","mb-0","font-weight-bold",2,"font-size","20px",3,"ngModel"],["type","text","id","solucao_idade_Desempenho","name","solucao_idade_Desempenho","mask","separator.2","thousandSeparator",".","decimalMarker",",","readonly","","disabled","",1,"form-control","h2","mb-0","font-weight-bold",2,"font-size","20px",3,"ngModel"],["class","form-row mb-2",4,"ngIf"],["type","text","id","account","name","account","readonly","","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["_account","ngModel"],["type","text","mask","0*","suffix"," anos","readonly","","disabled","",1,"form-control","form-control-number",3,"id","name","ngModel"],["type","text","mask","separator.5","thousandSeparator",".","decimalMarker",",","placeholder","R$ 00,00","prefix","R$ ","readonly","","disabled","",1,"form-control","form-control-number",3,"id","name","ngModel"],[1,"text-center"],["colspan","3",1,"py-2","pl-4","text-grey"],[1,"text-right","px-3","pe-0"],[1,"text-left","px-3","ps-1","position-sticky"],[1,"px-3","pe-0","bg-light","text-right"],[1,"px-3","ps-1","bg-light","text-left","position-sticky"],["suffix","%",3,"valueInput","inputId","mask","min","max","showErrorMessage","allowNegativeNumbers","required","autoReplaceValue","readonly","disabled","valueChanges"],["suffix","%",3,"valueInput","inputId","mask","min","max","showErrorMessage","allowNegativeNumbers","readonly","disabled","autoReplaceValue","valueChanges"],[3,"title"],["prefix","R$ ",3,"valueInput","inputId","mask","min","required","showErrorMessage","allowNegativeNumbers","autoReplaceValue","readonly","disabled","valueChanges"],[1,"td-actions"],["class","bg-light",3,"bg-danger",4,"ngIf"],[1,"bg-light"],[1,"px-3","bg-light","text-right","position-sticky",2,"white-space","nowrap"],["prefix","R$ ",3,"valueInput","inputId","mask","required","showErrorMessage","readonly","disabled","autoReplaceValue"],[1,"py-2","px-2","text-grey"],["pResizableColumn","",1,"text-right","px-3","pe-0"],["pResizableColumn","",1,"text-left","px-3","ps-1","position-sticky"],["pResizableColumn","",4,"ngIf"],["pResizableColumn",""],["pResizableColumn","",1,"px-3","pe-0","bg-light","text-right"],["pResizableColumn","",1,"px-3","ps-1","bg-light","text-left","position-sticky"],["pResizableColumn","",3,"title",4,"ngIf"],["suffix","%",3,"valueInput","inputId","mask","min","max","required","showErrorMessage","allowNegativeNumbers","autoReplaceValue","readonly","disabled","valueChanges",4,"ngIf"],["class","d-block w-100 text-center",4,"ngIf"],["suffix","%",3,"valueInput","inputId","mask","min","max","required","showErrorMessage","allowNegativeNumbers","autoReplaceValue","readonly","disabled","valueChanges"],[1,"d-block","w-100","text-center"],["suffix","%",3,"valueInput","inputId","mask","min","max","showErrorMessage","allowNegativeNumbers","readonly","disabled","autoReplaceValue","valueChanges",4,"ngIf"],["pResizableColumn","",3,"title"],["prefix","R$ ",3,"valueInput","inputId","mask","min","showErrorMessage","allowNegativeNumbers","readonly","disabled","autoReplaceValue","valueChanges"],["prefix","R$ ",3,"valueInput","inputId","mask","min","required","showErrorMessage","allowNegativeNumbers","readonly","disabled","autoReplaceValue","valueChanges"],[3,"title",4,"ngIf"],["prefix","R$ ",3,"valueInput","inputId","mask","required","showErrorMessage","readonly","disabled","autoReplaceValue","valueChanges"],["suffix","%",3,"valueInput","inputId","mask","required","showErrorMessage","readonly","disabled","autoReplaceValue","valueChanges"],["colspan","4"],["prefix","R$ ",3,"valueInput","inputId","mask","required","showErrorMessage","readonly","disabled","allowNegativeNumbers","autoReplaceValue","valueChanges"],["suffix","%",3,"valueInput","inputId","mask","required","showErrorMessage","readonly","disabled","allowNegativeNumbers","autoReplaceValue","valueChanges"],[2,"width","100%",3,"planner"],["investimentoGraficos",""]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),e.NdJ("click",function(){return n.voltar()}),e._UZ(4,"fa-icon",4),e._uU(5," Voltar "),e.qZA()(),e.TgZ(6,"h3",5),e._uU(7,"Planner"),e.qZA()(),e.TgZ(8,"div",6)(9,"form",7,8)(11,"div",9)(12,"div",10)(13,"div",9)(14,"div",11)(15,"div",12)(16,"h6"),e._uU(17,"Dados Cadastrais"),e.qZA()(),e.TgZ(18,"div",13)(19,"div",14)(20,"label",15),e._uU(21,"Nome Completo:"),e.qZA(),e._UZ(22,"input",16),e.qZA(),e.TgZ(23,"div",17)(24,"label",18),e._uU(25,"Perfil de Investidor:"),e.qZA(),e._UZ(26,"input",19),e.qZA(),e.TgZ(27,"div",20)(28,"label",21),e._uU(29,"Estado Civil:"),e.qZA(),e._UZ(30,"input",22),e.qZA()(),e.TgZ(31,"div",13)(32,"div",23)(33,"label",24),e._uU(34,"CPF:"),e.qZA(),e._UZ(35,"input",25),e.qZA(),e.TgZ(36,"div",23)(37,"label",26),e._uU(38,"RG:"),e.qZA(),e._UZ(39,"input",27),e.qZA(),e.TgZ(40,"div",28)(41,"label",29),e._uU(42,"Data de Nascimento:"),e.qZA(),e._UZ(43,"input",30),e.qZA(),e.TgZ(44,"div",31)(45,"label",32),e._uU(46,"Idade:"),e.qZA(),e._UZ(47,"input",33),e.qZA()(),e.TgZ(48,"div",13)(49,"div",34)(50,"label",35),e._uU(51,"E-mail:"),e.qZA(),e._UZ(52,"input",36),e.qZA()()()(),e.TgZ(53,"div",9)(54,"div",37)(55,"div",38)(56,"div",12)(57,"h6"),e._uU(58,"Valores"),e.qZA()(),e.TgZ(59,"div",13)(60,"div",39)(61,"label",40),e._uU(62,"Receita:"),e.qZA(),e._UZ(63,"input",41),e.qZA(),e.TgZ(64,"div",42)(65,"label",43),e._uU(66,"Despesas:"),e.qZA(),e._UZ(67,"input",44),e.qZA()()()(),e.TgZ(68,"div",45)(69,"div",38)(70,"div",12)(71,"h6"),e._uU(72,"Taxas"),e.qZA()(),e.TgZ(73,"div",13)(74,"div",39)(75,"label",46),e._uU(76,"Taxa Selic:"),e.qZA(),e._UZ(77,"input",47),e.qZA(),e.TgZ(78,"div",42)(79,"label",48),e._uU(80,"Taxa IPCA:"),e.qZA(),e._UZ(81,"input",49),e.qZA()()()()(),e.TgZ(82,"div",9)(83,"div",11)(84,"div",50)(85,"h6"),e._uU(86,"Capacidade de Risco"),e.qZA()(),e.TgZ(87,"div",13)(88,"div",51)(89,"div",52)(90,"div",53),e._uU(91,"Reserva de Emerg\xeancia"),e.qZA(),e.TgZ(92,"div",54)(93,"div",55)(94,"label",56),e._uU(95," Sugerida:"),e.qZA(),e._UZ(96,"input",57),e.qZA(),e.TgZ(97,"div",58)(98,"label",59),e._uU(99," Planejada:"),e.qZA(),e._UZ(100,"input",60),e.qZA()()()(),e.TgZ(101,"div",51)(102,"div",61)(103,"div",53),e._uU(104,"Risco"),e.qZA(),e.TgZ(105,"div",54)(106,"div",55)(107,"label",62),e._uU(108," Assumido:"),e.qZA(),e._UZ(109,"input",63),e.qZA(),e.TgZ(110,"div",58)(111,"label",64),e._uU(112," Tolerado:"),e.qZA(),e._UZ(113,"input",65),e.qZA()()()()()()()(),e.TgZ(114,"div",66)(115,"div",9)(116,"div",11)(117,"div",12)(118,"h6"),e._uU(119,"Descri\xe7\xe3o"),e.qZA()(),e.TgZ(120,"div",13)(121,"div",34)(122,"label",67),e._uU(123,"Observa\xe7\xf5es do planner:"),e.qZA(),e.TgZ(124,"textarea",68),e._uU(125,"                                        "),e.qZA()()()()(),e.TgZ(126,"div",9)(127,"div",11)(128,"div",12)(129,"h6"),e._uU(130,"Analista respons\xe1vel"),e.qZA()(),e.TgZ(131,"div",13)(132,"div",34)(133,"label",69),e._uU(134,"Analista respons\xe1vel: "),e.TgZ(135,"span",70),e._uU(136,"*"),e.qZA()(),e.YNc(137,ua,2,1,"input",71),e.qZA()()()(),e.TgZ(138,"div",9)(139,"div",72)(140,"table",73)(141,"thead",74)(142,"tr"),e._UZ(143,"th"),e.TgZ(144,"th"),e._uU(145,"Aposentadoria"),e.qZA()()(),e.TgZ(146,"tbody")(147,"tr")(148,"td",75)(149,"small")(150,"b"),e._uU(151,"Idade"),e.qZA()()(),e.TgZ(152,"td"),e._UZ(153,"input",76),e.qZA()(),e.TgZ(154,"tr")(155,"td",75)(156,"small")(157,"b"),e._uU(158,"Renda Mensal"),e.qZA()()(),e.TgZ(159,"td"),e._UZ(160,"input",77),e.qZA()(),e.TgZ(161,"tr")(162,"td",75)(163,"small")(164,"b"),e._uU(165,"Rentabilidade"),e.qZA()()(),e.TgZ(166,"td"),e._UZ(167,"input",78),e.qZA()()()()()(),e.TgZ(168,"div",9)(169,"div",72)(170,"table",79)(171,"thead",74)(172,"tr")(173,"th",80)(174,"p",81),e._uU(175," Fluxos Pontuais "),e.qZA()()(),e.TgZ(176,"tr",82)(177,"th",83),e._uU(178,"Idade"),e.qZA(),e.TgZ(179,"th"),e._uU(180,"Valor"),e.qZA(),e._UZ(181,"th"),e.qZA()(),e.TgZ(182,"tbody"),e.YNc(183,ca,6,6,"tr",84),e.YNc(184,ma,3,0,"tr",85),e.qZA()()()()(),e.TgZ(185,"div",86)(186,"div",9)(187,"div",38)(188,"div",12)(189,"h6"),e._uU(190,"C\xe1lculos"),e.qZA()(),e.TgZ(191,"div",13)(192,"table",87)(193,"thead",74)(194,"tr"),e._UZ(195,"th"),e.TgZ(196,"th"),e._uU(197,"Baix\xedssimo"),e.qZA(),e.TgZ(198,"th"),e._uU(199,"Baixo"),e.qZA(),e.TgZ(200,"th"),e._uU(201,"Moderado"),e.qZA(),e.TgZ(202,"th"),e._uU(203,"Arrojado"),e.qZA(),e.TgZ(204,"th",88),e._uU(205,"Super Arrojado"),e.qZA(),e.TgZ(206,"th"),e._uU(207,"Hedge"),e.qZA(),e.TgZ(208,"th"),e._uU(209,"Total"),e.qZA()()(),e.TgZ(210,"tbody")(211,"tr")(212,"td",89)(213,"small")(214,"b"),e._uU(215,"Sugest\xe3o"),e.qZA()()(),e.TgZ(216,"td"),e._UZ(217,"input",90),e.qZA(),e.TgZ(218,"td"),e._UZ(219,"input",91),e.qZA(),e.TgZ(220,"td"),e._UZ(221,"input",92),e.qZA(),e.TgZ(222,"td"),e._UZ(223,"input",93),e.qZA(),e.TgZ(224,"td"),e._UZ(225,"input",94),e.qZA(),e.TgZ(226,"td"),e._UZ(227,"input",95),e.qZA(),e.TgZ(228,"td"),e._UZ(229,"input",96),e.qZA()(),e.TgZ(230,"tr")(231,"td",89)(232,"small")(233,"b"),e._uU(234,"Plano"),e.qZA()()(),e.TgZ(235,"td"),e._UZ(236,"input",97),e.qZA(),e.TgZ(237,"td"),e._UZ(238,"input",98),e.qZA(),e.TgZ(239,"td"),e._UZ(240,"input",99),e.qZA(),e.TgZ(241,"td"),e._UZ(242,"input",100),e.qZA(),e.TgZ(243,"td"),e._UZ(244,"input",101),e.qZA(),e.TgZ(245,"td"),e._UZ(246,"input",102),e.qZA(),e.TgZ(247,"td"),e._UZ(248,"input",103),e.qZA()()()()()()(),e.TgZ(249,"div",9)(250,"div",38)(251,"div",104)(252,"h6"),e._uU(253,"Investimentos"),e.qZA()(),e.TgZ(254,"div",13)(255,"p-table",105),e.YNc(256,_a,14,0,"ng-template",106),e.YNc(257,ga,19,45,"ng-template",107),e.YNc(258,fa,1,1,"ng-template",108),e.YNc(259,va,5,1,"ng-template",109),e.qZA()()()(),e.TgZ(260,"div",9)(261,"div",38)(262,"div",12)(263,"h6"),e._uU(264,"Produtos"),e.qZA(),e.TgZ(265,"div",110)(266,"div",111)(267,"span",88),e._uU(268,"Carteira Setup: "),e.qZA(),e._UZ(269,"input",112),e.qZA()()(),e.TgZ(270,"div",13)(271,"div",113)(272,"div",114)(273,"div",115)(274,"input",116,117),e.NdJ("ngModelChange",function(i){return n.colsProdutos.custosTaxas=i}),e.qZA(),e.TgZ(276,"label",118)(277,"small"),e._uU(278,"Custos/Taxas"),e.qZA()()(),e.TgZ(279,"div",115)(280,"input",119,120),e.NdJ("ngModelChange",function(i){return n.colsProdutos.rentabLiquida=i}),e.qZA(),e.TgZ(282,"label",121)(283,"small"),e._uU(284,"Rentab. Liquida"),e.qZA()()(),e.TgZ(285,"div",115)(286,"input",122,123),e.NdJ("ngModelChange",function(i){return n.colsProdutos.rentabBruta=i}),e.qZA(),e.TgZ(288,"label",124)(289,"small"),e._uU(290,"Rentab. Bruta"),e.qZA()()(),e.TgZ(291,"div",115)(292,"input",125,126),e.NdJ("ngModelChange",function(i){return n.colsProdutos.montanteSugerido=i}),e.qZA(),e.TgZ(294,"label",127)(295,"small"),e._uU(296,"Montante Sugerido"),e.qZA()()(),e.TgZ(297,"div",115)(298,"input",128,129),e.NdJ("ngModelChange",function(i){return n.colsProdutos.planoAcao=i}),e.qZA(),e.TgZ(300,"label",130)(301,"small"),e._uU(302,"Plano A\xe7\xe3o"),e.qZA()()(),e.TgZ(303,"div",115)(304,"input",131,132),e.NdJ("ngModelChange",function(i){return n.colsProdutos.percentual=i}),e.qZA(),e.TgZ(306,"label",133)(307,"small"),e._uU(308,"Percentual"),e.qZA()()()()(),e.TgZ(309,"p-table",134),e.YNc(310,Ta,12,6,"ng-template",106),e.YNc(311,Qa,17,8,"ng-template",107),e.YNc(312,Ga,2,2,"ng-template",108),e.YNc(313,Ba,5,1,"ng-template",109),e.qZA()()()(),e.TgZ(314,"div",9)(315,"div",38)(316,"div",12)(317,"h6"),e._uU(318,"Solu\xe7\xe3o Inicial"),e.qZA()(),e.TgZ(319,"div",135)(320,"table",136)(321,"thead")(322,"tr",74)(323,"th",137)(324,"h6"),e._uU(325,"Agregando Valor"),e.qZA()()(),e.TgZ(326,"tr",138)(327,"th",139),e._uU(328,"Montante Total"),e.qZA(),e.TgZ(329,"th",140),e._UZ(330,"input",141),e.qZA(),e.TgZ(331,"th",74),e._uU(332,"Exposi\xe7\xe3o a Risco"),e.qZA(),e.TgZ(333,"th",142),e._UZ(334,"input",143),e.qZA()(),e.TgZ(335,"tr",74)(336,"th",144),e._uU(337,"Carteira"),e.qZA(),e.TgZ(338,"th",88),e._uU(339,"Rentabilidade Anual"),e.qZA(),e.TgZ(340,"th",88),e._uU(341,"Retorno Anual"),e.qZA(),e.TgZ(342,"th",88),e._uU(343,"Retorno Mensal"),e.qZA(),e.TgZ(344,"th",88),e._uU(345,"Patrim\xf4nio M\xe1ximo"),e.qZA(),e.TgZ(346,"th",88),e._uU(347,"Tempo "),e.TgZ(348,"small"),e._uU(349,"(anos)"),e.qZA()()()(),e.TgZ(350,"tbody")(351,"tr")(352,"td",145)(353,"small"),e._uU(354,"Atual"),e.qZA()(),e.TgZ(355,"td"),e._UZ(356,"input",146),e.qZA(),e.TgZ(357,"td"),e._UZ(358,"input",147),e.qZA(),e.TgZ(359,"td"),e._UZ(360,"input",148),e.qZA(),e.TgZ(361,"td"),e._UZ(362,"input",149),e.qZA(),e.TgZ(363,"td"),e._UZ(364,"input",150),e.qZA()(),e.TgZ(365,"tr")(366,"td",145)(367,"small"),e._uU(368,"Sugerida"),e.qZA()(),e.TgZ(369,"td"),e._UZ(370,"input",151),e.qZA(),e.TgZ(371,"td"),e._UZ(372,"input",152),e.qZA(),e.TgZ(373,"td"),e._UZ(374,"input",153),e.qZA(),e.TgZ(375,"td"),e._UZ(376,"input",154),e.qZA(),e.TgZ(377,"td"),e._UZ(378,"input",155),e.qZA()(),e.TgZ(379,"tr")(380,"td",145)(381,"small"),e._uU(382,"Diferen\xe7a"),e.qZA()(),e.TgZ(383,"td"),e._UZ(384,"input",156),e.qZA(),e.TgZ(385,"td"),e._UZ(386,"input",157),e.qZA(),e.TgZ(387,"td"),e._UZ(388,"input",158),e.qZA(),e.TgZ(389,"td",159),e._UZ(390,"input",160),e.qZA(),e.TgZ(391,"td",161),e._UZ(392,"input",162),e.qZA()(),e.TgZ(393,"tr"),e._UZ(394,"td",145),e.TgZ(395,"td",163)(396,"span")(397,"b"),e._uU(398,"Melhoria de Desempenho"),e.qZA()()(),e.TgZ(399,"td",164)(400,"span"),e._UZ(401,"fa-icon",165),e.qZA()(),e.TgZ(402,"td",166),e._UZ(403,"input",167),e.qZA(),e.TgZ(404,"td",161),e._UZ(405,"input",168),e.qZA()()()()()()(),e.YNc(406,Ha,2,1,"div",169),e.YNc(407,za,3,1,"div",169),e.qZA()()()()()),2&t){const o=e.MAs(275),i=e.MAs(281),r=e.MAs(287),s=e.MAs(293),d=e.MAs(299),h=e.MAs(305);e.xp6(4),e.Q6J("icon",n.faChevronLeft),e.xp6(18),e.Q6J("ngModel",n.planner.cliente.nome),e.xp6(4),e.Q6J("ngModel",null==n.planner.cliente.perfilInvestidor?null:n.planner.cliente.perfilInvestidor.descricao),e.xp6(4),e.Q6J("ngModel",null==n.planner.cliente.estadoCivil?null:n.planner.cliente.estadoCivil.descricao),e.xp6(5),e.Q6J("ngModel",n.planner.cliente.cpf),e.xp6(4),e.Q6J("ngModel",n.planner.cliente.rg),e.xp6(4),e.Q6J("ngModel",n.planner.cliente.dataNascimento),e.xp6(4),e.Q6J("ngModel",n.planner.cliente.idade),e.xp6(5),e.Q6J("ngModel",n.planner.cliente.email),e.xp6(11),e.Q6J("ngModel",n.planner.cliente.receita),e.xp6(4),e.Q6J("ngModel",n.planner.cliente.despesa),e.xp6(10),e.Q6J("ngModel",n.planner.taxaSelic),e.xp6(4),e.Q6J("ngModel",n.planner.taxaIpca),e.xp6(15),e.Q6J("ngModel",n.planner.rE_Sugerido),e.xp6(4),e.Q6J("ngModel",n.planner.rE_Planejado),e.xp6(9),e.Q6J("ngModel",n.planner.riscoAssumido),e.xp6(4),e.Q6J("ngModel",n.planner.riscoTolerado),e.xp6(11),e.Q6J("ngModel",n.planner.descricao),e.xp6(13),e.Q6J("ngIf",3==(null==n.account?null:n.account.perfilAcesso_Id)),e.xp6(16),e.Q6J("ngModel",n.planner.cliente.idadeAposentadoria),e.xp6(7),e.Q6J("ngModel",n.planner.cliente.rendaMensalAposentadoria),e.xp6(7),e.Q6J("ngModel",n.planner.cliente.rentabilidadeAposentadoria),e.xp6(16),e.Q6J("ngForOf",n.planner.planejamentoFluxosPontuais),e.xp6(1),e.Q6J("ngIf",0==n.planner.planejamentoFluxosPontuais.length),e.xp6(33),e.Q6J("ngModel",n.planner.sugestao_Baixissimo),e.xp6(2),e.Q6J("ngModel",n.planner.sugestao_Baixo),e.xp6(2),e.Q6J("ngModel",n.planner.sugestao_Moderado),e.xp6(2),e.Q6J("ngModel",n.planner.sugestao_Arrojado),e.xp6(2),e.Q6J("ngModel",n.planner.sugestao_SuperArrojado),e.xp6(2),e.Q6J("ngModel",n.planner.sugestao_Hedge),e.xp6(2),e.Q6J("ngModel",n.planner.sugestao_Total),e.xp6(7),e.Q6J("ngModel",n.planner.plano_Baixissimo),e.xp6(2),e.Q6J("ngModel",n.planner.plano_Baixo),e.xp6(2),e.Q6J("ngModel",n.planner.plano_Moderado),e.xp6(2),e.Q6J("ngModel",n.planner.plano_Arrojado),e.xp6(2),e.Q6J("ngModel",n.planner.plano_SuperArrojado),e.xp6(2),e.Q6J("ngModel",n.planner.plano_Hedge),e.xp6(2),e.Q6J("ngModel",n.planner.plano_Total),e.xp6(7),e.Q6J("value",n.planner.planejamentoInvestimento)("responsive",!0),e.xp6(14),e.Q6J("ngModel",n.planner.carteiraSetup.nome),e.xp6(5),e.Q6J("ngModel",n.colsProdutos.custosTaxas),e.xp6(2),e.ekj("bg-dark",o.value)("text-white",o.value)("bg-light",!o.value),e.xp6(4),e.Q6J("ngModel",n.colsProdutos.rentabLiquida),e.xp6(2),e.ekj("bg-dark",i.value)("text-white",i.value)("bg-light",!i.value),e.xp6(4),e.Q6J("ngModel",n.colsProdutos.rentabBruta),e.xp6(2),e.ekj("bg-dark",r.value)("text-white",r.value)("bg-light",!r.value),e.xp6(4),e.Q6J("ngModel",n.colsProdutos.montanteSugerido),e.xp6(2),e.ekj("bg-dark",s.value)("text-white",s.value)("bg-light",!s.value),e.xp6(4),e.Q6J("ngModel",n.colsProdutos.planoAcao),e.xp6(2),e.ekj("bg-dark",d.value)("text-white",d.value)("bg-light",!d.value),e.xp6(4),e.Q6J("ngModel",n.colsProdutos.percentual),e.xp6(2),e.ekj("bg-dark",h.value)("text-white",h.value)("bg-light",!h.value),e.xp6(3),e.Q6J("value",n.planner.planejamentoProduto)("responsive",!0)("resizableColumns",!0),e.xp6(21),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.montante),e.xp6(4),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.riscoAssumido),e.xp6(22),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.rentabilidade_Atual),e.xp6(2),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.retornoAnual_Atual),e.xp6(2),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.retornoMensal_Atual),e.xp6(2),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.plMax_Atual),e.xp6(2),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.idadeMax_Atual),e.xp6(6),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.rentabilidade_Sugerida),e.xp6(2),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.retornoAnual_Sugerido),e.xp6(2),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.retornoMensal_Sugerido),e.xp6(2),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.plMax_Sugerido),e.xp6(2),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.idadeMax_Sugerido),e.xp6(6),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.rentabilidade_Diferenca),e.xp6(2),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.retornoAnual_Diferenca),e.xp6(2),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.retornoMensal_Diferenca),e.xp6(2),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.plMax_Diferenca),e.xp6(2),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.idadeMax_Diferenca),e.xp6(9),e.Q6J("icon",n.faArrowRight),e.xp6(2),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.pL_Desempenho),e.xp6(2),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.idade_Desempenho),e.xp6(1),e.Q6J("ngIf",n.planner.planejamentoGrafico.length>0),e.xp6(1),e.Q6J("ngIf",n.planner.planejamentoProduto.length>0||n.planner.planejamentoInvestimento.length>0)}},dependencies:[f.sg,f.O5,g._Y,g.Fj,g.Wl,g.JJ,g.JL,g.On,g.F,S.BN,B.hx,k.iA,D.jx,k.Q7,G.l,me,ge],styles:[".form-control-solucaoInicial[_ngcontent-%COMP%], .form-control-solucaoInicial[_ngcontent-%COMP%]:focus, .form-control-solucaoInicial[_ngcontent-%COMP%]:hover, .form-control-solucaoInicial[_ngcontent-%COMP%]:hover:focus{background-color:var(--primary)!important;border-radius:0;color:#fff!important;outline:none!important;box-shadow:none!important}.table[_ngcontent-%COMP%]   td.position-sticky[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th.position-sticky[_ngcontent-%COMP%]{position:sticky;left:0}.table-editable[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{min-width:110px}input#solucao_riscoAssumido_Atual[_ngcontent-%COMP%], input#solucao_montante_Atual[_ngcontent-%COMP%]{background-color:#104456;border:none}tr.bg-danger[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#f1d6d6!important;border:1px #ff0909 solid;border-left-color:#f1d6d6;border-right-color:#f1d6d6;border-spacing:1px;border-collapse:separate}tr.bg-danger[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background-color:#f1d6d6}.editable-readonly[_ngcontent-%COMP%]   .table-editable[_ngcontent-%COMP%]   .form-control.ng-valid[_ngcontent-%COMP%], .editable-readonly   [_nghost-%COMP%]   .form-control.ng-valid[required][_ngcontent-%COMP%]:-internal-autofill-selected, .editable-readonly[_ngcontent-%COMP%]   .form-control.ng-valid[required][_ngcontent-%COMP%], .editable-readonly[_ngcontent-%COMP%]   .table-editable[_ngcontent-%COMP%]   .form-control.ng-invalid[_ngcontent-%COMP%], .editable-readonly[_ngcontent-%COMP%]   .form-control.ng-invalid[required][_ngcontent-%COMP%]:-internal-autofill-selected, .editable-readonly[_ngcontent-%COMP%]   .form-control.ng-invalid[required][_ngcontent-%COMP%]{background-image:none!important;background-color:#fff}tr.bg-light[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px #919090 solid;border-left-color:#ececed;border-right-color:#ececed;border-spacing:1px;border-collapse:separate}"]}),a})();var Wa=m(1735);const Xa=[{path:"",component:pe,title:"Planner - Clientes",children:[{path:"cadastrar",component:da.G,title:"Planner - Cadastrar cliente"},{path:"editar/:cliente_id",component:pa.F,title:"Planner - Editar cliente"},{path:"excluir/:cliente_id",component:Pn.T,title:"Planner - Excluir cliente"},{path:"habilitar/:cliente_id",component:Ze.T,title:"Planner - Habilitar cliente"},{path:"desabilitar/:cliente_id",component:Ze.T,title:"Planner - Desabilitar cliente"}]},{path:"planner",component:he,title:"Planner - Planejamento",children:[{path:"investimento",component:fe},{path:"produto",component:ve,canActivate:[be]},{path:"excluir/:planner_id",component:sa}]},{path:"planner/:cliente_id",component:he,children:[{path:"investimento",component:fe},{path:"produto",component:ve,canActivate:[be]}]},{path:"planner/:cliente_id/:backoffice_id",component:Ka,canActivate:[Wa.p],data:{roles:[W.u.Backoffice]}}];let eo=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[P.Bz.forChild(Xa),P.Bz]}),a})();var to=m(7864),no=m(1740);let ao=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a,bootstrap:[pe]}),a.\u0275inj=e.cJS({imports:[f.ez,eo,g.u5,S.uH,B.yI,H.Rh,k.U$,Q.dT,F.kW,X.S,to.m,no.j,g.UX]}),a})()}}]);