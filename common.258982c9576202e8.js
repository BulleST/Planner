"use strict";(self.webpackChunkplanner=self.webpackChunkplanner||[]).push([[592],{8944:(C,E,n)=>{n.d(E,{l:()=>S});var g=n(5861),h=n(9808),d=n(4409),c=n(9398),v=n(9876),f=n(8913),e=n(4650),u=n(8627),O=n(6895),o=n(433);function M(t,l){if(1&t&&(e.TgZ(0,"option",6),e._uU(1),e.qZA()),2&t){const s=l.$implicit;e.Q6J("ngValue",s.id),e.xp6(1),e.Oqu(s.nome)}}let S=(()=>{class t{constructor(s,a,m,i){var r=this;this.empresaService=s,this.accountService=a,this.router=m,this.activatedRoute=i,this.empresaSelected=new c.oW,this.empresaSelectedId=0,this.empresas=[],this.loading=!1,this.Role=d.u,this.empresaService.empresa.subscribe(p=>{this.empresaSelected=p,this.empresaSelectedId=p.id}),this.accountService.account.subscribe(function(){var p=(0,g.Z)(function*(_){r.account=_,_&&_.role&&(null==r.empresaSelected||0==r.empresaSelectedId)&&_.role==d.u.Admin&&(r.empresas=yield(0,h.n)(r.empresaService.getList()),0==r.empresaSelected.id&&r.empresaService.setObject(_.empresa??new c.oW,"empresaSelected 1"))});return function(_){return p.apply(this,arguments)}}())}ngOnInit(){}empresaChange(){var s=this.empresas.find(a=>a.id==this.empresaSelectedId);this.empresaService.setObject(s??new c.oW,"empresaChange")}}return t.\u0275fac=function(s){return new(s||t)(e.Y36(f.P),e.Y36(v.B),e.Y36(u.F0),e.Y36(u.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-empresa-select"]],decls:7,vars:2,consts:[[1,"py-2","d-block","d-md-none","col-12"],[1,"form-group"],["for","empresa_Id"],["name","empresa_Id","id","empresa_Id",1,"form-control",3,"ngModel","ngModelChange","change"],["empresa_Id","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(s,a){1&s&&(e._UZ(0,"div",0),e.TgZ(1,"div",1)(2,"label",2),e._uU(3,"Selecione a Empresa"),e.qZA(),e.TgZ(4,"select",3,4),e.NdJ("ngModelChange",function(i){return a.empresaSelectedId=i})("change",function(){return a.empresaChange()}),e.YNc(6,M,2,2,"option",5),e.qZA()()),2&s&&(e.xp6(4),e.Q6J("ngModel",a.empresaSelectedId),e.xp6(2),e.Q6J("ngForOf",a.empresas))},dependencies:[O.sg,o.YN,o.Kr,o.EJ,o.JJ,o.On]}),t})()}}]);