"use strict";(self.webpackChunkplanner=self.webpackChunkplanner||[]).push([[819],{1735:(k,U,a)=>{a.d(U,{p:()=>y});var n=a(9876),g=a(4650),p=a(202),u=a(7185);let y=(()=>{class h{constructor(f,M,C){this.accountService=f,this.router=M,this.toastr=C}canActivate(f,M){let C=this.accountService.accountValue;return C?!(f.data.roles&&!f.data.roles.includes(C?.role)&&(this.toastr.error("Acesso n\xe3o autorizado."),this.router.navigate([""]),1)):(this.toastr.error("Acesso n\xe3o autorizado. <br> Fa\xe7a login."),this.router.navigate(["account","login"],{queryParams:{returnUrl:M.url}}),!1)}}return h.\u0275fac=function(f){return new(f||h)(g.LFG(n.B),g.LFG(p.F0),g.LFG(u._W))},h.\u0275prov=g.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},1819:(k,U,a)=>{a.r(U),a.d(U,{LoggedInModule:()=>kn});var n=a(4650),g=a(6895),p=a(202),u=a(4409),y=a(1135),h=a(8259),J=a(9243),f=a(46);let M=(()=>{class e{constructor(t,o){this.crypto=t,this.table=o,this.open=new y.X(!1),this.menuHeaderOpen=new y.X(!1)}get aside(){var t=!!localStorage.getItem("navigation")&&this.crypto.decrypt(localStorage.getItem("navigation"));return this.setMenuAside(t),this.open.value}toggleMenuAside(){this.setMenuAside(!this.open.value)}setMenuAside(t){var o=this.crypto.encrypt(t)??"";localStorage.setItem("navigation",o),this.open.next(t)}toggleMenuHeader(){this.menuHeaderOpen.next(!this.menuHeaderOpen.value)}openMenuHeader(){this.menuHeaderOpen.next(!0)}closeMenuHeader(){this.menuHeaderOpen.next(!1)}clickOut(){var t=this;h("body").on("click",function(o){t.closeMenuHeader()}),h(".header__userLogado").on("click",function(o){o.stopPropagation()})}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(J.w),n.LFG(f.i))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),C=(()=>{class e{constructor(t){this.crypto=t,this.ativado=new y.X(!1)}toggle(){this.setAtivado(!this.ativado.value)}setAtivado(t){this.ativado.next(t);var o=this.crypto.encrypt(this.ativado.value);null!=o?localStorage.setItem("dark-mode",o):localStorage.removeItem("dark-mode")}getAtivado(){var t=localStorage.getItem("dark-mode");if(t){var o=this.crypto.decrypt(t);null!=o&&this.setAtivado(o)}return this.ativado}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(J.w))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var w=a(7549),F=a(5861),m=a(801),Z=a(9876),H=a(1939),q=a(4506),c=a(433),b=a(3868);function R(e,i){if(1&e){const t=n.EpF();n.TgZ(0,"input",15,16),n.NdJ("search",function(){n.CHM(t);const l=n.MAs(1),r=n.oxw();return n.KtG(r.setUrl(l.value))}),n.qZA()}}const z=function(){return["my-account"]};let D=(()=>{class e{constructor(t,o,l,r,s){var d=this;this.modoEscuro=t,this.accountService=o,this.urlBackendService=l,this.header=r,this.alertService=s,this.Role=u.u,this.faSignOut=m.HEx,this.faIdCard=m.Ukp,this.faKey=m.DD4,this.faUser=m.ILF,this.modoEscuroAtivado=!1,this.menuHeaderOpen=!1,this.nomeAbreviado="",this.perfil="",this.subscription=[];var x=this.modoEscuro.getAtivado().subscribe(O=>this.modoEscuroAtivado=O);this.userLogado=this.accountService.accountValue;var v=this.accountService.account.subscribe(function(){var O=(0,F.Z)(function*(A){if(d.userLogado=A,A){d.perfil=u.u[A.perfilAcesso_Id];let P=A?.name.split(" ");d.nomeAbreviado=1==P.length?P[0]:P[0]+" "+P[P.length-1],null==A.passwordReset&&0==window.location.pathname.includes("my-account/change-password")&&d.alertService.info('\n                        <h5>Aten\xe7\xe3o</h5>\n                        <h6>Sua conta n\xe3o est\xe1 protegida!</h6>\n                        <p>Ap\xf3s sua conta ter sido cadastrada a senha padr\xe3o n\xe3o foi alterada, isso torna sua conta vulner\xe1vel \xe0 acessos n\xe3o autorizados.</p>\n                        <p>Por favor, altere sua senha em <a href="./my-account/change-password">/my-account/change-password</a>.</p>\n                    ')}});return function(A){return O.apply(this,arguments)}}());this.subscription.push(x),this.subscription.push(v);var _=this.header.menuHeaderOpen.subscribe(O=>this.menuHeaderOpen=O);this.subscription.push(_)}ngAfterViewInit(){this.header.clickOut()}ngOnDestroy(){this.subscription.forEach(t=>t.unsubscribe())}toggleMenuHeader(){this.header.toggleMenuHeader()}sair(){this.accountService.logout()}setUrl(t){this.urlBackendService.setUrl(t)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(C),n.Y36(Z.B),n.Y36(H.j),n.Y36(M),n.Y36(q.c))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-header"]],decls:25,vars:14,consts:[[1,"header"],[1,"header-logo"],["src","assets/img/logo-planner.png","alt","Logo Planner"],[1,"d-flex","align-items-center","ml-auto"],["type","search","class","form-control","ngModel","","required","","placeholder","Insira a url do backend desejada",3,"search",4,"ngIf"],[1,"header__userLogado","ml-auto"],[1,"header__userLogado-content",3,"click"],[1,"header__userLogado-img"],[3,"icon"],[1,"header__userLogado-text"],[1,"header__userLogado-submenu"],[1,"header__userLogado-submenu-link"],[1,"header__userLogado-submenu-link",3,"routerLink"],[2,"margin-right","8px"],[1,"header__userLogado-submenu-link",3,"click"],["type","search","ngModel","","required","","placeholder","Insira a url do backend desejada",1,"form-control",3,"search"],["urlBackend","ngModel"]],template:function(t,o){1&t&&(n.TgZ(0,"header",0)(1,"div",1),n._UZ(2,"img",2),n.qZA(),n.TgZ(3,"div",3),n.YNc(4,R,2,0,"input",4),n.qZA(),n.TgZ(5,"div",5)(6,"div",6),n.NdJ("click",function(){return o.toggleMenuHeader()}),n.TgZ(7,"div",7),n._UZ(8,"fa-icon",8),n.qZA(),n.TgZ(9,"div",9)(10,"p"),n._uU(11),n.qZA(),n.TgZ(12,"p"),n._uU(13),n.qZA()()()()(),n.TgZ(14,"div",10)(15,"p",11),n._uU(16,"Welcome"),n.qZA(),n.TgZ(17,"a",12)(18,"span",13),n._UZ(19,"fa-icon",8),n.qZA(),n._uU(20," Meus dados "),n.qZA(),n.TgZ(21,"a",14),n.NdJ("click",function(){return o.sair()}),n.TgZ(22,"span",13),n._UZ(23,"fa-icon",8),n.qZA(),n._uU(24," Sair "),n.qZA()()),2&t&&(n.ekj("dark",o.modoEscuroAtivado),n.xp6(4),n.Q6J("ngIf",1==(null==o.userLogado?null:o.userLogado.perfilAcesso_Id)),n.xp6(2),n.ekj("header__userLogado-submenu--open",o.menuHeaderOpen),n.xp6(2),n.Q6J("icon",o.faUser),n.xp6(3),n.Oqu(null==o.userLogado?null:o.userLogado.email),n.xp6(2),n.Oqu(o.perfil),n.xp6(1),n.ekj("header__userLogado-submenu--open",o.menuHeaderOpen),n.xp6(3),n.Q6J("routerLink",n.DdM(13,z)),n.xp6(2),n.Q6J("icon",o.faIdCard),n.xp6(4),n.Q6J("icon",o.faSignOut))},dependencies:[g.O5,p.yS,c.Fj,c.JJ,c.Q7,c.On,b.BN],styles:[".header[_ngcontent-%COMP%]{height:50px;position:sticky;top:0;left:0;width:100%;background-color:#fff;background-color:var(--primary);box-shadow:2px 2px 2px #0000000d;display:flex;align-items:center;justify-content:space-between;margin-top:0;margin-bottom:10px}.header-logo[_ngcontent-%COMP%]{height:100%;overflow:hidden;padding:5px 5px 5px 50px;z-index:-1;display:flex}.header-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:80%;width:auto;margin:auto 0;display:block}.header__userLogado[_ngcontent-%COMP%]{height:100%;position:relative;display:flex;justify-content:center;width:auto;margin-right:calc(.5vw + 10px);max-width:100%}.header__userLogado-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;padding:0 25px 0 30px;box-sizing:border-box;background-color:#fff;background-color:var(--primary);z-index:2;position:relative;cursor:pointer;margin:auto 0;transition:.3s;border:none}.header__userLogado-content[_ngcontent-%COMP%]:hover{background-color:#f5f5f5;background-color:var(--primary-dark)}.header__userLogado-content.header__userLogado-submenu--open[_ngcontent-%COMP%]{border:1px #d2d2d2 solid;border-color:var(--primary);background-color:var(--primary-dark);border-top:none;border-bottom:none;height:100%}.header__userLogado-img[_ngcontent-%COMP%]{width:25px;height:25px;background-size:cover;background-position:center;border-radius:50%;border:1px #c7c6c6 solid;background-color:#fff;cursor:pointer;margin-left:-15px;display:flex;align-items:center;justify-content:center;color:var(--primary)}.header__userLogado-img[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--primary)}.header__userLogado-text[_ngcontent-%COMP%]{margin-left:10px;cursor:pointer}.header__userLogado-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#fafcff;cursor:pointer;line-height:1.2;font-size:12px;font-weight:100;letter-spacing:.4px;font-family:Light}.header__userLogado-submenu[_ngcontent-%COMP%]{position:fixed;top:50px;left:auto;right:calc(.5vw + 10px);transform:translateY(-100%);width:200px;border:1px #d2d2d2 solid;border-top:0;border-radius:0 0 3px 3px;display:flex;flex-flow:column;align-items:stretch;padding:5px 0;opacity:0;z-index:-1;visibility:hidden;transition:.3s;background-color:#fff}.header__userLogado-submenu.header__userLogado-submenu--open[_ngcontent-%COMP%]{transform:translate(0);opacity:1;visibility:visible;transition:.3s}p.header__userLogado-submenu-link[_ngcontent-%COMP%]{font-weight:700}.header__userLogado-submenu-link[_ngcontent-%COMP%]{padding:4px 15px;font-size:11px;font-family:Regular;color:#888;text-transform:uppercase;cursor:pointer;text-decoration:none}.header__userLogado-submenu-link[_ngcontent-%COMP%]:not(p):hover{background-color:#cdcdcd70}.header__nav[_ngcontent-%COMP%]{height:100%;display:flex}.header__nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;padding:5px 1vw;text-decoration:none;color:#fbf9f9;transition:.3s}.header__nav-link[_ngcontent-%COMP%]:hover{background:#00000026}.dropdown-empresas[_ngcontent-%COMP%]{background-color:#484848;color:#fff}.dropdown-empresas[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#484848;background:#fff}"]}),e})(),B=(()=>{class e{constructor(t){this.modoEscuro=t,this.modoEscuroAtivado=!1,this.subscription=[];var o=this.modoEscuro.getAtivado().subscribe(l=>this.modoEscuroAtivado=l);this.subscription.push(o)}ngOnDestroy(){this.subscription.forEach(t=>t.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(C))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-footer"]],decls:3,vars:2,consts:[[1,"footer"],[1,"text-center"]],template:function(t,o){1&t&&(n.TgZ(0,"div",0)(1,"p",1),n._uU(2,"Copyright 2022"),n.qZA()()),2&t&&n.ekj("dark",o.modoEscuroAtivado)},styles:[".footer[_ngcontent-%COMP%]{height:26px;background:#100f0f;margin-top:auto;width:100vw;display:flex;align-items:center;justify-content:center;color:#fff;font-size:13px}.footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-size:13px}"]}),e})();const G=function(e){return["minha-empresa",e]};function K(e,i){if(1&e&&(n.TgZ(0,"a",8)(1,"span",9),n._UZ(2,"fa-icon",10),n.qZA(),n._uU(3," Minha empresa "),n.qZA()),2&e){const t=n.oxw();n.Q6J("routerLink",n.VKq(2,G,null==t.account||null==t.account.empresa?null:t.account.empresa.nome)),n.xp6(2),n.Q6J("icon",t.faIdCard)}}const V=function(){return["empresas"]};function W(e,i){if(1&e&&(n.TgZ(0,"a",8)(1,"span",9),n._UZ(2,"fa-icon",10),n.qZA(),n._uU(3," Empresas "),n.qZA()),2&e){const t=n.oxw();n.Q6J("routerLink",n.DdM(2,V)),n.xp6(2),n.Q6J("icon",t.faCity)}}const X=function(){return["clientes"]};function $(e,i){1&e&&(n.TgZ(0,"a",8)(1,"span",9),n._UZ(2,"i",11),n.qZA(),n._uU(3," Clientes "),n.qZA()),2&e&&n.Q6J("routerLink",n.DdM(1,X))}const nn=function(){return["produtos"]};function en(e,i){if(1&e&&(n.TgZ(0,"a",8)(1,"span",9),n._UZ(2,"fa-icon",10),n.qZA(),n._uU(3," Produtos "),n.qZA()),2&e){const t=n.oxw();n.Q6J("routerLink",n.DdM(2,nn)),n.xp6(2),n.Q6J("icon",t.faHandHoldingDollar)}}const on=function(){return["carteira-setup"]};function tn(e,i){1&e&&(n.TgZ(0,"a",8)(1,"span",9),n._UZ(2,"i",11),n.qZA(),n._uU(3," Setup "),n.qZA()),2&e&&n.Q6J("routerLink",n.DdM(1,on))}const an=function(){return["usuarios"]};function rn(e,i){if(1&e&&(n.TgZ(0,"a",8)(1,"span",9),n._UZ(2,"fa-icon",10),n.qZA(),n._uU(3," Usu\xe1rios "),n.qZA()),2&e){const t=n.oxw();n.Q6J("routerLink",n.DdM(2,an)),n.xp6(2),n.Q6J("icon",t.faUsers)}}let sn=(()=>{class e{constructor(t,o){this.header=t,this.accountService=o,this.Role=u.u,this.faHandHoldingDollar=m.VPG,this.faUsers=m.FVb,this.faPercent=m.jGC,this.faCity=m.SBo,this.faIdCard=m.Ukp,this.menuOpen=!1,this.subscription=[],this.menuOpen=this.header.aside;var l=this.header.open.subscribe(s=>this.menuOpen=s);this.subscription.push(l);var r=this.accountService.account.subscribe(s=>this.account=s);this.subscription.push(r)}ngOnDestroy(){this.subscription.forEach(t=>t.unsubscribe())}toggleAside(){this.header.toggleMenuAside()}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(M),n.Y36(Z.B))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-navigation"]],decls:17,vars:8,consts:[[1,"navigation"],[1,"navigation__toggle-content"],[1,"navigation__toggle",3,"click"],[1,"navigation__content"],[1,"navigation__logo"],["src","assets/img/logo-planner.png","alt","Logo Planner"],[1,"navigation__links"],["class","navigation__links-item",3,"routerLink",4,"ngIf"],[1,"navigation__links-item",3,"routerLink"],[1,"navigation__item-icon"],[3,"icon"],[1,"pi","pi-wallet"]],template:function(t,o){1&t&&(n.TgZ(0,"aside",0)(1,"div",1)(2,"button",2),n.NdJ("click",function(){return o.toggleAside()}),n._UZ(3,"span")(4,"span")(5,"span"),n.qZA()(),n.TgZ(6,"div",3)(7,"div",4),n._UZ(8,"img",5)(9,"hr"),n.qZA(),n.TgZ(10,"div",6),n.YNc(11,K,4,4,"a",7),n.YNc(12,W,4,3,"a",7),n.YNc(13,$,4,2,"a",7),n.YNc(14,en,4,3,"a",7),n.YNc(15,tn,4,2,"a",7),n.YNc(16,rn,4,3,"a",7),n.qZA()()()),2&t&&(n.ekj("open",o.menuOpen),n.xp6(11),n.Q6J("ngIf",(null==o.account?null:o.account.role)==o.Role.Master||(null==o.account?null:o.account.role)==o.Role.Backoffice),n.xp6(1),n.Q6J("ngIf",(null==o.account?null:o.account.role)==o.Role.Admin),n.xp6(1),n.Q6J("ngIf",(null==o.account?null:o.account.role)==o.Role.Admin||(null==o.account?null:o.account.role)==o.Role.Master||(null==o.account?null:o.account.role)==o.Role.Backoffice),n.xp6(1),n.Q6J("ngIf",(null==o.account?null:o.account.role)==o.Role.Admin||(null==o.account?null:o.account.role)==o.Role.Master),n.xp6(1),n.Q6J("ngIf",(null==o.account?null:o.account.role)==o.Role.Admin||(null==o.account?null:o.account.role)==o.Role.Master),n.xp6(1),n.Q6J("ngIf",(null==o.account?null:o.account.role)==o.Role.Admin||(null==o.account?null:o.account.role)==o.Role.Master))},dependencies:[g.O5,p.yS,b.BN],styles:[".navigation[_ngcontent-%COMP%]{position:fixed;left:0;top:0;height:100vh;max-width:230px;width:80%;transition:.3s;transform:translate(-100%)}.navigation.open[_ngcontent-%COMP%]{transform:translate(0)}.navigation__toggle-content[_ngcontent-%COMP%]{position:absolute;right:0;z-index:1;display:flex;align-items:center;justify-content:center;transform:translate(calc(100% + 10px));height:50px}.navigation__toggle[_ngcontent-%COMP%]{position:relative;left:5px;width:30px;height:30px;background-color:var(--primary);display:flex;align-items:center;justify-content:center;border:2px var(--primary) solid;border-radius:5px;transition:.3s}.navigation__toggle-logo[_ngcontent-%COMP%]{height:55px;overflow:hidden;transform:translateY(-5px) translate(-40px);padding:5px 5px 5px 50px;z-index:-1}.navigation__toggle-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:auto}.navigation__toggle[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.navigation.open[_ngcontent-%COMP%]   .navigation__toggle[_ngcontent-%COMP%]{background-color:var(--primary);border-color:var(--primary)}.navigation__toggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:60%;height:2px;background-color:#fff;position:absolute;border-radius:5px}.navigation__toggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{transform:translateY(-5px)}.navigation__toggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{transform:translateY(5px)}.navigation__content[_ngcontent-%COMP%]{height:100vh;overflow-y:auto;display:flex;flex-flow:column;background-color:var(--primary);z-index:1;position:absolute;width:100%;box-shadow:2px 2px 13px 3px #00000036;transition:.3s}.navigation__logo[_ngcontent-%COMP%]{padding:13px 15px 0;display:flex;flex-flow:column;justify-content:space-between}.navigation__logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:auto;width:90%}.navigation__logo[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;line-height:1}.navigation__logo[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;height:1px;background-color:#fff;background-color:var(--primary);opacity:.3;opacity:0;margin:0}.navigation__links[_ngcontent-%COMP%]{display:flex;flex-flow:column;margin-top:2vh;position:relative;margin:calc(.5vh + 10px) 10px 0}.navigation__links[_ngcontent-%COMP%]:before{position:absolute;left:0;top:19px;height:calc(100% - 35px);width:1px;background-color:#fff;opacity:.3}.navigation__links-item[_ngcontent-%COMP%]{padding:6px 10px;text-decoration:none;color:#ffffffc7;font-weight:100;font-size:15px;text-transform:lowercase;transition:.3s;height:35px;position:relative;display:flex;align-items:center}.navigation__links-item[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:0;width:20px;height:1px;background-color:#fff;opacity:.3;z-index:-1}.navigation__item-icon[_ngcontent-%COMP%]{width:30px;height:30px;display:inline-flex;align-items:center;justify-content:center;background-color:#125268;border-radius:3px;margin-right:8px;transition:.2s;font-size:15px}.navigation__links-item[_ngcontent-%COMP%]:hover   .navigation__item-icon[_ngcontent-%COMP%]{background:var(--primary-light)}"]}),e})();const L=function(e){return{"z-index":e,position:"relative"}};let Q=(()=>{class e{constructor(t,o,l,r){this.modoEscuro=t,this.modal=o,this.table=l,this.header=r,this.modoEscuroAtivado=!1,this.modalOpen=!1,this.navigationOpen=!1,this.loading=!1,this.subscription=[];var s=this.modoEscuro.getAtivado().subscribe(_=>this.modoEscuroAtivado=_),d=this.modal.getOpen().subscribe(_=>this.modalOpen=_),x=this.header.open.subscribe(_=>this.navigationOpen=_),v=this.table.loading.subscribe(_=>this.loading=_);this.subscription.push(s),this.subscription.push(d),this.subscription.push(x),this.subscription.push(v)}ngOnDestroy(){this.subscription.forEach(t=>t.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(C),n.Y36(w.Q),n.Y36(f.i),n.Y36(M))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-initial"]],decls:6,vars:11,consts:[[3,"ngStyle"],[1,"main",3,"ngStyle"],[1,"main-content"]],template:function(t,o){1&t&&(n._UZ(0,"app-navigation",0),n.TgZ(1,"div",1)(2,"div",2),n._UZ(3,"app-header",0)(4,"router-outlet"),n.qZA()(),n._UZ(5,"app-footer")),2&t&&(n.Q6J("ngStyle",n.VKq(5,L,o.modalOpen?"2":"1")),n.xp6(1),n.Q6J("ngStyle",n.VKq(7,L,o.modalOpen?"3":"0")),n.xp6(1),n.ekj("navigation-open",o.navigationOpen),n.xp6(1),n.Q6J("ngStyle",n.VKq(9,L,o.modalOpen?"0":"1")))},dependencies:[g.PC,p.lC,D,B,sn],styles:[".main[_ngcontent-%COMP%]{padding:0;z-index:0;position:relative;min-height:calc(100vh - 26px)}@media (min-width: 800px){.main-content[_ngcontent-%COMP%]{max-width:100%;transition:.3s;margin-right:0;margin-left:auto;min-height:calc(100vh - 26px)}.main-content.navigation-open[_ngcontent-%COMP%]{max-width:calc(100% - 230px)}}"]}),e})();var S=a(9398),ln=a(8913),I=a(9808),E=a(1094);let cn=(()=>{class e{constructor(t,o){this.accountService=t,this.empresaService=o,this.faIdCard=m.Ukp,this.empresa=new S.oW,this.cnpj="",this.empresa=this.accountService.accountValue?.empresa??new S.oW,(0,I.n)(this.empresaService.get(this.empresa.id)).then(l=>{this.empresa=l,this.cnpj=this.empresa.cnpj.toString().padStart(14,"0")})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(Z.B),n.Y36(ln.P))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-minha-empresa"]],decls:26,vars:8,consts:[[1,"page"],[1,"page__header"],[1,"title-icon"],[3,"icon"],[1,"mr-auto"],[1,"page__header-title"],[1,"page__header-subtitle"],[1,"d-flex","flex-wrap","justify-content-start","px-3"],[1,"col-md-5","col-12","mx-0","ps-0"],[1,"card","card-body"],[1,"home__container-header","mb-2"]],template:function(t,o){1&t&&(n.TgZ(0,"section",0)(1,"div",1)(2,"span",2),n._UZ(3,"fa-icon",3),n.qZA(),n.TgZ(4,"div",4)(5,"h3",5),n._uU(6),n.qZA(),n.TgZ(7,"p",6)(8,"small"),n._uU(9,"Dados da minha empresa"),n.qZA()()()(),n.TgZ(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10)(14,"h6"),n._uU(15,"Dados Cadastrais"),n.qZA()(),n.TgZ(16,"p"),n._uU(17,"Raz\xe3o social: "),n.TgZ(18,"strong"),n._uU(19),n.qZA()(),n.TgZ(20,"p"),n._uU(21),n.ALo(22,"mask"),n.qZA(),n.TgZ(23,"p"),n._uU(24),n.qZA()()()()(),n._UZ(25,"router-outlet")),2&t&&(n.xp6(3),n.Q6J("icon",o.faIdCard),n.xp6(3),n.Oqu(o.empresa.nome),n.xp6(13),n.Oqu(o.empresa.nome),n.xp6(2),n.hij("CNPJ: ",n.xi3(22,5,o.cnpj,"00.000.000/0000-00"),""),n.xp6(3),n.hij("Email: ",o.empresa.email,""))},dependencies:[p.lC,b.BN,E.Iq]}),e})();var Y=a(878),N=a(7185),j=a(3972);function dn(e,i){1&e&&(n.TgZ(0,"p",16),n._uU(1,"Este campo \xe9 obrigat\xf3rio."),n.qZA())}function un(e,i){if(1&e&&(n.TgZ(0,"div",31),n.YNc(1,dn,2,0,"p",32),n.qZA()),2&e){n.oxw();const t=n.MAs(18);n.xp6(1),n.Q6J("ngIf",t.errors.required)}}function pn(e,i){1&e&&(n.TgZ(0,"p",16),n._uU(1,"Este campo \xe9 obrigat\xf3rio."),n.qZA())}function gn(e,i){1&e&&(n.TgZ(0,"p",16),n._uU(1,"Telefone/celular inv\xe1lido"),n.qZA())}function mn(e,i){if(1&e&&(n.TgZ(0,"div",31),n.YNc(1,pn,2,0,"p",32),n.YNc(2,gn,2,0,"p",32),n.qZA()),2&e){n.oxw();const t=n.MAs(29);n.xp6(1),n.Q6J("ngIf",t.errors.required),n.xp6(1),n.Q6J("ngIf",t.errors.mask)}}function hn(e,i){1&e&&(n.TgZ(0,"p",16),n._uU(1,"Este campo \xe9 obrigat\xf3rio."),n.qZA())}function fn(e,i){1&e&&(n.TgZ(0,"p",16),n._uU(1,"E-mail inv\xe1lido"),n.qZA())}function vn(e,i){if(1&e&&(n.TgZ(0,"div",31),n.YNc(1,hn,2,0,"p",32),n.YNc(2,fn,2,0,"p",32),n.qZA()),2&e){n.oxw();const t=n.MAs(40);n.xp6(1),n.Q6J("ngIf",t.errors.required),n.xp6(1),n.Q6J("ngIf",t.errors.email)}}function _n(e,i){1&e&&(n._UZ(0,"p",34),n.ALo(1,"json")),2&e&&n.Q6J("innerHTML",n.lcZ(1,1,i.$implicit),n.oJD)}function Cn(e,i){if(1&e&&(n.TgZ(0,"div"),n.YNc(1,_n,2,3,"p",33),n.qZA()),2&e){const t=n.oxw();n.xp6(1),n.Q6J("ngForOf",t.erro)}}function Mn(e,i){1&e&&n._UZ(0,"span",35)}const xn=function(){return["change-password"]};let Zn=(()=>{class e{constructor(t,o,l,r,s){this.router=t,this.modal=o,this.toastr=l,this.loadingUtils=r,this.accountService=s,this.modalOpen=!1,this.faKey=m.DD4,this.subscription=[],this.loading=!1,this.mensagemErro="",this.erro=[];var d=this.modal.getOpen().subscribe(v=>this.modalOpen=v);this.subscription.push(d);var x=this.accountService.account.subscribe(v=>this.objeto=v);this.subscription.push(x),setTimeout(()=>{this.modal.setOpen(!0)},200)}ngOnDestroy(){this.subscription.forEach(t=>t.unsubscribe())}voltar(){this.modal.setOpen(!1),setTimeout(()=>{this.router.navigate([".."])},200)}editAccount(t){if(this.erro=[],this.loading=!0,this.loadingUtils.loading.next(!0),t.invalid)return this.erro.push("Formul\xe1rio inv\xe1lido"),void this.toastr.error("Formul\xe1rio inv\xe1lido");(0,I.n)(this.accountService.updateAccount({name:this.objeto?.name??"",telefoneCelular:this.objeto?.telefoneCelular??0,email:this.objeto?.email??""})).then(l=>{this.voltar()}).catch(l=>{var r=(0,Y.b)(l);this.erro.push(r),this.toastr.error(r)}).finally(()=>{this.loading=!1}),setTimeout(()=>{this.loading=!1,this.loadingUtils.loading.next(!1)},300)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(p.F0),n.Y36(w.Q),n.Y36(N._W),n.Y36(j.b),n.Y36(Z.B))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-my-account"]],decls:57,vars:15,consts:[[1,"modal"],[1,"modal__bg",3,"click"],[1,"modal__inner"],[1,"modal__content"],[1,"modal__header"],[1,"text-orange"],[1,"modal__header-close","btn-close",3,"click"],[1,"modal__body"],[3,"ngSubmit"],["form","ngForm"],[1,"form-row"],[1,"form-group","col-lg-12","col-md-12","col-sm-12","col-12","mb-2"],[1,"form-floating"],["type","name","id","name","name","name","placeholder","   ","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","ngModel"],["for","name"],[1,"text-danger"],["class","pl-2 pt-2 pb-0",4,"ngIf"],["type","text","id","telefoneCelular","name","telefoneCelular","mask","(00) 0000-0000||(00) 0.0000-0000","pattern","^\\(?[1-9]{2}\\)? ?(?:[0-9]|9[0-9])[0-9]{3}\\-?[0-9]{4}$","placeholder","(11) x.0000-0000","required","",1,"form-control",3,"ngModel","hiddenInput","ngModelChange"],["telefoneCelular","ngModel"],["for","telefoneCelular"],["type","email","email","","id","email","name","email","placeholder","example@gmail.com","required","","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["email","ngModel"],["for","email"],[1,"d-flex","justify-content-between","col-lg-12","flex-wrap","p-0"],[4,"ngIf"],[1,"d-flex","col-sm-12","ml-auto","mt-3","mr-0","px-0"],[1,"btn","btn-grey","ml-auto","mr-1",3,"routerLink"],[1,"ml-1",3,"icon"],["type","submit",1,"btn","btn-primary","mr-0",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"pl-2","pt-2","pb-0"],["class","text-danger",4,"ngIf"],["class","text-red",3,"innerHTML",4,"ngFor","ngForOf"],[1,"text-red",3,"innerHTML"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(t,o){if(1&t){const l=n.EpF();n.TgZ(0,"div",0)(1,"div",1),n.NdJ("click",function(){return o.voltar()}),n.qZA(),n.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5)(6,"strong"),n._uU(7,"Meus dados"),n.qZA()(),n.TgZ(8,"a",6),n.NdJ("click",function(){return o.voltar()}),n._UZ(9,"span")(10,"span"),n.qZA()(),n.TgZ(11,"div",7)(12,"form",8,9),n.NdJ("ngSubmit",function(){n.CHM(l);const s=n.MAs(13);return n.KtG(o.editAccount(s))}),n.TgZ(14,"div",10)(15,"div",11)(16,"div",12)(17,"input",13,14),n.NdJ("ngModelChange",function(s){return o.objeto.name=s}),n.qZA(),n.TgZ(19,"label",15)(20,"span"),n._uU(21,"Nome completo "),n.TgZ(22,"span",16),n._uU(23,"*"),n.qZA()()()(),n.YNc(24,un,2,1,"div",17),n.qZA()(),n.TgZ(25,"div",10)(26,"div",11)(27,"div",12)(28,"input",18,19),n.NdJ("ngModelChange",function(s){return o.objeto.telefoneCelular=s}),n.qZA(),n.TgZ(30,"label",20)(31,"span"),n._uU(32,"Telefone/celular "),n.TgZ(33,"span",16),n._uU(34,"*"),n.qZA()()()(),n.YNc(35,mn,3,2,"div",17),n.qZA()(),n.TgZ(36,"div",10)(37,"div",11)(38,"div",12)(39,"input",21,22),n.NdJ("ngModelChange",function(s){return o.objeto.email=s}),n.qZA(),n.TgZ(41,"label",23)(42,"span"),n._uU(43,"E-mail "),n.TgZ(44,"span",16),n._uU(45,"*"),n.qZA()()()(),n.YNc(46,vn,3,2,"div",17),n.qZA()(),n.TgZ(47,"div",24),n.YNc(48,Cn,2,1,"div",25),n.TgZ(49,"div",26)(50,"a",27),n._uU(51," Alterar senha "),n._UZ(52,"fa-icon",28),n.qZA(),n.TgZ(53,"button",29),n.YNc(54,Mn,1,0,"span",30),n._uU(55," Salvar "),n.qZA()()()()()()()(),n._UZ(56,"router-outlet")}if(2&t){const l=n.MAs(13),r=n.MAs(18),s=n.MAs(29),d=n.MAs(40);n.ekj("active",o.modalOpen),n.xp6(17),n.Q6J("ngModel",o.objeto.name),n.xp6(7),n.Q6J("ngIf",null!=r.errors&&r.touched),n.xp6(4),n.Q6J("ngModel",o.objeto.telefoneCelular)("hiddenInput",!1),n.xp6(7),n.Q6J("ngIf",null!=s.errors&&s.touched),n.xp6(4),n.Q6J("ngModel",o.objeto.email),n.xp6(7),n.Q6J("ngIf",null!=d.errors&&d.touched),n.xp6(2),n.Q6J("ngIf",o.erro),n.xp6(2),n.Q6J("routerLink",n.DdM(14,xn)),n.xp6(2),n.Q6J("icon",o.faKey),n.xp6(1),n.Q6J("disabled",l.invalid||o.loading),n.xp6(1),n.Q6J("ngIf",o.loading)}},dependencies:[g.sg,g.O5,p.lC,p.yS,E.hx,c._Y,c.Fj,c.JJ,c.JL,c.Q7,c.c5,c.on,c.On,c.F,b.BN,g.Ts]}),e})();var An=a(1685);function yn(e,i){1&e&&(n.TgZ(0,"p",16),n._uU(1,"Este campo \xe9 obrigat\xf3rio."),n.qZA())}function bn(e,i){if(1&e&&(n.TgZ(0,"div",30),n.YNc(1,yn,2,0,"p",31),n.qZA()),2&e){n.oxw();const t=n.MAs(18);n.xp6(1),n.Q6J("ngIf",t.errors.required)}}function Tn(e,i){1&e&&(n.TgZ(0,"p",16),n._uU(1,"Esse campo \xe9 obrigat\xf3rio"),n.qZA())}function On(e,i){if(1&e&&(n.TgZ(0,"div",30),n.YNc(1,Tn,2,0,"p",31),n.qZA()),2&e){n.oxw();const t=n.MAs(29);n.xp6(1),n.Q6J("ngIf",t.errors.required)}}function Pn(e,i){1&e&&(n.TgZ(0,"p",32),n._uU(1,"Senhas n\xe3o s\xe3o iguais"),n.qZA())}function Un(e,i){1&e&&(n.TgZ(0,"span"),n._uU(1,"Exibir"),n.qZA())}function Jn(e,i){1&e&&(n.TgZ(0,"span"),n._uU(1,"Esconder"),n.qZA())}function In(e,i){if(1&e&&(n.TgZ(0,"div",10)(1,"p",16),n._uU(2),n.qZA()()),2&e){const t=n.oxw();n.xp6(2),n.Oqu(t.erro)}}let wn=(()=>{class e{constructor(t,o,l,r,s,d){this.router=t,this.activatedRoute=o,this.modal=l,this.toastr=r,this.loadingUtils=s,this.accountService=d,this.objeto=new An.GR,this.loading=!1,this.modalOpen=!1,this.erro="",this.subscription=[];var x=this.accountService.account.subscribe(v=>this.account=v);this.subscription.push(x),setTimeout(()=>{this.modalOpen=!0},200)}ngOnInit(){}voltar(){this.modalOpen=!1,setTimeout(()=>{this.router.navigate([".."],{relativeTo:this.activatedRoute})},200)}send(t){return this.erro="",this.loading=!0,this.loadingUtils.loading.next(!0),t.invalid?(this.erro="Formul\xe1rio inv\xe1lido",void this.toastr.error("Formul\xe1rio inv\xe1lido")):this.objeto.confirmPassword!=this.objeto.password?(this.erro="Senha e confirma\xe7\xe3o de senha devem ser iguais",void this.toastr.error("Senha e confirma\xe7\xe3o de senha devem ser iguais")):((0,I.n)(this.accountService.changePassword(this.objeto)).then(o=>{this.voltar()}).catch(o=>{var l=(0,Y.b)(o);this.erro=l,this.toastr.error(l)}).finally(()=>{this.loading=!1}),void setTimeout(()=>{this.loading=!1,this.loadingUtils.loading.next(!1)},300))}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(p.F0),n.Y36(p.gz),n.Y36(w.Q),n.Y36(N._W),n.Y36(j.b),n.Y36(Z.B))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-change-password"]],decls:51,vars:14,consts:[[1,"modal","modal-change-password"],[1,"modal__bg",3,"click"],[1,"modal__inner",2,"max-width","400px"],[1,"modal__content"],[1,"modal__header"],[1,"text-orange"],[1,"modal__header-close","btn-close",3,"click"],[1,"modal__body"],[3,"ngSubmit"],["form","ngForm"],[1,"form-row"],[1,"form-group","col-lg-12","col-md-12","col-sm-12","col-12","mb-2"],[1,"form-floating"],["id","password","name","password","placeholder","******","required","",1,"form-control",3,"type","ngModel","ngModelChange"],["password","ngModel"],["for","password"],[1,"text-danger"],["class","pl-2 pt-2 pb-0",4,"ngIf"],["id","confirmPassword","name","confirmPassword","placeholder","******","required","",1,"form-control",3,"type","ngModel","ngModelChange"],["confirmPassword","ngModel"],["for","confirmPassword"],["class","text-danger p-2",4,"ngIf"],[1,"d-flex","align-items-center"],["type","checkbox","name","showHide","id","showHide","ngModel","",3,"value"],["showHide","ngModel"],["for","showHide",1,"ml-2"],[4,"ngIf"],["class","form-row",4,"ngIf"],[1,"form-group","form-floating","col-lg-12","col-md-12","col-sm-12","col-12","mb-2"],["type","submit",1,"btn","btn-primary","w-100","py-2",3,"disabled"],[1,"pl-2","pt-2","pb-0"],["class","text-danger",4,"ngIf"],[1,"text-danger","p-2"]],template:function(t,o){if(1&t){const l=n.EpF();n.TgZ(0,"div",0)(1,"div",1),n.NdJ("click",function(){return o.voltar()}),n.qZA(),n.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5)(6,"strong"),n._uU(7,"Alterar senha"),n.qZA()(),n.TgZ(8,"a",6),n.NdJ("click",function(){return o.voltar()}),n._UZ(9,"span")(10,"span"),n.qZA()(),n.TgZ(11,"div",7)(12,"form",8,9),n.NdJ("ngSubmit",function(){n.CHM(l);const s=n.MAs(13);return n.KtG(o.send(s))}),n.TgZ(14,"div",10)(15,"div",11)(16,"div",12)(17,"input",13,14),n.NdJ("ngModelChange",function(s){return o.objeto.password=s}),n.qZA(),n.TgZ(19,"label",15)(20,"span"),n._uU(21,"Senha "),n.TgZ(22,"span",16),n._uU(23,"*"),n.qZA()()()(),n.YNc(24,bn,2,1,"div",17),n.qZA()(),n.TgZ(25,"div",10)(26,"div",11)(27,"div",12)(28,"input",18,19),n.NdJ("ngModelChange",function(s){return o.objeto.confirmPassword=s}),n.qZA(),n.TgZ(30,"label",20)(31,"span"),n._uU(32,"Confirmar Senha "),n.TgZ(33,"span",16),n._uU(34,"*"),n.qZA()()()(),n.YNc(35,On,2,1,"div",17),n.YNc(36,Pn,2,0,"p",21),n.qZA()(),n.TgZ(37,"div",10)(38,"div",11)(39,"div",22),n._UZ(40,"input",23,24),n.TgZ(42,"label",25),n.YNc(43,Un,2,0,"span",26),n.YNc(44,Jn,2,0,"span",26),n._uU(45," senha "),n.qZA()()()(),n.YNc(46,In,3,1,"div",27),n.TgZ(47,"div",10)(48,"div",28)(49,"button",29),n._uU(50,"Salvar"),n.qZA()()()()()()()()}if(2&t){const l=n.MAs(13),r=n.MAs(18),s=n.MAs(29),d=n.MAs(41);n.ekj("active",o.modalOpen),n.xp6(17),n.Q6J("type",d.value?"password":"text")("ngModel",o.objeto.password),n.xp6(7),n.Q6J("ngIf",null!=r.errors&&r.touched),n.xp6(4),n.Q6J("type",d.value?"password":"text")("ngModel",o.objeto.confirmPassword),n.xp6(7),n.Q6J("ngIf",null!=s.errors&&s.touched),n.xp6(1),n.Q6J("ngIf",r.value!=s.value),n.xp6(4),n.Q6J("value",!0),n.xp6(3),n.Q6J("ngIf",d.value),n.xp6(1),n.Q6J("ngIf",!d.value),n.xp6(2),n.Q6J("ngIf",o.erro),n.xp6(3),n.Q6J("disabled",l.invalid||o.loading||r.value!=s.value)}},dependencies:[g.O5,c._Y,c.Fj,c.Wl,c.JJ,c.JL,c.Q7,c.On,c.F],styles:[".modal-change-password[_ngcontent-%COMP%]{z-index:999}"]}),e})();var T=a(1735);const Yn=[{path:"",component:Q,children:[{path:"my-account",component:Zn,children:[{path:"change-password",component:wn}]},{path:"minha-empresa/:empresa_nome",component:cn},{path:"carteira-setup",loadChildren:()=>Promise.all([a.e(445),a.e(341),a.e(875),a.e(592),a.e(43)]).then(a.bind(a,2043)).then(e=>e.CarteiraSetupModule),canActivate:[T.p],data:{roles:[u.u.Admin,u.u.Master]}},{path:"clientes",loadChildren:()=>Promise.all([a.e(445),a.e(341),a.e(193),a.e(592),a.e(235)]).then(a.bind(a,235)).then(e=>e.ClientesModule),canActivate:[T.p],data:{roles:[u.u.Admin,u.u.Master,u.u.Backoffice]}},{path:"produtos",loadChildren:()=>Promise.all([a.e(445),a.e(490),a.e(592),a.e(730)]).then(a.bind(a,9179)).then(e=>e.ProdutosModule),canActivate:[T.p],data:{roles:[u.u.Admin,u.u.Master]}},{path:"usuarios",loadChildren:()=>Promise.all([a.e(445),a.e(843),a.e(592),a.e(343)]).then(a.bind(a,6343)).then(e=>e.UsuariosModule),canActivate:[T.p],data:{roles:[u.u.Admin,u.u.Master]}},{path:"empresas",loadChildren:()=>Promise.all([a.e(445),a.e(341),a.e(193),a.e(875),a.e(490),a.e(843),a.e(918)]).then(a.bind(a,4918)).then(e=>e.EmpresasModule),canActivate:[T.p],data:{roles:[u.u.Admin]}}]}];let Nn=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[p.Bz.forChild(Yn),p.Bz]}),e})();function jn(e,i){return()=>new Promise((t,o)=>{(0,I.n)(e.refreshToken()).then(l=>{if("/account/login"==window.location.pathname){var r=window.location.search,s=r.split("?returnUrl=");(r=s[s.length-1]).trim()?i.navigateByUrl(decodeURIComponent(r)):i.navigate([""])}}).catch(l=>{}).finally(()=>{t()})})}let kn=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e,bootstrap:[Q]}),e.\u0275inj=n.cJS({providers:[{provide:n.ip1,useFactory:jn,multi:!0,deps:[Z.B,p.F0]}],imports:[g.ez,Nn,E.yI.forChild(),c.u5,b.uH]}),e})()}}]);