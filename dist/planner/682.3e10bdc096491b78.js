"use strict";(self.webpackChunkplanner=self.webpackChunkplanner||[]).push([[682],{6025:(R,x,r)=>{r.d(x,{T7:()=>I,Wj:()=>_});var p=r(655),g=r(43),u=r(1956);class _{constructor(){this.id=0,this.nome="",this.empresa_Id=0,this.carteiraProdutoRel=[],this.carteiraRiscoRel=[],this.registroNaoSalvo=!1}}(0,p.gn)([(0,g.Vp)(),(0,p.w6)("design:type",Boolean)],_.prototype,"ativo",void 0),(0,p.gn)([(0,g.Vp)(),(0,p.w6)("design:type",Boolean)],_.prototype,"registroNaoSalvo",void 0);class M{constructor(){this.id=0,this.nome="",this.empresa_Id=0,this.carteiraProdutoRel=[],this.registroNaoSalvo=!1}}(0,p.gn)([(0,g.Vp)(),(0,p.w6)("design:type",Boolean)],M.prototype,"ativo",void 0),(0,p.gn)([(0,g.Vp)(),(0,p.w6)("design:type",Boolean)],M.prototype,"registroNaoSalvo",void 0);var I=[{field:"id",header:"Id",maskType:u.O.undefined,filterType:u.vA.text,filterDisplay:u.w2.menu,filterShowMatchMode:!0},{field:"nome",header:"Carteira",maskType:u.O.undefined,filterType:u.vA.text,filterDisplay:u.w2.menu,filterShowMatchMode:!0}]},6886:(R,x,r)=>{r.d(x,{Dw:()=>b,a7:()=>M});var p=r(655),g=r(43),u=r(805),_=r(1956);class M{constructor(){this.id=void 0,this.descricao="",this.empresa_Id=void 0,this.tipoAtivo_Id=void 0,this.tipoRisco_Id=void 0,this.tipoLiquidez_Id=void 0,this.produtoTributacaoRel=[],this.taxaAdm="",this.taxaPfee="",this.registroNaoSalvo=!1}}(0,p.gn)([(0,g.Vp)(),(0,p.w6)("design:type",Boolean)],M.prototype,"registroNaoSalvo",void 0);var b=[{field:"id",header:"Id",maskType:_.O.undefined,filterType:_.vA.text,filterDisplay:_.w2.menu,filterShowAddButton:!1,filterShowMatchMode:!1,filterMatchMode:u.a6.CONTAINS},{field:"descricao",header:"Nome",maskType:_.O.undefined,filterType:_.vA.text,filterDisplay:_.w2.menu,filterShowAddButton:!1,filterShowMatchMode:!1,filterMatchMode:u.a6.CONTAINS},{field:"tipoAtivo.nome",header:"Ativo",maskType:_.O.undefined,filterType:_.vA.text,filterDisplay:_.w2.menu,filterShowAddButton:!0,filterShowMatchMode:!0,filterMatchMode:u.a6.CONTAINS},{field:"tipoRisco.nome",header:"Risco",maskType:_.O.undefined,filterType:_.vA.text,filterDisplay:_.w2.menu,filterShowAddButton:!0,filterShowMatchMode:!0,filterMatchMode:u.a6.CONTAINS},{field:"tipoLiquidez.nome",header:"Liquidez",maskType:_.O.undefined,filterType:_.vA.text,filterDisplay:_.w2.menu,filterShowAddButton:!0,filterShowMatchMode:!0,filterMatchMode:u.a6.CONTAINS},{field:"taxaAdm",header:"Taxa ADM",maskType:_.O.percentage,decimal:"1.0-2",filterType:_.vA.numeric,filterDisplay:_.w2.menu,filterShowAddButton:!0,filterShowMatchMode:!0,filterMatchMode:u.a6.CONTAINS},{field:"taxaPfee",header:"Taxa PFEE",maskType:_.O.percentage,decimal:"1.0-2",filterType:_.vA.numeric,filterDisplay:_.w2.menu,filterShowAddButton:!0,filterShowMatchMode:!0,filterMatchMode:u.a6.CONTAINS}]},316:(R,x,r)=>{r.d(x,{p:()=>u});var p=r(655),g=r(43);class u{constructor(){this.id=void 0,this.nome="",this.percentualDisponivel=0}}(0,p.gn)([(0,g.Vp)(),(0,p.w6)("design:type",Number)],u.prototype,"percentualDisponivel",void 0)},2043:(R,x,r)=>{r.r(x),r.d(x,{CarteiraSetupModule:()=>we});var p=r(6895),g=r(7185),u=r(8627),_=r(4458),M=r(4115),I=r(5623),b=r(801),L=r(6025),y=r(9398),C=r(1286),O=r(9205),P=r(46),e=r(4650),A=r(433),d=r(279),c=r(3868),o=r(5576),h=r(805);const m=function(){return["cadastrar"]};function v(i,l){1&i&&(e.TgZ(0,"div",9)(1,"p"),e._uU(2,"Nenhum registro encontrado. "),e.TgZ(3,"a",10),e._uU(4,"Clique aqui para adicionar"),e.qZA()()()),2&i&&(e.xp6(3),e.Q6J("routerLink",e.DdM(1,m)))}function T(i,l){if(1&i&&(e.TgZ(0,"p")(1,"small"),e._uU(2),e.qZA()()),2&i){const t=e.oxw(3);e.xp6(2),e.hij(" ",t.list.length," resultado(s) ")}}function w(i,l){if(1&i&&(e.TgZ(0,"p")(1,"small"),e._uU(2),e.qZA()()),2&i){const t=e.oxw(3);e.xp6(2),e.hij(" (",t.selectedItems.length,") linhas selecionadas ")}}function E(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",26),e._UZ(1,"i",27),e.TgZ(2,"input",28,29),e.NdJ("input",function(){e.CHM(t);const s=e.MAs(3);e.oxw(2);const a=e.MAs(2);return e.KtG(a.filterGlobal(s.value,"contains"))}),e.qZA()()}}function f(i,l){if(1&i&&(e.TgZ(0,"div",19)(1,"div",20),e.YNc(2,T,3,1,"p",15),e.YNc(3,w,3,1,"p",15),e.qZA(),e.TgZ(4,"div",21)(5,"div",22)(6,"a",23),e._uU(7,"Adicionar"),e.qZA()(),e._UZ(8,"div",24),e.YNc(9,E,4,0,"div",25),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",!t.loading),e.xp6(1),e.Q6J("ngIf",t.selectedItems.length>0),e.xp6(3),e.Q6J("routerLink",e.DdM(4,m)),e.xp6(3),e.Q6J("ngIf",t.list.length>0)}}function B(i,l){1&i&&e._UZ(0,"p-tableHeaderCheckbox")}function U(i,l){if(1&i&&(e.TgZ(0,"th",33)(1,"div",34),e._UZ(2,"span",39)(3,"p-sortIcon",36)(4,"p-columnFilter",40),e.qZA()()),2&i){const t=l.$implicit;e.Q6J("pSortableColumn",t.field),e.xp6(2),e.Q6J("innerHTML",t.header,e.oJD),e.xp6(1),e.Q6J("field",t.field),e.xp6(1),e.Q6J("type",t.filterType)("field",t.field)("display",t.filterDisplay)("showOperator",!1)("matchMode",t.filterMatchMode)("showMatchModes",t.filterShowMatchMode)("showAddButton",t.filterShowAddButton)}}function N(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"select",41,42),e.NdJ("change",function(){e.CHM(t);const s=e.MAs(1);e.oxw(3);const a=e.MAs(2);return e.KtG(a.filter(s.value,"ativo","equals"))}),e.TgZ(2,"option",43),e._uU(3,"Todos"),e.qZA(),e.TgZ(4,"option",44),e._uU(5,"Ativo"),e.qZA(),e.TgZ(6,"option",43),e._uU(7,"Inativo"),e.qZA()()}2&i&&(e.xp6(2),e.Q6J("value",""),e.xp6(2),e.Q6J("value",!0),e.xp6(2),e.Q6J("value",!1))}function H(i,l){if(1&i&&(e.TgZ(0,"tr",31)(1,"th"),e.YNc(2,B,1,0,"p-tableHeaderCheckbox",15),e.qZA(),e.YNc(3,U,5,10,"th",32),e.TgZ(4,"th",33)(5,"div",34)(6,"span",35),e._uU(7,"Status"),e.qZA(),e._UZ(8,"p-sortIcon",36),e.TgZ(9,"p-columnFilter",37),e.YNc(10,N,8,3,"ng-template",38),e.qZA()()(),e._UZ(11,"th"),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(3);e.xp6(2),e.Q6J("ngIf",n.list.length>0),e.xp6(1),e.Q6J("ngForOf",t),e.xp6(1),e.Q6J("pSortableColumn","ativo"),e.xp6(4),e.Q6J("field","ativo"),e.xp6(1),e.Q6J("type","boolean")("showMatchModes",!1)("showOperator",!1)("showAddButton",!1)}}function F(i,l){1&i&&e.YNc(0,H,12,8,"ng-template",30)}function K(i,l){if(1&i&&(e.TgZ(0,"td")(1,"p"),e._uU(2),e.qZA()()),2&i){const t=l.$implicit,n=e.oxw().$implicit,s=e.oxw(2);e.xp6(2),e.Oqu(s.getCellData(n,t))}}function J(i,l){if(1&i&&(e.TgZ(0,"div",54),e._uU(1),e.ALo(2,"date"),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij("Desativado em ",e.Dn7(2,1,t.dataDesativado,"dd/MM/yyyy","UTC")," ")}}function j(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"tr",45)(1,"td"),e._UZ(2,"p-tableCheckbox",43),e.qZA(),e.YNc(3,K,3,1,"td",46),e.TgZ(4,"td"),e._UZ(5,"span",47),e.YNc(6,J,3,5,"ng-template",null,42,e.W1O),e.qZA(),e.TgZ(8,"td",48)(9,"div",49)(10,"button",50)(11,"span",51),e.NdJ("click",function(){const a=e.CHM(t).$implicit,S=e.oxw(2);return e.KtG(S.onRowSelect(a))}),e._UZ(12,"fa-icon",52),e.qZA(),e.TgZ(13,"span",53),e.NdJ("click",function(){const a=e.CHM(t).$implicit,S=e.oxw(2);return e.KtG(S.onRowUnselect(a))}),e._UZ(14,"fa-icon",52),e.qZA()()()()()}if(2&i){const t=l.$implicit,n=l.columns,s=l.rowIndex,a=e.MAs(7),S=e.oxw(2);e.ekj("selected",t==S.selected)("selected-many",S.selectedItems.includes(t)),e.Q6J("pSelectableRow",t)("pSelectableRowIndex",s),e.xp6(1),e.uIk("data-id",t.id),e.xp6(1),e.Q6J("value",t),e.xp6(1),e.Q6J("ngForOf",n),e.xp6(2),e.ekj("flag-green",t.ativo)("flag-red",!t.ativo),e.Q6J("ngbPopover",a)("disablePopover",t.ativo)("innerText",t.ativo?"Ativo":"Inativo"),e.xp6(5),e.ekj("active",t==S.selected),e.xp6(2),e.Q6J("icon",S.faEllipsisV),e.xp6(2),e.Q6J("icon",S.faTimes)}}function W(i,l){if(1&i&&(e.TgZ(0,"td"),e._uU(1," Nenhum registro encontrado "),e.qZA()),2&i){const t=e.oxw().$implicit;e.uIk("colspan",t.length)}}function Q(i,l){if(1&i&&(e.TgZ(0,"td"),e._uU(1," Carregando... "),e.qZA()),2&i){const t=e.oxw().$implicit;e.uIk("colspan",t.length)}}function G(i,l){if(1&i&&(e.TgZ(0,"tr"),e._UZ(1,"td"),e.YNc(2,W,2,1,"td",15),e.YNc(3,Q,2,1,"td",15),e._UZ(4,"td"),e.qZA()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",0==t.list.length&&!t.loading),e.xp6(1),e.Q6J("ngIf",t.loading)}}function Y(i,l){if(1&i&&(e.TgZ(0,"a",59),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.Q6J("routerLink",t.fullRoute),e.xp6(1),e.Oqu(t.label)}}function k(i,l){if(1&i&&(e.TgZ(0,"div",57),e.YNc(1,Y,2,2,"a",58),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.tableLinks)}}function z(i,l){if(1&i&&(e.TgZ(0,"div",55),e.YNc(1,k,2,1,"div",56),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.selected)}}const $=function(){return[10,25,50]};function X(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",11)(1,"p-table",12,13),e.NdJ("selectionChange",function(s){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedItems=s)})("onRowSelect",function(s){e.CHM(t);const a=e.oxw();return e.KtG(a.onRowSelect(s))})("onRowUnselect",function(s){e.CHM(t);const a=e.oxw();return e.KtG(a.onRowUnselect(s))})("onHeaderCheckboxToggle",function(s){e.CHM(t);const a=e.oxw();return e.KtG(a.onAllRowToggle(s))}),e.YNc(3,f,10,5,"ng-template",14),e.YNc(4,F,1,0,null,15),e.YNc(5,j,15,20,"ng-template",16),e.YNc(6,G,5,2,"ng-template",17),e.qZA(),e.YNc(7,z,2,1,"div",18),e.qZA()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("columns",t.setupColumns)("value",t.list)("paginator",t.list.length>0)("rows",10)("rowHover",!0)("rowsPerPageOptions",e.DdM(13,$))("showCurrentPageReport",!0)("globalFilterFields",t.filters)("selection",t.selectedItems)("selectionMode","multiple")("filterDelay",100),e.xp6(3),e.Q6J("ngIf",t.list.length>0),e.xp6(3),e.Q6J("ngIf",t.tableLinks.length>0)}}const ee=[{path:"cadastrar",component:_.G,title:"Planner - Cadastrar carteira "},{path:"editar/:setup_id",component:I.F,title:"Planner - Cadastrar carteira "},{path:"",component:(()=>{class i{constructor(t,n,s){this.setupRelService=t,this.setupService=n,this.table=s,this.faFilter=b.G_j,this.faEllipsisV=b.iV1,this.faTimes=b.NBC,this.objeto=new y.oW,this.setupColumns=L.T7,this.list=[],this.tableLinks=[],this.loading=!1,this.selectedItems=[],this.filters=[],this.activityValues=[0,100],this.setupService.list.subscribe(a=>{this.list=a,this.list.map(S=>(S.carteiraRiscoRel=S.carteiraRiscoRel??[],S))}),this.setupService.getList().subscribe(),this.tableLinks=[{label:"Editar",routePath:["editar"],paramsFieldName:["id"]},{label:"Excluir",routePath:["excluir"],paramsFieldName:["id"]}],this.table.loading.subscribe(a=>this.loading=a),this.table.selected.subscribe(a=>{this.selected=a,this.selected&&(this.tableLinks=this.table.encryptParams(this.tableLinks))}),this.table.selectedItems.subscribe(a=>this.selectedItems=a),this.filters=this.setupColumns.map(a=>a.field)}ngOnInit(){}onRowSelect(t){this.table.onRowSelect(t)}onRowUnselect(t){this.table.onRowUnselect(t)}onAllRowToggle(t){this.table.onAllRowToggle(t)}getCellData(t,n){return this.table.getCellData(t,n)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(C.C),e.Y36(O.A),e.Y36(P.i))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-list"]],decls:16,vars:2,consts:[[1,"page"],[1,"page__header"],[1,"title-icon"],[1,"pi","pi-wallet"],[1,"page__header-title"],[1,"page__header-subtitle"],[1,"page__body"],["class","p-2",4,"ngIf"],["class","content",4,"ngIf"],[1,"p-2"],[3,"routerLink"],[1,"content"],["responsiveLayout","scroll","currentPageReportTemplate","Exibindo {first} de {totalRecords} resultado(s)",1,"table",3,"columns","value","paginator","rows","rowHover","rowsPerPageOptions","showCurrentPageReport","globalFilterFields","selection","selectionMode","filterDelay","selectionChange","onRowSelect","onRowUnselect","onHeaderCheckboxToggle"],["dt",""],["pTemplate","caption"],[4,"ngIf"],["pTemplate","body"],["pTemplate","emptymessage"],["class","actions__nav",4,"ngIf"],[1,"header-box","d-flex","justify-content-between","align-items-end","flex-wrap","w-100","px-0","py-0","flex-lg-row","flex-sm-column-reverse"],[1,"col-xl-3","col-lg-3","col-md-3","col-sm-12","col-12","p-0"],[1,"col-lg-9","col-md-9","col-sm-12","col-12","d-flex","align-items-center","justify-content-end","flex-wrap","flex-lg-row","flex-sm-column-reverse","px-0"],[1,"col-lg-2","col-md-2","col-sm-12","my-2","px-0"],[1,"btn","btn-primary","w-100","d-block",3,"routerLink"],[1,"mr-2","d-sm-none","d-md-block"],["class","p-input-icon-left col-lg-4 col-md-4 col-sm-11 col-9 my-2",4,"ngIf"],[1,"p-input-icon-left","col-lg-4","col-md-4","col-sm-11","col-9","my-2"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Pesquisar",1,"form-control",3,"input"],["filter",""],["pTemplate","header"],[1,"grey"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[1,"d-flex","align-items-center","justify-content-between"],[1,"mr-auto"],[3,"field"],["field","'ativo'","matchMode","equals","display","menu",3,"type","showMatchModes","showOperator","showAddButton"],["pTemplate","filter"],[1,"mr-auto",3,"innerHTML"],[3,"type","field","display","showOperator","matchMode","showMatchModes","showAddButton"],["name","ativo","id","ativo",1,"form-control",3,"change"],["ativo",""],[3,"value"],["selected","",3,"value"],[3,"pSelectableRow","pSelectableRowIndex"],[4,"ngFor","ngForOf"],["triggers","mouseenter:mouseleave",1,"flag",3,"ngbPopover","disablePopover","innerText"],[1,"td-actions"],[1,"actions"],[1,"actions__toggle"],[1,"icon","icon-ellipsis",3,"click"],[3,"icon"],[1,"icon","icon-times",3,"click"],[1,"py-2","px-3"],[1,"actions__nav"],["class","actions__nav-inner",4,"ngIf"],[1,"actions__nav-inner"],["class","actions__nav-link",3,"routerLink",4,"ngFor","ngForOf"],[1,"actions__nav-link",3,"routerLink"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._UZ(3,"i",3),e.qZA(),e.TgZ(4,"div")(5,"h3",4),e._uU(6,"Setup"),e.qZA(),e.TgZ(7,"p",5)(8,"small"),e._uU(9,"Setup de produtos cadastrados em "),e.TgZ(10,"strong"),e._uU(11,'"Empresa X"'),e.qZA()()()()(),e.TgZ(12,"div",6),e.YNc(13,v,5,2,"div",7),e.YNc(14,X,8,14,"div",8),e.qZA()(),e._UZ(15,"router-outlet")),2&t&&(e.xp6(13),e.Q6J("ngIf",0==n.list.length&&!n.loading),e.xp6(1),e.Q6J("ngIf",n.list.length>0))},dependencies:[p.sg,p.O5,u.lC,u.yS,A.YN,A.Kr,d.o8,c.BN,o.iA,h.jx,o.lQ,o.Ei,o.fz,o.UA,o.Mo,o.xl,p.uU]}),i})(),children:[{path:"excluir/:setup_id",component:M.T,title:"Planner - Excluir carteira "}]}];let te=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[u.Bz.forChild(ee),u.Bz]}),i})(),ie=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-carteira-setup"]],decls:1,vars:0,template:function(t,n){1&t&&e._UZ(0,"router-outlet")},dependencies:[u.lC]}),i})();var ne=r(5089),se=r(1094),ae=r(9364),D=r(9592);const re=["sliderHandle"],oe=["sliderHandleStart"],le=["sliderHandleEnd"],de=function(i,l){return{left:i,width:l}};function ce(i,l){if(1&i&&e._UZ(0,"span",4),2&i){const t=e.oxw();e.Q6J("ngStyle",e.WLB(1,de,null!=t.offset?t.offset+"%":t.handleValues[0]+"%",t.diff?t.diff+"%":t.handleValues[1]-t.handleValues[0]+"%"))}}const pe=function(i,l){return{bottom:i,height:l}};function ue(i,l){if(1&i&&e._UZ(0,"span",4),2&i){const t=e.oxw();e.Q6J("ngStyle",e.WLB(1,pe,null!=t.offset?t.offset+"%":t.handleValues[0]+"%",t.diff?t.diff+"%":t.handleValues[1]-t.handleValues[0]+"%"))}}const he=function(i){return{height:i}};function _e(i,l){if(1&i&&e._UZ(0,"span",4),2&i){const t=e.oxw();e.Q6J("ngStyle",e.VKq(1,he,t.handleValue+"%"))}}const me=function(i){return{width:i}};function fe(i,l){if(1&i&&e._UZ(0,"span",4),2&i){const t=e.oxw();e.Q6J("ngStyle",e.VKq(1,me,t.handleValue+"%"))}}const Z=function(i,l){return{left:i,bottom:l}};function ge(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"span",5,6),e.NdJ("keydown",function(s){e.CHM(t);const a=e.oxw();return e.KtG(a.onHandleKeydown(s))})("mousedown",function(s){e.CHM(t);const a=e.oxw();return e.KtG(a.onMouseDown(s))})("touchstart",function(s){e.CHM(t);const a=e.oxw();return e.KtG(a.onTouchStart(s))})("touchmove",function(s){e.CHM(t);const a=e.oxw();return e.KtG(a.onTouchMove(s))})("touchend",function(s){e.CHM(t);const a=e.oxw();return e.KtG(a.onTouchEnd(s))}),e.qZA()}if(2&i){const t=e.oxw();e.Udp("transition",t.dragging?"none":null),e.Q6J("ngStyle",e.WLB(8,Z,"horizontal"==t.orientation?t.handleValue+"%":null,"vertical"==t.orientation?t.handleValue+"%":null)),e.uIk("tabindex",t.disabled?null:t.tabindex)("aria-valuemin",t.min)("aria-valuenow",t.value)("aria-valuemax",t.max)("aria-labelledby",t.ariaLabelledBy)}}const V=function(i){return{"p-slider-handle-active":i}};function ve(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"span",7,8),e.NdJ("keydown",function(s){e.CHM(t);const a=e.oxw();return e.KtG(a.onHandleKeydown(s,0))})("mousedown",function(s){e.CHM(t);const a=e.oxw();return e.KtG(a.onMouseDown(s,0))})("touchstart",function(s){e.CHM(t);const a=e.oxw();return e.KtG(a.onTouchStart(s,0))})("touchmove",function(s){e.CHM(t);const a=e.oxw();return e.KtG(a.onTouchMove(s,0))})("touchend",function(s){e.CHM(t);const a=e.oxw();return e.KtG(a.onTouchEnd(s))}),e.qZA()}if(2&i){const t=e.oxw();e.Udp("transition",t.dragging?"none":null),e.Q6J("ngStyle",e.WLB(9,Z,t.rangeStartLeft,t.rangeStartBottom))("ngClass",e.VKq(12,V,0==t.handleIndex)),e.uIk("tabindex",t.disabled?null:t.tabindex)("aria-valuemin",t.min)("aria-valuenow",t.value?t.value[0]:null)("aria-valuemax",t.max)("aria-labelledby",t.ariaLabelledBy)}}function xe(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"span",7,9),e.NdJ("keydown",function(s){e.CHM(t);const a=e.oxw();return e.KtG(a.onHandleKeydown(s,1))})("mousedown",function(s){e.CHM(t);const a=e.oxw();return e.KtG(a.onMouseDown(s,1))})("touchstart",function(s){e.CHM(t);const a=e.oxw();return e.KtG(a.onTouchStart(s,1))})("touchmove",function(s){e.CHM(t);const a=e.oxw();return e.KtG(a.onTouchMove(s,1))})("touchend",function(s){e.CHM(t);const a=e.oxw();return e.KtG(a.onTouchEnd(s))}),e.qZA()}if(2&i){const t=e.oxw();e.Udp("transition",t.dragging?"none":null),e.Q6J("ngStyle",e.WLB(9,Z,t.rangeEndLeft,t.rangeEndBottom))("ngClass",e.VKq(12,V,1==t.handleIndex)),e.uIk("tabindex",t.disabled?null:t.tabindex)("aria-valuemin",t.min)("aria-valuenow",t.value?t.value[1]:null)("aria-valuemax",t.max)("aria-labelledby",t.ariaLabelledBy)}}const Se=function(i,l,t,n){return{"p-slider p-component":!0,"p-disabled":i,"p-slider-horizontal":l,"p-slider-vertical":t,"p-slider-animate":n}},Ce={provide:A.JU,useExisting:(0,e.Gpc)(()=>Te),multi:!0};let Te=(()=>{class i{constructor(t,n,s,a){this.el=t,this.renderer=n,this.ngZone=s,this.cd=a,this.min=0,this.max=100,this.orientation="horizontal",this.tabindex=0,this.onChange=new e.vpe,this.onSlideEnd=new e.vpe,this.handleValues=[],this.onModelChange=()=>{},this.onModelTouched=()=>{},this.handleIndex=0}onMouseDown(t,n){this.disabled||(this.dragging=!0,this.updateDomData(),this.sliderHandleClick=!0,this.handleIndex=this.range&&this.handleValues&&this.handleValues[0]===this.max?0:n,this.bindDragListeners(),t.target.focus(),t.preventDefault(),this.animate&&D.p.removeClass(this.el.nativeElement.children[0],"p-slider-animate"))}onTouchStart(t,n){if(!this.disabled){var s=t.changedTouches[0];this.startHandleValue=this.range?this.handleValues[n]:this.handleValue,this.dragging=!0,this.handleIndex=this.range&&this.handleValues&&this.handleValues[0]===this.max?0:n,"horizontal"===this.orientation?(this.startx=parseInt(s.clientX,10),this.barWidth=this.el.nativeElement.children[0].offsetWidth):(this.starty=parseInt(s.clientY,10),this.barHeight=this.el.nativeElement.children[0].offsetHeight),this.animate&&D.p.removeClass(this.el.nativeElement.children[0],"p-slider-animate"),t.preventDefault()}}onTouchMove(t,n){if(!this.disabled){var a,s=t.changedTouches[0];a="horizontal"===this.orientation?Math.floor(100*(parseInt(s.clientX,10)-this.startx)/this.barWidth)+this.startHandleValue:Math.floor(100*(this.starty-parseInt(s.clientY,10))/this.barHeight)+this.startHandleValue,this.setValueFromHandle(t,a),t.preventDefault()}}onTouchEnd(t,n){this.disabled||(this.dragging=!1,this.onSlideEnd.emit(this.range?{originalEvent:t,values:this.values}:{originalEvent:t,value:this.value}),this.animate&&D.p.addClass(this.el.nativeElement.children[0],"p-slider-animate"),t.preventDefault())}onBarClick(t){this.disabled||(this.sliderHandleClick||(this.updateDomData(),this.handleChange(t)),this.sliderHandleClick=!1)}onHandleKeydown(t,n){this.disabled||(38==t.which||39==t.which?this.spin(t,1,n):(37==t.which||40==t.which)&&this.spin(t,-1,n))}spin(t,n,s){let a=(this.step||1)*n;this.range?(this.handleIndex=s,this.updateValue(this.values[this.handleIndex]+a),this.updateHandleValue()):(this.updateValue(this.value+a),this.updateHandleValue()),t.preventDefault()}handleChange(t){let n=this.calculateHandleValue(t);this.setValueFromHandle(t,n)}bindDragListeners(){this.ngZone.runOutsideAngular(()=>{const t=this.el?this.el.nativeElement.ownerDocument:"document";this.dragListener||(this.dragListener=this.renderer.listen(t,"mousemove",n=>{this.dragging&&this.ngZone.run(()=>{this.handleChange(n)})})),this.mouseupListener||(this.mouseupListener=this.renderer.listen(t,"mouseup",n=>{this.dragging&&(this.dragging=!1,this.ngZone.run(()=>{this.onSlideEnd.emit(this.range?{originalEvent:n,values:this.values}:{originalEvent:n,value:this.value}),this.animate&&D.p.addClass(this.el.nativeElement.children[0],"p-slider-animate")}))}))})}unbindDragListeners(){this.dragListener&&this.dragListener(),this.mouseupListener&&this.mouseupListener()}setValueFromHandle(t,n){this.sliderHandleClick=!1;let s=this.getValueFromHandle(n);this.range?this.step?this.handleStepChange(s,this.values[this.handleIndex]):(this.handleValues[this.handleIndex]=n,this.updateValue(s,t)):this.step?this.handleStepChange(s,this.value):(this.handleValue=n,this.updateValue(s,t)),this.cd.markForCheck()}handleStepChange(t,n){let s=t-n,a=n;s<0?a=n+Math.ceil(t/this.step-n/this.step)*this.step:s>0&&(a=n+Math.floor(t/this.step-n/this.step)*this.step),this.updateValue(a),this.updateHandleValue()}writeValue(t){this.range?this.values=t||[0,0]:this.value=t||0,this.updateHandleValue(),this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}get rangeStartLeft(){return this.isVertical()?null:this.handleValues[0]+"%"}get rangeStartBottom(){return this.isVertical()?this.handleValues[0]+"%":"auto"}get rangeEndLeft(){return this.isVertical()?null:this.handleValues[1]+"%"}get rangeEndBottom(){return this.isVertical()?this.handleValues[1]+"%":"auto"}isVertical(){return"vertical"===this.orientation}updateDomData(){let t=this.el.nativeElement.children[0].getBoundingClientRect();this.initX=t.left+D.p.getWindowScrollLeft(),this.initY=t.top+D.p.getWindowScrollTop(),this.barWidth=this.el.nativeElement.children[0].offsetWidth,this.barHeight=this.el.nativeElement.children[0].offsetHeight}calculateHandleValue(t){return"horizontal"===this.orientation?100*(t.pageX-this.initX)/this.barWidth:100*(this.initY+this.barHeight-t.pageY)/this.barHeight}updateHandleValue(){this.range?(this.handleValues[0]=100*(this.values[0]<this.min?0:this.values[0]-this.min)/(this.max-this.min),this.handleValues[1]=100*(this.values[1]>this.max?100:this.values[1]-this.min)/(this.max-this.min)):this.handleValue=this.value<this.min?0:this.value>this.max?100:100*(this.value-this.min)/(this.max-this.min)}updateValue(t,n){if(this.range){let s=t;0==this.handleIndex?(s<this.min?(s=this.min,this.handleValues[0]=0):s>this.values[1]&&(s>this.max&&(s=this.max,this.handleValues[0]=100),this.handleValues[0]=s),this.sliderHandleStart.nativeElement.focus()):(s>this.max?(s=this.max,this.handleValues[1]=100,this.offset=this.handleValues[1]):s<this.min?(s=this.min,this.handleValues[1]=s):s<this.values[0]&&(this.offset=this.handleValues[1]),this.sliderHandleEnd.nativeElement.focus()),this.diff=Math.abs(this.handleValues[0]-this.handleValues[1]),this.offset=Math.min(this.handleValues[0],this.handleValues[1]),this.values[this.handleIndex]=this.getNormalizedValue(s),this.onModelChange([this.minVal,this.maxVal]),this.onChange.emit({event:n,values:this.values})}else t<this.min?(t=this.min,this.handleValue=0):t>this.max&&(t=this.max,this.handleValue=100),this.value=this.getNormalizedValue(t),this.onModelChange(this.value),this.onChange.emit({event:n,value:this.value}),this.sliderHandle.nativeElement.focus()}getValueFromHandle(t){return t/100*(this.max-this.min)+this.min}getDecimalsCount(t){return t&&Math.floor(t)!==t&&t.toString().split(".")[1].length||0}getNormalizedValue(t){let n=this.getDecimalsCount(this.step);return n>0?+t.toFixed(n):Math.floor(t)}ngOnDestroy(){this.unbindDragListeners()}get minVal(){return Math.min(this.values[1],this.values[0])}get maxVal(){return Math.max(this.values[1],this.values[0])}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(e.sBO))},i.\u0275cmp=e.Xpm({type:i,selectors:[["p-slider"]],viewQuery:function(t,n){if(1&t&&(e.Gf(re,5),e.Gf(oe,5),e.Gf(le,5)),2&t){let s;e.iGM(s=e.CRH())&&(n.sliderHandle=s.first),e.iGM(s=e.CRH())&&(n.sliderHandleStart=s.first),e.iGM(s=e.CRH())&&(n.sliderHandleEnd=s.first)}},hostAttrs:[1,"p-element"],inputs:{animate:"animate",disabled:"disabled",min:"min",max:"max",orientation:"orientation",step:"step",range:"range",style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex"},outputs:{onChange:"onChange",onSlideEnd:"onSlideEnd"},features:[e._Bn([Ce])],decls:8,vars:16,consts:[[3,"ngStyle","ngClass","click"],["class","p-slider-range",3,"ngStyle",4,"ngIf"],["class","p-slider-handle",3,"transition","ngStyle","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],["class","p-slider-handle",3,"transition","ngStyle","ngClass","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],[1,"p-slider-range",3,"ngStyle"],[1,"p-slider-handle",3,"ngStyle","keydown","mousedown","touchstart","touchmove","touchend"],["sliderHandle",""],[1,"p-slider-handle",3,"ngStyle","ngClass","keydown","mousedown","touchstart","touchmove","touchend"],["sliderHandleStart",""],["sliderHandleEnd",""]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.NdJ("click",function(a){return n.onBarClick(a)}),e.YNc(1,ce,1,4,"span",1),e.YNc(2,ue,1,4,"span",1),e.YNc(3,_e,1,3,"span",1),e.YNc(4,fe,1,3,"span",1),e.YNc(5,ge,2,11,"span",2),e.YNc(6,ve,2,14,"span",3),e.YNc(7,xe,2,14,"span",3),e.qZA()),2&t&&(e.Tol(n.styleClass),e.Q6J("ngStyle",n.style)("ngClass",e.l5B(11,Se,n.disabled,"horizontal"==n.orientation,"vertical"==n.orientation,n.animate)),e.xp6(1),e.Q6J("ngIf",n.range&&"horizontal"==n.orientation),e.xp6(1),e.Q6J("ngIf",n.range&&"vertical"==n.orientation),e.xp6(1),e.Q6J("ngIf",!n.range&&"vertical"==n.orientation),e.xp6(1),e.Q6J("ngIf",!n.range&&"horizontal"==n.orientation),e.xp6(1),e.Q6J("ngIf",!n.range),e.xp6(1),e.Q6J("ngIf",n.range),e.xp6(1),e.Q6J("ngIf",n.range))},dependencies:[p.mk,p.O5,p.PC],styles:[".p-slider{position:relative}.p-slider .p-slider-handle{position:absolute;cursor:grab;touch-action:none;display:block}.p-slider-range{position:absolute;display:block}.p-slider-horizontal .p-slider-range{top:0;left:0;height:100%}.p-slider-horizontal .p-slider-handle{top:50%}.p-slider-vertical{height:100px}.p-slider-vertical .p-slider-handle{left:50%}.p-slider-vertical .p-slider-range{bottom:0;left:0;width:100%}\n"],encapsulation:2,changeDetection:0}),i})(),Me=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[p.ez]}),i})(),ye=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[p.ez]}),i})(),we=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i,bootstrap:[ie]}),i.\u0275inj=e.cJS({imports:[p.ez,te,ne.m,g.Rh,A.u5,se.yI.forChild(),ae.S,d.dT,c.uH,o.U$,Me,ye]}),i})()},9885:(R,x,r)=>{r.d(x,{m:()=>A});var p=r(1135),g=r(4004),u=r(9243),_=r(2340),M=r(9535),I=r(9398),b=r(8913),L=r(46),y=r(6886),C=r(4650),O=r(8627),P=r(529),e=r(7185);let A=(()=>{class d{constructor(o,h,m,v,T,w,E){this.router=o,this.table=h,this.http=m,this.toastr=v,this.crypto=T,this.dropdownService=w,this.empresaService=E,this.url=_.N.url,this.list=new p.X([]),this.objeto=new p.X(void 0),this.carteiraSetup=new p.X([]),this.empresa=new I.oW,this.empresaService.empresaObject.subscribe(f=>{this.empresa=f})}getObject(){var o=localStorage.getItem("produto");return o&&this.setObject(this.crypto.decrypt(o)??new y.a7),this.objeto}setObject(o){localStorage.setItem("produto",this.crypto.encrypt(o)??""),this.objeto.next(o)}add_To_Empresa_List(o){if(this.empresa){var h=this.empresa.produto??[];let v=this.dropdownService.tipoAtivo.value.find(f=>f.id==o.tipoAtivo_Id);if(!v)return this.toastr.error("Selecione um tipo de ativo v\xe1lido!!"),!1;o.tipoAtivo=v;let T=this.dropdownService.tipoRisco.value.find(f=>f.id==o.tipoRisco_Id);if(!T)return this.toastr.error("Selecione um tipo de risco v\xe1lido!!"),!1;o.tipoRisco=T;let w=this.dropdownService.tipoLiquidez.value.find(f=>f.id==o.tipoLiquidez_Id);if(!w)return this.toastr.error("Selecione um tipo de liquidez v\xe1lido!!"),!1;if(o.tipoLiquidez=w,0==o.produtoTributacaoRel.length)return this.toastr.error("Selecione pelo menos uma tributa\xe7\xe3o"),!1;h.sort((f,B)=>f.id-B.id);var m=0==h.length?0:h[h.length-1].id;o.id=++m,o.registroNaoSalvo=!0;let E=Object.assign({},o);return E.produtoTributacaoRel.map(f=>{f.produto.produtoTributacaoRel=[]}),h.push(E),this.empresa.produto=h,this.empresaService.setObject(this.empresa),this.toastr.success("Opera\xe7\xe3o conclu\xedda"),this.table.resetSelection(),!0}return this.toastr.error("Nenhuma empresa selecionada."),!1}edit_To_Empresa_List(o){if(this.empresa){var h=this.empresa.produto??[];let m=h.findIndex(v=>v.id==o.id);if(-1!=m){let v=this.dropdownService.tipoAtivo.value.find(f=>f.id==o.tipoAtivo_Id);if(!v)return this.toastr.error("Selecione um tipo de ativo v\xe1lido!!"),!1;o.tipoAtivo=v;let T=this.dropdownService.tipoRisco.value.find(f=>f.id==o.tipoRisco_Id);if(!T)return this.toastr.error("Selecione um tipo de risco v\xe1lido!!"),!1;o.tipoRisco=T;let w=this.dropdownService.tipoLiquidez.value.find(f=>f.id==o.tipoLiquidez_Id);if(!w)return this.toastr.error("Selecione um tipo de liquidez v\xe1lido!!"),!1;if(o.tipoLiquidez=w,0==o.produtoTributacaoRel.length)return this.toastr.error("Selecione pelo menos uma tributa\xe7\xe3o"),!1;let E=Object.assign({},o);return E.produtoTributacaoRel.map(f=>{f.produto.produtoTributacaoRel=[]}),h.splice(m,1,E),this.empresa.produto=h,this.empresaService.setObject(this.empresa),this.toastr.success("Opera\xe7\xe3o conclu\xedda"),!0}return this.toastr.error("Produto n\xe3o encontrado!!"),!1}return this.toastr.error("Nenhuma empresa selecionada."),!1}delete_To_Empresa_List(o){if(this.empresa){var h=this.empresa.produto??[];let m=h.findIndex(v=>v.id==o);return-1!=m?(h.splice(m,1),this.empresa.produto=h,this.empresaService.setObject(this.empresa),this.toastr.success("Opera\xe7\xe3o conclu\xedda"),this.table.resetSelection(),!0):(this.toastr.error("Produto n\xe3o encontrado!!"),!1)}return this.toastr.error("Nenhuma empresa selecionada."),!1}getList(o=1){return this.http.get(`${this.url}/produto/all/${o}`).pipe((0,g.U)(h=>(this.list.next(h),h)))}get(o){return this.http.get(`${this.url}/produto/${o}`)}create(o){return this.http.post(`${this.url}/produto/`,o)}edit(o){return this.http.put(`${this.url}/produto/`,o)}delete(o){return this.http.delete(`${this.url}/produto/${o}`)}}return d.\u0275fac=function(o){return new(o||d)(C.LFG(O.F0),C.LFG(L.i),C.LFG(P.eN),C.LFG(e._W),C.LFG(u.w),C.LFG(M.V),C.LFG(b.P))},d.\u0275prov=C.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},9205:(R,x,r)=>{r.d(x,{A:()=>P});var p=r(1135),g=r(4004),u=r(9243),_=r(2340),M=r(9398),I=r(8913),b=r(46),L=r(6025),y=r(4650),C=r(529),O=r(7185);let P=(()=>{class e{constructor(d,c,o,h,m){this.table=d,this.http=c,this.toastr=o,this.crypto=h,this.empresaService=m,this.url=_.N.url,this.list=new p.X([]),this.objeto=new p.X(new L.Wj),this.empresa=new M.oW,this.empresaService.empresaObject.subscribe(v=>{this.empresa=v})}getObject(){let d=localStorage.getItem("setup");if(d){let c=this.crypto.decrypt(d);c.carteiraRiscoRel=c.carteiraRiscoRel&&c.carteiraRiscoRel.length?c.carteiraRiscoRel:[],c.carteiraProdutoRel=c.carteiraProdutoRel&&c.carteiraProdutoRel.length?c.carteiraProdutoRel:[],this.objeto.next(c)}else this.setObject(new L.Wj);return this.objeto}setObject(d){d.carteiraRiscoRel=d.carteiraRiscoRel&&d.carteiraRiscoRel.length?d.carteiraRiscoRel:[],d.carteiraProdutoRel=d.carteiraProdutoRel&&d.carteiraProdutoRel.length?d.carteiraProdutoRel:[],localStorage.setItem("setup",this.crypto.encrypt(d)??""),this.objeto.next(d)}add_To_Empresa_List(d){if(console.log(d),this.empresa){if(this.empresa.carteiraSetup.find(h=>h.nome.toLowerCase()==d.nome.toLowerCase()&&h.id!=d.id&&h.empresa_Id==d.empresa_Id))return this.toastr.error("Setup j\xe1 cadastrado nessa empresa."),!1;if(0==d.carteiraProdutoRel.length)return this.toastr.error("Insira produtos nesse setup."),!1;d.carteiraProdutoRel.map(h=>(h.carteiraSetup_Id=0,h)),this.empresa.carteiraSetup.sort((h,m)=>m.id-m.id);let o=this.empresa.carteiraSetup.length>0?this.empresa.carteiraSetup[this.empresa.carteiraSetup.length-1].id:0;return d.id=++o,d.ativo=!0,d.registroNaoSalvo=!0,this.empresa.carteiraSetup.push(d),this.empresaService.setObject(this.empresa),this.toastr.success("Opera\xe7\xe3o conclu\xedda"),this.table.resetSelection(),!0}return this.toastr.error("Nenhuma empresa selecionada."),!1}edit_To_Empresa_List(d){if(this.empresa){let o=this.empresa.carteiraSetup.findIndex(m=>m.id==d.id);if(-1==o)return this.toastr.error("Setup n\xe3o encontrado."),!1;if(this.empresa.carteiraSetup.find(m=>m.nome.toLowerCase()==d.nome.toLowerCase()&&m.id!=d.id&&m.empresa_Id==d.empresa_Id))return this.toastr.error("Setup j\xe1 cadastrado nessa empresa."),!1;if(0==d.carteiraProdutoRel.length)return this.toastr.error("Insira produtos nesse setup."),!1;if(0==d.id){this.empresa.carteiraSetup.sort((v,T)=>T.id-T.id);let m=this.empresa.carteiraSetup.length>0?this.empresa.carteiraSetup[this.empresa.carteiraSetup.length-1].id:0;d.id=++m}d.ativo=!0;var c=this.empresa.carteiraSetup??[];return c.splice(o,1,d),this.empresa.carteiraSetup=c,this.empresaService.setObject(this.empresa),this.toastr.success("Opera\xe7\xe3o conclu\xedda"),this.table.resetSelection(),!0}return this.toastr.error("Nenhuma empresa selecionada."),!1}delete_To_Empresa_List(d){let c=this.empresa.carteiraSetup.findIndex(o=>o.id==d);return-1==c?(this.toastr.error("Registro n\xe3o encontrado!!"),!1):(this.empresa.carteiraSetup.splice(c,1),this.empresaService.setObject(this.empresa),this.toastr.success("Opera\xe7\xe3o conclu\xedda"),this.table.resetSelection(),!0)}excluirRisco(d){let c=this.getObject().value,o=c.carteiraRiscoRel.findIndex(h=>h.tipoRisco_Id==d.tipoRisco_Id);o&&(c.carteiraRiscoRel.splice(o,1),this.setObject(c))}getList(d=1){return this.http.get(`${this.url}/carteiraSetup/all/${d}`).pipe((0,g.U)(c=>(c=c.map(o=>(o.ativo=null==o.dataDesativado,o)),this.list.next(c),c)))}get(d){return this.http.get(`${this.url}/carteiraSetup/${d}`).pipe((0,g.U)(c=>(this.setObject(c),c.ativo=null==c.dataDesativado,c)))}create(d){return this.http.post(`${this.url}/carteiraSetup/`,d)}edit(d){return this.http.put(`${this.url}/carteiraSetup/`,d)}deactivated(d,c){return this.http.patch(`${this.url}/carteiraSetup/${d}/${c}`,{})}delete(d){return this.http.delete(`${this.url}/carteiraSetup/${d}`)}}return e.\u0275fac=function(d){return new(d||e)(y.LFG(b.i),y.LFG(C.eN),y.LFG(O._W),y.LFG(u.w),y.LFG(I.P))},e.\u0275prov=y.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},4551:(R,x,r)=>{r.d(x,{O:()=>g,w:()=>p});var p=(()=>{return(u=p||(p={})).primary="#3c86a0",u.primaryLight="#4a99b5",u.primaryDark="#146e8d",u.dark="#000",u.grey="#181818",u.greyLight="#ececed",p;var u})();let g=["#FF6F91","#FF9671","#C34A36","#008F7A","#F9F871","#845EC2","#2C73D2","#B0A8B9","#D65DB1","#008E9B","#4B4453","#0089BA","#FFC75F","#845EC2","#FF8066","#0081CF"]}}]);