"use strict";(self.webpackChunkplanner=self.webpackChunkplanner||[]).push([[730],{6886:(I,v,e)=>{e.d(v,{Dw:()=>T,a7:()=>M});var h=e(655),f=e(43),u=e(805),s=e(1956);class M{constructor(){this.id=void 0,this.descricao="",this.empresa_Id=void 0,this.tipoAtivo_Id=void 0,this.tipoRisco_Id=void 0,this.tipoLiquidez_Id=void 0,this.produtoTributacaoRel=[],this.taxaAdm="",this.taxaPfee="",this.registroNaoSalvo=!1}}(0,h.gn)([(0,f.Vp)(),(0,h.w6)("design:type",Boolean)],M.prototype,"registroNaoSalvo",void 0);var T=[{field:"id",header:"Id",maskType:s.O.undefined,filterType:s.vA.text,filterDisplay:s.w2.menu,filterShowAddButton:!1,filterShowMatchMode:!1,filterMatchMode:u.a6.CONTAINS},{field:"descricao",header:"Nome",maskType:s.O.undefined,filterType:s.vA.text,filterDisplay:s.w2.menu,filterShowAddButton:!1,filterShowMatchMode:!1,filterMatchMode:u.a6.CONTAINS},{field:"tipoAtivo.nome",header:"Ativo",maskType:s.O.undefined,filterType:s.vA.text,filterDisplay:s.w2.menu,filterShowAddButton:!0,filterShowMatchMode:!0,filterMatchMode:u.a6.CONTAINS},{field:"tipoRisco.nome",header:"Risco",maskType:s.O.undefined,filterType:s.vA.text,filterDisplay:s.w2.menu,filterShowAddButton:!0,filterShowMatchMode:!0,filterMatchMode:u.a6.CONTAINS},{field:"tipoLiquidez.nome",header:"Liquidez",maskType:s.O.undefined,filterType:s.vA.text,filterDisplay:s.w2.menu,filterShowAddButton:!0,filterShowMatchMode:!0,filterMatchMode:u.a6.CONTAINS},{field:"taxaAdm",header:"Taxa ADM",maskType:s.O.percentage,decimal:"1.0-2",filterType:s.vA.numeric,filterDisplay:s.w2.menu,filterShowAddButton:!0,filterShowMatchMode:!0,filterMatchMode:u.a6.CONTAINS},{field:"taxaPfee",header:"Taxa PFEE",maskType:s.O.percentage,decimal:"1.0-2",filterType:s.vA.numeric,filterDisplay:s.w2.menu,filterShowAddButton:!0,filterShowMatchMode:!0,filterMatchMode:u.a6.CONTAINS}]},9179:(I,v,e)=>{e.r(v),e.d(v,{ProdutosModule:()=>l});var h=e(6895),f=e(8627),u=e(8446),s=e(9899),M=e(343),P=e(801),T=e(9398),O=e(6886),E=e(8913),c=e(9885),r=e(4650),S=e(453),A=e(3868);const L=function(){return["cadastrar"]},_=[{path:"",component:(()=>{class o{constructor(a,i,g){this.empresaService=a,this.produtoService=i,this.currency=g,this.faHandHoldingDollar=P.VPG,this.objeto=new T.oW,this.produtoColumns=O.Dw,this.list=[],this.tableLinks=[],this.empresaService.empresaObject.subscribe(D=>{this.objeto=D}),this.tableLinks=[{label:"Editar",routePath:["editar"],paramsFieldName:["id"]},{label:"Excluir",routePath:["excluir"],paramsFieldName:["id"]}],this.produtoService.list.subscribe(D=>this.list=D),this.produtoService.getList().subscribe()}ngOnInit(){}}return o.\u0275fac=function(a){return new(a||o)(r.Y36(E.P),r.Y36(c.m),r.Y36(h.H9))},o.\u0275cmp=r.Xpm({type:o,selectors:[["app-list-produtos"]],decls:15,vars:13,consts:[[1,"page"],[1,"page__header"],[1,"title-icon"],[3,"icon"],[1,"page__header-title"],[1,"page__header-subtitle"],[1,"page__body"],[3,"createLink","list","filterLink","filterTable","paginator","sortTable","menuTable","canCreate","columns","tableLinks","selectable"]],template:function(a,i){1&a&&(r.TgZ(0,"div",0)(1,"div",1)(2,"span",2),r._UZ(3,"fa-icon",3),r.qZA(),r.TgZ(4,"div")(5,"h3",4),r._uU(6,"Produtos"),r.qZA(),r.TgZ(7,"p",5)(8,"small"),r._uU(9,"Produtos cadastrados em "),r.TgZ(10,"strong"),r._uU(11,'"Empresa X"'),r.qZA()()()()(),r.TgZ(12,"div",6),r._UZ(13,"app-list-shared",7),r.qZA()(),r._UZ(14,"router-outlet")),2&a&&(r.xp6(3),r.Q6J("icon",i.faHandHoldingDollar),r.xp6(10),r.Q6J("createLink",r.DdM(12,L))("list",i.list)("filterLink",!1)("filterTable",!0)("paginator",!0)("sortTable",!0)("menuTable",!0)("canCreate",!0)("columns",i.produtoColumns)("tableLinks",i.tableLinks)("selectable",!0))},dependencies:[f.lC,S.o,A.BN]}),o})(),children:[{path:"cadastrar",component:u.G},{path:"editar/:produto_id",component:M.F},{path:"excluir/:produto_id",component:s.T}]}];let t=(()=>{class o{}return o.\u0275fac=function(a){return new(a||o)},o.\u0275mod=r.oAB({type:o}),o.\u0275inj=r.cJS({imports:[f.Bz.forChild(_),f.Bz]}),o})(),d=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(a){return new(a||o)},o.\u0275cmp=r.Xpm({type:o,selectors:[["app-produtos"]],decls:1,vars:0,template:function(a,i){1&a&&r._UZ(0,"router-outlet")},dependencies:[f.lC]}),o})();var p=e(5089);let l=(()=>{class o{}return o.\u0275fac=function(a){return new(a||o)},o.\u0275mod=r.oAB({type:o,bootstrap:[d]}),o.\u0275inj=r.cJS({imports:[h.ez,t,p.m,A.uH]}),o})()},9885:(I,v,e)=>{e.d(v,{m:()=>L});var h=e(1135),f=e(4004),u=e(9243),s=e(2340),M=e(9535),P=e(9398),T=e(8913),O=e(46),E=e(6886),c=e(4650),r=e(8627),S=e(529),A=e(7185);let L=(()=>{class m{constructor(t,d,p,l,o,n,a){this.router=t,this.table=d,this.http=p,this.toastr=l,this.crypto=o,this.dropdownService=n,this.empresaService=a,this.url=s.N.url,this.list=new h.X([]),this.objeto=new h.X(void 0),this.carteiraSetup=new h.X([]),this.empresa=new P.oW,this.empresaService.empresaObject.subscribe(i=>{this.empresa=i})}getObject(){var t=localStorage.getItem("produto");return t&&this.setObject(this.crypto.decrypt(t)??new E.a7),this.objeto}setObject(t){localStorage.setItem("produto",this.crypto.encrypt(t)??""),this.objeto.next(t)}add_To_Empresa_List(t){if(this.empresa){var d=this.empresa.produto??[];let l=this.dropdownService.tipoAtivo.value.find(i=>i.id==t.tipoAtivo_Id);if(!l)return this.toastr.error("Selecione um tipo de ativo v\xe1lido!!"),!1;t.tipoAtivo=l;let o=this.dropdownService.tipoRisco.value.find(i=>i.id==t.tipoRisco_Id);if(!o)return this.toastr.error("Selecione um tipo de risco v\xe1lido!!"),!1;t.tipoRisco=o;let n=this.dropdownService.tipoLiquidez.value.find(i=>i.id==t.tipoLiquidez_Id);if(!n)return this.toastr.error("Selecione um tipo de liquidez v\xe1lido!!"),!1;if(t.tipoLiquidez=n,0==t.produtoTributacaoRel.length)return this.toastr.error("Selecione pelo menos uma tributa\xe7\xe3o"),!1;d.sort((i,g)=>i.id-g.id);var p=0==d.length?0:d[d.length-1].id;t.id=++p,t.registroNaoSalvo=!0;let a=Object.assign({},t);return a.produtoTributacaoRel.map(i=>{i.produto.produtoTributacaoRel=[]}),d.push(a),this.empresa.produto=d,this.empresaService.setObject(this.empresa),this.toastr.success("Opera\xe7\xe3o conclu\xedda"),this.table.resetSelection(),!0}return this.toastr.error("Nenhuma empresa selecionada."),!1}edit_To_Empresa_List(t){if(this.empresa){var d=this.empresa.produto??[];let p=d.findIndex(l=>l.id==t.id);if(-1!=p){let l=this.dropdownService.tipoAtivo.value.find(i=>i.id==t.tipoAtivo_Id);if(!l)return this.toastr.error("Selecione um tipo de ativo v\xe1lido!!"),!1;t.tipoAtivo=l;let o=this.dropdownService.tipoRisco.value.find(i=>i.id==t.tipoRisco_Id);if(!o)return this.toastr.error("Selecione um tipo de risco v\xe1lido!!"),!1;t.tipoRisco=o;let n=this.dropdownService.tipoLiquidez.value.find(i=>i.id==t.tipoLiquidez_Id);if(!n)return this.toastr.error("Selecione um tipo de liquidez v\xe1lido!!"),!1;if(t.tipoLiquidez=n,0==t.produtoTributacaoRel.length)return this.toastr.error("Selecione pelo menos uma tributa\xe7\xe3o"),!1;let a=Object.assign({},t);return a.produtoTributacaoRel.map(i=>{i.produto.produtoTributacaoRel=[]}),d.splice(p,1,a),this.empresa.produto=d,this.empresaService.setObject(this.empresa),this.toastr.success("Opera\xe7\xe3o conclu\xedda"),!0}return this.toastr.error("Produto n\xe3o encontrado!!"),!1}return this.toastr.error("Nenhuma empresa selecionada."),!1}delete_To_Empresa_List(t){if(this.empresa){var d=this.empresa.produto??[];let p=d.findIndex(l=>l.id==t);return-1!=p?(d.splice(p,1),this.empresa.produto=d,this.empresaService.setObject(this.empresa),this.toastr.success("Opera\xe7\xe3o conclu\xedda"),this.table.resetSelection(),!0):(this.toastr.error("Produto n\xe3o encontrado!!"),!1)}return this.toastr.error("Nenhuma empresa selecionada."),!1}getList(t=1){return this.http.get(`${this.url}/produto/all/${t}`).pipe((0,f.U)(d=>(this.list.next(d),d)))}get(t){return this.http.get(`${this.url}/produto/${t}`)}create(t){return this.http.post(`${this.url}/produto/`,t)}edit(t){return this.http.put(`${this.url}/produto/`,t)}delete(t){return this.http.delete(`${this.url}/produto/${t}`)}}return m.\u0275fac=function(t){return new(t||m)(c.LFG(r.F0),c.LFG(O.i),c.LFG(S.eN),c.LFG(A._W),c.LFG(u.w),c.LFG(M.V),c.LFG(T.P))},m.\u0275prov=c.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()}}]);