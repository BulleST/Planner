"use strict";(self.webpackChunkplanner=self.webpackChunkplanner||[]).push([[834],{4834:(zn,E,p)=>{p.r(E),p.d(E,{ClientesModule:()=>En});var M=p(6895),u=p(433),j=p(3868),P=p(1094),w=p(7185),Y=p(5576),q=p(279),N=p(5861),_=p(801),K=p(805),me=p(9808),U=p(1956),V=p(4429),I=p(9398),O=p(1685);class x{constructor(){this.id=0,this.planejamento_Id=0}}class A{constructor(){this.id=0,this.cliente_Id=0,this.cliente=new V.c1,this.account_Id=0,this.account=new O.mR,this.carteiraSetup_Id=void 0,this.carteiraSetup=void 0,this.data="",this.descricao="",this.taxaSelic="",this.taxaIpca="",this.cm=!1,this.rE_Sugerido="",this.rE_Planejado="",this.riscoAssumido="",this.riscoTolerado="",this.sugestao_Baixissimo="",this.sugestao_Baixo="",this.sugestao_Moderado="",this.sugestao_Arrojado="",this.sugestao_SuperArrojado="",this.sugestao_Hedge="",this.sugestao_Total="",this.plano_Baixissimo="",this.plano_Baixo="",this.plano_Moderado="",this.plano_Arrojado="",this.plano_SuperArrojado="",this.plano_Hedge="",this.plano_Total="",this.atual_Total=0,this.atual_RentabilidadeMedia=0,this.atual_RentabilidadeReal=0,this.sugerido_Total=0,this.planoAcao_Total=0,this.planoAcao_RentabilidadeMedia=0,this.planoAcao_RentabilidadeReal=0,this.planejamentoAgregandoValor=new x,this.planejamentoGrafico=[],this.planejamentoInvestimento=[],this.planejamentoProduto=[],this.planejamentoFluxosPontuais=[],this.principaisObjetivos=[]}}var F=p(9876),z=p(932),B=p(8913),R=p(1135),S=p(4004),W=p(2340),J=p(9243),X=p(4409),e=p(4650),ee=p(529);let b=(()=>{class i{constructor(o,n,a,r){this.http=o,this.crypto=n,this.accountService=a,this.empresaService=r,this.list=new R.X([]),this.url=W.N.url,this.objeto=new R.X(new A),this.empresa=new I.oW,this.account=new O.mR,this.accountService.account.subscribe(t=>this.account=t??new O.mR),this.empresaService.empresa.subscribe(t=>this.empresa=t)}getObject(){let o=localStorage.getItem("planejamento");if(o){let n=this.crypto.decrypt(o);this.objeto.next(n)}else this.setObject(new A);return this.objeto}setObject(o){o.planejamentoAgregandoValor=o.planejamentoAgregandoValor??new x,localStorage.setItem("planejamento",this.crypto.encrypt(o)??""),this.objeto.next(o)}getList(){return this.http.get(`${this.url}/planejamento/all/${this.account.perfilAcesso_Id!=X.u.Admin?this.account.empresa_Id:this.empresa.id}`).pipe((0,S.U)(n=>(this.list.next(n),n)))}getByClienteId(o){return this.http.get(`${this.url}/planejamento/${o}`).pipe((0,S.U)(n=>(n.principaisObjetivos=n.principaisObjetivos?n.principaisObjetivos:[],n.planejamentoAgregandoValor=n.planejamentoAgregandoValor??new x,this.setObject(n),n)))}send(o){return this.http.post(`${this.url}/planejamento/`,o)}create(o){return o.cliente.empresa_Id=this.account.perfilAcesso_Id!=X.u.Admin?this.account.empresa_Id:this.empresa.id,o.account_Id=this.account.id,o.cliente.usuario_Id=this.account.id,this.http.post(`${this.url}/planejamento/`,o).pipe((0,S.U)(a=>(a.planejamentoAgregandoValor=a.planejamentoAgregandoValor??new x,a)))}edit(o){return this.http.put(`${this.url}/planejamento/`,o).pipe((0,S.U)(n=>(n.planejamentoAgregandoValor=n.planejamentoAgregandoValor??new x,n)))}delete(o){return this.http.delete(`${this.url}/planejamento/${o}`)}}return i.\u0275fac=function(o){return new(o||i)(e.LFG(ee.eN),e.LFG(J.w),e.LFG(F.B),e.LFG(B.P))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var ce=p(46),C=p(8627),ge=p(453),_e=p(8944);function he(i,l){1&i&&e._UZ(0,"app-empresa-select")}const ve=function(){return["planner"]};let ne=(()=>{class i{constructor(o,n,a,r,t,s){var c=this;this.table=o,this.crypto=n,this.clienteService=a,this.plannerService=r,this.accountService=t,this.empresaService=s,this.faCity=_.SBo,this.list=[],this.columns=V.lF,this.tableLinks=[],this.empresaSelected=new I.oW,this.create=(d=this.plannerService)=>{d.setObject(new A)},this.accountService.account.subscribe(d=>this.account=d),this.clienteService.list.subscribe(d=>this.list=d),this.empresaService.empresa.subscribe(function(){var d=(0,N.Z)(function*(v){c.empresaSelected=v,yield(0,me.n)(c.clienteService.getList())});return function(v){return d.apply(this,arguments)}}()),this.table.selected.subscribe(d=>{d&&(this.tableLinks=[{label:"Ver planner",routePath:["planner"],paramsFieldName:["id"]},{label:d.ativo?"Desabilitar":"Habilitar",routePath:[d.ativo?"desabilitar":"habilitar"],paramsFieldName:["id"]}],this.tableLinks=this.table.encryptParams(this.tableLinks))}),[1,2].includes(this.accountService.accountValue?.perfilAcesso_Id??0)&&this.columns.splice(2,0,{field:"account.email",header:"Cadastrado por",maskType:U.O.undefined,filterType:U.vA.text,filterDisplay:U.w2.menu,filterShowAddButton:!1,filterShowMatchMode:!1,filterMatchMode:K.a6.CONTAINS})}ngOnInit(){}}return i.\u0275fac=function(o){return new(o||i)(e.Y36(ce.i),e.Y36(J.w),e.Y36(z.$),e.Y36(b),e.Y36(F.B),e.Y36(B.P))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-list"]],decls:17,vars:17,consts:[[1,"page"],[1,"page__header"],[1,"title-icon"],[3,"icon"],[1,"mr-auto"],[1,"page__header-title"],[1,"page__header-subtitle"],[1,"ml-auto","mb-0","col-xl-3","col-lg-4","col-md-5","col-sm-8","col-12","px-0"],[4,"ngIf"],[1,"page__body"],[3,"createLink","onCreate","canCreate","list","paginator","filterLink","filterTable","sortTable","menuTable","columns","selectable","tableLinks"]],template:function(o,n){1&o&&(e.TgZ(0,"section",0)(1,"div",1)(2,"span",2),e._UZ(3,"fa-icon",3),e.qZA(),e.TgZ(4,"div",4)(5,"h3",5),e._uU(6,"Clientes"),e.qZA(),e.TgZ(7,"p",6)(8,"small"),e._uU(9,"Clientes cadastrados em "),e.TgZ(10,"strong"),e._uU(11),e.qZA()()()(),e.TgZ(12,"div",7),e.YNc(13,he,1,0,"app-empresa-select",8),e.qZA()(),e.TgZ(14,"div",9),e._UZ(15,"app-list-shared",10),e.qZA()(),e._UZ(16,"router-outlet")),2&o&&(e.xp6(3),e.Q6J("icon",n.faCity),e.xp6(8),e.Oqu(n.empresaSelected.nome||"Empresa X"),e.xp6(2),e.Q6J("ngIf",n.account&&1==n.account.perfilAcesso_Id),e.xp6(2),e.Q6J("createLink",e.DdM(16,ve))("onCreate",n.create)("canCreate",!0)("list",n.list)("paginator",!0)("filterLink",!1)("filterTable",!0)("sortTable",!0)("menuTable",!0)("columns",n.columns)("selectable",!0)("tableLinks",n.tableLinks)("selectable",!0))},dependencies:[M.O5,C.lC,j.BN,ge.o,_e.l]}),i})();var oe=p(2210),fe=p(6025);class Me{constructor(){this.id=0,this.planejamento_Id=0,this.idade="",this.valor=""}}class Ce{constructor(){this.id=0,this.descricao=""}}var Q=p(9535),te=p(9885),D=p(9205),T=p(4551),Z=p(3866),re=p(2788),y=p(7549),G=p(9364);const Ae=["chartAtivo_Investimento"],be=["chartRisco_Investimento"],Te=["chartLiquidez_Investimento"],Ze=["chartAtivo_Produto"],Pe=["chartRisco_Produto"],we=["chartLiquidez_Produto"];let xe=(()=>{class i{constructor(o){this.dropdown=o,this.open=!0,this.planner=new A,this.ativos=[],this.riscos=[],this.liquidez=[],this.colors=["#36a2eb","#ff6384","#ff9f40","#9966ff","#ffcd56","#c9cbcf","#4bc0c0"],this.produtoTotal=0,this.investimentoTotal=0,this.chartOptions={plugins:{legend:{position:"bottom",display:!1},colors:{enabled:!1}},animations:{tension:{duration:1e3,easing:"linear",from:1,to:0,loop:!0}}}}ngOnInit(){}ngOnChanges(o){o.open&&(this.open=o.open.currentValue),o.planner&&(this.planner=o.planner.currentValue,this.produtoTotal=this.planner.planejamentoProduto.map(n=>n.sugerido).reduce((n,a)=>n+a),this.investimentoTotal=this.planner.planejamentoInvestimento.map(n=>n.montanteAtual).reduce((n,a)=>n+a),this.setChartRisco_Investimento(),this.setChartLiquidez_Investimento(),this.setChartAtivo_Investimento(),this.setChartRisco_Produto(),this.setChartLiquidez_Produto(),this.setChartAtivo_Produto())}voltar(){setTimeout(()=>{this.open=!1},300)}setChartRisco_Produto(){this.chartRiscoOptions_Produto=JSON.parse(JSON.stringify(this.chartOptions)),this.chartRiscoOptions_Produto.plugins.tooltip={callbacks:{afterBody:a=>"R$ "+a[0].element.$context.raw.sugerido}},this.chartRiscoOptions_Produto.parsing={key:"percentual"};var n,o=[];this.planner.planejamentoProduto.forEach(a=>{var r=o.findIndex(t=>a.produto.tipoRisco_Id==t.tipoRisco_Id);-1==r?n={tipoRisco_Id:a.produto.tipoRisco_Id,tipoRisco:a.produto.tipoRisco,sugerido:a.sugerido,label:a.produto.tipoRisco.nome}:(n=o[r]).sugerido+=a.sugerido,n.percentual=n.sugerido/this.produtoTotal*100,o.splice(r,-1==r?0:1,n)}),this.chartRiscoData_Produto={labels:o.map(a=>a.tipoRisco.nome),datasets:[{label:o.map(a=>a.tipoRisco.nome),data:o,backgroundColor:this.colors,hoverOffset:4}]}}setChartLiquidez_Produto(){this.chartLiquidezOptions_Produto=JSON.parse(JSON.stringify(this.chartOptions)),this.chartLiquidezOptions_Produto.plugins.tooltip={callbacks:{afterBody:a=>"R$ "+a[0].element.$context.raw.sugerido}},this.chartLiquidezOptions_Produto.parsing={key:"percentual"};var n,o=[];this.planner.planejamentoProduto.forEach(a=>{var r=o.findIndex(t=>a.produto.tipoLiquidez_Id==t.tipoLiquidez_Id);-1==r?n={tipoLiquidez_Id:a.produto.tipoLiquidez_Id,tipoLiquidez:a.produto.tipoLiquidez,sugerido:a.sugerido,label:a.produto.tipoLiquidez.nome}:(n=o[r]).sugerido+=a.sugerido,n.percentual=n.sugerido/this.produtoTotal*100,o.splice(r,-1==r?0:1,n)}),this.chartLiquidezData_Produto={labels:o.map(a=>a.tipoLiquidez.nome),datasets:[{label:o.map(a=>a.tipoLiquidez.nome),data:o,backgroundColor:this.colors,hoverOffset:4}]}}setChartAtivo_Produto(){this.chartAtivoOptions_Produto=JSON.parse(JSON.stringify(this.chartOptions)),this.chartAtivoOptions_Produto.plugins.tooltip={callbacks:{afterBody:a=>"R$ "+a[0].element.$context.raw.sugerido}},this.chartAtivoOptions_Produto.parsing={key:"percentual"};var n,o=[];this.planner.planejamentoProduto.forEach(a=>{var r=o.findIndex(t=>a.produto.tipoAtivo_Id==t.tipoAtivo_Id);-1==r?n={tipoAtivo_Id:a.produto.tipoAtivo_Id,tipoAtivo:a.produto.tipoAtivo,sugerido:a.sugerido,label:a.produto.tipoAtivo.nome}:(n=o[r]).sugerido+=a.sugerido,n.percentual=n.sugerido/this.produtoTotal*100,o.splice(r,-1==r?0:1,n)}),this.chartAtivoData_Produto={labels:o.map(a=>a.tipoAtivo.nome),datasets:[{label:o.map(a=>a.tipoAtivo.nome),data:o,backgroundColor:this.colors,hoverOffset:4}]}}setChartRisco_Investimento(){this.chartRiscoOptions_Investimento=JSON.parse(JSON.stringify(this.chartOptions)),this.chartRiscoOptions_Investimento.plugins.tooltip={callbacks:{afterBody:a=>"R$ "+a[0].element.$context.raw.montanteAtual}},this.chartRiscoOptions_Investimento.parsing={key:"percentual"};var n,o=[];this.planner.planejamentoInvestimento.forEach(a=>{var r=o.findIndex(t=>a.investimento.tipoRisco_Id==t.tipoRisco_Id);-1==r?n={tipoRisco_Id:a.investimento.tipoRisco_Id,tipoRisco:a.investimento.tipoRisco,montanteAtual:a.montanteAtual,label:a.investimento.tipoRisco.nome}:(n=o[r]).montanteAtual+=a.montanteAtual,n.percentual=n.montanteAtual/this.investimentoTotal*100,o.splice(r,-1==r?0:1,n)}),this.chartRiscoData_Investimento={labels:o.map(a=>a.tipoRisco.nome),datasets:[{label:o.map(a=>a.tipoRisco.nome),data:o,backgroundColor:this.colors,hoverOffset:4}]}}setChartLiquidez_Investimento(){this.chartLiquidezOptions_Investimento=JSON.parse(JSON.stringify(this.chartOptions)),this.chartLiquidezOptions_Investimento.plugins.tooltip={callbacks:{afterBody:a=>"R$ "+a[0].element.$context.raw.montanteAtual}},this.chartLiquidezOptions_Investimento.parsing={key:"percentual"};var n,o=[];this.planner.planejamentoInvestimento.forEach(a=>{var r=o.findIndex(t=>a.investimento.tipoLiquidez_Id==t.tipoLiquidez_Id);-1==r?n={tipoLiquidez_Id:a.investimento.tipoLiquidez_Id,tipoLiquidez:a.investimento.tipoLiquidez,montanteAtual:a.montanteAtual,label:a.investimento.tipoLiquidez.nome}:(n=o[r]).montanteAtual+=a.montanteAtual,n.percentual=n.montanteAtual/this.investimentoTotal*100,o.splice(r,-1==r?0:1,n)}),this.chartLiquidezData_Investimento={labels:o.map(a=>a.tipoLiquidez.nome),datasets:[{label:o.map(a=>a.tipoLiquidez.nome),data:o,backgroundColor:this.colors,hoverOffset:4}]}}setChartAtivo_Investimento(){this.chartAtivoOptions_Investimento=JSON.parse(JSON.stringify(this.chartOptions)),this.chartAtivoOptions_Investimento.plugins.tooltip={callbacks:{afterBody:a=>"R$ "+a[0].element.$context.raw.montanteAtual}},this.chartAtivoOptions_Investimento.parsing={key:"percentual"};var n,o=[];this.planner.planejamentoInvestimento.forEach(a=>{var r=o.findIndex(t=>a.investimento.tipoAtivo_Id==t.tipoAtivo_Id);-1==r?n={tipoAtivo_Id:a.investimento.tipoAtivo_Id,tipoAtivo:a.investimento.tipoAtivo,montanteAtual:a.montanteAtual,label:a.investimento.tipoAtivo.nome}:(n=o[r]).montanteAtual+=a.montanteAtual,n.percentual=n.montanteAtual/this.investimentoTotal*100,o.splice(r,-1==r?0:1,n)}),this.chartAtivoData_Investimento={labels:o.map(a=>a.tipoAtivo.nome),datasets:[{label:o.map(a=>a.tipoAtivo.nome),data:o,backgroundColor:this.colors,hoverOffset:4}]}}}return i.\u0275fac=function(o){return new(o||i)(e.Y36(Q.V))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-grafico-comparativo"]],viewQuery:function(o,n){if(1&o&&(e.Gf(Ae,5),e.Gf(be,5),e.Gf(Te,5),e.Gf(Ze,5),e.Gf(Pe,5),e.Gf(we,5)),2&o){let a;e.iGM(a=e.CRH())&&(n.chartAtivo_Investimento=a.first),e.iGM(a=e.CRH())&&(n.chartRisco_Investimento=a.first),e.iGM(a=e.CRH())&&(n.chartLiquidez_Investimento=a.first),e.iGM(a=e.CRH())&&(n.chartAtivo_Produto=a.first),e.iGM(a=e.CRH())&&(n.chartRisco_Produto=a.first),e.iGM(a=e.CRH())&&(n.chartLiquidez_Produto=a.first)}},inputs:{open:"open",planner:"planner"},features:[e.TTD],decls:47,vars:12,consts:[[1,"home__container","col-12"],[1,"home__container-header","mb-2"],[1,"d-flex","flex-wrap"],[1,"col-lg-4","col-md-4","col-sm-12","col-12","mb-4","ps-md-0"],[1,"card-header","border","text-center","font-weight-bold","w-100"],[1,"card","card-body","rounded-0","d-flex","flex-wrap","flex-row","p-0","pt-4"],[1,"col-sm-6","col-6","px-1"],[1,"text-center","font-weight-bold","w-100","mb-2"],["type","pie",3,"data","options"],["chartRisco_Investimento",""],["chartRisco_Produto",""],[1,"col-lg-4","col-md-4","col-sm-12","col-12","mb-4","px-sm-0"],["chartLiquidez_Investimento",""],["chartLiquidez_Produto",""],[1,"col-lg-4","col-md-4","col-sm-12","col-12","mb-4","pe-md-0"],["chartAtivo_Investimento",""],["chartAtivo_Produto",""]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h6"),e._uU(3,"Comparativo"),e.qZA()(),e.TgZ(4,"div",2)(5,"div",3)(6,"p",4),e._uU(7,"Risco"),e.qZA(),e.TgZ(8,"div",5)(9,"div",6)(10,"p",7),e._uU(11,"Investimento"),e.qZA(),e._UZ(12,"p-chart",8,9),e.qZA(),e.TgZ(14,"div",6)(15,"p",7),e._uU(16,"Produto"),e.qZA(),e._UZ(17,"p-chart",8,10),e.qZA()()(),e.TgZ(19,"div",11)(20,"p",4),e._uU(21,"Liquidez"),e.qZA(),e.TgZ(22,"div",5)(23,"div",6)(24,"p",7),e._uU(25,"Investimento"),e.qZA(),e._UZ(26,"p-chart",8,12),e.qZA(),e.TgZ(28,"div",6)(29,"p",7),e._uU(30,"Produto"),e.qZA(),e._UZ(31,"p-chart",8,13),e.qZA()()(),e.TgZ(33,"div",14)(34,"p",4),e._uU(35,"Ativo"),e.qZA(),e.TgZ(36,"div",5)(37,"div",6)(38,"p",7),e._uU(39,"Investimento"),e.qZA(),e._UZ(40,"p-chart",8,15),e.qZA(),e.TgZ(42,"div",6)(43,"p",7),e._uU(44,"Produto"),e.qZA(),e._UZ(45,"p-chart",8,16),e.qZA()()()()()),2&o&&(e.xp6(12),e.Q6J("data",n.chartRiscoData_Investimento)("options",n.chartRiscoOptions_Investimento),e.xp6(5),e.Q6J("data",n.chartRiscoData_Produto)("options",n.chartRiscoOptions_Produto),e.xp6(9),e.Q6J("data",n.chartLiquidezData_Investimento)("options",n.chartLiquidezOptions_Investimento),e.xp6(5),e.Q6J("data",n.chartLiquidezData_Produto)("options",n.chartLiquidezOptions_Produto),e.xp6(9),e.Q6J("data",n.chartAtivoData_Investimento)("options",n.chartAtivoOptions_Investimento),e.xp6(5),e.Q6J("data",n.chartAtivoData_Produto)("options",n.chartAtivoOptions_Produto))},dependencies:[G.C],styles:['.modal__bg-grafico[_ngcontent-%COMP%]{opacity:0;visibility:hidden;transition:.5s;position:fixed;z-index:1;background:#00000030}.modal__bg-grafico.active[_ngcontent-%COMP%]{opacity:1;visibility:visible}.modal-grafico.modal[_ngcontent-%COMP%]{position:absolute;top:0;left:auto;right:0;transform:translateY(50px);width:90%;max-width:1100px;height:auto;max-height:90vw;display:flex;align-items:center;justify-content:end;z-index:2;overflow:visible;opacity:1;visibility:visible}.modal-grafico.modal.active[_ngcontent-%COMP%]{z-index:1;transition:.5s}.navigation-open[_ngcontent-%COMP%]   .modal-grafico.modal[_ngcontent-%COMP%]{max-width:900px}.modal-grafico[_ngcontent-%COMP%]   .modal__inner[_ngcontent-%COMP%]{position:absolute;width:0;max-width:100%;top:0;right:0;left:auto;transform:none;overflow:visible;box-shadow:2px 2px 4px #00000069;transition:1s,1s opacity 3s,1s visibility 2s}.active.modal-grafico[_ngcontent-%COMP%]   .modal__inner[_ngcontent-%COMP%]{width:100%;transition:1s;transition:1s,1s opacity 3s,1s visibility 3s}.modal-grafico[_ngcontent-%COMP%]   .modal__inner[_ngcontent-%COMP%]   .modal-arrow[_ngcontent-%COMP%]{position:absolute;right:0;transform:translateY(-100%);z-index:1005;top:1px;width:15px;height:15px;filter:drop-shadow(0px -2px 1px rgba(0,0,0,.4));border:#0000008f;opacity:0;transition:.3s}.modal-grafico.active[_ngcontent-%COMP%]   .modal__inner[_ngcontent-%COMP%]   .modal-arrow[_ngcontent-%COMP%]{opacity:1;right:107px}.modal-grafico[_ngcontent-%COMP%]   .modal__inner[_ngcontent-%COMP%]   .modal-arrow[_ngcontent-%COMP%]:before{content:"";background:var(--primary);background-color:#fff;width:15px;height:15px;clip-path:polygon(51% 39%,0% 100%,100% 100%);position:relative;display:flex}.modal-grafico[_ngcontent-%COMP%]   .modal__content[_ngcontent-%COMP%]{max-height:80vh;overflow:auto}.modal-grafico[_ngcontent-%COMP%]   .modal__header[_ngcontent-%COMP%]{background-color:var(--primary);background-color:#fff}.modal-grafico[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{background-color:var(--primary);background-color:#fff;color:#fff;opacity:1;position:static;margin-left:auto;width:auto;height:auto;margin-right:15px}.modal-grafico[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:15px}']}),i})();const ye=["chartPatrimonioIdade"],ke=["chartCapitalSegurado"];function qe(i,l){if(1&i&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&i){const o=l.$implicit;e.Q6J("ngValue",o.id),e.xp6(1),e.hij("",o.descricao," ")}}function Ie(i,l){if(1&i&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&i){const o=l.$implicit;e.Q6J("ngValue",o.id),e.xp6(1),e.Oqu(o.descricao)}}function Se(i,l){if(1&i){const o=e.EpF();e.TgZ(0,"tr")(1,"td",106)(2,"input",216,44),e.NdJ("ngModelChange",function(a){const t=e.CHM(o).$implicit;return e.KtG(t.idade=a)})("keyup.arrowup",function(){const r=e.CHM(o).$implicit,t=e.MAs(3),s=e.oxw();return e.KtG(r.idade=s.arrowUp(t.value))})("keyup.arrowdown",function(){const r=e.CHM(o).$implicit,t=e.MAs(3),s=e.oxw();return e.KtG(r.idade=s.arrowDown(t.value))})("change",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.saveData())}),e.qZA()(),e.TgZ(4,"td")(5,"input",217,218),e.NdJ("ngModelChange",function(a){const t=e.CHM(o).$implicit;return e.KtG(t.valor=a)})("keyup.arrowup",function(){const r=e.CHM(o).$implicit,t=e.MAs(6),s=e.oxw();return e.KtG(r.valor=s.arrowUp(t.value))})("keyup.arrowdown",function(){const r=e.CHM(o).$implicit,t=e.MAs(6),s=e.oxw();return e.KtG(r.valor=s.arrowDown(t.value,!0))})("change",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.saveData())}),e.qZA()(),e.TgZ(7,"td",219)(8,"button",220),e.NdJ("click",function(){const r=e.CHM(o).$implicit,t=e.oxw();return e.KtG(t.removerFluxoPontual(r))}),e._UZ(9,"fa-icon",104),e.qZA()()()}if(2&i){const o=l.$implicit,n=l.index,a=e.MAs(3),r=e.MAs(6),t=e.oxw(),s=e.MAs(466);e.xp6(2),e.MGl("id","idade-",n,"")("name","idade-",n,""),e.Q6J("ngModel",o.idade)("ngbPopover",s)("disablePopover",null==a.errors),e.xp6(3),e.MGl("id","valor",n,"")("name","valor",n,""),e.Q6J("ngModel",o.valor)("ngbPopover",s)("disablePopover",null==r.errors),e.xp6(4),e.Q6J("icon",t.faTrash)}}function Je(i,l){1&i&&(e.TgZ(0,"tr")(1,"td",221),e._uU(2,"Nenhum registro"),e.qZA()())}function je(i,l){1&i&&(e.TgZ(0,"tr",92)(1,"th",222),e._uU(2,"Investimento"),e.qZA(),e.TgZ(3,"th",111),e._uU(4,"Custos/Taxas"),e.qZA(),e.TgZ(5,"th",111),e._uU(6,"Rentabilidade"),e.qZA(),e.TgZ(7,"th",111),e._uU(8,"Rentab. Liquida"),e.qZA(),e.TgZ(9,"th",111),e._uU(10,"Montante Atual"),e.qZA(),e.TgZ(11,"th",111),e._uU(12,"Montante Sugerida"),e.qZA(),e.TgZ(13,"th",111),e._uU(14,"Plano de A\xe7\xe3o"),e.qZA(),e._UZ(15,"th",223),e.qZA())}function Ne(i,l){if(1&i){const o=e.EpF();e.TgZ(0,"tr")(1,"td",165)(2,"span",224),e._uU(3),e.qZA()(),e.TgZ(4,"td",225)(5,"input",226,227),e.NdJ("ngModelChange",function(a){const t=e.CHM(o).$implicit;return e.KtG(t.custosTaxas=a)})("keyup.arrowup",function(){const r=e.CHM(o).$implicit,t=e.MAs(6),s=e.oxw();return e.KtG(r.custosTaxas=s.arrowUp(t.value))})("keyup.arrowdown",function(){const r=e.CHM(o).$implicit,t=e.MAs(6),s=e.oxw();return e.KtG(r.custosTaxas=s.arrowDown(t.value,!1))}),e.qZA()(),e.TgZ(7,"td",156)(8,"input",228,229),e.NdJ("ngModelChange",function(a){const t=e.CHM(o).$implicit;return e.KtG(t.rentabilidade=a)})("keyup.arrowup",function(){const r=e.CHM(o).$implicit,t=e.MAs(9),s=e.oxw();return e.KtG(r.rentabilidade=s.arrowUp(t.value))})("keyup.arrowdown",function(){const r=e.CHM(o).$implicit,t=e.MAs(9),s=e.oxw();return e.KtG(r.rentabilidade=s.arrowDown(t.value,!0))}),e.qZA()(),e.TgZ(10,"td",225)(11,"input",230,231),e.NdJ("ngModelChange",function(a){const t=e.CHM(o).$implicit;return e.KtG(t.rentabilidadeLiquida=a)})("keyup.arrowup",function(){const r=e.CHM(o).$implicit,t=e.MAs(12),s=e.oxw();return e.KtG(r.rentabilidadeLiquida=s.arrowUp(t.value))})("keyup.arrowdown",function(){const r=e.CHM(o).$implicit,t=e.MAs(12),s=e.oxw();return e.KtG(r.rentabilidadeLiquida=s.arrowDown(t.value,!0))}),e.qZA()(),e.TgZ(13,"td",156)(14,"input",232,233),e.NdJ("ngModelChange",function(a){const t=e.CHM(o).$implicit;return e.KtG(t.montanteAtual=a)})("keyup.arrowup",function(){const r=e.CHM(o).$implicit,t=e.MAs(15),s=e.oxw();return e.KtG(r.montanteAtual=s.arrowUp(t.value))})("keyup.arrowdown",function(){const r=e.CHM(o).$implicit,t=e.MAs(15),s=e.oxw();return e.KtG(r.montanteAtual=s.arrowDown(t.value,!0))}),e.qZA()(),e.TgZ(16,"td",225)(17,"input",234,235),e.NdJ("ngModelChange",function(a){const t=e.CHM(o).$implicit;return e.KtG(t.sugerido=a)})("keyup.arrowup",function(){const r=e.CHM(o).$implicit,t=e.MAs(18),s=e.oxw();return e.KtG(r.sugerido=s.arrowUp(t.value))})("keyup.arrowdown",function(){const r=e.CHM(o).$implicit,t=e.MAs(18),s=e.oxw();return e.KtG(r.sugerido=s.arrowDown(t.value,!0))}),e.qZA()(),e.TgZ(19,"td",225)(20,"input",234,236),e.NdJ("ngModelChange",function(a){const t=e.CHM(o).$implicit;return e.KtG(t.planoAcao=a)})("keyup.arrowup",function(){const r=e.CHM(o).$implicit,t=e.MAs(21),s=e.oxw();return e.KtG(r.planoAcao=s.arrowUp(t.value))})("keyup.arrowdown",function(){const r=e.CHM(o).$implicit,t=e.MAs(21),s=e.oxw();return e.KtG(r.planoAcao=s.arrowDown(t.value,!0))}),e.qZA()(),e.TgZ(22,"td",223)(23,"a",237),e.NdJ("click",function(){const r=e.CHM(o).$implicit,t=e.oxw();return e.KtG(t.removerInvestimento(r))}),e._UZ(24,"fa-icon",104),e.qZA()()()}if(2&i){const o=l.$implicit,n=l.rowIndex,a=e.oxw(),r=e.MAs(468);e.xp6(3),e.Oqu(o.investimento.descricao),e.xp6(2),e.MGl("id","investimento-custosTaxas-",n,"")("name","investimento-custosTaxas-",n,""),e.Q6J("ngModel",o.custosTaxas)("allowNegativeNumbers",!1)("ngbPopover",r),e.xp6(3),e.MGl("id","investimento-rentabilidade-",n,"")("name","investimento-rentabilidade-",n,""),e.Q6J("ngModel",o.rentabilidade)("allowNegativeNumbers",!0)("ngbPopover",r),e.xp6(3),e.MGl("id","investimento-rentabilidadeLiquida-",n,"")("name","investimento-rentabilidadeLiquida-",n,""),e.Q6J("ngModel",o.rentabilidadeLiquida)("ngbPopover",r),e.xp6(3),e.MGl("id","investimento-montanteAtual-",n,"")("name","investimento-montanteAtual-",n,""),e.Q6J("ngModel",o.montanteAtual)("ngbPopover",r),e.xp6(3),e.MGl("id","investimento-sugerido-",n,"")("name","investimento-sugerido-",n,""),e.Q6J("ngModel",o.sugerido)("ngbPopover",r),e.xp6(3),e.MGl("id","investimento-planoAcao-",n,"")("name","investimento-planoAcao-",n,""),e.Q6J("ngModel",o.planoAcao)("ngbPopover",r),e.xp6(4),e.Q6J("icon",a.faTrash)}}function Ue(i,l){1&i&&(e.TgZ(0,"tr"),e._UZ(1,"td"),e.TgZ(2,"td",238),e._uU(3," Nenhum registro "),e.qZA(),e._UZ(4,"td"),e.qZA()),2&i&&(e.xp6(2),e.uIk("colspan",6))}function Oe(i,l){if(1&i){const o=e.EpF();e.TgZ(0,"button",239),e.NdJ("click",function(){e.CHM(o);const a=e.oxw(),r=e.MAs(13);return e.KtG(a.adicionarProdutoCarteira(r))}),e._uU(1," Salvar "),e.qZA()}if(2&i){const o=e.oxw(),n=e.MAs(13);e.Gre("btn btn-primary ml-1 d-flex align-items-center ",n.invalid||o.loading?"disabled-button":"","")}}const Fe=function(){return["produto"]};function Re(i,l){1&i&&(e.TgZ(0,"a",240),e._uU(1," Adicionar outros produtos "),e.qZA()),2&i&&e.Q6J("routerLink",e.DdM(1,Fe))}function Qe(i,l){1&i&&(e.TgZ(0,"p",241),e._uU(1,"* Insira um investimento para adicionar um produto"),e.qZA())}function De(i,l){1&i&&(e.TgZ(0,"tr",92)(1,"th",242),e._uU(2,"Produto"),e.qZA(),e.TgZ(3,"th",111),e._uU(4,"Custos/Taxas"),e.qZA(),e.TgZ(5,"th",111),e._uU(6,"Percentual"),e.qZA(),e.TgZ(7,"th",111),e._uU(8,"Rentabilidade"),e.qZA(),e.TgZ(9,"th",111),e._uU(10,"Rentab. Liquida"),e.qZA(),e.TgZ(11,"th",111),e._uU(12,"Montante Atual"),e.qZA(),e.TgZ(13,"th",111),e._uU(14,"Montante Sugerida"),e.qZA(),e.TgZ(15,"th",111),e._uU(16,"Plano de A\xe7\xe3o"),e.qZA(),e._UZ(17,"th",223),e.qZA())}function Ge(i,l){if(1&i){const o=e.EpF();e.TgZ(0,"tr")(1,"td",243)(2,"small")(3,"b"),e._uU(4),e.qZA()()(),e.TgZ(5,"td")(6,"input",226,227),e.NdJ("ngModelChange",function(a){const t=e.CHM(o).$implicit;return e.KtG(t.custosTaxas=a)})("keyup.arrowup",function(){const r=e.CHM(o).$implicit,t=e.MAs(7),s=e.oxw();return e.KtG(r.custosTaxas=s.arrowUp(t.value))})("keyup.arrowdown",function(){const r=e.CHM(o).$implicit,t=e.MAs(7),s=e.oxw();return e.KtG(r.custosTaxas=s.arrowDown(t.value,!1))}),e.qZA()(),e.TgZ(8,"td",225),e._uU(9),e.ALo(10,"mask"),e.qZA(),e.TgZ(11,"td")(12,"input",244,229),e.NdJ("ngModelChange",function(a){const t=e.CHM(o).$implicit;return e.KtG(t.rentabilidade=a)})("keyup.arrowup",function(){const r=e.CHM(o).$implicit,t=e.MAs(13),s=e.oxw();return e.KtG(r.rentabilidade=s.arrowUp(t.value))})("keyup.arrowdown",function(){const r=e.CHM(o).$implicit,t=e.MAs(13),s=e.oxw();return e.KtG(r.rentabilidade=s.arrowDown(t.value,!0))}),e.qZA()(),e.TgZ(14,"td",225),e._uU(15),e.ALo(16,"mask"),e.qZA(),e.TgZ(17,"td",225),e._uU(18),e.ALo(19,"mask"),e.qZA(),e.TgZ(20,"td",225),e._uU(21),e.ALo(22,"mask"),e.qZA(),e.TgZ(23,"td",225)(24,"input",245,236),e.NdJ("ngModelChange",function(a){const t=e.CHM(o).$implicit;return e.KtG(t.planoAcao=a)})("keyup.arrowup",function(){const r=e.CHM(o).$implicit,t=e.MAs(25),s=e.oxw();return e.KtG(r.planoAcao=s.arrowUp(t.value))})("keyup.arrowdown",function(){const r=e.CHM(o).$implicit,t=e.MAs(25),s=e.oxw();return e.KtG(r.planoAcao=s.arrowDown(t.value,!1))})("change",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.calculaPercentual())}),e.qZA()(),e.TgZ(26,"td",223)(27,"a",237),e.NdJ("click",function(){const r=e.CHM(o).$implicit,t=e.oxw();return e.KtG(t.removerProduto(r))}),e._UZ(28,"fa-icon",104),e.qZA()()()}if(2&i){const o=l.$implicit,n=l.rowIndex,a=e.oxw(),r=e.MAs(468);e.xp6(4),e.Oqu(o.produto.descricao),e.xp6(2),e.MGl("id","investimento-custosTaxas-",n,"")("name","investimento-custosTaxas-",n,""),e.Q6J("ngModel",o.custosTaxas)("allowNegativeNumbers",!1)("ngbPopover",r),e.xp6(3),e.hij(" ",e.Dn7(10,23,o.percentual,"separator",","),"% "),e.xp6(3),e.MGl("id","produto-rentabilidade-",n,"")("name","produto-rentabilidade-",n,""),e.Q6J("ngModel",o.rentabilidade)("allowNegativeNumbers",!0)("ngbPopover",r)("required",!0),e.xp6(3),e.hij("",e.Dn7(16,27,o.rentabilidadeLiquida,"separator",","),"%"),e.xp6(3),e.hij(" R$ ",e.Dn7(19,31,o.montanteAtual,"separator",",")," "),e.xp6(3),e.hij(" R$ ",e.Dn7(22,35,o.sugerido,"separator",",")," "),e.xp6(3),e.MGl("id","produto-planoAcao-",n,"")("name","produto-planoAcao-",n,""),e.Q6J("ngModel",o.planoAcao)("allowNegativeNumbers",!0)("ngbPopover",r)("required",!0),e.xp6(4),e.Q6J("icon",a.faTrash)}}function Le(i,l){if(1&i){const o=e.EpF();e.TgZ(0,"tr")(1,"td",243)(2,"small")(3,"b"),e._uU(4,"Total"),e.qZA()()(),e._UZ(5,"td"),e.TgZ(6,"td")(7,"input",246,247),e.NdJ("ngModelChange",function(a){e.CHM(o);const r=e.oxw();return e.KtG(r.percentualTotalProduto=a)}),e.qZA()(),e._UZ(9,"td")(10,"td")(11,"td"),e.TgZ(12,"td")(13,"input",248,249),e.NdJ("ngModelChange",function(a){e.CHM(o);const r=e.oxw();return e.KtG(r.sugeridoTotalProduto=a)}),e.qZA()(),e.TgZ(15,"td")(16,"input",250,251),e.NdJ("ngModelChange",function(a){e.CHM(o);const r=e.oxw();return e.KtG(r.planoAcaoTotalProduto=a)}),e.qZA()(),e._UZ(18,"td"),e.qZA()}if(2&i){const o=e.oxw();e.xp6(7),e.Q6J("ngModel",o.percentualTotalProduto)("allowNegativeNumbers",!0)("readonly",!0),e.xp6(6),e.Q6J("ngModel",o.sugeridoTotalProduto)("allowNegativeNumbers",!0)("readonly",!0),e.xp6(3),e.Q6J("ngModel",o.planoAcaoTotalProduto)("allowNegativeNumbers",!0)("readonly",!0)}}function $e(i,l){1&i&&(e.TgZ(0,"tr"),e._UZ(1,"td"),e.TgZ(2,"td",238),e._uU(3," Nenhum registro "),e.qZA(),e._UZ(4,"td"),e.qZA()),2&i&&(e.xp6(2),e.uIk("colspan",7))}function He(i,l){if(1&i&&(e.TgZ(0,"div",10),e._UZ(1,"app-grafico-comparativo",252,253),e.qZA()),2&i){const o=e.oxw();e.xp6(1),e.Q6J("planner",o.planner)}}function Ee(i,l){if(1&i&&(e.TgZ(0,"p",257),e._uU(1),e.qZA()),2&i){const o=l.$implicit;e.xp6(1),e.Oqu(o)}}function Ye(i,l){1&i&&(e.TgZ(0,"p",257),e._uU(1,"Preencha todos os campos corretamente para salvar"),e.qZA())}function Ke(i,l){if(1&i&&(e.TgZ(0,"div",254),e.YNc(1,Ee,2,1,"p",255),e.YNc(2,Ye,2,0,"p",256),e.qZA()),2&i){const o=e.oxw();e.xp6(1),e.Q6J("ngForOf",o.erro),e.xp6(1),e.Q6J("ngIf",0==o.erro.length)}}function Ve(i,l){1&i&&e._UZ(0,"span",258)}function ze(i,l){1&i&&(e.TgZ(0,"div",259),e._uU(1," Este campo \xe9 obrigat\xf3rio "),e.qZA())}function Be(i,l){1&i&&(e.TgZ(0,"div",260),e._uU(1," Acione a seta para cima ou para baixo no teclado para mudar o valor "),e.qZA())}function We(i,l){1&i&&(e.TgZ(0,"div",259),e._uU(1,"Preencha todos os campos corretamente para adicionar produtos"),e.qZA())}const Xe=function(){return["investimento"]};let ae=(()=>{class i{constructor(o,n,a,r,t,s,c,d,v,k,f,L){this.modal=o,this.plannerService=n,this.clienteService=a,this.isMobile=r,this.toastr=t,this.activatedRoute=s,this.dropdown=c,this.setup=d,this.produtoService=v,this.crypto=k,this.router=f,this.accountService=L,this.faTimes=_.NBC,this.faWallet=_.X5K,this.faChevronLeft=_.A35,this.faTrash=_.$aW,this.faArrowRight=_.eFW,this.faPlus=_.r8p,this.faTrashAlt=_.I7k,this.faChartPie=_.OS1,this.modalOpen=!1,this.planner=new A,this.erro=[],this.loading=!1,this.loadingProduto=!1,this.carteirasSetup=[],this.loadingCarteiraSetup=!0,this.estadoCivil=[],this.loadingEstadoCivil=!0,this.perfilInvestidor=[],this.loadingPerfilInvestidor=!0,this.isEditPage=!1,this.chartSize={"chart-capital-segurado":{width:"0",height:"0"},"chart-patrimonio-idade":{width:"0",height:"0"}},this.mobile=re.I.lg,this.percentualTotalProduto=0,this.planoAcaoTotalProduto=0,this.sugeridoTotalProduto=0,this.carteiraSetupInalterada=new fe.Wj,this.mudouCarteiraSetup=!1,this.clienteIdEncrypted="",this.plannerService.getObject().subscribe(m=>{this.planner=m,this.mudouCarteiraSetup=0!=this.planner.id,this.calculaPercentual(),this.setChartPatrimonioIdade()}),this.activatedRoute.params.subscribe(m=>{this.isEditPage=!!m.cliente_id,this.isEditPage&&(this.clienteIdEncrypted=m.cliente_id,this.planner.cliente_Id=this.crypto.decrypt(m.cliente_id),this.plannerService.getByClienteId(this.planner.cliente_Id).subscribe({next:h=>{h.cliente.rg=h.cliente.rg.toString().padStart(9,"0"),h.cliente.cpf=h.cliente.cpf.toString().padStart(11,"0"),h.principaisObjetivos=h.principaisObjetivos?h.principaisObjetivos:[],this.planner=h,this.carteiraSetupInalterada=h.carteiraSetup,this.mudouCarteiraSetup=!1},error:h=>{this.voltar()}}))}),this.isMobile.get().subscribe(m=>this.mobile=m);var H=this.planner.cliente.empresa_Id??this.planner.account.empresa_Id;this.setup.list.subscribe(m=>this.carteirasSetup=m),this.setup.getList(H).subscribe({next:m=>{this.carteirasSetup=m,this.loadingCarteiraSetup=!1},error:m=>{this.loadingCarteiraSetup=!1}}),this.dropdown.estadoCivil.subscribe(m=>this.estadoCivil=m),this.dropdown.getEstadoCivil().subscribe({next:m=>{this.estadoCivil=m,this.loadingEstadoCivil=!1},error:m=>{this.loadingEstadoCivil=!1}}),this.dropdown.perfilInvestidor.subscribe(m=>this.perfilInvestidor=m),this.dropdown.getPerfilInvestidor().subscribe({next:m=>{this.perfilInvestidor=m,this.loadingPerfilInvestidor=!1},error:m=>{this.loadingPerfilInvestidor=!1}}),this.setChartPatrimonioIdade(),this.setChartCapitalSegurado()}ngOnInit(){}ngAfterViewInit(){this.setChartPatrimonioIdade(),this.setChartCapitalSegurado()}onResize(o){this.setChartWidth("chart-capital-segurado"),this.setChartWidth("chart-patrimonio-idade")}voltar(){this.modal.voltar()}resetForm(){this.plannerService.setObject(new A)}calcularICM(){this.planner.cliente.imc=this.planner.cliente.altura&&this.planner.cliente.peso?this.planner.cliente.peso/Math.pow(this.planner.cliente.altura,2):""}calculaPercentual(){this.planner.planejamentoProduto.length>0?(this.planoAcaoTotalProduto=(this.planner.planejamentoProduto.map(o=>o.planoAcao)??[]).reduce((o,n)=>o+n),this.sugeridoTotalProduto=(this.planner.planejamentoProduto.map(o=>o.sugerido)??[]).reduce((o,n)=>o+n),this.planner.planejamentoProduto=this.planner.planejamentoProduto.map(o=>(o.percentual=100*o.planoAcao/this.sugeridoTotalProduto,o)),this.percentualTotalProduto=this.planner.planejamentoProduto.map(o=>o.percentual).reduce((o,n)=>o+n)):(this.planoAcaoTotalProduto=0,this.percentualTotalProduto=0)}calculaIdade(){if(this.planner.cliente.dataNascimento&&""!=this.planner.cliente.dataNascimento.toString().trim()){var o=Date.now()-new Date(new Date(this.planner.cliente.dataNascimento).toUTCString()).getTime(),n=new Date(o);this.planner.cliente.idade=Math.abs(n.getUTCFullYear()-1970)}else this.planner.cliente.idade=""}carteiraSetupChange(o){if(o.value){let n=this.carteirasSetup.find(a=>a.id==o.value);this.planner.carteiraSetup=n}else this.planner.carteiraSetup=void 0;this.mudouCarteiraSetup=this.planner.carteiraSetup_Id!=this.carteiraSetupInalterada.id,this.saveData()}perfilInvestidorChange(){this.planner.cliente.perfilInvestidor=this.perfilInvestidor.find(o=>o.id==this.planner.cliente.perfilInvestidor_Id),this.saveData()}setChartPatrimonioIdade(){this.setChartWidth("chart-patrimonio-idade"),this.planner.planejamentoGrafico.sort((o,n)=>o.idade-n.idade),this.chartPatrimonioIdadeData={labels:this.planner.planejamentoGrafico.map(o=>o.idade),datasets:[{type:"line",label:"Planejado",data:this.planner.planejamentoGrafico.map(o=>o.valorPlanejado),backgroundColor:"#242424",borderColor:"#2424247a"},{type:"bar",label:"Realidade Atual",data:this.planner.planejamentoGrafico.map(o=>o.valorAtual),backgroundColor:"#2d7a95"}]},this.chartPatrimonioIdadeOptions={plugins:{title:{display:!0,text:"Planejado x Realidade Atual",font:{size:20},color:T.w.primary},subtitle:{display:!1,text:"Planejado x Realidade Atual",font:{size:22},color:T.w.grey},legend:{position:"top"}},scales:{xAxes:{min:0,max:100,suggestedMax:100,display:!0,title:{text:"Idade",display:!0,align:"start",font:{weight:"bold"}}},yAxes:{title:{text:"Valor",display:!0,align:"start",font:{weight:"bold"}}}}}}setChartCapitalSegurado(){this.setChartWidth("chart-capital-segurado"),this.chartCapitalSeguradoData={labels:["","","","","","",""],datasets:[{type:"line",label:"Renda Interrompida 0 anos antes",data:[39,52,36,47,14,55,74],backgroundColor:T.O},{type:"bar",label:"Capital Segurado",data:[74,65,87,19,25,25,25],backgroundColor:T.O},{type:"bar",label:"Planejado",data:[28,48,40,19,86,27,90],backgroundColor:T.O}]},this.chartCapitalSeguradoOptions={plugins:{title:{display:!0,text:"Capital Segurado x Evolu\xe7\xe3o Patrimonial",font:{size:20},color:T.w.primary},legend:{position:"top"}}}}setChartWidth(o){let n=window.innerWidth,a=window.innerHeight,r=$("#"+o).width()??0,t=$("#"+o).height()??0,c=100/a;this.chartSize[o].width=(100/n*r).toString()+"vw",this.chartSize[o].height=(c*t).toString()+"vh"}adicionarProdutoCarteira(o){var n=this;return(0,N.Z)(function*(){if(n.planner.cliente.empresa||(n.planner.cliente.empresa=new I.oW),n.planner.cliente.empresa.id=1,n.saveData(),n.erro=[],o.invalid)return n.erro.push("Campos inv\xe1lidos!"),n.toastr.error("Campos inv\xe1lidos!"),void(n.loading=!1);n.plannerService.create(n.planner).subscribe({next:a=>{n.loading=!1,n.plannerService.setObject(a),n.mudouCarteiraSetup=!0},error:a=>{n.loading=!1}})})()}adicionarFLuxoPontual(){this.planner.planejamentoFluxosPontuais.push(new Me),this.saveData()}removerFluxoPontual(o){let n=this.planner.planejamentoFluxosPontuais.findIndex(a=>a==o);-1!=n&&(this.planner.planejamentoFluxosPontuais.splice(n,1),this.saveData())}adicionarObjetivo(){this.planner.principaisObjetivos.push(new Ce),this.saveData()}removerObjetivo(o){let n=this.planner.principaisObjetivos.findIndex(a=>a==o);-1!=n&&(this.planner.principaisObjetivos.splice(n,1),this.saveData())}removerInvestimento(o){let n=this.planner.planejamentoInvestimento.findIndex(a=>a==o);-1!=n&&(this.planner.planejamentoInvestimento.splice(n,1),this.saveData())}removerProduto(o){let n=this.planner.planejamentoProduto.findIndex(a=>a==o);-1!=n&&(this.planner.planejamentoProduto.splice(n,1),this.saveData())}arrowUp(o){return(0,Z.zJ)(o)}arrowDown(o,n=!1){return(0,Z.DI)(o,n)}saveData(){this.plannerService.setObject(this.planner)}validaForm(o){return this.erro=[],o.invalid?(this.erro.push("Campos inv\xe1lidos!"),this.toastr.error("Campos inv\xe1lidos!"),!1):1!=this.loading&&(0==this.planner.planejamentoInvestimento.length?(this.erro.push("Insira um ou mais investimentos no planner."),this.toastr.error("Insira um ou mais investimentos no planner."),!1):(0==this.planner.planejamentoProduto.length&&(this.erro.push("Insira um ou mais produtos no planner."),this.toastr.error("Insira um ou mais produtos no planner.")),!0))}send(o){this.planner.account_Id=1,this.planner.cliente.empresa_Id=1,this.planner.cliente.empresa||(this.planner.cliente.empresa=new I.oW),this.planner.cliente.empresa.id=1,this.saveData(),this.validaForm(o)&&this.plannerService.edit(this.planner).subscribe({next:a=>{this.loading=!1,this.plannerService.setObject(a)},error:a=>{this.loading=!1}})}}return i.\u0275fac=function(o){return new(o||i)(e.Y36(y.Q),e.Y36(b),e.Y36(z.$),e.Y36(re.h),e.Y36(w._W),e.Y36(C.gz),e.Y36(Q.V),e.Y36(D.A),e.Y36(te.m),e.Y36(J.w),e.Y36(C.F0),e.Y36(F.B))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-planner"]],viewQuery:function(o,n){if(1&o&&(e.Gf(ye,5),e.Gf(ke,5)),2&o){let a;e.iGM(a=e.CRH())&&(n.chartPatrimonioIdade=a.first),e.iGM(a=e.CRH())&&(n.chartCapitalSegurado=a.first)}},hostBindings:function(o,n){1&o&&e.NdJ("resize",function(r){return n.onResize(r)},!1,e.Jf7)},decls:472,vars:151,consts:[[1,"modal__content"],[1,"modal__header","pb-2",2,"padding","0 25px"],[1,"d-flex","align-items-center","justify-content-between","flex-wrap","w-100"],[1,"link","text-dark",3,"click"],[1,"mr-1",3,"icon"],[1,"btn","btn-yellow",3,"click"],[1,"text-orange","mt-1"],[1,"modal__body","mt-0"],["disabled","",1,"needs-validation","home","editable",3,"ngSubmit"],["form","ngForm"],[1,"form-row","mb-2"],[1,"col-lg-8","col-md-8","col-sm-12"],[1,"card","card-body"],[1,"home__container-header","mb-2"],[1,"form-row"],[1,"form-group","col-lg-5","col-md-5","col-sm-12"],["for","nome"],[1,"text-danger"],["type","text","name","nome","id","nome","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","","tabindex","1",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","change"],["nome","ngModel"],[1,"form-group","col-lg-3","col-md-3","col-sm-12"],["for","perfilInvestidor"],["name","perfilInvestidor","id","perfilInvestidor","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","","tabindex","2",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange"],["_perfilInvestidor","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"form-group","col-lg-4","col-md-4","col-sm-12"],["for","estadoCivil"],["name","estadoCivil","id","estadoCivil","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","","tabindex","3",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange"],["_estadoCivil","ngModel"],[1,"form-group","col-lg-3","col-md-3","col-sm-6","col-6"],["for","cpf"],["type","text","name","cpf","id","cpf","mask","000.000.000-00","placeHolder","000.000.000-00","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","","tabindex","4",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","change"],["cpf","ngModel"],["for","rg"],["type","text","name","rg","id","rg","mask","00.000.000-0","placeHolder","00.000.000-0","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","","tabindex","5",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","change"],["rg","ngModel"],[1,"form-group","col-lg-4","col-md-4","col-sm-6","col-6"],["for","dataNascimento"],["type","date","name","dataNascimento","id","dataNascimento","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","","tabindex","6",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","change"],["dataNascimento","ngModel"],[1,"form-group","col-lg-2","col-md-2","col-sm-6","col-6"],["for","idade"],["type","text","name","idade","id","idade","popoverClass","popover-danger","triggers","mouseenter:mouseleave","mask","0*","suffix"," anos","required","","tabindex","7",1,"form-control","form-control-number",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["idade","ngModel"],[1,"form-group","col-lg-12","col-md-12","col-sm-12"],["for","email"],["type","email","name","email","id","email","placeholder","example@gmail.com","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","","tabindex","8",1,"form-control",3,"email","ngModel","ngbPopover","disablePopover","ngModelChange","change"],["email","ngModel"],[1,"col-lg-6","col-md-6","col-sm-12","col-12","pl-0","pr-0"],[1,"home__container"],[1,"form-group","col-lg-6","col-md-6","col-sm-12","d-lg-block","d-md-block"],["for","receita"],["type","text","id","receita","name","receita","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","","tabindex","9",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["receita","ngModel"],[1,"form-group","col-lg-6","col-md-6","col-sm-12"],["for","despesa"],["type","text","id","despesa","name","despesa","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","","tabindex","10",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["despesa","ngModel"],[1,"col-lg-6","col-md-6","col-sm-12","col-12","pr-0","pl-0"],["for","taxaSelic"],["type","text","id","taxaSelic","name","taxaSelic","mask","separator","thousandSeparator",".","decimalMarker",",","suffix","%","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","","tabindex","11",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["taxaSelic","ngModel"],["for","taxaIpca"],["type","text","id","taxaIpca","name","taxaIpca","mask","separator","thousandSeparator",".","decimalMarker",",","suffix","%","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","","tabindex","12",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["taxaIpca","ngModel"],[1,"home__container-header","mb-4"],[1,"col-lg-6","col-md-6","col-sm-12","col-12","px-0"],[1,"form-container"],[1,"form-container-title","font-weight-bold"],[1,"form-container-body"],[1,"form-group","col-lg-6","col-md-6","col-sm-6","pr-1"],["for","rE_Sugerido"],["type","text","id","rE_Sugerido","name","rE_Sugerido","mask","separator.5","thousandSeparator",".","decimalMarker",",","placeholder","R$ 00,00","prefix","R$ ","readonly","",1,"form-control","form-control-number",3,"ngModel","allowNegativeNumbers","ngModelChange"],["rE_Sugerido","ngModel"],[1,"form-group","col-lg-6","col-md-6","col-sm-6","pr-0"],["for","rE_Planejado"],["type","text","id","rE_Planejado","name","rE_Planejado","mask","separator.5","thousandSeparator",".","decimalMarker",",","placeholder","R$ 00,00","prefix","R$ ","readonly","",1,"form-control","form-control-number",3,"ngModel","allowNegativeNumbers","ngModelChange"],["rE_Planejado","ngModel"],[1,"form-container","mb-0"],["for","riscoAssumido"],["type","text","id","riscoAssumido","name","riscoAssumido","mask","separator.5","thousandSeparator",".","decimalMarker",",","placeholder","R$ 00,00","suffix","%","readonly","",1,"form-control","form-control-number",3,"ngModel","allowNegativeNumbers","ngModelChange"],["riscoAssumido","ngModel"],["for","riscoTolerado"],["type","text","id","riscoTolerado","name","riscoTolerado","mask","separator.5","thousandSeparator",".","decimalMarker",",","placeholder","R$ 00,00","suffix","%","suffix","%","readonly","",1,"form-control","form-control-number",3,"ngModel","allowNegativeNumbers","ngModelChange"],["riscoTolerado","ngModel"],[1,"col-lg-4","col-md-4","col-sm-12","col-12"],["for","descricao"],["type","text","name","descricao","id","descricao","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","","tabindex","13",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","change"],["descricao","ngModel"],[1,"home__container","table-responsive","mb-2"],[1,"table","table-editable","w-100","d-md-table","d-sm-table","mb-0"],[1,"primary"],[1,"bg-light","px-3","text-right",2,"white-space","nowrap"],["type","text","id","idadeAposentadoria","name","idadeAposentadoria","mask","0*","suffix"," anos","placeholder","0","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control","form-control-number",3,"ngModel","allowNegativeNumbers","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["idadeAposentadoria","ngModel"],["type","text","id","rendaMensalAposentadoria","name","rendaMensalAposentadoria","mask","separator.5","thousandSeparator",".","decimalMarker",",","placeholder","R$ 00,00","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control","form-control-number",3,"ngModel","prefix","allowNegativeNumbers","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["rendaMensalAposentadoria","ngModel"],["type","text","id","rentabilidadeAposentadoria","name","rentabilidadeAposentadoria","mask","separator.5","thousandSeparator",".","decimalMarker",",","placeholder","00,00%","suffix","%","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control","form-control-number",3,"ngModel","allowNegativeNumbers","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["rentabilidadeAposentadoria","ngModel"],[1,"table","table-editable","w-100","mb-0"],["colspan","3",1,"pl-4"],[1,"text-center","d-flex","align-items-center"],["title","Adicionar",1,"btn","p-0","ml-auto","text-white",3,"click"],[3,"icon"],[1,"subheader"],[1,"pl-4"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-lg-12","col-md-12","col-sm-12","col-12"],[1,"table","table-editable","table-responsive"],[2,"white-space","nowrap"],[1,"px-3","bg-light","text-right"],["type","text","id","sugestao_Baixissimo","name","sugestao_Baixissimo","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["sugestao_Baixissimo","ngModel"],["type","text","id","sugestao_Baixo","name","sugestao_Baixo","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["sugestao_Baixo","ngModel"],["type","text","id","sugestao_Moderado","name","sugestao_Moderado","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["sugestao_Moderado","ngModel"],["type","text","id","sugestao_Arrojado","name","sugestao_Arrojado","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["sugestao_Arrojado","ngModel"],["type","text","id","sugestao_SuperArrojado","name","sugestao_SuperArrojado","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["sugestao_SuperArrojado","ngModel"],["type","text","id","sugestao_Hedge","name","sugestao_Hedge","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["sugestao_Hedge","ngModel"],["type","text","id","sugestao_Total","name","sugestao_Total","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["sugestao_Total","ngModel"],["type","text","id","plano_Baixissimo","name","plano_Baixissimo","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["plano_Baixissimo","ngModel"],["type","text","id","plano_Baixo","name","plano_Baixo","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["plano_Baixo","ngModel"],["type","text","id","plano_Moderado","name","plano_Moderado","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["plano_Moderado","ngModel"],["type","text","id","plano_Arrojado","name","plano_Arrojado","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["plano_Arrojado","ngModel"],["type","text","id","plano_SuperArrojado","name","plano_SuperArrojado","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["plano_SuperArrojado","ngModel"],["type","text","id","plano_Hedge","name","plano_Hedge","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["plano_Hedge","ngModel"],[1,"home__container-header","mb-2","position-relative"],[1,"btn","btn-primary",3,"routerLink"],["responsiveLayout","scroll","emptyMessage","Nenhum registro",1,"table","table-editable",3,"value","responsive"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"d-flex","justify-content-end","align-items-center","w-100"],[1,"col-lg-4","col-md-5","col-sm-6","col-8","px-0"],["id","carteirasSetup","name","carteirasSetup","optionLabel","nome","optionValue","id","filterBy","nome","placeholder","Selecione para adicionar",1,"form-control",3,"disabled","options","ngModel","filter","showClear","required","ngModelChange"],["_carteirasSetup","ngModel"],["type","button","triggers","mouseenter:mouseleave",3,"class","click",4,"ngIf"],["class","link ml-3",3,"routerLink",4,"ngIf"],["class","text-danger px-2",4,"ngIf"],["pTemplate","footer"],[1,"form-row","table-responsive","mb-2"],[1,"table","table-editable","mb-0"],["colspan","6",1,"text-center","p-2"],[1,""],["colspan","2",1,"text-right","primary"],[1,"p-0"],["type","text","id","solucao_montante_Atual","name","solucao_montante_Atual","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control","form-control-solucaoInicial",3,"ngModel","readOnly","ngModelChange"],["solucao_montante_Atual","ngModel"],["colspan","2",1,"p-0"],["type","text","id","solucao_riscoAssumido_Atual","name","solucao_riscoAssumido_Atual","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%",1,"form-control","form-control-solucaoInicial",3,"ngModel","readOnly","ngModelChange"],["solucao_riscoAssumido_Atual","ngModel"],[1,"text-right",2,"white-space","nowrap"],[1,"px-3","bg-light","text-right",2,"white-space","nowrap"],["type","text","id","solucao_rentabilidade_Atual","name","solucao_rentabilidade_Atual","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_rentabilidade_Atual","ngModel"],["type","text","id","solucao_retornoAnual_Atual","name","solucao_retornoAnual_Atual","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_retornoAnual_Atual","ngModel"],["type","text","id","solucao_retornoMensal_Atual","name","solucao_retornoMensal_Atual","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_retornoMensal_Atual","ngModel"],["type","text","id","solucao_plMax_Atual","name","solucao_plMax_Atual","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_plMax_Atual","ngModel"],["type","text","id","solucao_idadeMax_Atual","name","solucao_idadeMax_Atual","mask","separator.5","thousandSeparator",".","decimalMarker",",",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_idadeMax_Atual","ngModel"],["type","text","id","solucao_rentabilidade_Sugerida","name","solucao_rentabilidade_Sugerida","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_rentabilidade_Sugerida","ngModel"],["type","text","id","solucao_retornoAnual_Sugerido","name","solucao_retornoAnual_Sugerido","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_retornoAnual_Sugerido","ngModel"],["type","text","id","solucao_retornoMensal_Sugerido","name","solucao_retornoMensal_Sugerido","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_retornoMensal_Sugerido","ngModel"],["type","text","id","solucao_plMax_Sugerido","name","solucao_plMax_Sugerido","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_plMax_Sugerido","ngModel"],["type","text","id","solucao_idadeMax_Sugerido","name","solucao_idadeMax_Sugerido","mask","separator.5","thousandSeparator",".","decimalMarker",",",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_idadeMax_Sugerido","ngModel"],["type","text","id","solucao_rentabilidade_Diferenca","name","solucao_rentabilidade_Diferenca","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_rentabilidade_Diferenca","ngModel"],["type","text","id","solucao_retornoAnual_Diferenca","name","solucao_retornoAnual_Diferenca","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_retornoAnual_Diferenca","ngModel"],["type","text","id","solucao_retornoMensal_Diferenca","name","solucao_retornoMensal_Diferenca","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_retornoMensal_Diferenca","ngModel"],[1,"border-primary","border-left","border-top"],["type","text","id","solucao_plMax_Diferenca","name","solucao_plMax_Diferenca","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_plMax_Diferenca","ngModel"],[1,"border-primary","border"],["type","text","id","solucao_idadeMax_Diferenca","name","solucao_idadeMax_Diferenca","mask","separator.5","thousandSeparator",".","decimalMarker",",",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_idadeMax_Diferenca","ngModel"],["colspan","2",1,"px-3","bg-light","text-center",2,"white-space","nowrap"],[1,"px-3","bg-light","text-left"],[1,"border-primary","border-left","border-bottom"],["type","text","id","solucao_pL_Desempenho","name","solucao_pL_Desempenho","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control","h2","mb-0","font-weight-bold",2,"font-size","20px",3,"ngModel","readOnly","ngModelChange"],["solucao_pL_Desempenho","ngModel"],["type","text","id","solucao_idade_Desempenho","name","solucao_idade_Desempenho","mask","separator.5","thousandSeparator",".","decimalMarker",",",1,"form-control","h2","mb-0","font-weight-bold",2,"font-size","20px",3,"ngModel","readOnly","ngModelChange"],["solucao_idade_Desempenho","ngModel"],["id","chart-patrimonio-idade",1,"form-row","chart-container"],[3,"data","options","width","height"],["chartPatrimonioIdade",""],["class","form-row mb-2",4,"ngIf"],[1,"form-footer-submit-fixed"],["class","m-0",4,"ngIf"],[1,"btn","btn-primary","mr-0","ml-auto",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["campoObrigatorio",""],["setaUpDown",""],["formInvalido",""],["type","text","mask","0*","suffix"," anos","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control","form-control-number",3,"id","name","ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["type","text","mask","separator.5","thousandSeparator",".","decimalMarker",",","placeholder","R$ 00,00","prefix","R$ ","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control","form-control-number",3,"id","name","ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["valor","ngModel"],[1,"text-center"],["title","Remover linha",1,"btn","btn-trash","d-inline",3,"click"],["colspan","3",1,"py-2","pl-4","text-grey"],[1,"text-right"],[1,"td-actions"],[1,"small","font-weight-bold"],[1,"px-2",2,"white-space","nowrap"],["type","text","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%","triggers","mouseenter:mouseleave","required","",1,"form-control","form-control-number",3,"id","name","ngModel","allowNegativeNumbers","ngbPopover","ngModelChange","keyup.arrowup","keyup.arrowdown"],["custosTaxas","ngModel"],["type","text","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%","triggers","mouseenter:mouseleave",1,"form-control","form-control-number",3,"id","name","ngModel","allowNegativeNumbers","ngbPopover","ngModelChange","keyup.arrowup","keyup.arrowdown"],["rentabilidade","ngModel"],["type","text","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%","triggers","mouseenter:mouseleave",1,"form-control","form-control-number",3,"id","name","ngModel","ngbPopover","ngModelChange","keyup.arrowup","keyup.arrowdown"],["rentabilidadeLiquida","ngModel"],["type","text","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$","triggers","mouseenter:mouseleave","required","",1,"form-control","form-control-number",3,"id","name","ngModel","ngbPopover","ngModelChange","keyup.arrowup","keyup.arrowdown"],["montanteAtual","ngModel"],["type","text","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ","triggers","mouseenter:mouseleave",1,"form-control","form-control-number",3,"id","name","ngModel","ngbPopover","ngModelChange","keyup.arrowup","keyup.arrowdown"],["sugerido","ngModel"],["planoAcao","ngModel"],["title","Remover linha",1,"btn","btn-trash",3,"click"],[1,"py-2","px-2","text-grey"],["type","button","triggers","mouseenter:mouseleave",3,"click"],[1,"link","ml-3",3,"routerLink"],[1,"text-danger","px-2"],[1,"text-right","position-sticky",2,"white-space","nowrap"],[1,"px-3","bg-light","text-right","position-sticky",2,"white-space","nowrap"],["type","text","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%","triggers","mouseenter:mouseleave",1,"form-control","form-control-number",3,"id","name","ngModel","allowNegativeNumbers","ngbPopover","required","ngModelChange","keyup.arrowup","keyup.arrowdown"],["type","text","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ","triggers","mouseenter:mouseleave",1,"form-control","form-control-number",3,"id","name","ngModel","allowNegativeNumbers","ngbPopover","required","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["type","text","id","percentualTotalProduto","name","percentualTotalProduto","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%",1,"form-control",3,"ngModel","allowNegativeNumbers","readonly","ngModelChange"],["_percentualTotalProduto","ngModel"],["type","text","id","sugeridoTotalProduto","name","sugeridoTotalProduto","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control",3,"ngModel","allowNegativeNumbers","readonly","ngModelChange"],["_sugeridoTotalProduto","ngModel"],["type","text","id","planoAcaoTotalProduto","name","planoAcaoTotalProduto","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control",3,"ngModel","allowNegativeNumbers","readonly","ngModelChange"],["_planoAcaoTotalProduto","ngModel"],[2,"width","100%",3,"planner"],["investimentoGraficos",""],[1,"m-0"],["class","text-red",4,"ngFor","ngForOf"],["class","text-red",4,"ngIf"],[1,"text-red"],[1,"spinner-border","spinner-border-sm","mr-1"],[1,"py-2","px-2","text-danger"],[1,"py-2","px-2","text-info"]],template:function(o,n){if(1&o){const a=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),e.NdJ("click",function(){return n.voltar()}),e._UZ(4,"fa-icon",4),e._uU(5," Voltar "),e.qZA(),e.TgZ(6,"div")(7,"button",5),e.NdJ("click",function(){return n.resetForm()}),e._uU(8,"Limpar campos"),e.qZA()()(),e.TgZ(9,"h3",6),e._uU(10,"Planner"),e.qZA()(),e.TgZ(11,"div",7)(12,"form",8,9),e.NdJ("ngSubmit",function(){e.CHM(a);const t=e.MAs(13);return e.KtG(n.send(t))}),e.TgZ(14,"div",10)(15,"div",11)(16,"div",10)(17,"div",12)(18,"div",13)(19,"h6"),e._uU(20,"Dados Cadastrais"),e.qZA()(),e.TgZ(21,"div",14)(22,"div",15)(23,"label",16),e._uU(24,"Nome Completo: "),e.TgZ(25,"span",17),e._uU(26,"*"),e.qZA()(),e.TgZ(27,"input",18,19),e.NdJ("ngModelChange",function(t){return n.planner.cliente.nome=t})("change",function(){return n.saveData()}),e.qZA()(),e.TgZ(29,"div",20)(30,"label",21),e._uU(31,"Perfil de Investidor: "),e.TgZ(32,"span",17),e._uU(33,"*"),e.qZA()(),e.TgZ(34,"select",22,23),e.NdJ("ngModelChange",function(t){return n.planner.cliente.perfilInvestidor_Id=t})("ngModelChange",function(){return n.perfilInvestidorChange()}),e.TgZ(36,"option",24),e._uU(37,"Selecione"),e.qZA(),e.YNc(38,qe,2,2,"option",25),e.qZA()(),e.TgZ(39,"div",26)(40,"label",27),e._uU(41,"Estado Civil: "),e.TgZ(42,"span",17),e._uU(43,"*"),e.qZA()(),e.TgZ(44,"select",28,29),e.NdJ("ngModelChange",function(t){return n.planner.cliente.estadoCivil_Id=t})("ngModelChange",function(){return n.saveData()}),e.TgZ(46,"option",24),e._uU(47,"Selecione"),e.qZA(),e.YNc(48,Ie,2,2,"option",25),e.qZA()()(),e.TgZ(49,"div",14)(50,"div",30)(51,"label",31),e._uU(52,"CPF: "),e.TgZ(53,"span",17),e._uU(54,"*"),e.qZA()(),e.TgZ(55,"input",32,33),e.NdJ("ngModelChange",function(t){return n.planner.cliente.cpf=t})("change",function(){return n.saveData()}),e.qZA()(),e.TgZ(57,"div",30)(58,"label",34),e._uU(59,"RG: "),e.TgZ(60,"span",17),e._uU(61,"*"),e.qZA()(),e.TgZ(62,"input",35,36),e.NdJ("ngModelChange",function(t){return n.planner.cliente.rg=t})("change",function(){return n.saveData()}),e.qZA()(),e.TgZ(64,"div",37)(65,"label",38),e._uU(66,"Data de Nascimento: "),e.TgZ(67,"span",17),e._uU(68,"*"),e.qZA()(),e.TgZ(69,"input",39,40),e.NdJ("ngModelChange",function(t){return n.planner.cliente.dataNascimento=t})("ngModelChange",function(){return n.calculaIdade()})("change",function(){return n.saveData()}),e.qZA()(),e.TgZ(71,"div",41)(72,"label",42),e._uU(73,"Idade: "),e.TgZ(74,"span",17),e._uU(75,"*"),e.qZA()(),e.TgZ(76,"input",43,44),e.NdJ("ngModelChange",function(t){return n.planner.cliente.idade=t})("keyup.arrowup",function(){e.CHM(a);const t=e.MAs(77);return e.KtG(n.planner.cliente.idade=n.arrowUp(t.value))})("keyup.arrowdown",function(){e.CHM(a);const t=e.MAs(77);return e.KtG(n.planner.cliente.idade=n.arrowDown(t.value,!0))})("change",function(){return n.saveData()}),e.qZA()()(),e.TgZ(78,"div",14)(79,"div",45)(80,"label",46),e._uU(81,"E-mail: "),e.TgZ(82,"span",17),e._uU(83,"*"),e.qZA()(),e.TgZ(84,"input",47,48),e.NdJ("ngModelChange",function(t){return n.planner.cliente.email=t})("change",function(){return n.saveData()}),e.qZA()()()()(),e.TgZ(86,"div",10)(87,"div",49)(88,"div",50)(89,"div",13)(90,"h6"),e._uU(91,"Valores"),e.qZA()(),e.TgZ(92,"div",14)(93,"div",51)(94,"label",52),e._uU(95,"Receita: "),e.TgZ(96,"span",17),e._uU(97,"*"),e.qZA()(),e.TgZ(98,"input",53,54),e.NdJ("ngModelChange",function(t){return n.planner.cliente.receita=t})("keyup.arrowup",function(){e.CHM(a);const t=e.MAs(99);return e.KtG(n.planner.cliente.receita=n.arrowUp(t.value))})("keyup.arrowdown",function(){e.CHM(a);const t=e.MAs(99);return e.KtG(n.planner.cliente.receita=n.arrowDown(t.value,!0))})("change",function(){return n.saveData()}),e.qZA()(),e.TgZ(100,"div",55)(101,"label",56),e._uU(102,"Despesas: "),e.TgZ(103,"span",17),e._uU(104,"*"),e.qZA()(),e.TgZ(105,"input",57,58),e.NdJ("ngModelChange",function(t){return n.planner.cliente.despesa=t})("keyup.arrowup",function(){e.CHM(a);const t=e.MAs(106);return e.KtG(n.planner.cliente.despesa=n.arrowUp(t.value))})("keyup.arrowdown",function(){e.CHM(a);const t=e.MAs(106);return e.KtG(n.planner.cliente.despesa=n.arrowDown(t.value,!0))})("change",function(){return n.saveData()}),e.qZA()()()()(),e.TgZ(107,"div",59)(108,"div",50)(109,"div",13)(110,"h6"),e._uU(111,"Taxas"),e.qZA()(),e.TgZ(112,"div",14)(113,"div",51)(114,"label",60),e._uU(115,"Taxa Selic: "),e.TgZ(116,"span",17),e._uU(117,"*"),e.qZA()(),e.TgZ(118,"input",61,62),e.NdJ("ngModelChange",function(t){return n.planner.taxaSelic=t})("keyup.arrowup",function(){e.CHM(a);const t=e.MAs(119);return e.KtG(n.planner.taxaSelic=n.arrowUp(t.value))})("keyup.arrowdown",function(){e.CHM(a);const t=e.MAs(119);return e.KtG(n.planner.taxaSelic=n.arrowDown(t.value,!0))})("change",function(){return n.saveData()}),e.qZA()(),e.TgZ(120,"div",55)(121,"label",63),e._uU(122,"Taxa IPCA: "),e.TgZ(123,"span",17),e._uU(124,"*"),e.qZA()(),e.TgZ(125,"input",64,65),e.NdJ("ngModelChange",function(t){return n.planner.taxaIpca=t})("keyup.arrowup",function(){e.CHM(a);const t=e.MAs(126);return e.KtG(n.planner.taxaIpca=n.arrowUp(t.value))})("keyup.arrowdown",function(){e.CHM(a);const t=e.MAs(126);return e.KtG(n.planner.taxaIpca=n.arrowDown(t.value,!0))})("change",function(){return n.saveData()}),e.qZA()()()()()(),e.TgZ(127,"div",10)(128,"div",12)(129,"div",66)(130,"h6"),e._uU(131,"Capacidade de Risco"),e.qZA()(),e.TgZ(132,"div",14)(133,"div",67)(134,"div",68)(135,"div",69),e._uU(136,"Reserva de Emerg\xeancia"),e.qZA(),e.TgZ(137,"div",70)(138,"div",71)(139,"label",72),e._uU(140," Sugerida:"),e.qZA(),e.TgZ(141,"input",73,74),e.NdJ("ngModelChange",function(t){return n.planner.rE_Sugerido=t}),e.qZA()(),e.TgZ(143,"div",75)(144,"label",76),e._uU(145," Planejada:"),e.qZA(),e.TgZ(146,"input",77,78),e.NdJ("ngModelChange",function(t){return n.planner.rE_Planejado=t}),e.qZA()()()()(),e.TgZ(148,"div",67)(149,"div",79)(150,"div",69),e._uU(151,"Risco"),e.qZA(),e.TgZ(152,"div",70)(153,"div",71)(154,"label",80),e._uU(155," Assumido:"),e.qZA(),e.TgZ(156,"input",81,82),e.NdJ("ngModelChange",function(t){return n.planner.riscoAssumido=t}),e.qZA()(),e.TgZ(158,"div",75)(159,"label",83),e._uU(160," Tolerado:"),e.qZA(),e.TgZ(161,"input",84,85),e.NdJ("ngModelChange",function(t){return n.planner.riscoTolerado=t}),e.qZA()()()()()()()()(),e.TgZ(163,"div",86)(164,"div",10)(165,"div",12)(166,"div",13)(167,"h6"),e._uU(168,"Descri\xe7\xe3o"),e.qZA()(),e.TgZ(169,"div",14)(170,"div",45)(171,"label",87),e._uU(172,"Observa\xe7\xf5es do planner: "),e.TgZ(173,"span",17),e._uU(174,"*"),e.qZA()(),e.TgZ(175,"textarea",88,89),e.NdJ("ngModelChange",function(t){return n.planner.descricao=t})("change",function(){return n.saveData()}),e._uU(177,"                                        "),e.qZA()()()()(),e.TgZ(178,"div",10)(179,"div",90)(180,"table",91)(181,"thead",92)(182,"tr"),e._UZ(183,"th"),e.TgZ(184,"th"),e._uU(185,"Aposentadoria"),e.qZA()()(),e.TgZ(186,"tbody")(187,"tr")(188,"td",93)(189,"small")(190,"b"),e._uU(191,"Idade"),e.qZA()()(),e.TgZ(192,"td")(193,"input",94,95),e.NdJ("ngModelChange",function(t){return n.planner.cliente.idadeAposentadoria=t})("keyup.arrowup",function(){e.CHM(a);const t=e.MAs(194);return e.KtG(n.planner.cliente.idadeAposentadoria=n.arrowUp(t.value))})("keyup.arrowdown",function(){e.CHM(a);const t=e.MAs(194);return e.KtG(n.planner.cliente.idadeAposentadoria=n.arrowDown(t.value))})("change",function(){return n.saveData()}),e.qZA()()(),e.TgZ(195,"tr")(196,"td",93)(197,"small")(198,"b"),e._uU(199,"Renda Mensal"),e.qZA()()(),e.TgZ(200,"td")(201,"input",96,97),e.NdJ("ngModelChange",function(t){return n.planner.cliente.rendaMensalAposentadoria=t})("keyup.arrowup",function(){e.CHM(a);const t=e.MAs(202);return e.KtG(n.planner.cliente.rendaMensalAposentadoria=n.arrowUp(t.value))})("keyup.arrowdown",function(){e.CHM(a);const t=e.MAs(202);return e.KtG(n.planner.cliente.rendaMensalAposentadoria=n.arrowDown(t.value))})("change",function(){return n.saveData()}),e.qZA()()(),e.TgZ(203,"tr")(204,"td",93)(205,"small")(206,"b"),e._uU(207,"Rentabilidade"),e.qZA()()(),e.TgZ(208,"td")(209,"input",98,99),e.NdJ("ngModelChange",function(t){return n.planner.cliente.rentabilidadeAposentadoria=t})("keyup.arrowup",function(){e.CHM(a);const t=e.MAs(210);return e.KtG(n.planner.cliente.rentabilidadeAposentadoria=n.arrowUp(t.value))})("keyup.arrowdown",function(){e.CHM(a);const t=e.MAs(210);return e.KtG(n.planner.cliente.rentabilidadeAposentadoria=n.arrowDown(t.value))})("change",function(){return n.saveData()}),e.qZA()()()()()()(),e.TgZ(211,"div",10)(212,"div",90)(213,"table",100)(214,"thead",92)(215,"tr")(216,"th",101)(217,"p",102),e._uU(218," Fluxos Pontuais "),e.TgZ(219,"a",103),e.NdJ("click",function(){return n.adicionarFLuxoPontual()}),e._UZ(220,"fa-icon",104),e.qZA()()()(),e.TgZ(221,"tr",105)(222,"th",106),e._uU(223,"Idade"),e.qZA(),e.TgZ(224,"th"),e._uU(225,"Valor"),e.qZA(),e._UZ(226,"th"),e.qZA()(),e.TgZ(227,"tbody"),e.YNc(228,Se,10,11,"tr",107),e.YNc(229,Je,3,0,"tr",108),e.qZA()()()()(),e.TgZ(230,"div",109)(231,"div",10)(232,"div",50)(233,"div",13)(234,"h6"),e._uU(235,"C\xe1lculos"),e.qZA()(),e.TgZ(236,"div",14)(237,"table",110)(238,"thead",92)(239,"tr"),e._UZ(240,"th"),e.TgZ(241,"th"),e._uU(242,"Baix\xedssimo"),e.qZA(),e.TgZ(243,"th"),e._uU(244,"Baixo"),e.qZA(),e.TgZ(245,"th"),e._uU(246,"Moderado"),e.qZA(),e.TgZ(247,"th"),e._uU(248,"Arrojado"),e.qZA(),e.TgZ(249,"th",111),e._uU(250,"Super Arrojado"),e.qZA(),e.TgZ(251,"th"),e._uU(252,"Hedge"),e.qZA(),e.TgZ(253,"th"),e._uU(254,"Total"),e.qZA()()(),e.TgZ(255,"tbody")(256,"tr")(257,"td",112)(258,"small")(259,"b"),e._uU(260,"Sugest\xe3o"),e.qZA()()(),e.TgZ(261,"td")(262,"input",113,114),e.NdJ("ngModelChange",function(t){return n.planner.sugestao_Baixissimo=t}),e.qZA()(),e.TgZ(264,"td")(265,"input",115,116),e.NdJ("ngModelChange",function(t){return n.planner.sugestao_Baixo=t}),e.qZA()(),e.TgZ(267,"td")(268,"input",117,118),e.NdJ("ngModelChange",function(t){return n.planner.sugestao_Moderado=t}),e.qZA()(),e.TgZ(270,"td")(271,"input",119,120),e.NdJ("ngModelChange",function(t){return n.planner.sugestao_Arrojado=t}),e.qZA()(),e.TgZ(273,"td")(274,"input",121,122),e.NdJ("ngModelChange",function(t){return n.planner.sugestao_SuperArrojado=t}),e.qZA()(),e.TgZ(276,"td")(277,"input",123,124),e.NdJ("ngModelChange",function(t){return n.planner.sugestao_Hedge=t}),e.qZA()(),e.TgZ(279,"td")(280,"input",125,126),e.NdJ("ngModelChange",function(t){return n.planner.sugestao_Total=t}),e.qZA()()(),e.TgZ(282,"tr")(283,"td",112)(284,"small")(285,"b"),e._uU(286,"Plano"),e.qZA()()(),e.TgZ(287,"td")(288,"input",127,128),e.NdJ("ngModelChange",function(t){return n.planner.plano_Baixissimo=t}),e.qZA()(),e.TgZ(290,"td")(291,"input",129,130),e.NdJ("ngModelChange",function(t){return n.planner.plano_Baixo=t}),e.qZA()(),e.TgZ(293,"td")(294,"input",131,132),e.NdJ("ngModelChange",function(t){return n.planner.plano_Moderado=t}),e.qZA()(),e.TgZ(296,"td")(297,"input",133,134),e.NdJ("ngModelChange",function(t){return n.planner.plano_Arrojado=t}),e.qZA()(),e.TgZ(299,"td")(300,"input",135,136),e.NdJ("ngModelChange",function(t){return n.planner.plano_SuperArrojado=t}),e.qZA()(),e.TgZ(302,"td")(303,"input",137,138),e.NdJ("ngModelChange",function(t){return n.planner.plano_Hedge=t}),e.qZA()(),e.TgZ(305,"td")(306,"input",125,126),e.NdJ("ngModelChange",function(t){return n.planner.sugestao_Total=t}),e.qZA()()()()()()()(),e.TgZ(308,"div",10)(309,"div",50)(310,"div",139)(311,"h6"),e._uU(312,"Investimento"),e.qZA(),e.TgZ(313,"a",140),e._uU(314,"Adicionar"),e.qZA()(),e.TgZ(315,"div",14)(316,"p-table",141),e.YNc(317,je,16,0,"ng-template",142),e.YNc(318,Ne,25,28,"ng-template",143),e.YNc(319,Ue,5,1,"ng-template",144),e.qZA()()()(),e.TgZ(320,"div",10)(321,"div",50)(322,"div",13)(323,"h6"),e._uU(324,"Produto"),e.qZA(),e.TgZ(325,"div",145)(326,"div",146)(327,"p-dropdown",147,148),e.NdJ("ngModelChange",function(t){return n.planner.carteiraSetup_Id=t})("ngModelChange",function(){e.CHM(a);const t=e.MAs(328);return e.KtG(n.carteiraSetupChange(t))}),e.qZA()(),e.YNc(329,Oe,2,3,"button",149),e.YNc(330,Re,2,2,"a",150),e.qZA()(),e.TgZ(331,"div",14),e.YNc(332,Qe,2,0,"p",151),e.TgZ(333,"p-table",141),e.YNc(334,De,18,0,"ng-template",142),e.YNc(335,Ge,29,39,"ng-template",143),e.YNc(336,Le,19,9,"ng-template",152),e.YNc(337,$e,5,1,"ng-template",144),e.qZA()()()(),e.TgZ(338,"div",10)(339,"div",50)(340,"div",13)(341,"h6"),e._uU(342,"Solu\xe7\xe3o Inicial"),e.qZA()(),e.TgZ(343,"div",153)(344,"table",154)(345,"thead")(346,"tr",92)(347,"th",155)(348,"h6"),e._uU(349,"Agregando Valor"),e.qZA()()(),e.TgZ(350,"tr",156)(351,"th",157),e._uU(352,"Montante Total"),e.qZA(),e.TgZ(353,"th",158)(354,"input",159,160),e.NdJ("ngModelChange",function(t){return n.planner.planejamentoAgregandoValor.montante=t}),e.qZA()(),e.TgZ(356,"th",92),e._uU(357,"Exposi\xe7\xe3o a Risco"),e.qZA(),e.TgZ(358,"th",161)(359,"input",162,163),e.NdJ("ngModelChange",function(t){return n.planner.planejamentoAgregandoValor.riscoAssumido=t}),e.qZA()()(),e.TgZ(361,"tr",92)(362,"th",164),e._uU(363,"Carteira"),e.qZA(),e.TgZ(364,"th",111),e._uU(365,"Rent. Atual "),e.TgZ(366,"small"),e._uU(367,"(ano)"),e.qZA()(),e.TgZ(368,"th",111),e._uU(369,"Retorno Anual"),e.qZA(),e.TgZ(370,"th",111),e._uU(371,"Retorno Mensal"),e.qZA(),e.TgZ(372,"th",111),e._uU(373,"Patrim\xf4nio M\xe1ximo"),e.qZA(),e.TgZ(374,"th",111),e._uU(375,"Tempo "),e.TgZ(376,"small"),e._uU(377,"(anos)"),e.qZA()()()(),e.TgZ(378,"tbody")(379,"tr")(380,"td",165)(381,"small"),e._uU(382,"Atual"),e.qZA()(),e.TgZ(383,"td")(384,"input",166,167),e.NdJ("ngModelChange",function(t){return n.planner.planejamentoAgregandoValor.rentabilidade_Atual=t}),e.qZA()(),e.TgZ(386,"td")(387,"input",168,169),e.NdJ("ngModelChange",function(t){return n.planner.planejamentoAgregandoValor.retornoAnual_Atual=t}),e.qZA()(),e.TgZ(389,"td")(390,"input",170,171),e.NdJ("ngModelChange",function(t){return n.planner.planejamentoAgregandoValor.retornoMensal_Atual=t}),e.qZA()(),e.TgZ(392,"td")(393,"input",172,173),e.NdJ("ngModelChange",function(t){return n.planner.planejamentoAgregandoValor.plMax_Atual=t}),e.qZA()(),e.TgZ(395,"td")(396,"input",174,175),e.NdJ("ngModelChange",function(t){return n.planner.planejamentoAgregandoValor.idadeMax_Atual=t}),e.qZA()()(),e.TgZ(398,"tr")(399,"td",165)(400,"small"),e._uU(401,"Sugerida"),e.qZA()(),e.TgZ(402,"td")(403,"input",176,177),e.NdJ("ngModelChange",function(t){return n.planner.planejamentoAgregandoValor.rentabilidade_Sugerida=t}),e.qZA()(),e.TgZ(405,"td")(406,"input",178,179),e.NdJ("ngModelChange",function(t){return n.planner.planejamentoAgregandoValor.retornoAnual_Sugerido=t}),e.qZA()(),e.TgZ(408,"td")(409,"input",180,181),e.NdJ("ngModelChange",function(t){return n.planner.planejamentoAgregandoValor.retornoMensal_Sugerido=t}),e.qZA()(),e.TgZ(411,"td")(412,"input",182,183),e.NdJ("ngModelChange",function(t){return n.planner.planejamentoAgregandoValor.plMax_Sugerido=t}),e.qZA()(),e.TgZ(414,"td")(415,"input",184,185),e.NdJ("ngModelChange",function(t){return n.planner.planejamentoAgregandoValor.idadeMax_Sugerido=t}),e.qZA()()(),e.TgZ(417,"tr")(418,"td",165)(419,"small"),e._uU(420,"Diferen\xe7a"),e.qZA()(),e.TgZ(421,"td")(422,"input",186,187),e.NdJ("ngModelChange",function(t){return n.planner.planejamentoAgregandoValor.rentabilidade_Diferenca=t}),e.qZA()(),e.TgZ(424,"td")(425,"input",188,189),e.NdJ("ngModelChange",function(t){return n.planner.planejamentoAgregandoValor.retornoAnual_Diferenca=t}),e.qZA()(),e.TgZ(427,"td")(428,"input",190,191),e.NdJ("ngModelChange",function(t){return n.planner.planejamentoAgregandoValor.retornoMensal_Diferenca=t}),e.qZA()(),e.TgZ(430,"td",192)(431,"input",193,194),e.NdJ("ngModelChange",function(t){return n.planner.planejamentoAgregandoValor.plMax_Diferenca=t}),e.qZA()(),e.TgZ(433,"td",195)(434,"input",196,197),e.NdJ("ngModelChange",function(t){return n.planner.planejamentoAgregandoValor.idadeMax_Diferenca=t}),e.qZA()()(),e.TgZ(436,"tr"),e._UZ(437,"td",165),e.TgZ(438,"td",198)(439,"span")(440,"b"),e._uU(441,"Melhora de Desempenho"),e.qZA()()(),e.TgZ(442,"td",199)(443,"span"),e._UZ(444,"fa-icon",104),e.qZA()(),e.TgZ(445,"td",200)(446,"input",201,202),e.NdJ("ngModelChange",function(t){return n.planner.planejamentoAgregandoValor.pL_Desempenho=t}),e.qZA()(),e.TgZ(448,"td",195)(449,"input",203,204),e.NdJ("ngModelChange",function(t){return n.planner.planejamentoAgregandoValor.idade_Desempenho=t}),e.qZA()()()()()()()(),e.TgZ(451,"div",10)(452,"div",50)(453,"div",13)(454,"h6"),e._uU(455,"Patrim\xf4nio por Idade"),e.qZA()(),e.TgZ(456,"div",205),e._UZ(457,"p-chart",206,207),e.qZA()()(),e.YNc(459,He,3,1,"div",208),e.qZA()(),e.TgZ(460,"div",209),e.YNc(461,Ke,3,2,"div",210),e.TgZ(462,"button",211),e.YNc(463,Ve,1,0,"span",212),e._uU(464," Salvar "),e.qZA()()(),e.YNc(465,ze,2,0,"ng-template",null,213,e.W1O),e.YNc(467,Be,2,0,"ng-template",null,214,e.W1O),e.YNc(469,We,2,0,"ng-template",null,215,e.W1O),e.qZA()(),e._UZ(471,"router-outlet")}if(2&o){const a=e.MAs(13),r=e.MAs(28),t=e.MAs(35),s=e.MAs(45),c=e.MAs(56),d=e.MAs(63),v=e.MAs(70),k=e.MAs(77),f=e.MAs(85),L=e.MAs(99),H=e.MAs(106),m=e.MAs(119),h=e.MAs(126),Yn=e.MAs(176),Kn=e.MAs(194),ue=e.MAs(202),Vn=e.MAs(210),g=e.MAs(466);e.xp6(4),e.Q6J("icon",n.faChevronLeft),e.xp6(23),e.Q6J("ngModel",n.planner.cliente.nome)("ngbPopover",g)("disablePopover",null==r.errors),e.xp6(7),e.ekj("form-control-loading",n.loadingPerfilInvestidor),e.Q6J("ngModel",n.planner.cliente.perfilInvestidor_Id)("ngbPopover",g)("disablePopover",null==t.errors),e.xp6(2),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",n.perfilInvestidor),e.xp6(6),e.ekj("form-control-loading",n.loadingEstadoCivil),e.Q6J("ngModel",n.planner.cliente.estadoCivil_Id)("ngbPopover",g)("disablePopover",null==s.errors),e.xp6(2),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",n.estadoCivil),e.xp6(7),e.Q6J("ngModel",n.planner.cliente.cpf)("ngbPopover",g)("disablePopover",null==c.errors),e.xp6(7),e.Q6J("ngModel",n.planner.cliente.rg)("ngbPopover",g)("disablePopover",null==d.errors),e.xp6(7),e.Q6J("ngModel",n.planner.cliente.dataNascimento)("ngbPopover",g)("disablePopover",null==v.errors),e.xp6(7),e.Q6J("ngModel",n.planner.cliente.idade)("ngbPopover",g)("disablePopover",null==k.errors),e.xp6(8),e.Q6J("email",!0)("ngModel",n.planner.cliente.email)("ngbPopover",g)("disablePopover",null==f.errors),e.xp6(14),e.Q6J("ngModel",n.planner.cliente.receita)("ngbPopover",g)("disablePopover",null==L.errors),e.xp6(7),e.Q6J("ngModel",n.planner.cliente.despesa)("ngbPopover",g)("disablePopover",null==H.errors),e.xp6(13),e.Q6J("ngModel",n.planner.taxaSelic)("ngbPopover",g)("disablePopover",null==m.errors),e.xp6(7),e.Q6J("ngModel",n.planner.taxaIpca)("ngbPopover",g)("disablePopover",null==h.errors),e.xp6(16),e.Q6J("ngModel",n.planner.rE_Sugerido)("allowNegativeNumbers",!1),e.xp6(5),e.Q6J("ngModel",n.planner.rE_Planejado)("allowNegativeNumbers",!1),e.xp6(10),e.Q6J("ngModel",n.planner.riscoAssumido)("allowNegativeNumbers",!1),e.xp6(5),e.Q6J("ngModel",n.planner.riscoTolerado)("allowNegativeNumbers",!1),e.xp6(14),e.Q6J("ngModel",n.planner.descricao)("ngbPopover",g)("disablePopover",null==Yn.errors),e.xp6(18),e.Q6J("ngModel",n.planner.cliente.idadeAposentadoria)("allowNegativeNumbers",!1)("ngbPopover",g)("disablePopover",null==Kn.errors),e.xp6(8),e.Q6J("ngModel",n.planner.cliente.rendaMensalAposentadoria)("prefix",""!=ue.value?"R$ ":"")("allowNegativeNumbers",!1)("ngbPopover",g)("disablePopover",null==ue.errors),e.xp6(8),e.Q6J("ngModel",n.planner.cliente.rentabilidadeAposentadoria)("allowNegativeNumbers",!0)("ngbPopover",g)("disablePopover",null==Vn.errors),e.xp6(11),e.Q6J("icon",n.faPlus),e.xp6(8),e.Q6J("ngForOf",n.planner.planejamentoFluxosPontuais),e.xp6(1),e.Q6J("ngIf",0==n.planner.planejamentoFluxosPontuais.length),e.xp6(33),e.Q6J("ngModel",n.planner.sugestao_Baixissimo),e.xp6(3),e.Q6J("ngModel",n.planner.sugestao_Baixo),e.xp6(3),e.Q6J("ngModel",n.planner.sugestao_Moderado),e.xp6(3),e.Q6J("ngModel",n.planner.sugestao_Arrojado),e.xp6(3),e.Q6J("ngModel",n.planner.sugestao_SuperArrojado),e.xp6(3),e.Q6J("ngModel",n.planner.sugestao_Hedge),e.xp6(3),e.Q6J("ngModel",n.planner.sugestao_Total),e.xp6(8),e.Q6J("ngModel",n.planner.plano_Baixissimo),e.xp6(3),e.Q6J("ngModel",n.planner.plano_Baixo),e.xp6(3),e.Q6J("ngModel",n.planner.plano_Moderado),e.xp6(3),e.Q6J("ngModel",n.planner.plano_Arrojado),e.xp6(3),e.Q6J("ngModel",n.planner.plano_SuperArrojado),e.xp6(3),e.Q6J("ngModel",n.planner.plano_Hedge),e.xp6(3),e.Q6J("ngModel",n.planner.sugestao_Total),e.xp6(7),e.Q6J("routerLink",e.DdM(150,Xe)),e.xp6(3),e.Q6J("value",n.planner.planejamentoInvestimento)("responsive",!0),e.xp6(11),e.ekj("form-control-loading",n.loadingCarteiraSetup),e.Q6J("disabled",n.loadingCarteiraSetup)("options",n.carteirasSetup)("ngModel",n.planner.carteiraSetup_Id)("filter",!0)("showClear",!0)("required",!0),e.xp6(2),e.Q6J("ngIf",0!=n.planner.carteiraSetup_Id&&n.mudouCarteiraSetup||0==n.planner.planejamentoProduto.length),e.xp6(1),e.Q6J("ngIf",n.planner.planejamentoInvestimento.length>0&&n.planner.planejamentoProduto.length>0&&!n.mudouCarteiraSetup),e.xp6(2),e.Q6J("ngIf",0==n.planner.planejamentoInvestimento.length),e.xp6(1),e.Q6J("value",n.planner.planejamentoProduto)("responsive",!0),e.xp6(21),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.montante)("readOnly",!0),e.xp6(5),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.riscoAssumido)("readOnly",!0),e.xp6(25),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.rentabilidade_Atual)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.retornoAnual_Atual)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.retornoMensal_Atual)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.plMax_Atual)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.idadeMax_Atual)("readOnly",!0),e.xp6(7),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.rentabilidade_Sugerida)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.retornoAnual_Sugerido)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.retornoMensal_Sugerido)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.plMax_Sugerido)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.idadeMax_Sugerido)("readOnly",!0),e.xp6(7),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.rentabilidade_Diferenca)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.retornoAnual_Diferenca)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.retornoMensal_Diferenca)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.plMax_Diferenca)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.idadeMax_Diferenca)("readOnly",!0),e.xp6(10),e.Q6J("icon",n.faArrowRight),e.xp6(2),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.pL_Desempenho)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.idade_Desempenho)("readOnly",!0),e.xp6(8),e.Q6J("data",n.chartPatrimonioIdadeData)("options",n.chartPatrimonioIdadeOptions)("width",n.chartSize["chart-patrimonio-idade"].width)("height",n.chartSize["chart-patrimonio-idade"].height),e.xp6(2),e.Q6J("ngIf",n.planner.planejamentoProduto.length>0||n.planner.planejamentoInvestimento.length>0),e.xp6(2),e.Q6J("ngIf",n.erro||a.invalid),e.xp6(1),e.Q6J("disabled",a.invalid||n.loading),e.xp6(1),e.Q6J("ngIf",n.loading)}},dependencies:[M.sg,M.O5,C.lC,C.yS,u._Y,u.YN,u.Kr,u.Fj,u.EJ,u.JJ,u.JL,u.Q7,u.on,u.On,u.F,j.BN,P.hx,Y.iA,K.jx,q.o8,oe.Lt,G.C,xe,P.Iq],styles:[".form-control-solucaoInicial[_ngcontent-%COMP%], .form-control-solucaoInicial[_ngcontent-%COMP%]:focus, .form-control-solucaoInicial[_ngcontent-%COMP%]:hover, .form-control-solucaoInicial[_ngcontent-%COMP%]:hover:focus{background-color:var(--primary)!important;border-radius:0;color:#fff!important;outline:none!important;box-shadow:none!important}.table[_ngcontent-%COMP%]   td.position-sticky[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th.position-sticky[_ngcontent-%COMP%]{position:sticky;left:0}.table-editable[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{min-width:110px}.form-control[readonly][_ngcontent-%COMP%], .form-control.ng-touched.ng-invalid[readonly][_ngcontent-%COMP%], [novalidate][_ngcontent-%COMP%]   .form-control.ng-touched[_ngcontent-%COMP%], [novalidate][_ngcontent-%COMP%]   .form-control.ng-touched.ng-valid[_ngcontent-%COMP%], [novalidate][_ngcontent-%COMP%]   .form-control.ng-touched.ng-invalid[_ngcontent-%COMP%], [novalidate].form-control.ng-touched[_ngcontent-%COMP%], [novalidate].form-control.ng-touched.ng-valid[_ngcontent-%COMP%], [novalidate].form-control.ng-touched.ng-invalid[_ngcontent-%COMP%], .novalidate.form-control.ng-touched[_ngcontent-%COMP%], .novalidate.form-control.ng-touched.ng-valid[_ngcontent-%COMP%], .novalidate.form-control.ng-touched.ng-invalid[_ngcontent-%COMP%]{background-color:#fff!important;border:1px solid #ced4da}"]}),i})();var en=p(4595),nn=p(1442),on=p(5669),tn=p(316);class rn{constructor(){this.id=0,this.tipoAtivo_Id=0,this.tipoAtivo=new nn.m,this.tipoRisco_Id=0,this.tipoRisco=new tn.p,this.tipoLiquidez_Id=0,this.tipoLiquidez=new on.T,this.descricao=""}}class an{constructor(){this.id=0,this.planejamento_Id=0,this.rentabilidade="",this.rentabilidadeLiquida="",this.montanteAtual="",this.sugerido="",this.planoAcao="",this.custosTaxas="",this.investimento=new rn,this.investimento_Id=void 0}}let ln=(()=>{class i{constructor(o,n,a){this.router=o,this.http=n,this.toastr=a,this.url=W.N.url,this.list=new R.X([])}getAll(){return this.http.get(`${this.url}/investimento/getAll`)}get(o){return this.http.get(`${this.url}/investimento/${o}`)}}return i.\u0275fac=function(o){return new(o||i)(e.LFG(C.F0),e.LFG(ee.eN),e.LFG(w._W))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function sn(i,l){if(1&i&&(e.TgZ(0,"option",16),e._uU(1),e.qZA()),2&i){const o=l.$implicit;e.Q6J("ngValue",o),e.xp6(1),e.Oqu(o.descricao)}}function pn(i,l){1&i&&(e.TgZ(0,"p",13),e._uU(1,"Esse campo \xe9 obrigat\xf3rio"),e.qZA())}function dn(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,pn,2,0,"p",43),e.qZA()),2&i){e.oxw();const o=e.MAs(20);e.xp6(1),e.Q6J("ngIf",o.errors.required)}}function un(i,l){1&i&&(e.TgZ(0,"p",13),e._uU(1,"Esse campo \xe9 obrigat\xf3rio"),e.qZA())}function mn(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,un,2,0,"p",43),e.qZA()),2&i){e.oxw();const o=e.MAs(30);e.xp6(1),e.Q6J("ngIf",o.errors.required)}}function cn(i,l){if(1&i&&(e.TgZ(0,"p",47),e._uU(1),e.qZA()),2&i){const o=l.$implicit;e.xp6(1),e.Oqu(o)}}function gn(i,l){1&i&&(e.TgZ(0,"p",47),e._uU(1,"Preencha todos os campos obrigat\xf3rios (*) corretamente para salvar"),e.qZA())}function _n(i,l){if(1&i&&(e.TgZ(0,"div",44),e.YNc(1,cn,2,1,"p",45),e.YNc(2,gn,2,0,"p",46),e.qZA()),2&i){const o=e.oxw(),n=e.MAs(12);e.xp6(1),e.Q6J("ngForOf",o.erro),e.xp6(1),e.Q6J("ngIf",n.invalid&&0==o.erro.length)}}function hn(i,l){1&i&&e._UZ(0,"span",48)}function vn(i,l){1&i&&(e.TgZ(0,"div",49),e._uU(1," Este campo \xe9 obrigat\xf3rio "),e.qZA())}let ie=(()=>{class i{constructor(o,n,a,r,t){this.modal=o,this.plannerService=n,this.setupService=a,this.investimentoService=r,this.toastr=t,this.faTimes=_.NBC,this.faChevronLeft=_.A35,this.modalOpen=!1,this.objeto=new an,this.erro=[],this.loading=!1,this.carteirasSetup=[],this.loadingCarteiraSetup=!0,this.planner=new A,this.investimento=void 0,this.investimentos=[],this.loadingInvestimentos=!0,this.aliquota="",this.plannerService.getObject().subscribe(s=>{this.planner=s}),this.setupService.list.subscribe(s=>this.carteirasSetup=s),this.setupService.getList().subscribe(s=>{this.carteirasSetup=s,this.loadingCarteiraSetup=!1}),this.investimentoService.getAll().subscribe({next:s=>{this.investimentos=s,this.loadingInvestimentos=!1},error:s=>{this.loadingInvestimentos=!1}}),this.modal.getOpen().subscribe(s=>{this.modalOpen=s})}ngOnInit(){setTimeout(()=>{this.modal.setOpen(!0)},200)}voltar(){this.modal.voltar()}arrowUp(o){return(0,Z.zJ)(o)}arrowDown(o,n=!1){return(0,Z.DI)(o,n)}send(o){this.loading=!0,this.erro=[],this.objeto.investimento=this.investimento,this.objeto.investimento_Id=this.investimento.id,this.planner.planejamentoInvestimento.find(a=>a.investimento_Id==this.objeto.investimento_Id)?(this.erro.push("Esse investimento j\xe1 est\xe1 inserido."),this.toastr.error("Esse investimento j\xe1 est\xe1 inserido.")):(this.erro=[],this.planner.planejamentoInvestimento.push(this.objeto),this.plannerService.setObject(this.planner),this.voltar()),this.loading=!1}}return i.\u0275fac=function(o){return new(o||i)(e.Y36(y.Q),e.Y36(b),e.Y36(D.A),e.Y36(ln),e.Y36(w._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-investimento-form"]],decls:64,vars:32,consts:[[1,"modal"],[1,"modal__bg",3,"click"],[1,"modal__inner",2,"max-width","700px"],[1,"modal__content"],[1,"modal__header","pb-2"],[1,"text-orange"],[1,"modal__header-close","btn-close",3,"click"],[1,"modal__body","mt-0"],[1,"needs-validation",3,"ngSubmit"],["form","ngForm"],[1,"form-row"],[1,"form-group","col-lg-4","col-md-4","col-12"],["for","investimento"],[1,"text-danger"],["name","investimento","id","investimento","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange"],["_investimento","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"form-group","col-lg-4","col-md-4","col-sm-6","col-12"],["for","rentabilidade"],["type","text","id","rentabilidade","name","rentabilidade","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%","popoverClass","popover-danger","triggers","mouseenter:mouseleave",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown"],["rentabilidade","ngModel"],["for","rentabilidadeLiquida"],["type","text","id","rentabilidadeLiquida","name","rentabilidadeLiquida","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%","popoverClass","popover-danger","triggers","mouseenter:mouseleave",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown"],["rentabilidadeLiquida","ngModel"],["for","custosTaxas"],["type","text","id","custosTaxas","name","custosTaxas","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%","popoverClass","popover-danger","triggers","mouseenter:mouseleave",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown"],["custosTaxas","ngModel"],["for","montanteAtual"],["type","text","id","montanteAtual","name","montanteAtual","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ","popoverClass","popover-danger","triggers","mouseenter:mouseleave",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown"],["montanteAtual","ngModel"],["for","sugerido"],["type","text","id","sugerido","name","sugerido","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ","popoverClass","popover-danger","triggers","mouseenter:mouseleave",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown"],["sugerido","ngModel"],["for","planoAcao"],["type","text","id","planoAcao","name","planoAcao","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ","popoverClass","popover-danger","triggers","mouseenter:mouseleave",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown"],["planoAcao","ngModel"],[1,"d-flex","p-0","mt-3"],["class","m-0",4,"ngIf"],[1,"btn","btn-primary","mr-0","ml-auto",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["campoObrigatorio",""],["class","text-danger",4,"ngIf"],[1,"m-0"],["class","text-red",4,"ngFor","ngForOf"],["class","text-red",4,"ngIf"],[1,"text-red"],[1,"spinner-border","spinner-border-sm","mr-1"],[1,"py-3","px-4"]],template:function(o,n){if(1&o){const a=e.EpF();e.TgZ(0,"div",0)(1,"div",1),e.NdJ("click",function(){return n.voltar()}),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),e._uU(6,"Adicionar investimento"),e.qZA(),e.TgZ(7,"a",6),e.NdJ("click",function(){return n.voltar()}),e._UZ(8,"span")(9,"span"),e.qZA()(),e.TgZ(10,"div",7)(11,"form",8,9),e.NdJ("ngSubmit",function(){e.CHM(a);const t=e.MAs(12);return e.KtG(n.send(t))}),e.TgZ(13,"div",10)(14,"div",11)(15,"label",12),e._uU(16,"Investimento: "),e.TgZ(17,"span",13),e._uU(18,"*"),e.qZA()(),e.TgZ(19,"select",14,15),e.NdJ("ngModelChange",function(t){return n.investimento=t}),e.TgZ(21,"option",16),e._uU(22,"Selecione"),e.qZA(),e.YNc(23,sn,2,2,"option",17),e.qZA(),e.YNc(24,dn,2,1,"div",18),e.qZA()(),e.TgZ(25,"div",10)(26,"div",19)(27,"label",20),e._uU(28,"Rentabilidade Bruta: "),e.qZA(),e.TgZ(29,"input",21,22),e.NdJ("ngModelChange",function(t){return n.objeto.rentabilidade=t})("keyup.arrowup",function(){e.CHM(a);const t=e.MAs(30);return e.KtG(n.objeto.rentabilidade=n.arrowUp(t.value))})("keyup.arrowdown",function(){e.CHM(a);const t=e.MAs(30);return e.KtG(n.objeto.rentabilidade=n.arrowDown(t.value))}),e.qZA(),e.YNc(31,mn,2,1,"div",18),e.qZA(),e.TgZ(32,"div",19)(33,"label",23),e._uU(34,"Rentabilidade L\xedquida: "),e.qZA(),e.TgZ(35,"input",24,25),e.NdJ("ngModelChange",function(t){return n.objeto.rentabilidadeLiquida=t})("keyup.arrowup",function(){e.CHM(a);const t=e.MAs(36);return e.KtG(n.objeto.rentabilidadeLiquida=n.arrowUp(t.value))})("keyup.arrowdown",function(){e.CHM(a);const t=e.MAs(36);return e.KtG(n.objeto.rentabilidadeLiquida=n.arrowDown(t.value))}),e.qZA()(),e.TgZ(37,"div",19)(38,"label",26),e._uU(39,"Custos/Taxas: "),e.qZA(),e.TgZ(40,"input",27,28),e.NdJ("ngModelChange",function(t){return n.objeto.custosTaxas=t})("keyup.arrowup",function(){e.CHM(a);const t=e.MAs(41);return e.KtG(n.objeto.custosTaxas=n.arrowUp(t.value))})("keyup.arrowdown",function(){e.CHM(a);const t=e.MAs(41);return e.KtG(n.objeto.custosTaxas=n.arrowDown(t.value))}),e.qZA()(),e.TgZ(42,"div",19)(43,"label",29),e._uU(44,"Montante Atual: "),e.qZA(),e.TgZ(45,"input",30,31),e.NdJ("ngModelChange",function(t){return n.objeto.montanteAtual=t})("keyup.arrowup",function(){e.CHM(a);const t=e.MAs(46);return e.KtG(n.objeto.montanteAtual=n.arrowUp(t.value))})("keyup.arrowdown",function(){e.CHM(a);const t=e.MAs(46);return e.KtG(n.objeto.montanteAtual=n.arrowDown(t.value))}),e.qZA()(),e.TgZ(47,"div",19)(48,"label",32),e._uU(49,"Montante Sugerido: "),e.qZA(),e.TgZ(50,"input",33,34),e.NdJ("ngModelChange",function(t){return n.objeto.sugerido=t})("keyup.arrowup",function(){e.CHM(a);const t=e.MAs(51);return e.KtG(n.objeto.sugerido=n.arrowUp(t.value))})("keyup.arrowdown",function(){e.CHM(a);const t=e.MAs(51);return e.KtG(n.objeto.sugerido=n.arrowDown(t.value))}),e.qZA()(),e.TgZ(52,"div",19)(53,"label",35),e._uU(54,"Plano de A\xe7\xe3o: "),e.qZA(),e.TgZ(55,"input",36,37),e.NdJ("ngModelChange",function(t){return n.objeto.planoAcao=t})("keyup.arrowup",function(){e.CHM(a);const t=e.MAs(56);return e.KtG(n.objeto.planoAcao=n.arrowUp(t.value))})("keyup.arrowdown",function(){e.CHM(a);const t=e.MAs(56);return e.KtG(n.objeto.planoAcao=n.arrowDown(t.value))}),e.qZA()()(),e.TgZ(57,"div",38),e.YNc(58,_n,3,2,"div",39),e.TgZ(59,"button",40),e.YNc(60,hn,1,0,"span",41),e._uU(61," Salvar "),e.qZA()()(),e.YNc(62,vn,2,0,"ng-template",null,42,e.W1O),e.qZA()()()()}if(2&o){const a=e.MAs(12),r=e.MAs(20),t=e.MAs(30),s=e.MAs(36),c=e.MAs(41),d=e.MAs(46),v=e.MAs(51),k=e.MAs(56),f=e.MAs(63);e.ekj("active",n.modalOpen),e.xp6(19),e.ekj("form-control-loading",n.loadingInvestimentos),e.Q6J("ngModel",n.investimento)("ngbPopover",f)("disablePopover",null==r.errors),e.xp6(2),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",n.investimentos),e.xp6(1),e.Q6J("ngIf",r.errors&&r.touched),e.xp6(5),e.Q6J("ngModel",n.objeto.rentabilidade)("ngbPopover",f)("disablePopover",null==t.errors),e.xp6(2),e.Q6J("ngIf",t.errors&&t.touched),e.xp6(4),e.Q6J("ngModel",n.objeto.rentabilidadeLiquida)("ngbPopover",f)("disablePopover",null==s.errors),e.xp6(5),e.Q6J("ngModel",n.objeto.custosTaxas)("ngbPopover",f)("disablePopover",null==c.errors),e.xp6(5),e.Q6J("ngModel",n.objeto.montanteAtual)("ngbPopover",f)("disablePopover",null==d.errors),e.xp6(5),e.Q6J("ngModel",n.objeto.sugerido)("ngbPopover",f)("disablePopover",null==v.errors),e.xp6(5),e.Q6J("ngModel",n.objeto.planoAcao)("ngbPopover",f)("disablePopover",null==k.errors),e.xp6(3),e.Q6J("ngIf",n.erro||a.invalid),e.xp6(1),e.Q6J("disabled",a.invalid||n.loading),e.xp6(1),e.Q6J("ngIf",n.loading)}},dependencies:[M.sg,M.O5,u._Y,u.YN,u.Kr,u.Fj,u.EJ,u.JJ,u.JL,u.Q7,u.On,u.F,P.hx,q.o8]}),i})();var fn=p(6886);class Mn{constructor(){this.id=0,this.planejamento_Id=0,this.rentabilidade="",this.rentabilidadeLiquida="",this.montanteAtual="",this.sugerido="",this.planoAcao="",this.percentual="",this.custosTaxas="",this.produto=new fn.a7,this.produto_Id=void 0}}var le=p(4506);function Cn(i,l){if(1&i){const o=e.EpF();e.TgZ(0,"div",13)(1,"input",46,15),e.NdJ("ngModelChange",function(a){e.CHM(o);const r=e.oxw();return e.KtG(r.selectedRisco=a)})("ngModelChange",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.setProdutos())}),e.qZA(),e.TgZ(3,"label",47),e._uU(4),e.qZA()()}if(2&i){const o=l.$implicit,n=e.oxw();e.xp6(1),e.MGl("id","tipoRisco-",o.nome,""),e.Q6J("ngModel",n.selectedRisco)("value",o)("checked",o.id==(null==n.selectedRisco?null:n.selectedRisco.id)),e.xp6(2),e.MGl("for","tipoRisco-",o.nome,""),e.xp6(1),e.Oqu(o.nome)}}function An(i,l){1&i&&(e.TgZ(0,"span"),e._uU(1,"Selecione"),e.qZA())}function bn(i,l){1&i&&(e.TgZ(0,"span"),e._uU(1,"Nenhum produto"),e.qZA())}function Tn(i,l){if(1&i&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&i){const o=l.$implicit;e.Q6J("ngValue",o),e.xp6(1),e.Oqu(o.descricao)}}function Zn(i,l){1&i&&(e.TgZ(0,"p",21)(1,"small"),e._uU(2,"Esse campo \xe9 obrigat\xf3rio "),e.qZA()())}function Pn(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Zn,3,0,"p",48),e.qZA()),2&i){e.oxw();const o=e.MAs(30);e.xp6(1),e.Q6J("ngIf",o.errors.required)}}function wn(i,l){1&i&&(e.TgZ(0,"p",21),e._uU(1,"Esse campo \xe9 obrigat\xf3rio"),e.qZA())}function xn(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,wn,2,0,"p",49),e.qZA()),2&i){e.oxw();const o=e.MAs(51);e.xp6(1),e.Q6J("ngIf",o.errors.required)}}function yn(i,l){1&i&&(e.TgZ(0,"p",21),e._uU(1,"Esse campo \xe9 obrigat\xf3rio"),e.qZA())}function kn(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,yn,2,0,"p",49),e.qZA()),2&i){e.oxw();const o=e.MAs(59);e.xp6(1),e.Q6J("ngIf",o.errors.required)}}function qn(i,l){1&i&&(e.TgZ(0,"p",21),e._uU(1,"Esse campo \xe9 obrigat\xf3rio"),e.qZA())}function In(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,qn,2,0,"p",49),e.qZA()),2&i){e.oxw();const o=e.MAs(67);e.xp6(1),e.Q6J("ngIf",o.errors.required)}}function Sn(i,l){if(1&i&&(e.TgZ(0,"p",53),e._uU(1),e.qZA()),2&i){const o=l.$implicit;e.xp6(1),e.Oqu(o)}}function Jn(i,l){1&i&&(e.TgZ(0,"p",53),e._uU(1,"Preencha todos os campos obrigat\xf3rios (*) corretamente para salvar"),e.qZA())}function jn(i,l){if(1&i&&(e.TgZ(0,"div",50),e.YNc(1,Sn,2,1,"p",51),e.YNc(2,Jn,2,0,"p",52),e.qZA()),2&i){const o=e.oxw(),n=e.MAs(12);e.xp6(1),e.Q6J("ngForOf",o.erro),e.xp6(1),e.Q6J("ngIf",n.invalid&&0==o.erro.length)}}function Nn(i,l){1&i&&e._UZ(0,"span",54)}function Un(i,l){1&i&&(e.TgZ(0,"div",55),e._uU(1," Este campo \xe9 obrigat\xf3rio "),e.qZA())}let se=(()=>{class i{constructor(o,n,a,r,t,s){var c=this;this.modal=o,this.plannerService=n,this.alertService=a,this.produtoService=r,this.setup=t,this.dropdown=s,this.faTimes=_.NBC,this.faChevronLeft=_.A35,this.modalOpen=!1,this.objeto=new Mn,this.erro=[],this.loading=!1,this.carteirasSetup=[],this.loadingCarteiraSetup=!0,this.produtos=[],this.loadingProdutos=!0,this.tipoRiscos=[],this.loadingRiscos=!0,this.planner=new A,this.aliquota="",this.plannerService.getObject().subscribe(function(){var d=(0,N.Z)(function*(v){c.planner=v});return function(v){return d.apply(this,arguments)}}()),this.setup.list.subscribe(d=>this.carteirasSetup=d),this.setup.getList().subscribe({next:d=>{this.carteirasSetup=d,this.loadingCarteiraSetup=!1},error:d=>{this.loadingCarteiraSetup=!1}}),this.modal.getOpen().subscribe(d=>{this.modalOpen=d}),this.dropdown.getRisco().subscribe({next:d=>{this.tipoRiscos=d,this.loadingRiscos=!1},error:d=>{this.loadingRiscos=!1}}),this.produtoService.list.subscribe(d=>{this.setProdutos()}),this.produtoService.getList().subscribe({next:d=>{this.setProdutos(),this.loadingProdutos=!1},error:d=>{this.loadingProdutos=!1}})}ngOnInit(){setTimeout(()=>{this.modal.setOpen(!0)},200)}voltar(){this.modal.voltar()}setProdutos(){this.loadingProdutos=!0,this.produtos=this.produtoService.list.value,this.selectedRisco&&(this.produtos=this.produtoService.list.value.filter(o=>o.tipoRisco_Id==this.selectedRisco?.id)),this.produto=void 0,this.aliquota="",this.loadingProdutos=!1}produtoChange(){this.aliquota=""}arrowUp(o){return(0,Z.zJ)(o)}arrowDown(o,n=!1){return(0,Z.DI)(o,n)}send(o){this.loading=!0,this.erro=[],this.planner.planejamentoProduto.push(this.objeto),this.plannerService.setObject(this.planner),this.voltar(),this.loading=!1}}return i.\u0275fac=function(o){return new(o||i)(e.Y36(y.Q),e.Y36(b),e.Y36(le.c),e.Y36(te.m),e.Y36(D.A),e.Y36(Q.V))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-produto-form"]],decls:76,vars:29,consts:[[1,"modal"],[1,"modal__bg",3,"click"],[1,"modal__inner",2,"max-width","700px"],[1,"modal__content"],[1,"modal__header","pb-2"],[1,"text-orange"],[1,"modal__header-close","btn-close",3,"click"],[1,"modal__body","mt-0"],[1,"needs-validation",3,"ngSubmit"],["form","ngForm"],[1,"mt-2","mb-2","px-2"],[1,"h6"],[1,"d-flex","align-items-center"],[1,"mx-2"],["type","radio","name","tipoRisco","id","tipoRisco-0",1,"mr-1","mt-1",3,"ngModel","value","checked","ngModelChange"],["tipoRisco","ngModel"],["for","tipoRisco-0"],["class","mx-2",4,"ngFor","ngForOf"],[1,"form-row"],[1,"form-group","col-lg-12","col-md-4","col-sm-12"],["for","produto"],[1,"text-danger"],["id","produto","name","produto","required","",1,"form-control",3,"ngModel","ngModelChange"],["_produto","ngModel"],[3,"ngValue"],[4,"ngIf"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"form-group","col-lg-4","col-md-4","col-sm-6"],["for","aliquota"],["type","text","id","aliquota","name","aliquota","mask","separator.5","thousandSeparator",".","suffix","%","readonly","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["_aliquota","ngModel"],[1,"form-group","col-lg-4","col-md-4","col-sm-12"],["for","percentual"],["type","text","id","percentual","name","percentual","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown"],["percentual","ngModel"],["for","rentabilidade"],["type","text","id","rentabilidade","name","rentabilidade","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown"],["rentabilidade","ngModel"],["for","montanteAtual"],["type","text","id","montanteAtual","name","montanteAtual","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown"],["montanteAtual","ngModel"],[1,"d-flex","p-0","mt-3","align-items-center"],["class","m-0",4,"ngIf"],[1,"btn","btn-primary","mr-0","ml-auto",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["campoObrigatorio",""],["type","radio","name","tipoRisco",1,"mr-1","mt-1",3,"id","ngModel","value","checked","ngModelChange"],[3,"for"],["class","text-danger ",4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"m-0"],["class","text-red",4,"ngFor","ngForOf"],["class","text-red",4,"ngIf"],[1,"text-red"],[1,"spinner-border","spinner-border-sm","mr-1"],[1,"py-3","px-4"]],template:function(o,n){if(1&o){const a=e.EpF();e.TgZ(0,"div",0)(1,"div",1),e.NdJ("click",function(){return n.voltar()}),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),e._uU(6,"Adicionar produto"),e.qZA(),e.TgZ(7,"a",6),e.NdJ("click",function(){return n.voltar()}),e._UZ(8,"span")(9,"span"),e.qZA()(),e.TgZ(10,"div",7)(11,"form",8,9),e.NdJ("ngSubmit",function(){e.CHM(a);const t=e.MAs(12);return e.KtG(n.send(t))}),e.TgZ(13,"div",10)(14,"p",11),e._uU(15,"Selecione o Risco"),e.qZA(),e.TgZ(16,"div",12)(17,"div",13)(18,"input",14,15),e.NdJ("ngModelChange",function(t){return n.selectedRisco=t})("ngModelChange",function(){return n.setProdutos()}),e.qZA(),e.TgZ(20,"label",16),e._uU(21,"Todos"),e.qZA()(),e.YNc(22,Cn,5,6,"div",17),e.qZA()(),e.TgZ(23,"div",18)(24,"div",19)(25,"label",20),e._uU(26,"Produto: "),e.TgZ(27,"span",21),e._uU(28,"*"),e.qZA()(),e.TgZ(29,"select",22,23),e.NdJ("ngModelChange",function(t){return n.produto=t})("ngModelChange",function(){return n.produtoChange()}),e.TgZ(31,"option",24),e.YNc(32,An,2,0,"span",25),e.YNc(33,bn,2,0,"span",25),e.qZA(),e.YNc(34,Tn,2,2,"option",26),e.qZA(),e.YNc(35,Pn,2,1,"div",25),e.qZA()(),e.TgZ(36,"div",18)(37,"div",27)(38,"label",28),e._uU(39,"Al\xedquota: "),e.TgZ(40,"span",21),e._uU(41,"*"),e.qZA()(),e.TgZ(42,"input",29,30),e.NdJ("ngModelChange",function(t){return n.aliquota=t}),e.qZA()()(),e.TgZ(44,"div",18)(45,"div",31)(46,"label",32),e._uU(47,"Percentual: "),e.TgZ(48,"span",21),e._uU(49,"*"),e.qZA()(),e.TgZ(50,"input",33,34),e.NdJ("ngModelChange",function(t){return n.objeto.percentual=t})("keyup.arrowup",function(){e.CHM(a);const t=e.MAs(51);return e.KtG(n.objeto.percentual=n.arrowUp(t.value))})("keyup.arrowdown",function(){e.CHM(a);const t=e.MAs(51);return e.KtG(n.objeto.percentual=n.arrowDown(t.value))}),e.qZA(),e.YNc(52,xn,2,1,"div",25),e.qZA(),e.TgZ(53,"div",31)(54,"label",35),e._uU(55,"Rentabilidade: "),e.TgZ(56,"span",21),e._uU(57,"*"),e.qZA()(),e.TgZ(58,"input",36,37),e.NdJ("ngModelChange",function(t){return n.objeto.rentabilidade=t})("keyup.arrowup",function(){e.CHM(a);const t=e.MAs(59);return e.KtG(n.objeto.rentabilidade=n.arrowUp(t.value))})("keyup.arrowdown",function(){e.CHM(a);const t=e.MAs(59);return e.KtG(n.objeto.rentabilidade=n.arrowDown(t.value))}),e.qZA(),e.YNc(60,kn,2,1,"div",25),e.qZA(),e.TgZ(61,"div",31)(62,"label",38),e._uU(63,"Montante Atual: "),e.TgZ(64,"span",21),e._uU(65,"*"),e.qZA()(),e.TgZ(66,"input",39,40),e.NdJ("ngModelChange",function(t){return n.objeto.montanteAtual=t})("keyup.arrowup",function(){e.CHM(a);const t=e.MAs(67);return e.KtG(n.objeto.montanteAtual=n.arrowUp(t.value))})("keyup.arrowdown",function(){e.CHM(a);const t=e.MAs(67);return e.KtG(n.objeto.montanteAtual=n.arrowDown(t.value))}),e.qZA(),e.YNc(68,In,2,1,"div",25),e.qZA()(),e.TgZ(69,"div",41),e.YNc(70,jn,3,2,"div",42),e.TgZ(71,"button",43),e.YNc(72,Nn,1,0,"span",44),e._uU(73," Salvar "),e.qZA()()(),e.YNc(74,Un,2,0,"ng-template",null,45,e.W1O),e.qZA()()()()}if(2&o){const a=e.MAs(12),r=e.MAs(30),t=e.MAs(51),s=e.MAs(59),c=e.MAs(67),d=e.MAs(75);e.ekj("active",n.modalOpen),e.xp6(18),e.Q6J("ngModel",n.selectedRisco)("value",void 0)("checked",!n.selectedRisco),e.xp6(4),e.Q6J("ngForOf",n.tipoRiscos),e.xp6(7),e.Q6J("ngModel",n.produto),e.xp6(2),e.Q6J("ngValue",void 0),e.xp6(1),e.Q6J("ngIf",n.produtos.length>0),e.xp6(1),e.Q6J("ngIf",0==n.produtos.length),e.xp6(1),e.Q6J("ngForOf",n.produtos),e.xp6(1),e.Q6J("ngIf",r.touched&&r.errors),e.xp6(7),e.Q6J("ngModel",n.aliquota)("disabled",!n.produto),e.xp6(8),e.Q6J("ngModel",n.objeto.percentual)("ngbPopover",d)("disablePopover",null==t.errors),e.xp6(2),e.Q6J("ngIf",t.errors&&t.touched),e.xp6(6),e.Q6J("ngModel",n.objeto.rentabilidade)("ngbPopover",d)("disablePopover",null==s.errors),e.xp6(2),e.Q6J("ngIf",s.errors&&s.touched),e.xp6(6),e.Q6J("ngModel",n.objeto.montanteAtual)("ngbPopover",d)("disablePopover",null==c.errors),e.xp6(2),e.Q6J("ngIf",c.errors&&c.touched),e.xp6(2),e.Q6J("ngIf",n.erro||a.invalid),e.xp6(1),e.Q6J("disabled",a.invalid||n.loading||!n.produto),e.xp6(1),e.Q6J("ngIf",n.loading)}},dependencies:[M.sg,M.O5,u._Y,u.YN,u.Kr,u.Fj,u.EJ,u._,u.JJ,u.JL,u.Q7,u.On,u.F,P.hx,q.o8]}),i})(),pe=(()=>{class i{constructor(o,n,a){this.modal=o,this.alert=n,this.plannerService=a}canActivate(o,n){let a=this.plannerService.getObject().value;return a.carteiraSetup?0!=a.planejamentoInvestimento.length||(this.modal.voltar(),this.alert.warn("Insira um investimento para cadastrar um produto!"),!1):(this.modal.voltar(),this.alert.warn("Escolha um setup para adicionar um produto!"),!1)}}return i.\u0275fac=function(o){return new(o||i)(e.LFG(y.Q),e.LFG(le.c),e.LFG(b))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function On(i,l){if(1&i&&(e.TgZ(0,"li",16),e._uU(1),e.qZA()),2&i){const o=l.$implicit;e.xp6(1),e.Oqu(o)}}function Fn(i,l){if(1&i&&(e.TgZ(0,"ul",14),e.YNc(1,On,2,1,"li",15),e.qZA()),2&i){const o=e.oxw();e.xp6(1),e.Q6J("ngForOf",o.erro)}}function Rn(i,l){1&i&&e._UZ(0,"span",17)}let Qn=(()=>{class i{constructor(o,n,a,r,t,s){this.router=o,this.activatedRoute=n,this.toastr=a,this.modal=r,this.plannerService=t,this.crypto=s,this.faTimes=_.NBC,this.modalOpen=!1,this.erro=[],this.loading=!1,this.id=0,this.modal.getOpen().subscribe(c=>{this.modalOpen=c}),this.activatedRoute.params.subscribe(c=>{c.planner_id?this.id=this.crypto.decrypt(c.planner_id):this.voltar()})}ngOnInit(){setTimeout(()=>{this.modal.setOpen(!0)},200)}voltar(){this.modal.voltar()}send(){this.loading=!0,this.plannerService.delete(this.id).subscribe({next:o=>{this.plannerService.getList(),this.router.navigate(["..","..",".."]),this.plannerService.setObject(new A)},error:o=>{this.loading=!1}})}}return i.\u0275fac=function(o){return new(o||i)(e.Y36(C.F0),e.Y36(C.gz),e.Y36(w._W),e.Y36(y.Q),e.Y36(b),e.Y36(J.w))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-delete-planner"]],decls:22,vars:5,consts:[[1,"modal"],[1,"modal__bg",3,"click"],[1,"modal__inner",2,"max-width","600px"],[1,"modal__content"],[1,"modal__header","pb-2"],[1,"text-orange"],[1,"mt-2"],[1,"modal__header-close","btn-close",3,"click"],[1,"modal__body","mt-0"],["class","m-0 col-lg-12 mt-1",4,"ngIf"],[1,"d-flex","justify-content-center","flex-wrap","p-0","mt-1"],[1,"btn","btn-grey","mr-1",3,"click"],[1,"btn","btn-primary","mr-0",3,"disabled","click"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"m-0","col-lg-12","mt-1"],["class","text-red",4,"ngFor","ngForOf"],[1,"text-red"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1),e.NdJ("click",function(){return n.voltar()}),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),e._uU(6,"Excluir registro"),e.qZA(),e.TgZ(7,"p",6),e._uU(8,"Tem certeza que deseja excluir esse registro? Ele n\xe3o poder\xe1 ser recuperado."),e.qZA(),e.TgZ(9,"p"),e._uU(10,"Todos os registros relacionados a esse planejamento, tamb\xe9m ser\xe3o removidos."),e.qZA(),e.TgZ(11,"a",7),e.NdJ("click",function(){return n.voltar()}),e._UZ(12,"span")(13,"span"),e.qZA()(),e.TgZ(14,"div",8),e.YNc(15,Fn,2,1,"ul",9),e.TgZ(16,"div",10)(17,"button",11),e.NdJ("click",function(){return n.voltar()}),e._uU(18," Voltar"),e.qZA(),e.TgZ(19,"button",12),e.NdJ("click",function(){return n.send()}),e.YNc(20,Rn,1,0,"span",13),e._uU(21," Excluir "),e.qZA()()()()()()),2&o&&(e.ekj("active",n.modalOpen),e.xp6(15),e.Q6J("ngIf",n.erro),e.xp6(4),e.Q6J("disabled",n.loading),e.xp6(1),e.Q6J("ngIf",n.loading))},dependencies:[M.sg,M.O5]}),i})();var Dn=p(8785),Gn=p(3834),de=p(9738);const Ln=[{path:"",component:ne,children:[{path:"cadastrar",component:Dn.G,title:"Planner - Cadastrar cliente"},{path:"editar/:cliente_id",component:Gn.F,title:"Planner - Editar cliente"},{path:"excluir/:cliente_id",component:en.T,title:"Planner - Excluir cliente"},{path:"habilitar/:cliente_id",component:de.T,title:"Planner - Habilitar cliente"},{path:"desabilitar/:cliente_id",component:de.T,title:"Planner - Desabilitar cliente"}]},{path:"planner",component:ae,title:"Planner - Planejamento",children:[{path:"investimento",component:ie},{path:"produto",component:se,canActivate:[pe]},{path:"excluir/:planner_id",component:Qn}]},{path:"planner/:cliente_id",component:ae,children:[{path:"investimento",component:ie},{path:"produto",component:se,canActivate:[pe]}]}];let $n=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[C.Bz.forChild(Ln),C.Bz]}),i})();var Hn=p(9880);let En=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=e.oAB({type:i,bootstrap:[ne]}),i.\u0275inj=e.cJS({imports:[M.ez,$n,u.u5,j.uH,P.yI,w.Rh,Y.U$,q.dT,oe.kW,G.S,Hn.m]}),i})()}}]);