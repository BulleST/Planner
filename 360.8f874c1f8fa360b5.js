"use strict";(self.webpackChunkplanner=self.webpackChunkplanner||[]).push([[360],{4360:(vt,S,d)=>{d.r(S),d.d(S,{EmpresasModule:()=>gt});var h=d(6895),u=d(8627),c=d(801),f=d(9398),g=d(8913),A=d(46),e=d(4650),C=d(7185),U=d(4506),v=d(3868),_=d(433);function ie(i,n){if(1&i&&e._UZ(0,"fa-icon",3),2&i){const t=e.oxw().$implicit;e.Q6J("icon",t.faIcon)}}function oe(i,n){if(1&i&&e._UZ(0,"i"),2&i){const t=e.oxw().$implicit;e.Tol(t.iconClass)}}const ne=function(i){return[i]};function ae(i,n){if(1&i&&(e.TgZ(0,"a",12)(1,"span",13),e.YNc(2,ie,1,1,"fa-icon",14),e.YNc(3,oe,1,3,"i",15),e.qZA(),e.TgZ(4,"span",16),e._uU(5),e.qZA()()),2&i){const t=n.$implicit;e.Q6J("routerLink",e.VKq(4,ne,t.routerLink)),e.xp6(2),e.Q6J("ngIf",t.faIcon),e.xp6(1),e.Q6J("ngIf",t.iconClass),e.xp6(2),e.Oqu(t.label)}}let re=(()=>{class i{constructor(t,o,r,l,p,a){this.router=t,this.activatedRoute=o,this.toastr=r,this.empresaService=l,this.alert=p,this.table=a,this.faChevronLeft=c.A35,this.faArrowRight=c.eFW,this.faEllipsisV=c.iV1,this.faTimes=c.NBC,this.faCity=c.SBo,this.objeto=new f.oW,this.erro=[],this.loading=!1,this.items=[],this.index=1,this.cnpjValid=!1,null==this.empresaService.object&&this.empresaService.setObject(new f.oW),this.empresaService.empresaObject.subscribe(m=>{this.objeto=m,this.objeto.produto=this.objeto.produto??[],this.objeto.percentualRisco=this.objeto.percentualRisco??[],this.objeto.cliente=this.objeto.cliente??[],this.objeto.account=this.objeto.account??[],this.objeto.carteiraSetup=this.objeto.carteiraSetup??[],console.log(m)});let s=0;this.items=[{id:++s,label:"Dados Cadastrais",routerLink:"dados-cadastrais",faIcon:c.Ozh,command:m=>{this.table.selected.next(void 0),this.table.selectedItems.next([])}},{id:++s,label:"Usu\xe1rios",routerLink:"usuarios",faIcon:c.FVb,command:m=>{this.table.selected.next(void 0),this.table.selectedItems.next([]),this.validateDadosCadastrais()}},{id:++s,label:"Clientes",routerLink:"clientes",iconClass:"pi pi-wallet",command:m=>{this.table.selected.next(void 0),this.table.selectedItems.next([]),this.validateDadosCadastrais()}},{id:++s,label:"Produtos",routerLink:"produtos",faIcon:c.VPG,command:m=>{this.table.selected.next(void 0),this.table.selectedItems.next([]),this.validateDadosCadastrais()}},{id:++s,label:"Carteira Setup",iconClass:"pi pi-wallet",routerLink:"setup",command:m=>{this.table.selected.next(void 0),this.table.selectedItems.next([]),this.validateDadosCadastrais()}},{id:++s,label:"Percentual de Risco",routerLink:"percentual-risco",faIcon:c.jGC,command:m=>{this.table.selected.next(void 0),this.table.selectedItems.next([]),this.validateDadosCadastrais()}}]}ngOnInit(){}ngOnDestroy(){this.empresaService.setObject(new f.oW)}voltar(){this.router.navigate([".."],{relativeTo:this.activatedRoute})}validateDadosCadastrais(){let t=!0;return this.erro=[],t=!(0==parseInt(this.objeto.cnpj.toString())||!this.objeto.nome.trim()||!this.objeto.email.trim()),t||(this.toastr.error("Dados cadastrais inv\xe1lidos."),this.erro.push("Dados cadastrais inv\xe1lidos"),this.router.navigate(["dados-cadastrais"],{relativeTo:this.activatedRoute})),t}chan(){this.index+=1}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u.F0),e.Y36(u.gz),e.Y36(C._W),e.Y36(g.P),e.Y36(U.c),e.Y36(A.i))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-create"]],decls:18,vars:2,consts:[[1,"page"],[1,"page__header"],[1,"title-icon"],[3,"icon"],[1,"page__header-title"],[1,"page__header-subtitle"],[1,"page__body","px-3"],["form","ngForm"],[1,"d-flex","step-container"],[1,"aside-navigation"],["class","aside-navigation__link","routerLinkActive","active",3,"routerLink",4,"ngFor","ngForOf"],[1,"step-content"],["routerLinkActive","active",1,"aside-navigation__link",3,"routerLink"],[1,"aside-navigation__link-icon"],[3,"icon",4,"ngIf"],[3,"class",4,"ngIf"],[1,"aside-navigation__link-label"]],template:function(t,o){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"span",2),e._UZ(3,"fa-icon",3),e.qZA(),e.TgZ(4,"div")(5,"h3",4),e._uU(6,"Empresa"),e.qZA(),e.TgZ(7,"p",5)(8,"small"),e._uU(9,"Cadastrar empresa"),e.qZA()()()(),e.TgZ(10,"div",6)(11,"form",null,7)(13,"div",8)(14,"div",9),e.YNc(15,ae,6,6,"a",10),e.qZA(),e.TgZ(16,"div",11),e._UZ(17,"router-outlet"),e.qZA()()()()()),2&t&&(e.xp6(3),e.Q6J("icon",o.faCity),e.xp6(12),e.Q6J("ngForOf",o.items))},dependencies:[h.sg,h.O5,u.lC,u.yS,u.Od,v.BN,_._Y,_.JL,_.F],styles:[".aside-navigation[_ngcontent-%COMP%]{display:flex;flex-flow:column;flex-wrap:wrap;flex:0 1 20%;min-width:170px;width:20%;background-color:var(--primary);background-color:#f5f5f5;border:1px #dfdfdf solid;transform:translate(1px)}.aside-navigation__link[_ngcontent-%COMP%]{color:var(--primary);color:#403f3f;display:flex;align-items:center;padding:7px 8px;text-decoration:none;font-size:15px;transition:.3s color 0s;border:1px transparent solid;text-transform:lowercase}.aside-navigation__link[_ngcontent-%COMP%]:hover{text-decoration:none}.aside-navigation__link[_ngcontent-%COMP%]:not(.active):hover{text-decoration:none;background:#e3e3e3;color:var(--primary);border:1px var(--primary) solid;border-bottom:0;border-top:0;transform:scaleX(1.01)}.aside-navigation__link-icon[_ngcontent-%COMP%]{margin-right:7px;width:30px;height:30px;background-color:#fff;display:flex;align-items:center;justify-content:center;border-radius:6px;position:relative}.aside-navigation__link.active[_ngcontent-%COMP%]{background-color:var(--primary);color:#ffffffe8;transform:scaleX(1.01)}.aside-navigation__link.active[_ngcontent-%COMP%]   .aside-navigation__link-icon[_ngcontent-%COMP%]{background-color:#125268}"]}),i})();var T=d(9243),se=d(7549);function le(i,n){if(1&i&&(e.TgZ(0,"li",18),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.xp6(1),e.Oqu(t)}}function ce(i,n){if(1&i&&(e.TgZ(0,"ul",16),e.YNc(1,le,2,1,"li",17),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.erro)}}function pe(i,n){1&i&&e._UZ(0,"span",19)}function de(i,n){1&i&&(e.TgZ(0,"div",20),e._uU(1," Acione a seta para cima ou para baixo no teclado para mudar o valor "),e.qZA())}function ue(i,n){1&i&&(e.TgZ(0,"div",20),e._uU(1," Este campo \xe9 obrigat\xf3rio "),e.qZA())}let me=(()=>{class i{constructor(t,o,r,l,p,a){this.router=t,this.activatedRoute=o,this.toastr=r,this.modal=l,this.empresaService=p,this.crypto=a,this.faTimes=c.NBC,this.modalOpen=!1,this.objeto=new f.oW,this.erro=[],this.loading=!1,this.modal.getOpen().subscribe(s=>{this.modalOpen=s}),this.activatedRoute.params.subscribe(s=>{s.id&&(this.objeto.id=this.crypto.decrypt(s.id))})}ngOnInit(){setTimeout(()=>{this.modal.setOpen(!0)},200)}voltar(){this.modal.setOpen(!1),setTimeout(()=>{this.router.navigate(["empresas"])},200)}send(){this.loading=!0,this.erro=[],this.empresaService.delete(this.objeto.id),this.voltar(),this.toastr.success("Opera\xe7\xe3o conclu\xedda"),this.loading=!1}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u.F0),e.Y36(u.gz),e.Y36(C._W),e.Y36(se.Q),e.Y36(g.P),e.Y36(T.w))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-delete"]],decls:26,vars:5,consts:[[1,"modal"],[1,"modal__bg",3,"click"],[1,"modal__inner",2,"max-width","600px"],[1,"modal__content"],[1,"modal__header","pb-2"],[1,"text-orange"],[1,"mt-2"],[1,"modal__header-close","btn-close",3,"click"],[1,"modal__body","mt-0"],["class","m-0 col-lg-12 mt-1",4,"ngIf"],[1,"d-flex","justify-content-center","flex-wrap","p-0","mt-1"],[1,"btn","btn-grey","mr-1",3,"click"],[1,"btn","btn-primary","mr-0",3,"disabled","click"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["setaUpDown",""],["campoObrigatorio",""],[1,"m-0","col-lg-12","mt-1"],["class","text-red",4,"ngFor","ngForOf"],[1,"text-red"],[1,"spinner-border","spinner-border-sm","mr-1"],[1,"py-3","px-4"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.NdJ("click",function(){return o.voltar()}),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),e._uU(6,"Excluir registro"),e.qZA(),e.TgZ(7,"p",6),e._uU(8,"Tem certeza que deseja excluir esse registro? Ele n\xe3o poder\xe1 ser recuperado."),e.qZA(),e.TgZ(9,"p"),e._uU(10,"Todos os registros relacionados a esse cliente tamb\xe9m ser\xe3o removidos."),e.qZA(),e.TgZ(11,"a",7),e.NdJ("click",function(){return o.voltar()}),e._UZ(12,"span")(13,"span"),e.qZA()(),e.TgZ(14,"div",8),e.YNc(15,ce,2,1,"ul",9),e.TgZ(16,"div",10)(17,"button",11),e.NdJ("click",function(){return o.voltar()}),e._uU(18," Voltar"),e.qZA(),e.TgZ(19,"button",12),e.NdJ("click",function(){return o.send()}),e.YNc(20,pe,1,0,"span",13),e._uU(21," Excluir "),e.qZA()()()()()(),e.YNc(22,de,2,0,"ng-template",null,14,e.W1O),e.YNc(24,ue,2,0,"ng-template",null,15,e.W1O)),2&t&&(e.ekj("active",o.modalOpen),e.xp6(15),e.Q6J("ngIf",o.erro),e.xp6(4),e.Q6J("disabled",o.loading),e.xp6(1),e.Q6J("ngIf",o.loading))},dependencies:[h.sg,h.O5]}),i})();var k=d(1236);function _e(i,n){1&i&&(e.TgZ(0,"div",13),e._uU(1," Acione a seta para cima ou para baixo no teclado para mudar o valor "),e.qZA())}function he(i,n){1&i&&(e.TgZ(0,"div",13),e._uU(1," Este campo \xe9 obrigat\xf3rio "),e.qZA())}let fe=(()=>{class i{constructor(t,o,r,l,p,a){this.router=t,this.activatedRoute=o,this.toastr=r,this.empresaService=l,this.crypto=p,this.table=a,this.faChevronLeft=c.A35,this.faArrowRight=c.eFW,this.faEllipsisV=c.iV1,this.faTimes=c.NBC,this.faCity=c.SBo,this.faUsers=c.FVb,this.faFilter=c.G_j,this.objeto=new f.oW,this.erro=[],this.loading=!1,this.items=[],this.index=1,this.table.loading.subscribe(m=>this.loading=m);let s=0;this.items=[{id:(++s).toString(),label:"Dados Cadastrais",routerLink:"dados-cadastrais",command:m=>{this.table.selected.next(void 0),this.table.selectedItems.next([])},icon:c.GNv.toString()},{id:(++s).toString(),label:"Usu\xe1rios",routerLink:"usuarios",command:m=>{this.table.selected.next(void 0),this.table.selectedItems.next([]),this.validateDadosCadastrais()}},{id:(++s).toString(),label:"Clientes",routerLink:"clientes",command:m=>{this.table.selected.next(void 0),this.table.selectedItems.next([]),this.validateDadosCadastrais()}},{id:(++s).toString(),label:"Produtos",routerLink:"produtos",command:m=>{this.table.selected.next(void 0),this.table.selectedItems.next([]),this.validateDadosCadastrais()}},{id:(++s).toString(),label:"Carteira Setup",routerLink:"setup",command:m=>{this.table.selected.next(void 0),this.table.selectedItems.next([]),this.validateDadosCadastrais()}},{id:(++s).toString(),label:"Percentual de Risco",routerLink:"percentual-risco",command:m=>{this.table.selected.next(void 0),this.table.selectedItems.next([]),this.validateDadosCadastrais()}}],this.empresaService.empresaObject.subscribe(m=>{this.objeto=m,this.objeto.produto=this.objeto.produto??[],this.objeto.percentualRisco=this.objeto.percentualRisco??[],this.objeto.cliente=this.objeto.cliente??[],this.objeto.account=this.objeto.account??[],this.objeto.carteiraSetup=this.objeto.carteiraSetup??[]}),o.params.subscribe(m=>{m.empresa_id?(this.objeto.id=this.crypto.decrypt(m.empresa_id),this.empresaService.get(this.objeto.id).subscribe({next:y=>{this.objeto=y,this.empresaService.empresaObject.next(y),console.log(y)},error:y=>{this.voltar()}})):this.voltar()})}ngOnInit(){}voltar(){this.router.navigate([".."],{relativeTo:this.activatedRoute})}validateDadosCadastrais(){let t=!0;return this.erro=[],t=!(14!=this.objeto.cnpj.toString().padStart(14,"0").length||0==parseInt(this.objeto.cnpj.toString())||!this.objeto.nome.trim()||!this.objeto.email.trim()),t||(this.toastr.error("Dados cadastrais inv\xe1lidos."),this.erro.push("Dados cadastrais inv\xe1lidos"),this.router.navigate(["dados-cadastrais"],{relativeTo:this.activatedRoute})),t}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u.F0),e.Y36(u.gz),e.Y36(C._W),e.Y36(g.P),e.Y36(T.w),e.Y36(A.i))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit"]],decls:21,vars:4,consts:[[1,"page"],[1,"page__header"],[1,"title-icon"],[3,"icon"],[1,"page__header-title"],[1,"page__header-subtitle"],[1,"page__body","px-3"],["form","ngForm"],[1,"d-flex","step-container"],[3,"model","readonly","activeIndex","activeIndexChange"],[1,"step-content"],["setaUpDown",""],["campoObrigatorio",""],[1,"py-3","px-4"]],template:function(t,o){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"span",2),e._UZ(3,"fa-icon",3),e.qZA(),e.TgZ(4,"div")(5,"h3",4),e._uU(6,"Empresa"),e.qZA(),e.TgZ(7,"p",5)(8,"small"),e._uU(9,"Editar registros"),e.qZA()()()(),e.TgZ(10,"div",6)(11,"form",null,7)(13,"div",8)(14,"p-steps",9),e.NdJ("activeIndexChange",function(l){return o.index=l}),e.qZA(),e.TgZ(15,"div",10),e._UZ(16,"router-outlet"),e.qZA()()()()(),e.YNc(17,_e,2,0,"ng-template",null,11,e.W1O),e.YNc(19,he,2,0,"ng-template",null,12,e.W1O)),2&t&&(e.xp6(3),e.Q6J("icon",o.faCity),e.xp6(11),e.Q6J("model",o.items)("readonly",!1)("activeIndex",o.index))},dependencies:[u.lC,v.BN,_._Y,_.JL,_.F,k.R]}),i})();var x=d(1094),Z=d(453);const ge=function(){return["cadastrar"]};let ve=(()=>{class i{constructor(t,o,r,l){this.table=t,this.empresaService=o,this.crypto=r,this.mask=l,this.faFilter=c.G_j,this.faEllipsisV=c.iV1,this.faCity=c.SBo,this.faTimes=c.NBC,this.list=[],this.selectedItems=[],this.loading=!0,this.columns=f.jH,this.filters=[],this.tableLinks=[],this.filters=this.columns.map(p=>p.field),this.table.loading.subscribe(p=>this.loading=p),this.table.selected.subscribe(p=>this.selected=p),this.table.selectedItems.subscribe(p=>this.selectedItems=p),this.empresaService.getList().subscribe({next:p=>{this.list=p,this.loading=!1}}),this.tableLinks=[{label:"Editar",routePath:["editar"],paramsFieldName:["id"]},{label:"Excluir",routePath:["excluir"],paramsFieldName:["id"]}]}ngOnInit(){}onRowSelect(t){this.table.onRowSelect(t)}onRowUnselect(t){this.table.onRowUnselect(t)}onAllRowToggle(t){this.table.onAllRowToggle(t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.i),e.Y36(g.P),e.Y36(T.w),e.Y36(x.d6))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-list"]],decls:13,vars:14,consts:[[1,"page"],[1,"page__header"],[1,"title-icon"],[3,"icon"],[1,"page__header-title"],[1,"page__header-subtitle"],[1,"page__body"],[3,"createLink","list","paginator","filterLink","filterTable","sortTable","menuTable","canCreate","columns","selectable","tableLinks"]],template:function(t,o){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"span",2),e._UZ(3,"fa-icon",3),e.qZA(),e.TgZ(4,"div")(5,"h3",4),e._uU(6,"Empresas"),e.qZA(),e.TgZ(7,"p",5)(8,"small"),e._uU(9,"Todas as empresas"),e.qZA()()()(),e.TgZ(10,"div",6),e._UZ(11,"app-list-shared",7),e.qZA()(),e._UZ(12,"router-outlet")),2&t&&(e.xp6(3),e.Q6J("icon",o.faCity),e.xp6(8),e.Q6J("createLink",e.DdM(13,ge))("list",o.list)("paginator",!0)("filterLink",!1)("filterTable",!0)("sortTable",!0)("menuTable",!0)("canCreate",!0)("columns",o.columns)("selectable",!0)("tableLinks",o.tableLinks)("selectable",!0))},dependencies:[u.lC,v.BN,Z.o]}),i})();var j=d(279);function be(i,n){1&i&&(e.TgZ(0,"p",12),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function Ce(i,n){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,be,2,0,"p",19),e.qZA()),2&i){e.oxw();const t=e.MAs(20);e.xp6(1),e.Q6J("ngIf",t.errors.required)}}function Te(i,n){1&i&&(e.TgZ(0,"p",12),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function xe(i,n){1&i&&(e.TgZ(0,"p",12),e._uU(1,"CNPJ inv\xe1lido."),e.qZA())}function Ze(i,n){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Te,2,0,"p",19),e.YNc(2,xe,2,0,"p",19),e.qZA()),2&i){e.oxw();const t=e.MAs(28);e.xp6(1),e.Q6J("ngIf",t.errors.required),e.xp6(1),e.Q6J("ngIf",t.errors.mask)}}function Ae(i,n){1&i&&(e.TgZ(0,"p",12),e._uU(1,"CNPJ inv\xe1lido."),e.qZA())}function ye(i,n){1&i&&(e.TgZ(0,"p",12),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function je(i,n){1&i&&(e.TgZ(0,"p",12),e._uU(1,"E-mail inv\xe1lido."),e.qZA())}function Se(i,n){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,ye,2,0,"p",19),e.YNc(2,je,2,0,"p",19),e.qZA()),2&i){e.oxw();const t=e.MAs(37);e.xp6(1),e.Q6J("ngIf",t.errors.required),e.xp6(1),e.Q6J("ngIf",t.errors.email)}}function Ue(i,n){1&i&&(e.TgZ(0,"p",12),e._uU(1,"Preencha todos os campos obrigat\xf3rios (*) corretamente para continuar"),e.qZA())}function ke(i,n){1&i&&(e.TgZ(0,"div",28),e._uU(1," Este campo \xe9 obrigat\xf3rio "),e.qZA())}let I=(()=>{class i{constructor(t,o,r,l){this.toastr=t,this.empresaService=o,this.router=r,this.activatedRoute=l,this.faIdCard=c.Ukp,this.objeto=new f.oW,this.faArrowLeft=c.acZ,this.faArrowRight=c.eFW,this.cnpjValid=!1,this.empresaService.empresaObject.subscribe(a=>{this.objeto=Object.assign(JSON.parse(JSON.stringify(a))),this.objeto.cnpj=this.objeto.cnpj.toString().trim()?this.objeto.cnpj.toString().padStart(14,"0"):"",this.validateCnpj()}),this.activatedRoute.snapshot.pathFromRoot.map(a=>a.routeConfig?.path??null).filter(a=>!!a).join("/")}ngOnInit(){}ngAfterViewInit(){}setDadosCadastrais(){this.empresaService.setObject(this.objeto)}validateCnpj(){return this.cnpjValid=14==this.objeto.cnpj.toString().length&&0!=parseInt(this.objeto.cnpj.toString())}next(t){t.invalid?this.toastr.error("Dados inv\xe1lidos"):(this.objeto.cnpj=parseInt(this.objeto.cnpj.toString()),this.setDadosCadastrais(),this.router.navigate(["..","usuarios"],{relativeTo:this.activatedRoute}))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(C._W),e.Y36(g.P),e.Y36(u.F0),e.Y36(u.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-dados-cadastrais-create"]],decls:48,vars:24,consts:[[1,"card"],[1,"card-header","d-flex","align-items-center","py-2"],[1,"title-icon"],[3,"icon"],[1,"card-header-title"],[1,"card-header-subtitle"],[1,"card-body"],[1,"d-flex","flex-column","h-100",3,"ngSubmit"],["form","ngForm"],[1,"form-row"],[1,"form-group","col-lg-4","col-md-4","col-sm-12","col-12"],["for","nome"],[1,"text-danger"],["type","text","id","nome","name","nome","required","","popoverClass","popover-danger","triggers","mouseenter:mouseleave",1,"form-control",3,"ngModel","ngbPopover","ngModelChange","change"],["nome","ngModel"],[4,"ngIf"],["for","cnpj"],["type","text","id","cnpj","name","cnpj","placeholder","00.000.000/0000-00","required","","popoverClass","popover-danger","triggers","mouseenter:mouseleave",1,"form-control",3,"ngModel","mask","min","minlength","maxlength","ngbPopover","ngModelChange","change"],["cnpj","ngModel"],["class","text-danger",4,"ngIf"],["for","email"],["type","email","id","email","name","email","placeholder","example@hotmail.com","required","","popoverClass","popover-danger","triggers","mouseenter:mouseleave",1,"form-control",3,"email","ngModel","ngbPopover","ngModelChange","change"],["email","ngModel"],[1,"form-row","mt-auto"],[1,"col-lg-12","d-flex","align-items-center"],["type","submit",1,"btn","ml-auto","btn-step","btn-step-next","mt-2",3,"disabled","title"],[1,"btn-step-text"],["campoObrigatorio",""],[1,"py-3","px-4"]],template:function(t,o){if(1&t){const r=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._UZ(3,"fa-icon",3),e.qZA(),e.TgZ(4,"div")(5,"h3",4),e._uU(6,"Dados cadastrais"),e.qZA(),e.TgZ(7,"p",5)(8,"small"),e._uU(9,"Insira os dados cadastrais da empresa"),e.qZA()()()(),e.TgZ(10,"div",6)(11,"form",7,8),e.NdJ("ngSubmit",function(){e.CHM(r);const p=e.MAs(12);return e.KtG(o.next(p))}),e.TgZ(13,"div",9)(14,"div",10)(15,"label",11),e._uU(16,"Nome: "),e.TgZ(17,"span",12),e._uU(18,"*"),e.qZA()(),e.TgZ(19,"input",13,14),e.NdJ("ngModelChange",function(p){return o.objeto.nome=p})("change",function(){return o.setDadosCadastrais()}),e.qZA(),e.YNc(21,Ce,2,1,"div",15),e.qZA(),e.TgZ(22,"div",10)(23,"label",16),e._uU(24,"CNPJ: "),e.TgZ(25,"span",12),e._uU(26,"*"),e.qZA()(),e.TgZ(27,"input",17,18),e.NdJ("ngModelChange",function(p){return o.objeto.cnpj=p})("change",function(){return o.validateCnpj(),o.setDadosCadastrais()}),e.qZA(),e.YNc(29,Ze,3,2,"div",15),e.YNc(30,Ae,2,0,"p",19),e.qZA(),e.TgZ(31,"div",10)(32,"label",20),e._uU(33,"E-mail: "),e.TgZ(34,"span",12),e._uU(35,"*"),e.qZA()(),e.TgZ(36,"input",21,22),e.NdJ("ngModelChange",function(p){return o.objeto.email=p})("change",function(){return o.setDadosCadastrais()}),e.qZA(),e.YNc(38,Se,3,2,"div",15),e.qZA()(),e.TgZ(39,"div",23)(40,"div",24),e.YNc(41,Ue,2,0,"p",19),e.TgZ(42,"button",25)(43,"span",26),e._uU(44,"Pr\xf3ximo"),e.qZA(),e._UZ(45,"fa-icon",3),e.qZA()()()()()(),e.YNc(46,ke,2,0,"ng-template",null,27,e.W1O)}if(2&t){const r=e.MAs(12),l=e.MAs(20),p=e.MAs(28),a=e.MAs(37),s=e.MAs(47);e.xp6(3),e.Q6J("icon",o.faIdCard),e.xp6(16),e.Q6J("ngModel",o.objeto.nome)("ngbPopover",s),e.xp6(2),e.Q6J("ngIf",l.touched&&l.errors),e.xp6(6),e.ekj("ng-invalid",!o.cnpjValid)("ng-valid",o.cnpjValid),e.Q6J("ngModel",o.objeto.cnpj)("mask","00.000.000/0000-00")("min",1)("minlength",14)("maxlength",18)("ngbPopover",s),e.xp6(2),e.Q6J("ngIf",p.touched&&p.errors),e.xp6(1),e.Q6J("ngIf",p.touched&&!o.cnpjValid),e.xp6(6),e.Q6J("email",!0)("ngModel",o.objeto.email)("ngbPopover",s),e.xp6(2),e.Q6J("ngIf",a.touched&&a.errors),e.xp6(3),e.Q6J("ngIf",r.invalid),e.xp6(1),e.Q6J("disabled",r.invalid||!o.cnpjValid)("title",r.invalid?"Preencha os campos corretamente para continuar":"Pr\xf3ximo passo"),e.xp6(3),e.Q6J("icon",o.faArrowRight)}},dependencies:[h.O5,v.BN,_._Y,_.Fj,_.JJ,_.JL,_.Q7,_.wO,_.nD,_.on,_.On,_.F,j.o8,x.hx]}),i})();var Ie=d(4429);const we=function(){return["cadastrar"]};let w=(()=>{class i{constructor(t,o,r,l){this.empresaService=t,this.mask=o,this.activatedRoute=r,this.router=l,this.faArrowLeft=c.acZ,this.faArrowRight=c.eFW,this.faEllipsisV=c.iV1,this.faUsers=c.FVb,this.faFilter=c.G_j,this.faTimes=c.NBC,this.loading=!1,this.clientesColumn=Ie.lF,this.objeto=new f.oW,this.tableLinks=[],this.empresaService.empresaObject.subscribe(p=>{this.objeto=p}),this.tableLinks=[{label:"Editar",routePath:["editar"],paramsFieldName:["id"]},{label:"Excluir",routePath:["excluir"],paramsFieldName:["id"]}]}ngOnInit(){}next(){this.router.navigate(["..","produtos"],{relativeTo:this.activatedRoute})}previous(){this.router.navigate(["..","usuarios"],{relativeTo:this.activatedRoute})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(g.P),e.Y36(x.d6),e.Y36(u.gz),e.Y36(u.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-clientes"]],decls:22,vars:15,consts:[[1,"card"],[1,"card-header","d-flex","align-items-center","py-2"],[1,"title-icon"],[3,"icon"],[1,"card-header-title"],[1,"card-header-subtitle"],[1,"card-body"],[3,"createLink","list","filterLink","filterTable","paginator","sortTable","menuTable","canCreate","columns","selectable","tableLinks"],[1,"d-flex","justify-content-between","px-2","mt-auto"],["title","Anteiror",1,"btn","btn-step","btn-step-prev","mt-2",3,"click"],[1,"btn-step-text"],["title","Pr\xf3ximo",1,"btn","btn-step","btn-step-next","mt-2",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._UZ(3,"fa-icon",3),e.qZA(),e.TgZ(4,"div")(5,"h3",4),e._uU(6,"Clientes"),e.qZA(),e.TgZ(7,"p",5)(8,"small"),e._uU(9,"Cadastrar um cliente para essa empresa"),e.qZA()()()(),e.TgZ(10,"div",6),e._UZ(11,"app-list-shared",7),e.TgZ(12,"div",8)(13,"button",9),e.NdJ("click",function(){return o.previous()}),e._UZ(14,"fa-icon",3),e.TgZ(15,"span",10),e._uU(16,"Anterior"),e.qZA()(),e.TgZ(17,"button",11),e.NdJ("click",function(){return o.next()}),e.TgZ(18,"span",10),e._uU(19,"Pr\xf3ximo"),e.qZA(),e._UZ(20,"fa-icon",3),e.qZA()()()(),e._UZ(21,"router-outlet")),2&t&&(e.xp6(3),e.Q6J("icon",o.faUsers),e.xp6(8),e.Q6J("createLink",e.DdM(14,we))("list",o.objeto.cliente)("filterLink",!0)("filterTable",!0)("paginator",!0)("sortTable",!0)("menuTable",!0)("canCreate",!0)("columns",o.clientesColumn)("selectable",!0)("tableLinks",o.tableLinks),e.xp6(3),e.Q6J("icon",o.faArrowLeft),e.xp6(6),e.Q6J("icon",o.faArrowRight))},dependencies:[u.lC,Z.o,v.BN]}),i})();var F=d(8785),J=d(3834),N=d(4595),Fe=d(8164);const Je=function(){return["cadastrar"]};let R=(()=>{class i{constructor(t,o,r){this.empresaService=t,this.router=o,this.activatedRoute=r,this.faUser=c.FVb,this.objeto=new f.oW,this.userColumns=Fe.Sf,this.tableLinks=[],this.faArrowLeft=c.acZ,this.faArrowRight=c.eFW,this.empresaService.empresaObject.subscribe(l=>{this.objeto=l}),this.tableLinks=[{label:"Editar",routePath:["editar"],paramsFieldName:["id"]},{label:"Excluir",routePath:["excluir"],paramsFieldName:["id"]}]}ngOnInit(){}next(){this.router.navigate(["..","clientes"],{relativeTo:this.activatedRoute})}previous(){this.router.navigate(["..","dados-cadastrais"],{relativeTo:this.activatedRoute})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(g.P),e.Y36(u.F0),e.Y36(u.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-usuarios-create"]],decls:22,vars:14,consts:[[1,"card"],[1,"card-header","d-flex","align-items-center","py-2"],[1,"title-icon"],[3,"icon"],[1,"card-header-title"],[1,"card-header-subtitle"],[1,"card-body"],[3,"createLink","list","filterTable","paginator","sortTable","menuTable","canCreate","tableLinks","columns","selectable"],[1,"d-flex","justify-content-between","px-2","mt-auto"],["title","Anteiror",1,"btn","btn-step","btn-step-prev","mt-2",3,"click"],[1,"btn-step-text"],["title","Pr\xf3ximo",1,"btn","btn-step","btn-step-next","mt-2",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._UZ(3,"fa-icon",3),e.qZA(),e.TgZ(4,"div")(5,"h3",4),e._uU(6,"Usu\xe1rios"),e.qZA(),e.TgZ(7,"p",5)(8,"small"),e._uU(9,"Inclua usu\xe1rios dessa empresa para acessar o sistema"),e.qZA()()()(),e.TgZ(10,"div",6),e._UZ(11,"app-list-shared",7),e.TgZ(12,"div",8)(13,"button",9),e.NdJ("click",function(){return o.previous()}),e._UZ(14,"fa-icon",3),e.TgZ(15,"span",10),e._uU(16,"Anterior"),e.qZA()(),e.TgZ(17,"button",11),e.NdJ("click",function(){return o.next()}),e.TgZ(18,"span",10),e._uU(19,"Pr\xf3ximo"),e.qZA(),e._UZ(20,"fa-icon",3),e.qZA()()()(),e._UZ(21,"router-outlet")),2&t&&(e.xp6(3),e.Q6J("icon",o.faUser),e.xp6(8),e.Q6J("createLink",e.DdM(13,Je))("list",o.objeto.account)("filterTable",!0)("paginator",!0)("sortTable",!0)("menuTable",!0)("canCreate",!0)("tableLinks",o.tableLinks)("columns",o.userColumns)("selectable",!0),e.xp6(3),e.Q6J("icon",o.faArrowLeft),e.xp6(6),e.Q6J("icon",o.faArrowRight))},dependencies:[u.lC,Z.o,v.BN]}),i})();var L=d(1829),M=d(2193),P=d(662),Ne=d(6886);const Re=function(){return["cadastrar"]};let Y=(()=>{class i{constructor(t,o,r){this.empresaService=t,this.router=o,this.activatedRoute=r,this.faHandHoldingDollar=c.VPG,this.objeto=new f.oW,this.produtoColumns=Ne.Dw,this.faArrowLeft=c.acZ,this.faArrowRight=c.eFW,this.tableLinks=[],this.empresaService.empresaObject.subscribe(l=>{this.objeto=l}),this.tableLinks=[{label:"Editar",routePath:["editar"],paramsFieldName:["id"]},{label:"Excluir",routePath:["excluir"],paramsFieldName:["id"]}]}ngOnInit(){}next(){this.router.navigate(["..","setup"],{relativeTo:this.activatedRoute})}previous(){this.router.navigate(["..","clientes"],{relativeTo:this.activatedRoute})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(g.P),e.Y36(u.F0),e.Y36(u.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-produtos-create"]],decls:22,vars:14,consts:[[1,"card"],[1,"card-header","d-flex","align-items-center","py-2"],[1,"title-icon"],[3,"icon"],[1,"card-header-title"],[1,"card-header-subtitle"],[1,"card-body"],[3,"createLink","list","filterTable","paginator","sortTable","menuTable","canCreate","columns","tableLinks","selectable"],[1,"d-flex","justify-content-between","px-2","mt-auto"],["title","Anteiror",1,"btn","btn-step","btn-step-prev","mt-2",3,"click"],[1,"btn-step-text"],["title","Pr\xf3ximo",1,"btn","btn-step","btn-step-next","mt-2",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._UZ(3,"fa-icon",3),e.qZA(),e.TgZ(4,"div")(5,"h3",4),e._uU(6,"Produtos"),e.qZA(),e.TgZ(7,"p",5)(8,"small"),e._uU(9,"Inclua produtos para essa empresa"),e.qZA()()()(),e.TgZ(10,"div",6),e._UZ(11,"app-list-shared",7),e.TgZ(12,"div",8)(13,"button",9),e.NdJ("click",function(){return o.previous()}),e._UZ(14,"fa-icon",3),e.TgZ(15,"span",10),e._uU(16,"Anterior"),e.qZA()(),e.TgZ(17,"button",11),e.NdJ("click",function(){return o.next()}),e.TgZ(18,"span",10),e._uU(19,"Pr\xf3ximo"),e.qZA(),e._UZ(20,"fa-icon",3),e.qZA()()()(),e._UZ(21,"router-outlet")),2&t&&(e.xp6(3),e.Q6J("icon",o.faHandHoldingDollar),e.xp6(8),e.Q6J("createLink",e.DdM(13,Re))("list",o.objeto.produto)("filterTable",!0)("paginator",!0)("sortTable",!0)("menuTable",!0)("canCreate",!0)("columns",o.produtoColumns)("tableLinks",o.tableLinks)("selectable",!0),e.xp6(3),e.Q6J("icon",o.faArrowLeft),e.xp6(6),e.Q6J("icon",o.faArrowRight))},dependencies:[u.lC,Z.o,v.BN]}),i})();var q=d(8446),D=d(343),Q=d(9899),Le=d(6025),b=d(5576),O=d(805);const E=function(){return["cadastrar"]};function Me(i,n){1&i&&(e.TgZ(0,"div",14)(1,"p"),e._uU(2,"Nenhum registro encontrado. "),e.TgZ(3,"a",15),e._uU(4,"Clique aqui para adicionar"),e.qZA()()()),2&i&&(e.xp6(3),e.Q6J("routerLink",e.DdM(1,E)))}function Pe(i,n){if(1&i&&(e.TgZ(0,"p")(1,"small"),e._uU(2),e.qZA()()),2&i){const t=e.oxw(3);e.xp6(2),e.hij(" ",t.objeto.carteiraSetup.length," resultado(s) ")}}function Ye(i,n){if(1&i&&(e.TgZ(0,"p")(1,"small"),e._uU(2),e.qZA()()),2&i){const t=e.oxw(3);e.xp6(2),e.hij(" (",t.selectedItems.length,") linhas selecionadas ")}}function qe(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",31),e._UZ(1,"i",32),e.TgZ(2,"input",33,34),e.NdJ("input",function(){e.CHM(t);const r=e.MAs(3);e.oxw(2);const l=e.MAs(2);return e.KtG(l.filterGlobal(r.value,"contains"))}),e.qZA()()}}function De(i,n){if(1&i&&(e.TgZ(0,"div",24)(1,"div",25),e.YNc(2,Pe,3,1,"p",20),e.YNc(3,Ye,3,1,"p",20),e.qZA(),e.TgZ(4,"div",26)(5,"div",27)(6,"a",28),e._uU(7,"Adicionar"),e.qZA()(),e._UZ(8,"div",29),e.YNc(9,qe,4,0,"div",30),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",!t.loading),e.xp6(1),e.Q6J("ngIf",t.selectedItems.length>0),e.xp6(3),e.Q6J("routerLink",e.DdM(4,E)),e.xp6(3),e.Q6J("ngIf",t.objeto.carteiraSetup.length>0)}}function Qe(i,n){1&i&&e._UZ(0,"p-tableHeaderCheckbox")}function Oe(i,n){if(1&i&&(e.TgZ(0,"th",38)(1,"div",39),e._UZ(2,"span",44)(3,"p-sortIcon",41)(4,"p-columnFilter",45),e.qZA()()),2&i){const t=n.$implicit;e.Q6J("pSortableColumn",t.field),e.xp6(2),e.Q6J("innerHTML",t.header,e.oJD),e.xp6(1),e.Q6J("field",t.field),e.xp6(1),e.Q6J("type",t.filterType)("field",t.field)("display",t.filterDisplay)("showOperator",!1)("matchMode",t.filterMatchMode)("showMatchModes",t.filterShowMatchMode)("showAddButton",t.filterShowAddButton)}}function Ee(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"select",46,47),e.NdJ("change",function(){e.CHM(t);const r=e.MAs(1);e.oxw(3);const l=e.MAs(2);return e.KtG(l.filter(r.value,"ativo","equals"))}),e.TgZ(2,"option",48),e._uU(3,"Todos"),e.qZA(),e.TgZ(4,"option",49),e._uU(5,"Ativo"),e.qZA(),e.TgZ(6,"option",48),e._uU(7,"Inativo"),e.qZA()()}2&i&&(e.xp6(2),e.Q6J("value",""),e.xp6(2),e.Q6J("value",!0),e.xp6(2),e.Q6J("value",!1))}function Ge(i,n){if(1&i&&(e.TgZ(0,"tr",36)(1,"th"),e.YNc(2,Qe,1,0,"p-tableHeaderCheckbox",20),e.qZA(),e.YNc(3,Oe,5,10,"th",37),e.TgZ(4,"th",38)(5,"div",39)(6,"span",40),e._uU(7,"Status"),e.qZA(),e._UZ(8,"p-sortIcon",41),e.TgZ(9,"p-columnFilter",42),e.YNc(10,Ee,8,3,"ng-template",43),e.qZA()()(),e._UZ(11,"th"),e.qZA()),2&i){const t=n.$implicit,o=e.oxw(3);e.xp6(2),e.Q6J("ngIf",o.objeto.carteiraSetup.length>0),e.xp6(1),e.Q6J("ngForOf",t),e.xp6(1),e.Q6J("pSortableColumn","ativo"),e.xp6(4),e.Q6J("field","ativo"),e.xp6(1),e.Q6J("type","boolean")("showMatchModes",!1)("showOperator",!1)("showAddButton",!1)}}function We(i,n){1&i&&e.YNc(0,Ge,12,8,"ng-template",35)}function Be(i,n){if(1&i&&(e.TgZ(0,"td")(1,"p"),e._uU(2),e.qZA()()),2&i){const t=n.$implicit,o=e.oxw().$implicit,r=e.oxw(2);e.xp6(2),e.Oqu(r.getCellData(o,t))}}function Ve(i,n){if(1&i&&(e.TgZ(0,"div",58),e._uU(1),e.ALo(2,"date"),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij("Desativado em ",e.Dn7(2,1,t.dataDesativado,"dd/MM/yyyy","UTC")," ")}}function He(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr",50)(1,"td"),e._UZ(2,"p-tableCheckbox",48),e.qZA(),e.YNc(3,Be,3,1,"td",51),e.TgZ(4,"td"),e._UZ(5,"span",52),e.YNc(6,Ve,3,5,"ng-template",null,47,e.W1O),e.qZA(),e.TgZ(8,"td",53)(9,"div",54)(10,"button",55)(11,"span",56),e.NdJ("click",function(){const l=e.CHM(t).$implicit,p=e.oxw(2);return e.KtG(p.onRowSelect(l))}),e._UZ(12,"fa-icon",11),e.qZA(),e.TgZ(13,"span",57),e.NdJ("click",function(){const l=e.CHM(t).$implicit,p=e.oxw(2);return e.KtG(p.onRowUnselect(l))}),e._UZ(14,"fa-icon",11),e.qZA()()()()()}if(2&i){const t=n.$implicit,o=n.columns,r=n.rowIndex,l=e.MAs(7),p=e.oxw(2);e.ekj("selected",t==p.selected)("selected-many",p.selectedItems.includes(t)),e.Q6J("pSelectableRow",t)("pSelectableRowIndex",r),e.xp6(1),e.uIk("data-id",t.id),e.xp6(1),e.Q6J("value",t),e.xp6(1),e.Q6J("ngForOf",o),e.xp6(2),e.ekj("flag-green",t.ativo)("flag-red",!t.ativo),e.Q6J("ngbPopover",l)("disablePopover",t.ativo)("innerText",t.ativo?"Ativo":"Inativo"),e.xp6(5),e.ekj("active",t==p.selected),e.xp6(2),e.Q6J("icon",p.faEllipsisV),e.xp6(2),e.Q6J("icon",p.faTimes)}}function ze(i,n){if(1&i&&(e.TgZ(0,"td"),e._uU(1," Nenhum registro encontrado "),e.qZA()),2&i){const t=e.oxw().$implicit;e.uIk("colspan",t.length)}}function $e(i,n){if(1&i&&(e.TgZ(0,"td"),e._uU(1," Carregando... "),e.qZA()),2&i){const t=e.oxw().$implicit;e.uIk("colspan",t.length)}}function Xe(i,n){if(1&i&&(e.TgZ(0,"tr"),e._UZ(1,"td"),e.YNc(2,ze,2,1,"td",20),e.YNc(3,$e,2,1,"td",20),e._UZ(4,"td"),e.qZA()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",0==t.objeto.carteiraSetup.length&&!t.loading),e.xp6(1),e.Q6J("ngIf",t.loading)}}function Ke(i,n){if(1&i&&(e.TgZ(0,"a",63),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("routerLink",t.fullRoute),e.xp6(1),e.Oqu(t.label)}}function et(i,n){if(1&i&&(e.TgZ(0,"div",61),e.YNc(1,Ke,2,2,"a",62),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.tableLinks)}}function tt(i,n){if(1&i&&(e.TgZ(0,"div",59),e.YNc(1,et,2,1,"div",60),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.selected)}}const it=function(){return[10,25,50]};function ot(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",16)(1,"p-table",17,18),e.NdJ("selectionChange",function(r){e.CHM(t);const l=e.oxw();return e.KtG(l.selectedItems=r)})("onRowSelect",function(r){e.CHM(t);const l=e.oxw();return e.KtG(l.onRowSelect(r))})("onRowUnselect",function(r){e.CHM(t);const l=e.oxw();return e.KtG(l.onRowUnselect(r))})("onHeaderCheckboxToggle",function(r){e.CHM(t);const l=e.oxw();return e.KtG(l.onAllRowToggle(r))}),e.YNc(3,De,10,5,"ng-template",19),e.YNc(4,We,1,0,null,20),e.YNc(5,He,15,20,"ng-template",21),e.YNc(6,Xe,5,2,"ng-template",22),e.qZA(),e.YNc(7,tt,2,1,"div",23),e.qZA()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("columns",t.setupColumns)("value",t.objeto.carteiraSetup)("paginator",t.objeto.carteiraSetup.length>0)("rows",10)("rowHover",!0)("rowsPerPageOptions",e.DdM(13,it))("showCurrentPageReport",!0)("globalFilterFields",t.filters)("selection",t.selectedItems)("selectionMode","multiple")("filterDelay",100),e.xp6(3),e.Q6J("ngIf",t.objeto.carteiraSetup.length>0),e.xp6(3),e.Q6J("ngIf",t.tableLinks.length>0)}}let G=(()=>{class i{constructor(t,o,r,l,p,a){this.empresaService=t,this.router=o,this.activatedRoute=r,this.table=l,this.crypto=p,this.currency=a,this.faWallet=c.X5K,this.faArrowLeft=c.acZ,this.faArrowRight=c.eFW,this.faFilter=c.G_j,this.faTimes=c.NBC,this.faEllipsisV=c.iV1,this.objeto=new f.oW,this.setupColumns=Le.T7,this.tableLinks=[],this.loading=!1,this.selectedItems=[],this.filters=[],this.empresaService.empresaObject.subscribe(s=>{this.objeto=s,this.objeto.carteiraSetup=this.objeto.carteiraSetup.map(m=>(m.ativo=null==m.dataDesativado,m))}),this.filters=this.setupColumns.map(s=>s.field),this.tableLinks=[{label:"Editar",routePath:["editar"],paramsFieldName:["id"]},{label:"Excluir",routePath:["excluir"],paramsFieldName:["id"]}],this.table.loading.subscribe(s=>this.loading=s),this.table.selected.subscribe(s=>{this.selected=s,s&&(this.tableLinks=this.table.encryptParams(this.tableLinks))}),this.table.selectedItems.subscribe(s=>this.selectedItems=s)}ngOnInit(){}next(){this.router.navigate(["..","percentual-risco"],{relativeTo:this.activatedRoute})}previous(){this.router.navigate(["..","produtos"],{relativeTo:this.activatedRoute})}onRowSelect(t){this.table.onRowSelect(t)}onRowUnselect(t){this.table.onRowUnselect(t)}onAllRowToggle(t){this.table.onAllRowToggle(t)}getCellData(t,o){return this.table.getCellData(t,o)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(g.P),e.Y36(u.F0),e.Y36(u.gz),e.Y36(A.i),e.Y36(T.w),e.Y36(h.H9))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-setup-create"]],decls:23,vars:4,consts:[[1,"card"],[1,"card-header","d-flex","align-items-center","py-2"],[1,"title-icon"],[1,"pi","pi-wallet"],[1,"card-header-title"],[1,"card-header-subtitle"],[1,"card-body"],["class","p-2",4,"ngIf"],["class","content",4,"ngIf"],[1,"d-flex","justify-content-between","px-2","mt-2"],["title","Anterior",1,"btn","btn-step","btn-step-prev",3,"click"],[3,"icon"],[1,"btn-step-text"],["title","Pr\xf3ximo",1,"btn","btn-step","btn-step-next",3,"click"],[1,"p-2"],[3,"routerLink"],[1,"content"],["responsiveLayout","scroll","currentPageReportTemplate","Exibindo {first} de {totalRecords} resultado(s)",1,"table",3,"columns","value","paginator","rows","rowHover","rowsPerPageOptions","showCurrentPageReport","globalFilterFields","selection","selectionMode","filterDelay","selectionChange","onRowSelect","onRowUnselect","onHeaderCheckboxToggle"],["dt",""],["pTemplate","caption"],[4,"ngIf"],["pTemplate","body"],["pTemplate","emptymessage"],["class","actions__nav",4,"ngIf"],[1,"header-box","d-flex","justify-content-between","align-items-end","flex-wrap","w-100","px-0","py-0","flex-lg-row","flex-sm-column-reverse"],[1,"col-xl-3","col-lg-3","col-md-3","col-sm-12","col-12","p-0"],[1,"col-lg-9","col-md-9","col-sm-12","col-12","d-flex","align-items-center","justify-content-end","flex-wrap","flex-lg-row","flex-sm-column-reverse","px-0"],[1,"col-lg-2","col-md-2","col-sm-12","my-2","px-0"],[1,"btn","btn-primary","w-100","d-block",3,"routerLink"],[1,"mr-2","d-sm-none","d-md-block"],["class","p-input-icon-left col-lg-4 col-md-4 col-sm-11 col-9 my-2",4,"ngIf"],[1,"p-input-icon-left","col-lg-4","col-md-4","col-sm-11","col-9","my-2"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Pesquisar",1,"form-control",3,"input"],["filter",""],["pTemplate","header"],[1,"grey"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[1,"d-flex","align-items-center","justify-content-between"],[1,"mr-auto"],[3,"field"],["field","'ativo'","matchMode","equals","display","menu",3,"type","showMatchModes","showOperator","showAddButton"],["pTemplate","filter"],[1,"mr-auto",3,"innerHTML"],[3,"type","field","display","showOperator","matchMode","showMatchModes","showAddButton"],["name","ativo","id","ativo",1,"form-control",3,"change"],["ativo",""],[3,"value"],["selected","",3,"value"],[3,"pSelectableRow","pSelectableRowIndex"],[4,"ngFor","ngForOf"],["triggers","mouseenter:mouseleave",1,"flag",3,"ngbPopover","disablePopover","innerText"],[1,"td-actions"],[1,"actions"],[1,"actions__toggle"],[1,"icon","icon-ellipsis",3,"click"],[1,"icon","icon-times",3,"click"],[1,"py-2","px-3"],[1,"actions__nav"],["class","actions__nav-inner",4,"ngIf"],[1,"actions__nav-inner"],["class","actions__nav-link",3,"routerLink",4,"ngFor","ngForOf"],[1,"actions__nav-link",3,"routerLink"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._UZ(3,"i",3),e.qZA(),e.TgZ(4,"div")(5,"h3",4),e._uU(6,"Carteira Setup"),e.qZA(),e.TgZ(7,"p",5)(8,"small"),e._uU(9,"Inclua um ou mais setups dessa empresa"),e.qZA()()()(),e.TgZ(10,"div",6),e.YNc(11,Me,5,2,"div",7),e.YNc(12,ot,8,14,"div",8),e.TgZ(13,"div",9)(14,"button",10),e.NdJ("click",function(){return o.previous()}),e._UZ(15,"fa-icon",11),e.TgZ(16,"span",12),e._uU(17,"Anterior"),e.qZA()(),e.TgZ(18,"button",13),e.NdJ("click",function(){return o.next()}),e.TgZ(19,"span",12),e._uU(20,"Pr\xf3ximo"),e.qZA(),e._UZ(21,"fa-icon",11),e.qZA()()()(),e._UZ(22,"router-outlet")),2&t&&(e.xp6(11),e.Q6J("ngIf",0==o.objeto.carteiraSetup.length),e.xp6(1),e.Q6J("ngIf",o.objeto.carteiraSetup.length>0),e.xp6(3),e.Q6J("icon",o.faArrowLeft),e.xp6(6),e.Q6J("icon",o.faArrowRight))},dependencies:[h.sg,h.O5,u.lC,u.yS,v.BN,_.YN,_.Kr,j.o8,b.iA,O.jx,b.lQ,b.Ei,b.fz,b.UA,b.Mo,b.xl,h.uU]}),i})();var W=d(4458),B=d(5623),V=d(4115),H=d(5861),z=d(9808),nt=d(1779);function at(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.next())}),e.TgZ(1,"span",10),e._uU(2,"Finalizar "),e.qZA(),e._UZ(3,"fa-icon",3),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("disabled",t.loading),e.xp6(3),e.Q6J("icon",t.faCheck)}}const rt=function(){return["cadastrar"]};let $=(()=>{class i{constructor(t,o,r,l,p,a){this.toastr=t,this.empresaService=o,this.router=r,this.mask=l,this.activatedRoute=p,this.crypto=a,this.faPercent=c.jGC,this.faArrowLeft=c.acZ,this.faCheck=c.LEp,this.objeto=new f.oW,this.percentualRiscoColumns=nt.Bo,this.tableLinks=[],this.erro=[],this.loading=!1,this.url="",this.isEditPage=!1,this.url=this.activatedRoute.snapshot.pathFromRoot.map(s=>s.routeConfig?.path).join("/"),this.empresaService.empresaObject.subscribe(s=>{this.objeto=Object.assign(s)}),this.tableLinks=[{label:"Editar",routePath:["editar"],paramsFieldName:["id"]},{label:"Excluir",routePath:["excluir"],paramsFieldName:["id"]}],this.isEditPage=!!this.url.includes("empresas/editar")}ngOnInit(){}next(){var t=this;if(this.loading=!0,this.erro=[],!(this.objeto.nome.trim()&&this.objeto.cnpj.toString().trim()&&this.objeto.cnpj&&this.objeto.email.trim()))return this.loading=!1,this.erro.push("Dados cadastrais inv\xe1lidos."),void this.toastr.error("Dados cadastrais inv\xe1lidos.");let o=Object.assign({},JSON.parse(JSON.stringify(this.objeto))),l=o.carteiraSetup.flatMap(a=>a.carteiraProdutoRel).map(a=>a.produtoTributacaoRel.produto).map(a=>a.id),p=o.produto.filter(a=>!l.includes(a.id));var a;o.produto=p.map(a=>(a.produtoTributacaoRel=[],delete a.empresa,delete a.tipoAtivo,delete a.tipoRisco,delete a.tipoLiquidez,a.registroNaoSalvo&&(a.id=0),a)),o.carteiraSetup.map(a=>(a.registroNaoSalvo&&(a.id=0),a.carteiraProdutoRel.map(s=>(a.registroNaoSalvo&&(s.produtoTributacaoRel_Id=0,s.produtoTributacaoRel.id=0,s.carteiraSetup_Id=0),s.produtoTributacaoRel.produto.registroNaoSalvo&&(s.produtoTributacaoRel.produto.id=0,s.produtoTributacaoRel.produto_Id=0),s.produtoTributacaoRel.produto.produtoTributacaoRel=[],delete s.produtoTributacaoRel.produto.empresa,delete s.produtoTributacaoRel.produto.tipoAtivo,delete s.produtoTributacaoRel.produto.tipoRisco,delete s.produtoTributacaoRel.produto.tipoLiquidez,s)),a)),o.cliente.filter(a=>a.registroNaoSalvo).map(a=>(a.id=0,delete a.estadoCivil,delete a.perfilInvestidor,a)),o.account.filter(a=>a.registroNaoSalvo).map(a=>(a.id=0,a.perfilAcesso=void 0,a)),o.percentualRisco.filter(a=>a.registroNaoSalvo).map(a=>(a.id=0,delete a.perfilInvestidor,a.capacidadeRisco_Id=0,a)),this.url.includes("empresas/cadastrar")?this.empresaService.create(o).subscribe({next:(a=(0,H.Z)(function*(s){yield(0,z.n)(t.empresaService.getList()),t.router.navigate(["empresas","editar",t.crypto.encrypt(s.id)]),t.loading=!1}),function(m){return a.apply(this,arguments)}),error:a=>{this.loading=!1,console.log(a),this.erro.push(a.error.message)}}):this.url.includes("empresas/editar")&&this.empresaService.edit(o).subscribe({next:function(){var a=(0,H.Z)(function*(s){yield(0,z.n)(t.empresaService.getList()),t.router.navigate(["empresas","editar",t.crypto.encrypt(s.id)]),t.loading=!1});return function(m){return a.apply(this,arguments)}}(),error:a=>{this.loading=!1,console.log(a),this.erro.push(a.error.message)}})}previous(){this.router.navigate(["..","setup"],{relativeTo:this.activatedRoute})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(C._W),e.Y36(g.P),e.Y36(u.F0),e.Y36(x.d6),e.Y36(u.gz),e.Y36(T.w))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-percentual-risco-create"]],decls:19,vars:14,consts:[[1,"card"],[1,"card-header","d-flex","align-items-center","py-2"],[1,"title-icon"],[3,"icon"],[1,"card-header-title"],[1,"card-header-subtitle"],[1,"card-body"],[3,"createLink","list","selectable","filterTable","paginator","sortTable","menuTable","canCreate","tableLinks","columns"],[1,"d-flex","justify-content-between","px-2","mt-auto"],["title","Anteiror",1,"btn","btn-step","btn-step-prev","mt-2",3,"click"],[1,"btn-step-text"],["class","btn btn-step btn-step-next mt-2","title","Pr\xf3ximo",3,"disabled","click",4,"ngIf"],["title","Pr\xf3ximo",1,"btn","btn-step","btn-step-next","mt-2",3,"disabled","click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._UZ(3,"fa-icon",3),e.qZA(),e.TgZ(4,"div")(5,"h3",4),e._uU(6,"Percentual de Risco"),e.qZA(),e.TgZ(7,"p",5)(8,"small"),e._uU(9,"Percentual de risco da empresa"),e.qZA()()()(),e.TgZ(10,"div",6),e._UZ(11,"app-list-shared",7),e.TgZ(12,"div",8)(13,"button",9),e.NdJ("click",function(){return o.previous()}),e._UZ(14,"fa-icon",3),e.TgZ(15,"span",10),e._uU(16,"Anterior"),e.qZA()(),e.YNc(17,at,4,2,"button",11),e.qZA()()(),e._UZ(18,"router-outlet")),2&t&&(e.xp6(3),e.Q6J("icon",o.faPercent),e.xp6(8),e.Q6J("createLink",e.DdM(13,rt))("list",o.objeto.percentualRisco)("selectable",!0)("filterTable",!0)("paginator",!0)("sortTable",!0)("menuTable",!0)("canCreate",!0)("tableLinks",o.tableLinks)("columns",o.percentualRiscoColumns),e.xp6(3),e.Q6J("icon",o.faArrowLeft),e.xp6(3),e.Q6J("ngIf",!o.isEditPage))},dependencies:[h.O5,u.lC,Z.o,v.BN]}),i})();var X=d(627),K=d(4788),ee=d(6749);let te=(()=>{class i{constructor(t,o,r){this.empresaService=t,this.toastr=o,this.alert=r}canActivate(t,o){return!0}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(g.P),e.LFG(C._W),e.LFG(U.c))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const st=[{path:"",component:ve,children:[]},{path:"excluir/:empresa_id",component:me},{path:"editar/:empresa_id",redirectTo:"editar/:empresa_id/dados-cadastrais",pathMatch:"prefix"},{path:"editar/:empresa_id",component:fe,children:[{path:"dados-cadastrais",component:I},{path:"clientes",component:w,children:[{path:"cadastrar",component:F.G},{path:"editar/:cliente_id",component:J.F},{path:"excluir/:cliente_id",component:N.T}]},{path:"produtos",component:Y,children:[{path:"cadastrar",component:q.G,data:{page:"cadastrar-produto-nova-empresa"}},{path:"editar/:produto_id",component:D.F},{path:"excluir/:produto_id",component:Q.T}]},{path:"usuarios",component:R,children:[{path:"cadastrar",component:L.G},{path:"editar/:usuario_id",component:M.F},{path:"excluir/:usuario_id",component:P.T}]},{path:"setup/cadastrar",component:W.G,canActivate:[te]},{path:"setup/editar/:setup_id",component:B.F},{path:"setup",component:G,children:[{path:"excluir/:setup_id",component:V.T}]},{path:"percentual-risco",component:$,children:[{path:"cadastrar",component:X.G},{path:"editar/:percentual_id",component:K.F},{path:"excluir/:percentual_id",component:ee.T}]}]},{path:"cadastrar",redirectTo:"cadastrar/dados-cadastrais",pathMatch:"prefix"},{path:"cadastrar",component:re,children:[{path:"dados-cadastrais",component:I},{path:"usuarios",component:R,children:[{path:"cadastrar",component:L.G},{path:"editar/:usuario_id",component:M.F},{path:"excluir/:usuario_id",component:P.T}]},{path:"clientes",component:w,children:[{path:"cadastrar",component:F.G},{path:"editar/:cliente_id",component:J.F},{path:"excluir/:cliente_id",component:N.T}]},{path:"produtos",component:Y,children:[{path:"cadastrar",component:q.G},{path:"editar/:produto_id",component:D.F},{path:"excluir/:produto_id",component:Q.T}]},{path:"setup/cadastrar",component:W.G,canActivate:[te]},{path:"setup/editar/:setup_id",component:B.F},{path:"setup",component:G,children:[{path:"excluir/:setup_id",component:V.T}]},{path:"percentual-risco",component:$,children:[{path:"cadastrar",component:X.G},{path:"editar/:percentual_id",component:K.F},{path:"excluir/:percentual_id",component:ee.T}]}]}];let lt=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[u.Bz.forChild(st),u.Bz]}),i})(),mt=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[h.ez,O.m8]}),i})(),_t=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-empresas"]],decls:2,vars:0,template:function(t,o){1&t&&(e.TgZ(0,"p"),e._uU(1,"empresas works!"),e.qZA())}}),i})();var ht=d(5089),ft=d(4698);let gt=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i,bootstrap:[_t]}),i.\u0275inj=e.cJS({imports:[h.ez,lt,b.U$,v.uH,C.Rh,_.u5,j.dT,x.yI.forChild(),k.q,mt,ht.m,ft.E]}),i})()}}]);