"use strict";(self.webpackChunkplanner=self.webpackChunkplanner||[]).push([[843],{8164:(y,A,t)=>{t.d(A,{Sf:()=>U,bo:()=>T});var e=t(655),P=t(43),c=t(1956),C=t(805);class T{constructor(){this.id=0,this.empresa_Id=0,this.perfilAcesso=void 0,this.perfilAcesso_Id=void 0,this.name="",this.email="",this.telefoneCelular="",this.registroNaoSalvo=!1}}(0,e.gn)([(0,P.Vp)(),(0,e.w6)("design:type",Boolean)],T.prototype,"registroNaoSalvo",void 0),(0,e.gn)([(0,P.Vp)(),(0,e.w6)("design:type",Boolean)],class p{constructor(){this.id=0,this.empresa_Id=0,this.perfilAcesso_Id=void 0,this.name="",this.email="",this.telefoneCelular="",this.registroNaoSalvo=!1}}.prototype,"registroNaoSalvo",void 0);var U=[{field:"id",header:"Id",filterType:c.vA.text,filterDisplay:c.w2.menu},{field:"name",header:"Nome",filterType:c.vA.text,filterDisplay:c.w2.menu,maskType:c.O.substring,substringLength:22},{field:"email",header:"E-mail",filterType:c.vA.text,filterDisplay:c.w2.menu,maskType:c.O.substring,substringLength:30},{field:"telefoneCelular",header:"Telefone/Celular",filterType:c.vA.text,filterDisplay:c.w2.menu,maskType:c.O.telefoneCelular},{field:"perfilAcesso.perfil",header:"Tipo de Acesso",filterType:c.vA.text,filterDisplay:c.w2.menu},{field:"ativo",header:"Ativo",maskType:c.O.boolean,filterType:c.vA.text,filterDisplay:c.w2.menu,filterShowAddButton:!1,filterShowMatchMode:!1,filterMatchMode:C.a6.CONTAINS,booleanValues:{true:"ativo",false:"inativo"}}]},1829:(y,A,t)=>{t.d(A,{G:()=>v});var e=t(5861),P=t(801),c=t(9808),C=t(8164),T=t(8913),p=t(3071),U=t(9243),a=t(878),s=t(4650),L=t(202),M=t(7185),b=t(7549),g=t(703);let v=(()=>{class h{constructor(n,r,d,o,l,m){this.activatedRoute=n,this.toastr=r,this.modal=d,this.userService=o,this.empresaService=l,this.crypto=m,this.faTimes=P.NBC,this.modalOpen=!1,this.objeto=new C.bo,this.erro=[],this.loading=!1,this.url="",this.subscription=[],this.url=this.activatedRoute.snapshot.pathFromRoot.map(_=>_.routeConfig?.path).join("/");var O=this.modal.getOpen().subscribe(_=>this.modalOpen=_);if(this.subscription.push(O),this.url.includes("empresas/editar")){var I=n.parent?.parent?.params.subscribe(_=>{_.empresa_id?this.objeto.empresa_Id=this.crypto.decrypt(_.empresa_id):this.voltar()});I&&this.subscription.push(I)}setTimeout(()=>{this.modal.setOpen(!0)},200)}ngOnDestroy(){this.subscription.forEach(n=>n.unsubscribe())}voltar(){this.modal.voltar()}send(n){var r=this;this.loading=!0,this.erro=[],this.url.includes("empresas/cadastrar")?(this.userService.add_To_Empresa_List(this.objeto)&&(this.toastr.success("Opera\xe7\xe3o conclu\xedda"),this.voltar()),this.loading=!1):(0,c.n)(this.userService.create(this.objeto)).then(function(){var d=(0,e.Z)(function*(o){r.modal.voltar();var l=yield(0,c.n)(r.userService.getList());if(r.url.includes("empresas/editar")){var m=r.empresaService.object;m.account=l,r.empresaService.setObject(m,"edit usuario")}});return function(o){return d.apply(this,arguments)}}()).catch(d=>{this.erro.push((0,a.b)(d))}).finally(()=>this.loading=!1)}}return h.\u0275fac=function(n){return new(n||h)(s.Y36(L.gz),s.Y36(M._W),s.Y36(b.Q),s.Y36(p.i),s.Y36(T.P),s.Y36(U.w))},h.\u0275cmp=s.Xpm({type:h,selectors:[["app-create"]],decls:12,vars:6,consts:[[1,"modal"],[1,"modal__bg",3,"click"],[1,"modal__inner",2,"max-width","800px"],[1,"modal__content"],[1,"modal__header","pb-2"],[1,"text-orange"],[1,"modal__header-close","btn-close",3,"click"],[1,"modal__body","mt-0"],[3,"objeto","loading","erro","isEditPage","sendData"]],template:function(n,r){1&n&&(s.TgZ(0,"div",0)(1,"div",1),s.NdJ("click",function(){return r.voltar()}),s.qZA(),s.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),s._uU(6,"Adicionar usu\xe1rio"),s.qZA(),s.TgZ(7,"a",6),s.NdJ("click",function(){return r.voltar()}),s._UZ(8,"span")(9,"span"),s.qZA()(),s.TgZ(10,"div",7)(11,"app-form-usuario",8),s.NdJ("sendData",function(o){return r.send(o)}),s.qZA()()()()()),2&n&&(s.ekj("active",r.modalOpen),s.xp6(11),s.Q6J("objeto",r.objeto)("loading",r.loading)("erro",r.erro)("isEditPage",!1))},dependencies:[g.w],styles:["@media (max-width: 768px){.email-container[_ngcontent-%COMP%], .senha-container[_ngcontent-%COMP%]{order:1}}"]}),h})()},9155:(y,A,t)=>{t.d(A,{T:()=>L});var e=t(801),P=t(9808),c=t(8164),C=t(3071),T=t(9243),p=t(4650),U=t(202),a=t(7549),s=t(7119);let L=(()=>{class M{constructor(g,v,h,D){this.activatedRoute=g,this.modal=v,this.userService=h,this.crypto=D,this.faTimes=e.NBC,this.modalOpen=!1,this.erro=[],this.loading=!1,this.url="",this.objeto=new c.bo,this.subscription=[];var n=this.modal.getOpen().subscribe(d=>this.modalOpen=d);this.subscription.push(n),this.url=this.activatedRoute.snapshot.pathFromRoot.map(d=>d.routeConfig?.path).join("/");var r=g.params.subscribe(d=>{d.usuario_id?(this.objeto.id=this.crypto.decrypt(d.usuario_id),(0,P.n)(this.userService.get(this.objeto.id)).then(o=>{this.objeto=o,setTimeout(()=>{this.modal.setOpen(!0)},200)}).catch(o=>{this.modal.voltar()}).finally(()=>{})):this.voltar()});this.subscription.push(r)}ngOnDestroy(){this.subscription.forEach(g=>g.unsubscribe())}voltar(){this.modal.voltar()}}return M.\u0275fac=function(g){return new(g||M)(p.Y36(U.gz),p.Y36(a.Q),p.Y36(C.i),p.Y36(T.w))},M.\u0275cmp=p.Xpm({type:M,selectors:[["app-deactivated"]],decls:4,vars:5,consts:[[1,"modal"],[1,"modal__bg",3,"click"],[1,"modal__inner",2,"max-width","600px"],[3,"objeto","service","isUser"]],template:function(g,v){1&g&&(p.TgZ(0,"div",0)(1,"div",1),p.NdJ("click",function(){return v.voltar()}),p.qZA(),p.TgZ(2,"div",2),p._UZ(3,"app-shared-deactivated",3),p.qZA()()),2&g&&(p.ekj("active",v.modalOpen),p.xp6(3),p.Q6J("objeto",v.objeto)("service",v.userService)("isUser",!0))},dependencies:[s.T]}),M})()},662:(y,A,t)=>{t.d(A,{T:()=>v});var e=t(5861),P=t(801),c=t(9808),C=t(8164),T=t(8913),p=t(3071),U=t(9243),a=t(4650),s=t(202),L=t(7185),M=t(7549),b=t(6895);function g(h,D){1&h&&a._UZ(0,"span",10)}let v=(()=>{class h{constructor(n,r,d,o,l,m){this.activatedRoute=n,this.toastr=r,this.modal=d,this.empresaService=o,this.userService=l,this.crypto=m,this.faTimes=P.NBC,this.modalOpen=!1,this.erro=[],this.loading=!1,this.url="",this.objeto=new C.bo,this.subscription=[];var O=this.modal.getOpen().subscribe(_=>this.modalOpen=_);this.subscription.push(O),this.url=this.activatedRoute.snapshot.pathFromRoot.map(_=>_.routeConfig?.path).join("/");var I=this.activatedRoute.params.subscribe(_=>{_.usuario_id?this.objeto.id=this.crypto.decrypt(_.usuario_id):this.voltar()});this.subscription.push(I),(this.url.includes("empresas/cadastrar")||this.objeto.registroNaoSalvo)&&(this.objeto=this.empresaService.object.account.find(_=>_.id==this.objeto.id)),setTimeout(()=>{this.modal.setOpen(!0)},200)}ngOnDestroy(){this.subscription.forEach(n=>n.unsubscribe())}voltar(){this.modal.voltar()}send(){var n=this;this.loading=!0,this.url.includes("empresas/cadastrar")||this.objeto.registroNaoSalvo?(this.userService.delete_To_Empresa_List(this.objeto.id)&&(this.toastr.success("Opera\xe7\xe3o conclu\xedda"),this.voltar()),this.loading=!1):(0,c.n)(this.userService.delete(this.objeto.id)).then(function(){var r=(0,e.Z)(function*(d){var o=yield(0,c.n)(n.userService.getList());if(n.url.includes("empresas/editar")){var l=n.empresaService.object;l.account=o,n.empresaService.setObject(l,"edit usuario")}n.voltar(),n.userService.setObject(new C.bo)});return function(d){return r.apply(this,arguments)}}()).finally(()=>this.loading=!1)}}return h.\u0275fac=function(n){return new(n||h)(a.Y36(s.gz),a.Y36(L._W),a.Y36(M.Q),a.Y36(T.P),a.Y36(p.i),a.Y36(U.w))},h.\u0275cmp=a.Xpm({type:h,selectors:[["app-delete"]],decls:19,vars:3,consts:[[1,"modal"],[1,"modal__bg",3,"click"],[1,"modal__inner",2,"max-width","600px"],[1,"modal__content"],[1,"modal__header","pb-2"],[1,"text-orange"],[1,"modal__header-close","btn-close",3,"click"],[1,"modal__body","mt-0"],[1,"btn","btn-grey","ml-auto","d-flex","mt-2",3,"click"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(n,r){1&n&&(a.TgZ(0,"div",0)(1,"div",1),a.NdJ("click",function(){return r.voltar()}),a.qZA(),a.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),a._uU(6,"Excluir usu\xe1rio"),a.qZA(),a.TgZ(7,"a",6),a.NdJ("click",function(){return r.voltar()}),a._UZ(8,"span")(9,"span"),a.qZA()(),a.TgZ(10,"div",7)(11,"p"),a._uU(12,"Tem certeza que deseja excluir esse registro? Essa opera\xe7\xe3o n\xe3o poder\xe1 ser desfeita!!"),a.qZA(),a.TgZ(13,"p")(14,"small"),a._uU(15,' Quando clicar em "Excluir" ele perder\xe1 o acesso a plataforma.'),a.qZA()(),a.TgZ(16,"button",8),a.NdJ("click",function(){return r.send()}),a.YNc(17,g,1,0,"span",9),a._uU(18," Excluir "),a.qZA()()()()()),2&n&&(a.ekj("active",r.modalOpen),a.xp6(17),a.Q6J("ngIf",r.loading))},dependencies:[b.O5]}),h})()},2193:(y,A,t)=>{t.d(A,{F:()=>v});var e=t(5861),P=t(801),c=t(9808),C=t(8164),T=t(8913),p=t(3071),U=t(9243),a=t(878),s=t(4650),L=t(202),M=t(7185),b=t(7549),g=t(703);let v=(()=>{class h{constructor(n,r,d,o,l,m){this.activatedRoute=n,this.toastr=r,this.modal=d,this.empresaService=o,this.userService=l,this.crypto=m,this.faTimes=P.NBC,this.modalOpen=!1,this.objeto=new C.bo,this.erro=[],this.loading=!1,this.url="",this.subscription=[];var O=this.modal.getOpen().subscribe(_=>this.modalOpen=_);this.subscription.push(O);var I=n.params.subscribe(_=>{_.usuario_id?this.objeto.id=this.crypto.decrypt(_.usuario_id):this.voltar()});this.subscription.push(I),this.url=this.activatedRoute.snapshot.pathFromRoot.map(_=>_.routeConfig?.path).join("/"),this.url.includes("empresas/cadastrar")||this.objeto.registroNaoSalvo?this.objeto=this.empresaService.object.account.find(_=>_.id==this.objeto.id):(0,c.n)(this.userService.get(this.objeto.id)).then(_=>this.objeto=_).catch(_=>this.voltar()).finally(()=>this.loading=!1),setTimeout(()=>{this.modal.setOpen(!0)},200)}ngOnDestroy(){this.subscription.forEach(n=>n.unsubscribe())}voltar(){this.modal.voltar()}send(n){var r=this;this.loading=!0,this.erro=[],this.url.includes("empresas/cadastrar")||this.objeto.registroNaoSalvo?(this.userService.edit_To_Empresa_List(this.objeto)&&(this.toastr.success("Opera\xe7\xe3o conclu\xedda"),this.voltar()),this.loading=!1):(0,c.n)(this.userService.edit(this.objeto)).then(function(){var d=(0,e.Z)(function*(o){var l=yield(0,c.n)(r.userService.getList());if(r.url.includes("empresas/editar")){var m=r.empresaService.object;m.account=l,r.empresaService.setObject(m,"edit usuario")}r.modal.voltar()});return function(o){return d.apply(this,arguments)}}()).catch(d=>{console.error(d),this.erro.push((0,a.b)(d))}).finally(()=>this.loading=!1)}}return h.\u0275fac=function(n){return new(n||h)(s.Y36(L.gz),s.Y36(M._W),s.Y36(b.Q),s.Y36(T.P),s.Y36(p.i),s.Y36(U.w))},h.\u0275cmp=s.Xpm({type:h,selectors:[["app-edit"]],decls:12,vars:6,consts:[[1,"modal"],[1,"modal__bg",3,"click"],[1,"modal__inner",2,"max-width","800px"],[1,"modal__content"],[1,"modal__header","pb-2"],[1,"text-orange"],[1,"modal__header-close","btn-close",3,"click"],[1,"modal__body","mt-0"],[3,"objeto","loading","erro","isEditPage","sendData"]],template:function(n,r){1&n&&(s.TgZ(0,"div",0)(1,"div",1),s.NdJ("click",function(){return r.voltar()}),s.qZA(),s.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),s._uU(6,"Editar usu\xe1rio"),s.qZA(),s.TgZ(7,"a",6),s.NdJ("click",function(){return r.voltar()}),s._UZ(8,"span")(9,"span"),s.qZA()(),s.TgZ(10,"div",7)(11,"app-form-usuario",8),s.NdJ("sendData",function(o){return r.send(o)}),s.qZA()()()()()),2&n&&(s.ekj("active",r.modalOpen),s.xp6(11),s.Q6J("objeto",r.objeto)("loading",r.loading)("erro",r.erro)("isEditPage",!0))},dependencies:[g.w]}),h})()},3071:(y,A,t)=>{t.d(A,{i:()=>n});var e=t(1135),P=t(8505),c=t(9646),C=t(9243),T=t(8164),p=t(2340),U=t(9535),a=t(9398),s=t(8913),L=t(46),M=t(9876),b=t(1685),g=t(4409),v=t(4650),h=t(529),D=t(7185);let n=(()=>{class r{constructor(o,l,m,O,I,_,B){this.table=o,this.http=l,this.toastr=m,this.crypto=O,this.dropdownService=I,this.empresaService=_,this.accountService=B,this.url=p.N.url,this.list=new e.X([]),this.objeto=new e.X(void 0),this.empresa=new a.oW,this.account=new b.mR,this.empresa=this.empresaService.object,this.empresaService.empresa.subscribe(x=>this.empresa=x),this.accountService.account.subscribe(x=>this.account=x??new b.mR)}getObject(){var o=localStorage.getItem("usuario");return o&&this.setObject(this.crypto.decrypt(o)??new T.bo),this.objeto}setObject(o){localStorage.setItem("usuario",this.crypto.encrypt(o)??""),this.objeto.next(o)}add_To_Empresa_List(o){if(this.empresa){var l=this.empresa.account??[];let O=this.dropdownService.perfilAcesso.value.find(_=>_.id==o.perfilAcesso_Id);if(!O)return this.toastr.error("Selecione um perfil de acesso v\xe1lido!!"),!1;if(o.perfilAcesso=O,this.empresa.account.find(_=>_.email==o.email))return this.toastr.error("Esse e-mail j\xe1 foi cadastrado!!"),!1;l.sort((_,B)=>_.id-B.id);var m=0==l.length?0:l[l.length-1].id;return o.id=++m,o.registroNaoSalvo=!0,l.push(o),this.empresa.account=l,this.empresaService.setObject(this.empresa,"add_To_Empresa_List"),this.toastr.success("Opera\xe7\xe3o conclu\xedda"),this.table.resetSelection(),!0}return this.toastr.error("Nenhuma empresa selecionada."),!1}edit_To_Empresa_List(o){if(this.empresa){var l=this.empresa.account??[];let m=l.findIndex(O=>O.id==o.id);if(-1!=m){let O=this.dropdownService.perfilAcesso.value.find(_=>_.id==o.perfilAcesso_Id);return O?(o.perfilAcesso=O,this.empresa.account.find(_=>_.email==o.email&&_.id!=o.id)?(this.toastr.error("E-mail j\xe1 foram cadastrados!!"),!1):(l.splice(m,1,o),this.empresa.account=l,this.empresaService.setObject(this.empresa,"edit_To_Empresa_List"),this.toastr.success("Opera\xe7\xe3o conclu\xedda"),!0)):(this.toastr.error("Selecione um perfil de investidor v\xe1lido!!"),!1)}return this.toastr.error("Usuario n\xe3o encontrado!!"),!1}return this.toastr.error("Nenhuma empresa selecionada."),!1}delete_To_Empresa_List(o){if(this.empresa){var l=this.empresa.account??[];let m=l.findIndex(O=>O.id==o);return-1!=m?(l.splice(m,1),this.empresa.account=l,this.empresaService.setObject(this.empresa,"delete_To_Empresa_List"),this.toastr.success("Opera\xe7\xe3o conclu\xedda"),this.table.resetSelection(),!0):(this.toastr.error("Usuario n\xe3o encontrado!!"),!1)}return this.toastr.error("Nenhuma empresa selecionada."),!1}getList(o){return this.table.loading.next(!0),this.http.get(`${this.url}/usuario/all/${o=o??(this.account.perfilAcesso_Id!=g.u.Admin?this.account.empresa_Id:this.empresa.id)}`).pipe((0,P.b)({next:l=>(l=l.map(m=>(m.ativo=!m.dataDesativado,m)),this.list.next(l),(0,c.of)(l)),complete:()=>{this.table.loading.next(!1)}}))}get(o){return this.http.get(`${this.url}/usuario/${o}`)}create(o){return this.http.post(`${this.url}/usuario/${this.account.perfilAcesso_Id!=g.u.Admin?this.account.empresa_Id:this.empresa.id}`,o)}edit(o){return this.http.put(`${this.url}/usuario`,o)}delete(o){return this.http.delete(`${this.url}/usuario/${o}`)}deactivated(o,l){return this.http.patch(`${this.url}/usuario/${o}/${l}`,{})}resetPassword(o){return this.http.patch(`${this.url}/usuario/reset-password/${o}`,{})}}return r.\u0275fac=function(o){return new(o||r)(v.LFG(L.i),v.LFG(h.eN),v.LFG(D._W),v.LFG(C.w),v.LFG(U.V),v.LFG(s.P),v.LFG(M.B))},r.\u0275prov=v.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},703:(y,A,t)=>{t.d(A,{w:()=>x});var e=t(4650),P=t(9808),c=t(8164),C=t(9535),T=t(6895),p=t(433),U=t(1094),a=t(279);function s(i,f){1&i&&(e.TgZ(0,"p",5),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function L(i,f){1&i&&(e.TgZ(0,"span"),e._uU(1,"Remova os espa\xe7os antes e depois do texto."),e.qZA())}function M(i,f){if(1&i&&(e.TgZ(0,"p",5),e.YNc(1,L,2,0,"span",8),e.qZA()),2&i){e.oxw(2);const u=e.MAs(9);e.xp6(1),e.Q6J("ngIf","^\\S(.*\\S)?$"==u.errors.pattern.requiredPattern)}}function b(i,f){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,s,2,0,"p",26),e.YNc(2,M,2,1,"p",26),e.qZA()),2&i){e.oxw();const u=e.MAs(9);e.xp6(1),e.Q6J("ngIf",u.errors.required),e.xp6(1),e.Q6J("ngIf",u.errors.pattern)}}function g(i,f){1&i&&(e.TgZ(0,"p",5),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function v(i,f){1&i&&(e.TgZ(0,"p",5),e._uU(1,"Telefone/celular inv\xe1lido"),e.qZA())}function h(i,f){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,g,2,0,"p",26),e.YNc(2,v,2,0,"p",26),e.qZA()),2&i){e.oxw();const u=e.MAs(17);e.xp6(1),e.Q6J("ngIf",u.errors.required),e.xp6(1),e.Q6J("ngIf",u.errors.mask)}}function D(i,f){if(1&i&&(e.TgZ(0,"option",15),e._uU(1),e.qZA()),2&i){const u=f.$implicit;e.Q6J("ngValue",u.id),e.xp6(1),e.Oqu(u.perfil)}}function n(i,f){1&i&&(e.TgZ(0,"p",5),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function r(i,f){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,n,2,0,"p",26),e.qZA()),2&i){e.oxw();const u=e.MAs(25);e.xp6(1),e.Q6J("ngIf",u.errors.required)}}function d(i,f){1&i&&(e.TgZ(0,"p",5),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function o(i,f){1&i&&(e.TgZ(0,"p",5),e._uU(1,"E-mail inv\xe1lido"),e.qZA())}function l(i,f){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,d,2,0,"p",26),e.YNc(2,o,2,0,"p",26),e.qZA()),2&i){e.oxw();const u=e.MAs(36);e.xp6(1),e.Q6J("ngIf",u.errors.required),e.xp6(1),e.Q6J("ngIf",u.errors.email)}}function m(i,f){if(1&i&&(e.TgZ(0,"p",30),e._uU(1),e.ALo(2,"json"),e.qZA()),2&i){const u=f.$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,u))}}function O(i,f){1&i&&(e.TgZ(0,"p",30),e._uU(1,"Preencha todos os campos obrigat\xf3rios (*) corretamente para salvar"),e.qZA())}function I(i,f){if(1&i&&(e.TgZ(0,"div",27),e.YNc(1,m,3,3,"p",28),e.YNc(2,O,2,0,"p",29),e.qZA()),2&i){const u=e.oxw(),E=e.MAs(1);e.xp6(1),e.Q6J("ngForOf",u.erro),e.xp6(1),e.Q6J("ngIf",E.invalid&&0==u.erro.length)}}function _(i,f){1&i&&e._UZ(0,"span",31)}function B(i,f){1&i&&(e.TgZ(0,"div",32),e._uU(1," Este campo \xe9 obrigat\xf3rio "),e.qZA())}let x=(()=>{class i{constructor(u){this.dropdownService=u,this.objeto=new c.bo,this.loading=!1,this.erro=[],this.isEditPage=!1,this.sendData=new e.vpe,this.perfil=[],this.loadingPerfil=!0,this.subscription=[],(0,P.n)(this.dropdownService.getPerfilAcesso()).then(R=>this.perfil=R).catch().finally(()=>this.loadingPerfil=!1);var E=this.dropdownService.perfilAcesso.subscribe(R=>this.perfil=R);this.subscription.push(E)}ngOnDestroy(){this.subscription.forEach(u=>u.unsubscribe())}send(u){this.sendData.emit(u)}}return i.\u0275fac=function(u){return new(u||i)(e.Y36(C.V))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-form-usuario"]],inputs:{objeto:"objeto",loading:"loading",erro:"erro",isEditPage:"isEditPage"},outputs:{sendData:"sendData"},decls:45,vars:22,consts:[[3,"ngSubmit"],["form","ngForm"],[1,"form-row"],[1,"form-group","col-xl-4","col-lg-4","col-md-6","col-sm-6","col-12"],["for","name"],[1,"text-danger"],["type","text","name","name","id","name","required","","popoverClass","popover-danger","triggers","mouseenter:mouseleave","pattern","\\S(.*\\S)?",1,"form-control",3,"ngModel","ngbPopover","ngModelChange"],["name","ngModel"],[4,"ngIf"],["for","telefoneCelular"],["type","text","name","telefoneCelular","id","telefoneCelular","required","","popoverClass","popover-danger","triggers","mouseenter:mouseleave","mask","(00) 0000-0000||(00) 0.0000-0000","pattern","^\\(?[1-9]{2}\\)? ?(?:[0-9]|9[0-9])[0-9]{3}\\-?[0-9]{4}$","placeholder","(11) x.0000-0000",1,"form-control",3,"ngModel","ngbPopover","ngModelChange"],["telefoneCelular","ngModel"],["for","perfilAcesso_Id"],["name","perfilAcesso_Id","id","perfilAcesso_Id","required","","popoverClass","popover-danger","triggers","mouseenter:mouseleave",1,"form-control",3,"ngModel","ngbPopover","ngModelChange"],["perfilAcesso_Id","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"form-group","col-xl-12","col-lg-12","col-md-6","col-sm-6","col-12","email-container"],["for","email"],["type","email","name","email","id","email","placeholder","example@hotmail.com","required","","popoverClass","popover-danger","triggers","mouseenter:mouseleave",1,"form-control",3,"email","ngModel","ngbPopover","disablePopover","readonly","ngModelChange"],["email","ngModel"],[1,"d-flex","p-0","mt-1"],["class","m-0",4,"ngIf"],[1,"btn","btn-primary","mr-0","ml-auto",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["campoObrigatorio",""],["class","text-danger",4,"ngIf"],[1,"m-0"],["class","text-red",4,"ngFor","ngForOf"],["class","text-red",4,"ngIf"],[1,"text-red"],[1,"spinner-border","spinner-border-sm","mr-1"],[1,"py-3","px-4"]],template:function(u,E){if(1&u){const R=e.EpF();e.TgZ(0,"form",0,1),e.NdJ("ngSubmit",function(){e.CHM(R);const Z=e.MAs(1);return e.KtG(E.send(Z))}),e.TgZ(2,"div",2)(3,"div",3)(4,"label",4),e._uU(5,"Nome: "),e.TgZ(6,"span",5),e._uU(7,"*"),e.qZA()(),e.TgZ(8,"input",6,7),e.NdJ("ngModelChange",function(Z){return E.objeto.name=Z}),e.qZA(),e.YNc(10,b,3,2,"div",8),e.qZA(),e.TgZ(11,"div",3)(12,"label",9),e._uU(13,"Telefone/Celular: "),e.TgZ(14,"span",5),e._uU(15,"*"),e.qZA()(),e.TgZ(16,"input",10,11),e.NdJ("ngModelChange",function(Z){return E.objeto.telefoneCelular=Z}),e.qZA(),e.YNc(18,h,3,2,"div",8),e.qZA(),e.TgZ(19,"div",3)(20,"label",12),e._uU(21,"Perfil: "),e.TgZ(22,"span",5),e._uU(23,"*"),e.qZA()(),e.TgZ(24,"select",13,14),e.NdJ("ngModelChange",function(Z){return E.objeto.perfilAcesso_Id=Z}),e.TgZ(26,"option",15),e._uU(27,"Selecione"),e.qZA(),e.YNc(28,D,2,2,"option",16),e.qZA(),e.YNc(29,r,2,1,"div",8),e.qZA(),e.TgZ(30,"div",17)(31,"label",18),e._uU(32,"E-mail: "),e.TgZ(33,"span",5),e._uU(34,"*"),e.qZA()(),e.TgZ(35,"input",19,20),e.NdJ("ngModelChange",function(Z){return E.objeto.email=Z}),e.qZA(),e.YNc(37,l,3,2,"div",8),e.qZA()(),e.TgZ(38,"div",21),e.YNc(39,I,3,2,"div",22),e.TgZ(40,"button",23),e.YNc(41,_,1,0,"span",24),e._uU(42," Salvar "),e.qZA()()(),e.YNc(43,B,2,0,"ng-template",null,25,e.W1O)}if(2&u){const R=e.MAs(1),j=e.MAs(9),Z=e.MAs(17),K=e.MAs(25),S=e.MAs(36),W=e.MAs(44);e.xp6(8),e.Q6J("ngModel",E.objeto.name)("ngbPopover",W),e.xp6(2),e.Q6J("ngIf",j.touched&&j.errors),e.xp6(6),e.Q6J("ngModel",E.objeto.telefoneCelular)("ngbPopover",W),e.xp6(2),e.Q6J("ngIf",Z.touched&&Z.errors),e.xp6(6),e.ekj("form-control-loading",E.loadingPerfil),e.Q6J("ngModel",E.objeto.perfilAcesso_Id)("ngbPopover",W),e.xp6(2),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",E.perfil),e.xp6(1),e.Q6J("ngIf",K.touched&&K.errors),e.xp6(6),e.Q6J("email",!0)("ngModel",E.objeto.email)("ngbPopover",W)("disablePopover",E.isEditPage)("readonly",E.isEditPage),e.xp6(2),e.Q6J("ngIf",S.touched&&S.errors),e.xp6(2),e.Q6J("ngIf",E.erro||R.invalid),e.xp6(1),e.Q6J("disabled",R.invalid||E.loading),e.xp6(1),e.Q6J("ngIf",E.loading)}},dependencies:[T.sg,T.O5,p._Y,p.YN,p.Kr,p.Fj,p.EJ,p.JJ,p.JL,p.Q7,p.c5,p.on,p.On,p.F,U.hx,a.o8,T.Ts]}),i})()}}]);