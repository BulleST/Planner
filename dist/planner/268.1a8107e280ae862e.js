"use strict";(self.webpackChunkplanner=self.webpackChunkplanner||[]).push([[268],{2268:(Tt,P,s)=>{s.r(P),s.d(P,{EmpresasModule:()=>_t});var b=s(6895),d=s(8627),p=s(801),g=s(9398),v=s(8913),L=s(3983),e=s(4650),A=s(7549),_=s(3868),m=s(433),U=s(2788),T=s(46),j=s(7185),M=s(805),_e=s(9764);function Ce(t,n){1&t&&e._UZ(0,"i",12)}function Te(t,n){1&t&&e._UZ(0,"i",13)}function Ze(t,n){if(1&t){const i=e.EpF();e.TgZ(0,"div",8)(1,"button",9),e.NdJ("click",function(o){e.CHM(i),e.oxw(2);const r=e.MAs(3);return e.KtG(r.toggle(o))}),e.YNc(2,Ce,1,0,"i",10),e.YNc(3,Te,1,0,"i",11),e.qZA()()}if(2&t){e.oxw(2);const i=e.MAs(3);e.xp6(2),e.Q6J("ngIf",i.collapsed),e.xp6(1),e.Q6J("ngIf",!i.collapsed)}}function xe(t,n){1&t&&e.YNc(0,Ze,4,2,"ng-template",6,7,e.W1O)}const je=function(t){return[t]};function ye(t,n){if(1&t&&(e.TgZ(0,"a",16)(1,"span",17),e._UZ(2,"i"),e.qZA(),e.TgZ(3,"span",18),e._uU(4),e.qZA()()),2&t){const i=n.$implicit;e.Q6J("routerLink",e.VKq(5,je,i.routerLink)),e.xp6(2),e.Tol(i.iconClass),e.xp6(2),e.Oqu(i.label)}}function Ae(t,n){if(1&t&&(e.TgZ(0,"div",14),e.YNc(1,ye,5,7,"a",15),e.qZA()),2&t){const i=e.oxw();e.xp6(1),e.Q6J("ngForOf",i.items)}}const F=function(t,n){return[t,n]};let D=(()=>{class t{constructor(i,a,o,r){this.table=i,this.toastr=a,this.isMobile=o,this.empresaService=r,this.items=[],this.objeto=new g.oW,this.erro=[],this.screen=U.I.lg,this.ScreenWidth=U.I,this.isMobile.get().subscribe(c=>{this.screen=c}),this.items=[{label:"Dados Cadastrais",routerLink:"dados-cadastrais",iconClass:"pi pi-id-card",command:c=>{this.table.selected.next(void 0)}},{label:"Usu\xe1rios",routerLink:"usuarios",iconClass:"pi pi-users",command:c=>{this.table.selected.next(void 0),this.validateDadosCadastrais()}},{label:"Clientes",routerLink:"clientes",iconClass:"pi pi-user",command:c=>{this.table.selected.next(void 0),this.validateDadosCadastrais()}},{label:"Produtos",routerLink:"produtos",iconClass:"fa-solid fa-p",command:c=>{this.table.selected.next(void 0),this.validateDadosCadastrais()}},{label:"Carteira Setup",iconClass:"pi pi-wallet",routerLink:"setup",command:c=>{this.table.selected.next(void 0),this.validateDadosCadastrais()}}],this.empresaService.empresa.subscribe(c=>this.objeto=c)}ngOnInit(){}validateDadosCadastrais(){let i=!0;return this.erro=[],i=!(0==parseInt(this.objeto.cnpj.toString())||!this.objeto.nome.trim()||!this.objeto.email.trim()),i||(this.toastr.error("Dados cadastrais inv\xe1lidos."),this.erro.push("Dados cadastrais inv\xe1lidos")),i}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(T.i),e.Y36(j._W),e.Y36(U.h),e.Y36(v.P))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-menu-items"]],decls:9,vars:27,consts:[[1,"d-flex","flex-wrap","step-container"],["headerTemplate","header","contentTemplate","content","expandIcon","none","collapseIcon","none",3,"toggleable","collapsed","showHeader","toggler"],["menu",""],[4,"ngIf"],["pTemplate","content"],["content",""],["pTemplate","header"],["header",""],[1,"aside-navigation-header"],["label","Show",1,"btn","btn-primary",3,"click"],["class","pi pi-bars",4,"ngIf"],["class","pi pi-times",4,"ngIf"],[1,"pi","pi-bars"],[1,"pi","pi-times"],[1,"aside-navigation-content"],["class","aside-navigation__link","routerLinkActive","active",3,"routerLink",4,"ngFor","ngForOf"],["routerLinkActive","active",1,"aside-navigation__link",3,"routerLink"],[1,"aside-navigation__link-icon"],[1,"aside-navigation__link-label"]],template:function(i,a){if(1&i&&(e.TgZ(0,"div",0)(1,"div")(2,"p-panel",1,2),e.YNc(4,xe,2,0,null,3),e.YNc(5,Ae,2,1,"ng-template",4,5,e.W1O),e.qZA()(),e.TgZ(7,"div"),e._UZ(8,"router-outlet"),e.qZA()()),2&i){const o=e.MAs(3);e.xp6(1),e.Gre("aside-navigation aside-navigation-",a.screen," "),e.ekj("open",!o.collapsed),e.xp6(1),e.Q6J("toggleable",!e.WLB(15,F,a.ScreenWidth.lg,a.ScreenWidth.xl).includes(a.screen))("collapsed",!1)("showHeader",!e.WLB(18,F,a.ScreenWidth.lg,a.ScreenWidth.xl).includes(a.screen))("toggler","header"),e.xp6(2),e.Q6J("ngIf",!e.WLB(21,F,a.ScreenWidth.lg,a.ScreenWidth.xl).includes(a.screen)),e.xp6(3),e.Gre("step-content step-content-",a.screen,""),e.ekj("step-content-margin",!e.WLB(24,F,a.ScreenWidth.lg,a.ScreenWidth.xl).includes(a.screen))}},dependencies:[b.sg,b.O5,d.lC,d.yS,d.Od,M.jx,_e.s],styles:[".step-container[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]{flex:1 0 75%;width:75%}.step-content.step-content-margin[_ngcontent-%COMP%]{margin-top:34px}.step-content.step-content-sm[_ngcontent-%COMP%]{flex:1 0 100%;width:100%;margin-top:10px}.aside-navigation[_ngcontent-%COMP%]{flex:0 1 25%;min-width:170px;max-width:220px;width:25%;padding-right:5px}.aside-navigation-content[_ngcontent-%COMP%]{background-color:var(--primary);background-color:#f5f5f5;border:1px #dfdfdf solid;transform:translate(1px)}.aside-navigation__link[_ngcontent-%COMP%]{color:var(--primary);color:#403f3f;display:flex;align-items:center;padding:7px 8px;text-decoration:none;font-size:15px;transition:.3s color 0s;text-transform:lowercase;letter-spacing:-.3px;border:1px transparent solid}.aside-navigation__link[_ngcontent-%COMP%]:hover{text-decoration:none}.aside-navigation__link[_ngcontent-%COMP%]:not(.active):hover{background:#e3e3e3}.aside-navigation__link-icon[_ngcontent-%COMP%]{width:30px;height:30px;display:flex;align-items:center;justify-content:center;margin-right:7px;border-radius:3px;color:#fff;font-size:13px;background-color:#fff;background-color:#104456}.aside-navigation__link.active[_ngcontent-%COMP%]{background-color:var(--primary);color:#ffffffe8;transform:scaleX(1.01)}.aside-navigation__link.active[_ngcontent-%COMP%]   .aside-navigation__link-icon[_ngcontent-%COMP%]{background-color:#125268}  .aside-navigation-sm .p-toggleable-content{position:absolute;width:100%;transition:.5s;z-index:2;min-width:80%;max-width:330px}"]}),t})(),Se=(()=>{class t{constructor(i,a,o){this.empresaService=i,this.modal=o,this.faChevronLeft=p.A35,this.faArrowRight=p.eFW,this.faEllipsisV=p.iV1,this.faTimes=p.NBC,this.faCity=p.SBo,this.objeto=new g.oW,this.erro=[],this.index=1,this.cnpjValid=!1,null==this.empresaService.object&&this.empresaService.setObject(new g.oW,"CreateComponent"),this.empresaService.empresa.subscribe(r=>{this.objeto=r,this.objeto.produto=this.objeto.produto??[],this.objeto.percentualRisco=this.objeto.percentualRisco??[],this.objeto.cliente=this.objeto.cliente??[],this.objeto.account=this.objeto.account??[],this.objeto.carteiraSetup=this.objeto.carteiraSetup??[]})}ngOnInit(){}ngOnDestroy(){this.empresaService.setObject(new g.oW,"ngOnDestroy"),this.modal.setOpen(!1)}voltar(){this.modal.voltar()}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(v.P),e.Y36(L.s),e.Y36(A.Q))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-create"]],decls:14,vars:1,consts:[[1,"page"],[1,"page__header"],[1,"title-icon"],[3,"icon"],[1,"mr-auto"],[1,"page__header-title"],[1,"page__header-subtitle"],[1,"page__body","px-3"],["form","ngForm"]],template:function(i,a){1&i&&(e.TgZ(0,"section",0)(1,"div",1)(2,"span",2),e._UZ(3,"fa-icon",3),e.qZA(),e.TgZ(4,"div",4)(5,"h3",5),e._uU(6,"Empresa"),e.qZA(),e.TgZ(7,"p",6)(8,"small"),e._uU(9,"Cadastrar empresa"),e.qZA()()()(),e.TgZ(10,"div",7)(11,"form",null,8),e._UZ(13,"app-menu-items"),e.qZA()()()),2&i&&(e.xp6(3),e.Q6J("icon",a.faCity))},dependencies:[_.BN,m._Y,m.JL,m.F,D],styles:[".aside-navigation[_ngcontent-%COMP%]{display:flex;flex-flow:column;flex-wrap:wrap;flex:0 1 20%;min-width:170px;width:20%;background-color:var(--primary);background-color:#f5f5f5;border:1px #dfdfdf solid;transform:translate(1px)}"]}),t})();var S=s(9243);function ke(t,n){if(1&t&&(e.TgZ(0,"li",18),e._uU(1),e.qZA()),2&t){const i=n.$implicit;e.xp6(1),e.Oqu(i)}}function Fe(t,n){if(1&t&&(e.TgZ(0,"ul",16),e.YNc(1,ke,2,1,"li",17),e.qZA()),2&t){const i=e.oxw();e.xp6(1),e.Q6J("ngForOf",i.erro)}}function Le(t,n){1&t&&e._UZ(0,"span",19)}function Ue(t,n){1&t&&(e.TgZ(0,"div",20),e._uU(1," Acione a seta para cima ou para baixo no teclado para mudar o valor "),e.qZA())}function Ie(t,n){1&t&&(e.TgZ(0,"div",20),e._uU(1," Este campo \xe9 obrigat\xf3rio "),e.qZA())}let Ne=(()=>{class t{constructor(i,a,o,r,c,u){this.router=i,this.activatedRoute=a,this.toastr=o,this.modal=r,this.empresaService=c,this.crypto=u,this.faTimes=p.NBC,this.modalOpen=!1,this.objeto=new g.oW,this.erro=[],this.loading=!1,this.modal.getOpen().subscribe(l=>{this.modalOpen=l}),this.activatedRoute.params.subscribe(l=>{l.id&&(this.objeto.id=this.crypto.decrypt(l.id))})}ngOnInit(){setTimeout(()=>{this.modal.setOpen(!0)},200)}voltar(){this.modal.setOpen(!1),setTimeout(()=>{this.router.navigate(["empresas"])},200)}send(){this.loading=!0,this.erro=[],this.empresaService.delete(this.objeto.id),this.voltar(),this.toastr.success("Opera\xe7\xe3o conclu\xedda"),this.loading=!1}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(d.F0),e.Y36(d.gz),e.Y36(j._W),e.Y36(A.Q),e.Y36(v.P),e.Y36(S.w))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-delete"]],decls:26,vars:5,consts:[[1,"modal"],[1,"modal__bg",3,"click"],[1,"modal__inner",2,"max-width","600px"],[1,"modal__content"],[1,"modal__header","pb-2"],[1,"text-orange"],[1,"mt-2"],[1,"modal__header-close","btn-close",3,"click"],[1,"modal__body","mt-0"],["class","m-0 col-lg-12 mt-1",4,"ngIf"],[1,"d-flex","justify-content-center","flex-wrap","p-0","mt-1"],[1,"btn","btn-grey","mr-1",3,"click"],[1,"btn","btn-primary","mr-0",3,"disabled","click"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["setaUpDown",""],["campoObrigatorio",""],[1,"m-0","col-lg-12","mt-1"],["class","text-red",4,"ngFor","ngForOf"],[1,"text-red"],[1,"spinner-border","spinner-border-sm","mr-1"],[1,"py-3","px-4"]],template:function(i,a){1&i&&(e.TgZ(0,"div",0)(1,"div",1),e.NdJ("click",function(){return a.voltar()}),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),e._uU(6,"Excluir registro"),e.qZA(),e.TgZ(7,"p",6),e._uU(8,"Tem certeza que deseja excluir esse registro? Ele n\xe3o poder\xe1 ser recuperado."),e.qZA(),e.TgZ(9,"p"),e._uU(10,"Todos os registros relacionados a esse cliente tamb\xe9m ser\xe3o removidos."),e.qZA(),e.TgZ(11,"a",7),e.NdJ("click",function(){return a.voltar()}),e._UZ(12,"span")(13,"span"),e.qZA()(),e.TgZ(14,"div",8),e.YNc(15,Fe,2,1,"ul",9),e.TgZ(16,"div",10)(17,"button",11),e.NdJ("click",function(){return a.voltar()}),e._uU(18," Voltar"),e.qZA(),e.TgZ(19,"button",12),e.NdJ("click",function(){return a.send()}),e.YNc(20,Le,1,0,"span",13),e._uU(21," Excluir "),e.qZA()()()()()(),e.YNc(22,Ue,2,0,"ng-template",null,14,e.W1O),e.YNc(24,Ie,2,0,"ng-template",null,15,e.W1O)),2&i&&(e.ekj("active",a.modalOpen),e.xp6(15),e.Q6J("ngIf",a.erro),e.xp6(4),e.Q6J("disabled",a.loading),e.xp6(1),e.Q6J("ngIf",a.loading))},dependencies:[b.sg,b.O5]}),t})();var y=s(5861),C=s(9808),J=s(9876),Y=s(932),E=s(9885),Q=s(9205),w=s(3071);function Oe(t,n){if(1&t&&(e.TgZ(0,"option",17),e._uU(1),e.qZA()),2&t){const i=n.$implicit;e.Q6J("ngValue",i.id),e.xp6(1),e.Oqu(i.nome)}}function Pe(t,n){if(1&t){const i=e.EpF();e.TgZ(0,"div",10),e._UZ(1,"div",11),e.TgZ(2,"div",12)(3,"label",13),e._uU(4,"Selecione a Empresa"),e.qZA(),e.TgZ(5,"select",14,15),e.NdJ("ngModelChange",function(o){e.CHM(i);const r=e.oxw();return e.KtG(r.objeto.id=o)})("change",function(o){e.CHM(i);const r=e.oxw();return e.KtG(r.empresaChange(o))}),e.YNc(7,Oe,2,2,"option",16),e.qZA()()()}if(2&t){const i=e.oxw();e.xp6(5),e.Q6J("ngModel",i.objeto.id),e.xp6(2),e.Q6J("ngForOf",i.empresas)}}let Me=(()=>{class t{constructor(i,a,o,r,c,u,l,h,N,f,Ct){var Z=this;this.router=i,this.activatedRoute=a,this.empresaService=o,this.produtoService=r,this.setupService=c,this.userService=u,this.clienteService=l,this.crypto=h,this.modal=N,this.accountService=f,this.table=Ct,this.faChevronLeft=p.A35,this.faArrowRight=p.eFW,this.faEllipsisV=p.iV1,this.faTimes=p.NBC,this.faCity=p.SBo,this.faUsers=p.FVb,this.faFilter=p.G_j,this.objeto=new g.oW,this.erro=[],this.loading=!1,this.index=1,this.empresaSelectedId=0,this.empresas=[],this.table.loading.subscribe(x=>this.loading=x),(0,C.n)(this.empresaService.getList()).then(x=>this.empresas=x),this.accountService.account.subscribe(x=>this.account=x),this.empresaSelectedId=this.crypto.decrypt(a.snapshot.paramMap.get("empresa_id")),a.params.subscribe(function(){var x=(0,y.Z)(function*(O){O.empresa_id?(Z.objeto.id=Z.crypto.decrypt(O.empresa_id),Z.objeto=yield(0,C.n)(Z.empresaService.get(Z.objeto.id)),Z.getEmpresaData()):Z.voltar()});return function(O){return x.apply(this,arguments)}}())}ngOnInit(){}ngOnDestroy(){this.empresaService.setObject(new g.oW,"ngOnDestroy"),this.modal.setOpen(!1)}voltar(){this.modal.voltar()}empresaChange(i){var a=this.activatedRoute.children.at(this.activatedRoute.children.length-1)?.routeConfig?.path??"";this.router.navigate(["empresas","editar",this.crypto.encrypt(this.objeto.id),a],{skipLocationChange:!0})}getEmpresaData(){var i=this;return(0,y.Z)(function*(){(0,C.n)(i.userService.getList(i.objeto.id)).then(a=>{i.objeto.account=a,i.empresaService.setObject(i.objeto,"getEmpresaData userService")}),(0,C.n)(i.clienteService.getList(i.objeto.id)).then(a=>{i.objeto.cliente=a,i.empresaService.setObject(i.objeto,"getEmpresaData clienteService")}),(0,C.n)(i.produtoService.getList(i.objeto.id)).then(a=>{i.objeto.produto=a,i.empresaService.setObject(i.objeto,"getEmpresaData produtoService")}),(0,C.n)(i.setupService.getList(i.objeto.id)).then(a=>{i.objeto.carteiraSetup=a,i.empresaService.setObject(i.objeto,"getEmpresaData setupService")})})()}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(d.F0),e.Y36(d.gz),e.Y36(v.P),e.Y36(E.m),e.Y36(Q.A),e.Y36(w.i),e.Y36(Y.$),e.Y36(S.w),e.Y36(A.Q),e.Y36(J.B),e.Y36(T.i))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-edit"]],decls:15,vars:3,consts:[[1,"page"],[1,"page__header","py-1"],[1,"title-icon"],[3,"icon"],[1,"mr-auto"],[1,"page__header-title"],[1,"page__header-subtitle"],["class","ml-auto mb-0 col-xl-3 col-lg-4 col-md-5 col-sm-5 col-12 px-0",4,"ngIf"],[1,"page__body","px-3"],["form","ngForm"],[1,"ml-auto","mb-0","col-xl-3","col-lg-4","col-md-5","col-sm-5","col-12","px-0"],[1,"py-2","d-block","d-md-none","col-12"],[1,"form-group"],["for","empresa_Id"],["name","empresa_Id","id","empresa_Id",1,"form-control",3,"ngModel","ngModelChange","change"],["empresa_Id","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(i,a){1&i&&(e.TgZ(0,"section",0)(1,"div",1)(2,"span",2),e._UZ(3,"fa-icon",3),e.qZA(),e.TgZ(4,"div",4)(5,"h3",5),e._uU(6),e.qZA(),e.TgZ(7,"p",6)(8,"small"),e._uU(9,"Editar registros"),e.qZA()()(),e.YNc(10,Pe,8,2,"div",7),e.qZA(),e.TgZ(11,"div",8)(12,"form",null,9),e._UZ(14,"app-menu-items"),e.qZA()()()),2&i&&(e.xp6(3),e.Q6J("icon",a.faCity),e.xp6(3),e.Oqu(a.objeto.nome),e.xp6(4),e.Q6J("ngIf",a.account&&1==a.account.perfilAcesso_Id))},dependencies:[b.sg,b.O5,_.BN,m._Y,m.YN,m.Kr,m.EJ,m.JJ,m.JL,m.On,m.F,D],styles:[".aside-navigation[_ngcontent-%COMP%]{display:flex;flex-flow:column;flex-wrap:wrap;flex:0 1 20%;min-width:170px;width:20%;background-color:var(--primary);background-color:#f5f5f5;border:1px #dfdfdf solid;transform:translate(1px)}"]}),t})();var k=s(453);const De=function(){return["cadastrar"]};let Je=(()=>{class t{constructor(i,a,o){this.table=i,this.empresaService=a,this.crypto=o,this.faCity=p.SBo,this.list=[],this.tableLinks=[],this.columns=g.jH,this.create=(r=this.empresaService)=>{r.setObject(new g.oW,"create")},this.table.selected.subscribe(r=>{r&&(this.tableLinks=[{label:"Editar",routePath:["editar"],paramsFieldName:["id"]},{label:r.ativo?"Desabilitar":"Habilitar",routePath:[r.ativo?"desabilitar":"habilitar"],paramsFieldName:["id"]}],this.tableLinks=this.table.encryptParams(this.tableLinks))}),this.empresaService.list.subscribe(r=>this.list=r),this.empresaService.getList().subscribe()}ngOnInit(){}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(T.i),e.Y36(v.P),e.Y36(S.w))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-list"]],decls:13,vars:15,consts:[[1,"page"],[1,"page__header"],[1,"title-icon"],[3,"icon"],[1,"mr-auto"],[1,"page__header-title"],[1,"page__header-subtitle"],[1,"page__body"],[3,"createLink","onCreate","canCreate","list","paginator","filterLink","filterTable","sortTable","menuTable","columns","selectable","tableLinks"]],template:function(i,a){1&i&&(e.TgZ(0,"section",0)(1,"div",1)(2,"span",2),e._UZ(3,"fa-icon",3),e.qZA(),e.TgZ(4,"div",4)(5,"h3",5),e._uU(6,"Empresas"),e.qZA(),e.TgZ(7,"p",6)(8,"small"),e._uU(9,"Todas as empresas"),e.qZA()()()(),e.TgZ(10,"div",7),e._UZ(11,"app-list-shared",8),e.qZA()(),e._UZ(12,"router-outlet")),2&i&&(e.xp6(3),e.Q6J("icon",a.faCity),e.xp6(8),e.Q6J("createLink",e.DdM(14,De))("onCreate",a.create)("canCreate",!0)("list",a.list)("paginator",!0)("filterLink",!1)("filterTable",!0)("sortTable",!0)("menuTable",!0)("columns",a.columns)("selectable",!0)("tableLinks",a.tableLinks)("selectable",!0))},dependencies:[d.lC,_.BN,k.o]}),t})();var R=s(279),q=s(1094);function Ye(t,n){1&t&&(e.TgZ(0,"p",12),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function Ee(t,n){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,Ye,2,0,"p",19),e.qZA()),2&t){e.oxw();const i=e.MAs(20);e.xp6(1),e.Q6J("ngIf",i.errors.required)}}function Qe(t,n){1&t&&(e.TgZ(0,"p",12),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function we(t,n){1&t&&(e.TgZ(0,"p",12),e._uU(1,"CNPJ inv\xe1lido."),e.qZA())}function Re(t,n){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,Qe,2,0,"p",19),e.YNc(2,we,2,0,"p",19),e.qZA()),2&t){e.oxw();const i=e.MAs(28);e.xp6(1),e.Q6J("ngIf",i.errors.required),e.xp6(1),e.Q6J("ngIf",i.errors.mask)}}function qe(t,n){1&t&&(e.TgZ(0,"p",12),e._uU(1,"CNPJ inv\xe1lido."),e.qZA())}function We(t,n){1&t&&(e.TgZ(0,"p",12),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function Be(t,n){1&t&&(e.TgZ(0,"p",12),e._uU(1,"E-mail inv\xe1lido."),e.qZA())}function Ve(t,n){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,We,2,0,"p",19),e.YNc(2,Be,2,0,"p",19),e.qZA()),2&t){e.oxw();const i=e.MAs(37);e.xp6(1),e.Q6J("ngIf",i.errors.required),e.xp6(1),e.Q6J("ngIf",i.errors.email)}}function Ge(t,n){1&t&&(e.TgZ(0,"p",12),e._uU(1,"Preencha todos os campos obrigat\xf3rios (*) corretamente para continuar"),e.qZA())}function He(t,n){if(1&t&&(e.TgZ(0,"button",29)(1,"span",27),e._uU(2,"Salvar dados cadastrais"),e.qZA(),e._UZ(3,"fa-icon",3),e.qZA()),2&t){const i=e.oxw(),a=e.MAs(12);e.Q6J("disabled",a.invalid||!i.cnpjValid)("title",a.invalid?"Preencha os campos corretamente para continuar":"Pr\xf3ximo passo"),e.xp6(3),e.Q6J("icon",i.faCheck)}}function ze(t,n){1&t&&(e.TgZ(0,"div",30),e._uU(1," Este campo \xe9 obrigat\xf3rio "),e.qZA())}let W=(()=>{class t{constructor(i,a,o,r,c,u){this.toastr=i,this.empresaService=a,this.router=o,this.activatedRoute=r,this.table=c,this.menuItems=u,this.faIdCard=p.Ukp,this.objeto=new g.oW,this.faArrowLeft=p.acZ,this.faArrowRight=p.eFW,this.faCheck=p.LEp,this.cnpjValid=!1,this.isEditPage=!1,this.url="",this.url=this.activatedRoute.snapshot.pathFromRoot.map(l=>l.routeConfig?.path).join("/"),this.isEditPage=!!this.url.includes("empresas/editar"),this.empresaService.empresa.subscribe(l=>{this.objeto=Object.assign(JSON.parse(JSON.stringify(l))),this.objeto.cnpj=this.objeto.cnpj.toString().trim()?this.objeto.cnpj.toString().padStart(14,"0"):"",this.validateCnpj()})}ngOnInit(){}ngAfterViewInit(){}setDadosCadastrais(){this.empresaService.setObject(this.objeto,"setDadosCadastrais")}validateCnpj(){return this.cnpjValid=14==this.objeto.cnpj.toString().length&&0!=parseInt(this.objeto.cnpj.toString())}next(i){i.invalid?this.toastr.error("Dados inv\xe1lidos"):(this.objeto.cnpj=parseInt(this.objeto.cnpj.toString()),this.setDadosCadastrais(),this.router.navigate(["..","usuarios"],{relativeTo:this.activatedRoute}))}send(i){var o,a=this;i.invalid?this.toastr.error("Dados inv\xe1lidos"):(this.objeto.cnpj=parseInt(this.objeto.cnpj.toString()),this.url.includes("empresas/editar")&&this.empresaService.edit(this.objeto).subscribe({next:(o=(0,y.Z)(function*(r){a.table.loading.next(!1)}),function(c){return o.apply(this,arguments)}),error:o=>{this.table.loading.next(!1),this.menuItems.erro.push(o.error.message)}}))}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(j._W),e.Y36(v.P),e.Y36(d.F0),e.Y36(d.gz),e.Y36(T.i),e.Y36(L.s))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-dados-cadastrais-create"]],decls:49,vars:25,consts:[[1,"card"],[1,"card-header","d-flex","align-items-center","py-2"],[1,"title-icon"],[3,"icon"],[1,"card-header-title"],[1,"card-header-subtitle"],[1,"card-body"],[1,"d-flex","flex-column","h-100",3,"ngSubmit"],["form","ngForm"],[1,"form-row"],[1,"form-group","col-lg-4","col-md-4","col-sm-12","col-12"],["for","nome"],[1,"text-danger"],["type","text","id","nome","name","nome","required","","popoverClass","popover-danger","triggers","mouseenter:mouseleave",1,"form-control",3,"ngModel","ngbPopover","ngModelChange","change"],["nome","ngModel"],[4,"ngIf"],["for","cnpj"],["type","text","id","cnpj","name","cnpj","placeholder","00.000.000/0000-00","required","","popoverClass","popover-danger","triggers","mouseenter:mouseleave",1,"form-control",3,"ngModel","mask","min","minlength","maxlength","ngbPopover","ngModelChange","change"],["cnpj","ngModel"],["class","text-danger",4,"ngIf"],["for","email"],["type","email","id","email","name","email","placeholder","example@hotmail.com","required","","popoverClass","popover-danger","triggers","mouseenter:mouseleave",1,"form-control",3,"email","ngModel","ngbPopover","ngModelChange","change"],["email","ngModel"],[1,"form-row","mt-auto"],[1,"col-lg-12","d-flex","align-items-center"],["type","submit","class","btn ml-auto btn-step btn-step-next mt-2",3,"disabled","title",4,"ngIf"],["type","button",1,"btn","ml-2","btn-step","btn-step-next","mt-2",3,"disabled","title","click"],[1,"btn-step-text"],["campoObrigatorio",""],["type","submit",1,"btn","ml-auto","btn-step","btn-step-next","mt-2",3,"disabled","title"],[1,"py-3","px-4"]],template:function(i,a){if(1&i){const o=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._UZ(3,"fa-icon",3),e.qZA(),e.TgZ(4,"div")(5,"h3",4),e._uU(6,"Dados cadastrais"),e.qZA(),e.TgZ(7,"p",5)(8,"small"),e._uU(9,"Insira os dados cadastrais da empresa"),e.qZA()()()(),e.TgZ(10,"div",6)(11,"form",7,8),e.NdJ("ngSubmit",function(){e.CHM(o);const c=e.MAs(12);return e.KtG(a.send(c))}),e.TgZ(13,"div",9)(14,"div",10)(15,"label",11),e._uU(16,"Nome: "),e.TgZ(17,"span",12),e._uU(18,"*"),e.qZA()(),e.TgZ(19,"input",13,14),e.NdJ("ngModelChange",function(c){return a.objeto.nome=c})("change",function(){return a.setDadosCadastrais()}),e.qZA(),e.YNc(21,Ee,2,1,"div",15),e.qZA(),e.TgZ(22,"div",10)(23,"label",16),e._uU(24,"CNPJ: "),e.TgZ(25,"span",12),e._uU(26,"*"),e.qZA()(),e.TgZ(27,"input",17,18),e.NdJ("ngModelChange",function(c){return a.objeto.cnpj=c})("change",function(){return a.validateCnpj(),a.setDadosCadastrais()}),e.qZA(),e.YNc(29,Re,3,2,"div",15),e.YNc(30,qe,2,0,"p",19),e.qZA(),e.TgZ(31,"div",10)(32,"label",20),e._uU(33,"E-mail: "),e.TgZ(34,"span",12),e._uU(35,"*"),e.qZA()(),e.TgZ(36,"input",21,22),e.NdJ("ngModelChange",function(c){return a.objeto.email=c})("change",function(){return a.setDadosCadastrais()}),e.qZA(),e.YNc(38,Ve,3,2,"div",15),e.qZA()(),e.TgZ(39,"div",23)(40,"div",24),e.YNc(41,Ge,2,0,"p",19),e.YNc(42,He,4,3,"button",25),e.TgZ(43,"button",26),e.NdJ("click",function(){e.CHM(o);const c=e.MAs(12);return e.KtG(a.next(c))}),e.TgZ(44,"span",27),e._uU(45,"Pr\xf3ximo"),e.qZA(),e._UZ(46,"fa-icon",3),e.qZA()()()()()(),e.YNc(47,ze,2,0,"ng-template",null,28,e.W1O)}if(2&i){const o=e.MAs(12),r=e.MAs(20),c=e.MAs(28),u=e.MAs(37),l=e.MAs(48);e.xp6(3),e.Q6J("icon",a.faIdCard),e.xp6(16),e.Q6J("ngModel",a.objeto.nome)("ngbPopover",l),e.xp6(2),e.Q6J("ngIf",r.touched&&r.errors),e.xp6(6),e.ekj("ng-invalid",!a.cnpjValid)("ng-valid",a.cnpjValid),e.Q6J("ngModel",a.objeto.cnpj)("mask","00.000.000/0000-00")("min",1)("minlength",14)("maxlength",18)("ngbPopover",l),e.xp6(2),e.Q6J("ngIf",c.touched&&c.errors),e.xp6(1),e.Q6J("ngIf",c.touched&&!a.cnpjValid),e.xp6(6),e.Q6J("email",!0)("ngModel",a.objeto.email)("ngbPopover",l),e.xp6(2),e.Q6J("ngIf",u.touched&&u.errors),e.xp6(3),e.Q6J("ngIf",o.invalid),e.xp6(1),e.Q6J("ngIf",a.isEditPage),e.xp6(1),e.Q6J("disabled",o.invalid||!a.cnpjValid)("title",o.invalid?"Preencha os campos corretamente para continuar":"Pr\xf3ximo passo"),e.xp6(3),e.Q6J("icon",a.faArrowRight)}},dependencies:[b.O5,_.BN,m._Y,m.Fj,m.JJ,m.JL,m.Q7,m.wO,m.nD,m.on,m.On,m.F,R.o8,q.hx]}),t})();var B=s(4429);const Xe=function(){return["cadastrar"]};let V=(()=>{class t{constructor(i,a,o,r,c){this.empresaService=i,this.clienteService=a,this.activatedRoute=o,this.router=r,this.table=c,this.faArrowLeft=p.acZ,this.faArrowRight=p.eFW,this.faEllipsisV=p.iV1,this.faUsers=p.FVb,this.faFilter=p.G_j,this.faTimes=p.NBC,this.loading=!1,this.columns=B.lF,this.objeto=new g.oW,this.tableLinks=[],this.create=(l=this.clienteService)=>{l.setObject(new B.c1)},this.empresaService.empresa.subscribe(l=>{this.objeto=l}),this.activatedRoute.snapshot.pathFromRoot.map(l=>l.routeConfig?.path).join("/").includes("empresas/editar")||(this.columns=this.columns.filter(l=>"ativo"!=l.field)),this.table.selected.subscribe(l=>{this.tableLinks=[],l&&(this.tableLinks.push({label:"Editar",routePath:["editar"],paramsFieldName:["id"]}),this.tableLinks.push(l.registroNaoSalvo?{label:"Excluir",routePath:["excluir"],paramsFieldName:["id"]}:{label:l.ativo?"Desabilitar":"Habilitar",routePath:[l.ativo?"desabilitar":"habilitar"],paramsFieldName:["id"]}),this.tableLinks=this.table.encryptParams(this.tableLinks))})}ngOnInit(){}next(){this.router.navigate(["..","produtos"],{relativeTo:this.activatedRoute})}previous(){this.router.navigate(["..","usuarios"],{relativeTo:this.activatedRoute})}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(v.P),e.Y36(Y.$),e.Y36(d.gz),e.Y36(d.F0),e.Y36(T.i))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-clientes"]],decls:22,vars:16,consts:[[1,"card"],[1,"card-header","d-flex","align-items-center","py-2"],[1,"title-icon"],[3,"icon"],[1,"card-header-title"],[1,"card-header-subtitle"],[1,"card-body"],[3,"createLink","onCreate","canCreate","list","filterLink","filterTable","paginator","sortTable","menuTable","columns","selectable","tableLinks"],[1,"d-flex","justify-content-between","px-2","mt-auto"],["title","Anteiror",1,"btn","btn-step","btn-step-prev","mt-2",3,"click"],[1,"btn-step-text"],["title","Pr\xf3ximo",1,"btn","btn-step","btn-step-next","mt-2",3,"click"]],template:function(i,a){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._UZ(3,"fa-icon",3),e.qZA(),e.TgZ(4,"div")(5,"h3",4),e._uU(6,"Clientes"),e.qZA(),e.TgZ(7,"p",5)(8,"small"),e._uU(9,"Cadastrar um cliente para essa empresa"),e.qZA()()()(),e.TgZ(10,"div",6),e._UZ(11,"app-list-shared",7),e.TgZ(12,"div",8)(13,"button",9),e.NdJ("click",function(){return a.previous()}),e._UZ(14,"fa-icon",3),e.TgZ(15,"span",10),e._uU(16,"Anterior"),e.qZA()(),e.TgZ(17,"button",11),e.NdJ("click",function(){return a.next()}),e.TgZ(18,"span",10),e._uU(19,"Pr\xf3ximo"),e.qZA(),e._UZ(20,"fa-icon",3),e.qZA()()()(),e._UZ(21,"router-outlet")),2&i&&(e.xp6(3),e.Q6J("icon",a.faUsers),e.xp6(8),e.Q6J("createLink",e.DdM(15,Xe))("onCreate",a.create)("canCreate",!0)("list",a.objeto.cliente)("filterLink",!0)("filterTable",!0)("paginator",!0)("sortTable",!0)("menuTable",!0)("columns",a.columns)("selectable",!0)("tableLinks",a.tableLinks),e.xp6(3),e.Q6J("icon",a.faArrowLeft),e.xp6(6),e.Q6J("icon",a.faArrowRight))},dependencies:[d.lC,k.o,_.BN]}),t})();var G=s(8785),H=s(3834),z=s(4595),X=s(9738),I=s(4409),$=s(1685),K=s(8164);const $e=function(){return["cadastrar"]};let ee=(()=>{class t{constructor(i,a,o,r,c,u){this.empresaService=i,this.accountService=a,this.userService=o,this.router=r,this.table=c,this.activatedRoute=u,this.faUser=p.FVb,this.faArrowLeft=p.acZ,this.faArrowRight=p.eFW,this.objeto=new g.oW,this.columns=K.Sf,this.tableLinks=[],this.account=new $.mR,this.create=(h=this.userService)=>{h.setObject(new K.bo)},this.accountService.account.subscribe(h=>this.account=h??new $.mR),this.empresaService.empresa.subscribe(h=>{this.objeto=h}),this.activatedRoute.snapshot.pathFromRoot.map(h=>h.routeConfig?.path).join("/").includes("empresas/editar")||(this.columns=this.columns.filter(h=>"ativo"!=h.field)),this.table.selected.subscribe(h=>{this.tableLinks=[],h&&(this.tableLinks.push({label:"Editar",routePath:["editar"],paramsFieldName:["id"]}),h.registroNaoSalvo?this.tableLinks.push({label:"Excluir",routePath:["excluir"],paramsFieldName:["id"]}):(this.tableLinks.push({label:h.ativo?"Desabilitar":"Habilitar",routePath:[h.ativo?"desabilitar":"habilitar"],paramsFieldName:["id"]}),this.tableLinks.push({label:"Resetar senha",routePath:["reset-password"],paramsFieldName:["id"]})),this.tableLinks=this.table.encryptParams(this.tableLinks))})}ngOnInit(){}next(){this.router.navigate(["..","clientes"],{relativeTo:this.activatedRoute})}previous(){this.router.navigate(["..","dados-cadastrais"],{relativeTo:this.activatedRoute})}canMenu(){return`(${this.account.perfilAcesso_Id} == ${I.u.Admin}) || (${this.account.perfilAcesso_Id} == ${I.u.Master} && item.perfilAcesso_Id != ${I.u.Admin})`}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(v.P),e.Y36(J.B),e.Y36(w.i),e.Y36(d.F0),e.Y36(T.i),e.Y36(d.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-usuarios-create"]],decls:22,vars:16,consts:[[1,"card"],[1,"card-header","d-flex","align-items-center","py-2"],[1,"title-icon"],[3,"icon"],[1,"card-header-title"],[1,"card-header-subtitle"],[1,"card-body"],[3,"createLink","onCreate","canCreate","list","filterLink","filterTable","paginator","sortTable","menuTable","columns","tableLinks","selectable"],[1,"d-flex","justify-content-between","px-2","mt-auto"],["title","Anteiror",1,"btn","btn-step","btn-step-prev","mt-2",3,"click"],[1,"btn-step-text"],["title","Pr\xf3ximo",1,"btn","btn-step","btn-step-next","mt-2",3,"click"]],template:function(i,a){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._UZ(3,"fa-icon",3),e.qZA(),e.TgZ(4,"div")(5,"h3",4),e._uU(6,"Usu\xe1rios"),e.qZA(),e.TgZ(7,"p",5)(8,"small"),e._uU(9,"Inclua usu\xe1rios dessa empresa para acessar o sistema"),e.qZA()()()(),e.TgZ(10,"div",6),e._UZ(11,"app-list-shared",7),e.TgZ(12,"div",8)(13,"button",9),e.NdJ("click",function(){return a.previous()}),e._UZ(14,"fa-icon",3),e.TgZ(15,"span",10),e._uU(16,"Anterior"),e.qZA()(),e.TgZ(17,"button",11),e.NdJ("click",function(){return a.next()}),e.TgZ(18,"span",10),e._uU(19,"Pr\xf3ximo"),e.qZA(),e._UZ(20,"fa-icon",3),e.qZA()()()(),e._UZ(21,"router-outlet")),2&i&&(e.xp6(3),e.Q6J("icon",a.faUser),e.xp6(8),e.Q6J("createLink",e.DdM(15,$e))("onCreate",a.create)("canCreate",!0)("list",a.objeto.account)("filterLink",!1)("filterTable",!0)("paginator",!0)("sortTable",!0)("menuTable",a.canMenu())("columns",a.columns)("tableLinks",a.tableLinks)("selectable",!0),e.xp6(3),e.Q6J("icon",a.faArrowLeft),e.xp6(6),e.Q6J("icon",a.faArrowRight))},dependencies:[d.lC,k.o,_.BN]}),t})();var te=s(1829),ie=s(2193),ae=s(662),ne=s(9155),oe=s(6886);const Ke=function(){return["cadastrar"]};let se=(()=>{class t{constructor(i,a,o,r,c){this.empresaService=i,this.router=a,this.activatedRoute=o,this.produtoService=r,this.table=c,this.faHandHoldingDollar=p.VPG,this.faArrowLeft=p.acZ,this.faArrowRight=p.eFW,this.objeto=new g.oW,this.columns=oe.Dw,this.tableLinks=[],this.create=(l=this.produtoService)=>{l.setObject(new oe.a7)},this.empresaService.empresa.subscribe(l=>{this.objeto=l}),this.activatedRoute.snapshot.pathFromRoot.map(l=>l.routeConfig?.path).join("/").includes("empresas/editar")||(this.columns=this.columns.filter(l=>"ativo"!=l.field)),this.table.selected.subscribe(l=>{this.tableLinks=[],l&&(this.tableLinks.push({label:"Editar",routePath:["editar"],paramsFieldName:["id"]}),this.tableLinks.push(l.registroNaoSalvo?{label:"Excluir",routePath:["excluir"],paramsFieldName:["id"]}:{label:l.ativo?"Desabilitar":"Habilitar",routePath:[l.ativo?"desabilitar":"habilitar"],paramsFieldName:["id"]}),this.tableLinks=this.table.encryptParams(this.tableLinks))})}ngOnInit(){}next(){this.router.navigate(["..","setup"],{relativeTo:this.activatedRoute})}previous(){this.router.navigate(["..","clientes"],{relativeTo:this.activatedRoute})}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(v.P),e.Y36(d.F0),e.Y36(d.gz),e.Y36(E.m),e.Y36(T.i))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-produtos-create"]],decls:22,vars:16,consts:[[1,"card"],[1,"card-header","d-flex","align-items-center","py-2"],[1,"title-icon"],[3,"icon"],[1,"card-header-title"],[1,"card-header-subtitle"],[1,"card-body"],[3,"createLink","onCreate","canCreate","list","filterTable","paginator","sortTable","menuTable","columns","tableLinks","selectable"],[1,"d-flex","justify-content-between","px-2","mt-auto"],["title","Anteiror",1,"btn","btn-step","btn-step-prev","mt-2",3,"click"],[1,"btn-step-text"],["title","Pr\xf3ximo",1,"btn","btn-step","btn-step-next","mt-2",3,"click"]],template:function(i,a){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._UZ(3,"fa-icon",3),e.qZA(),e.TgZ(4,"div")(5,"h3",4),e._uU(6,"Produtos"),e.qZA(),e.TgZ(7,"p",5)(8,"small"),e._uU(9,"Inclua produtos para essa empresa"),e.qZA()()()(),e.TgZ(10,"div",6),e._UZ(11,"app-list-shared",7),e.TgZ(12,"div",8)(13,"button",9),e.NdJ("click",function(){return a.previous()}),e._UZ(14,"fa-icon",3),e.TgZ(15,"span",10),e._uU(16,"Anterior"),e.qZA()(),e.TgZ(17,"button",11),e.NdJ("click",function(){return a.next()}),e.TgZ(18,"span",10),e._uU(19,"Pr\xf3ximo"),e.qZA(),e._UZ(20,"fa-icon",3),e.qZA()()()(),e._UZ(21,"router-outlet")),2&i&&(e.xp6(3),e.Q6J("icon",a.faHandHoldingDollar),e.xp6(8),e.Q6J("createLink",e.DdM(15,Ke))("onCreate",a.create)("canCreate",!0)("list",a.objeto.produto)("filterTable",!0)("paginator",!0)("sortTable",!0)("menuTable",!0)("canCreate",!0)("columns",a.columns)("tableLinks",a.tableLinks)("selectable",!0),e.xp6(3),e.Q6J("icon",a.faArrowLeft),e.xp6(6),e.Q6J("icon",a.faArrowRight))},dependencies:[d.lC,k.o,_.BN]}),t})();var re=s(8446),le=s(343),ce=s(9899),pe=s(4163),de=s(6025);function et(t,n){if(1&t&&(e.TgZ(0,"p",15),e._uU(1),e.qZA()),2&t){const i=n.$implicit;e.xp6(1),e.Oqu(i)}}function tt(t,n){if(1&t){const i=e.EpF();e.TgZ(0,"button",16),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.next())}),e.TgZ(1,"span",13),e._uU(2,"Finalizar "),e.qZA(),e._UZ(3,"fa-icon",12),e.qZA()}if(2&t){const i=e.oxw();e.Q6J("disabled",i.loading),e.xp6(3),e.Q6J("icon",i.faCheck)}}const it=function(){return["cadastrar"]};let me=(()=>{class t{constructor(i,a,o,r,c,u,l,h,N){this.empresaService=i,this.router=a,this.activatedRoute=o,this.table=r,this.crypto=c,this.menuItems=u,this.toastr=l,this.setupService=h,this.modal=N,this.faWallet=p.X5K,this.faArrowLeft=p.acZ,this.faArrowRight=p.eFW,this.faFilter=p.G_j,this.faTimes=p.NBC,this.faEllipsisV=p.iV1,this.faCheck=p.LEp,this.objeto=new g.oW,this.columns=de.T7,this.tableLinks=[],this.isEditPage=!1,this.url="",this.loading=!1,this.create=(f=this.setupService)=>{f.setObject(new de.Wj)},this.url=this.activatedRoute.snapshot.pathFromRoot.map(f=>f.routeConfig?.path).join("/"),this.url.includes("empresas/editar")?this.isEditPage=!0:(this.isEditPage=!1,this.columns=this.columns.filter(f=>"ativo"!=f.field)),this.empresaService.empresa.subscribe(f=>{this.objeto=f}),this.table.loading.subscribe(f=>this.loading=f),this.table.selected.subscribe(f=>{this.tableLinks=[],f&&(this.tableLinks.push({label:"Editar",routePath:["editar"],paramsFieldName:["id"]}),this.tableLinks.push(f.registroNaoSalvo?{label:"Excluir",routePath:["excluir"],paramsFieldName:["id"]}:{label:f.ativo?"Desabilitar":"Habilitar",routePath:[f.ativo?"desabilitar":"habilitar"],paramsFieldName:["id"]}),this.tableLinks=this.table.encryptParams(this.tableLinks))})}ngOnInit(){}next(){var i=this;if(this.table.loading.next(!0),this.menuItems.erro=[],!(this.objeto.nome.trim()&&this.objeto.cnpj.toString().trim()&&this.objeto.cnpj&&this.objeto.email.trim()))return this.table.loading.next(!1),this.menuItems.erro.push("Dados cadastrais inv\xe1lidos."),void this.toastr.error("Dados cadastrais inv\xe1lidos.");let a=Object.assign({},JSON.parse(JSON.stringify(this.objeto)));var o;a.produto=a.produto.map(o=>(delete o.empresa,o.registroNaoSalvo&&(o.id=0),o)),a.carteiraSetup.map(o=>(o.registroNaoSalvo&&(o.id=0),o.carteiraProdutoRel.map(r=>(o.registroNaoSalvo&&(r.carteiraSetup_Id=0),r)),o)),a.cliente.filter(o=>o.registroNaoSalvo).map(o=>(delete o.empresa,o.registroNaoSalvo&&(o.id=0),o)),a.account.filter(o=>o.registroNaoSalvo).map(o=>(o.registroNaoSalvo&&(o.id=0),o)),this.url.includes("empresas/cadastrar")?this.empresaService.create(a).subscribe({next:(o=(0,y.Z)(function*(r){yield(0,C.n)(i.empresaService.getList()),i.modal.voltar(),i.table.loading.next(!1)}),function(c){return o.apply(this,arguments)}),error:o=>{this.table.loading.next(!1),this.menuItems.erro.push(o.error.message)}}):this.url.includes("empresas/editar")&&this.empresaService.edit(a).subscribe({next:function(){var o=(0,y.Z)(function*(r){yield(0,C.n)(i.empresaService.getList()),i.modal.voltar(),i.table.loading.next(!1)});return function(c){return o.apply(this,arguments)}}(),error:o=>{this.table.loading.next(!1),this.menuItems.erro.push(o.error.message)}})}previous(){this.router.navigate(["..","produtos"],{relativeTo:this.activatedRoute})}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(v.P),e.Y36(d.F0),e.Y36(d.gz),e.Y36(T.i),e.Y36(S.w),e.Y36(L.s),e.Y36(j._W),e.Y36(Q.A),e.Y36(A.Q))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-setup-create"]],decls:21,vars:17,consts:[[1,"card"],[1,"card-header","d-flex","align-items-center","py-2"],[1,"title-icon"],[1,"pi","pi-wallet"],[1,"card-header-title"],[1,"card-header-subtitle"],[1,"card-body"],[3,"createLink","onCreate","canCreate","list","filterLink","filterTable","paginator","sortTable","menuTable","columns","tableLinks","selectable"],[1,"ms-auto"],["class","text-danger",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","px-2","mt-auto"],["title","Anteiror",1,"btn","btn-step","btn-step-prev","mt-2",3,"click"],[3,"icon"],[1,"btn-step-text"],["class","btn btn-step btn-step-next mt-2","title","Pr\xf3ximo",3,"disabled","click",4,"ngIf"],[1,"text-danger"],["title","Pr\xf3ximo",1,"btn","btn-step","btn-step-next","mt-2",3,"disabled","click"]],template:function(i,a){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._UZ(3,"i",3),e.qZA(),e.TgZ(4,"div")(5,"h3",4),e._uU(6,"Carteira Setup"),e.qZA(),e.TgZ(7,"p",5)(8,"small"),e._uU(9,"Inclua um ou mais setups dessa empresa"),e.qZA()()()(),e.TgZ(10,"div",6),e._UZ(11,"app-list-shared",7),e.TgZ(12,"div",8),e.YNc(13,et,2,1,"p",9),e.qZA(),e.TgZ(14,"div",10)(15,"button",11),e.NdJ("click",function(){return a.previous()}),e._UZ(16,"fa-icon",12),e.TgZ(17,"span",13),e._uU(18,"Anterior"),e.qZA()(),e.YNc(19,tt,4,2,"button",14),e.qZA()()(),e._UZ(20,"router-outlet")),2&i&&(e.xp6(11),e.Q6J("createLink",e.DdM(16,it))("onCreate",a.create)("canCreate",!0)("list",a.objeto.carteiraSetup)("filterLink",!1)("filterTable",!0)("paginator",!0)("sortTable",!0)("menuTable",!0)("canCreate",!0)("columns",a.columns)("tableLinks",a.tableLinks)("selectable",!0),e.xp6(2),e.Q6J("ngForOf",a.menuItems.erro),e.xp6(3),e.Q6J("icon",a.faArrowLeft),e.xp6(3),e.Q6J("ngIf",!a.isEditPage))},dependencies:[b.sg,b.O5,d.lC,k.o,_.BN]}),t})();var ue=s(4458),he=s(5623),fe=s(4115),ge=s(8811),at=s(4506);let ve=(()=>{class t{constructor(i,a,o){this.empresaService=i,this.toastr=a,this.alert=o}canActivate(i,a){return!0}}return t.\u0275fac=function(i){return new(i||t)(e.LFG(v.P),e.LFG(j._W),e.LFG(at.c))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var nt=s(7119);let be=(()=>{class t{constructor(i,a,o,r){var c=this;this.activatedRoute=i,this.modal=a,this.empresaService=o,this.crypto=r,this.faTimes=p.NBC,this.modalOpen=!1,this.erro=[],this.loading=!1,this.url="",this.objeto=new g.oW,this.modal.getOpen().subscribe(u=>{this.modalOpen=u}),this.url=this.activatedRoute.snapshot.pathFromRoot.map(u=>u.routeConfig?.path).join("/"),i.params.subscribe(function(){var u=(0,y.Z)(function*(l){l.empresa_id?(c.objeto.id=c.crypto.decrypt(l.empresa_id),c.objeto=yield(0,C.n)(c.empresaService.get(c.objeto.id))):c.voltar()});return function(l){return u.apply(this,arguments)}}())}ngOnInit(){setTimeout(()=>{this.modal.setOpen(!0)},200)}voltar(){this.modal.voltar()}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(d.gz),e.Y36(A.Q),e.Y36(v.P),e.Y36(S.w))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-deactivated"]],decls:5,vars:4,consts:[[1,"modal"],[1,"modal__bg",3,"click"],[1,"modal__inner",2,"max-width","600px"],[1,"modal__content"],[3,"objeto","service"]],template:function(i,a){1&i&&(e.TgZ(0,"div",0)(1,"div",1),e.NdJ("click",function(){return a.voltar()}),e.qZA(),e.TgZ(2,"div",2)(3,"div",3),e._UZ(4,"app-shared-deactivated",4),e.qZA()()()),2&i&&(e.ekj("active",a.modalOpen),e.xp6(4),e.Q6J("objeto",a.objeto)("service",a.empresaService))},dependencies:[nt.T]}),t})();const ot=[{path:"",component:Je,children:[{path:"habilitar/:empresa_id",component:be,title:"Planner - Habilitar empresa"},{path:"desabilitar/:empresa_id",component:be,title:"Planner - Desabilitar empresa"},{path:"excluir/:empresa_id",component:Ne}]},{path:"editar/:empresa_id",redirectTo:"editar/:empresa_id/dados-cadastrais",pathMatch:"prefix"},{path:"editar/:empresa_id",component:Me,children:[{path:"dados-cadastrais",component:W},{path:"clientes",component:V,children:[{path:"cadastrar",component:G.G},{path:"editar/:cliente_id",component:H.F},{path:"excluir/:cliente_id",component:z.T},{path:"habilitar/:cliente_id",component:X.T,title:"Planner - Habilitar cliente"},{path:"desabilitar/:cliente_id",component:X.T,title:"Planner - Desabilitar cliente"}]},{path:"produtos",component:se,children:[{path:"cadastrar",component:re.G,data:{page:"cadastrar-produto-nova-empresa"}},{path:"editar/:produto_id",component:le.F},{path:"excluir/:produto_id",component:ce.T},{path:"habilitar/:produto_id",component:pe.T,title:"Planner - Habilitar produto"},{path:"desabilitar/:produto_id",component:pe.T,title:"Planner - Desabilitar produto"}]},{path:"usuarios",component:ee,children:[{path:"cadastrar",component:te.G},{path:"editar/:usuario_id",component:ie.F},{path:"excluir/:usuario_id",component:ae.T},{path:"habilitar/:usuario_id",component:ne.T,title:"Planner - Habilitar usuario"},{path:"desabilitar/:usuario_id",component:ne.T,title:"Planner - Desabilitar usuario"}]},{path:"setup/cadastrar",component:ue.G,canActivate:[ve]},{path:"setup/editar/:setup_id",component:he.F},{path:"setup",component:me,children:[{path:"excluir/:setup_id",component:fe.T},{path:"habilitar/:setup_id",component:ge.T,title:"Planner - Habilitar setup"},{path:"desabilitar/:setup_id",component:ge.T,title:"Planner - Desabilitar setup"}]}]},{path:"cadastrar",redirectTo:"cadastrar/dados-cadastrais",pathMatch:"prefix"},{path:"cadastrar",component:Se,children:[{path:"dados-cadastrais",component:W},{path:"usuarios",component:ee,children:[{path:"cadastrar",component:te.G},{path:"editar/:usuario_id",component:ie.F},{path:"excluir/:usuario_id",component:ae.T}]},{path:"clientes",component:V,children:[{path:"cadastrar",component:G.G},{path:"editar/:cliente_id",component:H.F},{path:"excluir/:cliente_id",component:z.T}]},{path:"produtos",component:se,children:[{path:"cadastrar",component:re.G},{path:"editar/:produto_id",component:le.F},{path:"excluir/:produto_id",component:ce.T}]},{path:"setup/cadastrar",component:ue.G,canActivate:[ve]},{path:"setup/editar/:setup_id",component:he.F},{path:"setup",component:me,children:[{path:"excluir/:setup_id",component:fe.T}]}]}];let st=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[d.Bz.forChild(ot),d.Bz]}),t})();var rt=s(5576),lt=s(1236);let ut=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[b.ez,M.m8]}),t})();var ht=s(1327);let ft=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-empresas"]],decls:2,vars:0,template:function(i,a){1&i&&(e.TgZ(0,"p"),e._uU(1,"empresas works!"),e.qZA())}}),t})();var gt=s(9880),vt=s(4698),bt=s(5593);let _t=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t,bootstrap:[ft]}),t.\u0275inj=e.cJS({imports:[b.ez,st,rt.U$,_.uH,j.Rh,m.u5,R.dT,q.yI.forChild(),lt.q,ut,gt.m,vt.E,ht.$9,bt.hJ]}),t})()}}]);