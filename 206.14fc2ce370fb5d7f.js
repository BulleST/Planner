"use strict";(self.webpackChunkplanner=self.webpackChunkplanner||[]).push([[206],{206:(yt,M,s)=>{s.r(M),s.d(M,{EmpresasModule:()=>Zt});var T=s(6895),m=s(202),c=s(801),v=s(9398),C=s(8913),U=s(3983),e=s(4650),S=s(7549),Z=s(3868),f=s(433),O=s(2788),j=s(46),A=s(7185),J=s(805),Ze=s(9764);function xe(i,n){1&i&&e._UZ(0,"i",12)}function je(i,n){1&i&&e._UZ(0,"i",13)}function ye(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",8)(1,"button",9),e.NdJ("click",function(o){e.CHM(t),e.oxw(2);const p=e.MAs(3);return e.KtG(p.toggle(o))}),e.YNc(2,xe,1,0,"i",10),e.YNc(3,je,1,0,"i",11),e.qZA()()}if(2&i){e.oxw(2);const t=e.MAs(3);e.xp6(2),e.Q6J("ngIf",t.collapsed),e.xp6(1),e.Q6J("ngIf",!t.collapsed)}}function Ae(i,n){1&i&&e.YNc(0,ye,4,2,"ng-template",6,7,e.W1O)}const Se=function(i){return[i]};function ke(i,n){if(1&i&&(e.TgZ(0,"a",16)(1,"span",17),e._UZ(2,"i"),e.qZA(),e.TgZ(3,"span",18),e._uU(4),e.qZA()()),2&i){const t=n.$implicit;e.Q6J("routerLink",e.VKq(5,Se,t.routerLink)),e.xp6(2),e.Tol(t.iconClass),e.xp6(2),e.Oqu(t.label)}}function Le(i,n){if(1&i&&(e.TgZ(0,"div",14),e.YNc(1,ke,5,7,"a",15),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.items)}}const D=function(i,n){return[i,n]};let I=(()=>{class i{constructor(t,a,o,p){this.table=t,this.toastr=a,this.isMobile=o,this.empresaService=p,this.items=[],this.objeto=new v.oW,this.erro=[],this.screen=O.I.lg,this.ScreenWidth=O.I,this.subscription=[];var r=this.isMobile.get().subscribe(u=>this.screen=u);this.subscription.push(r),this.items=[{label:"Dados Cadastrais",routerLink:"dados-cadastrais",iconClass:"pi pi-id-card",command:u=>{this.table.selected.next(void 0)}},{label:"Usu\xe1rios",routerLink:"usuarios",iconClass:"pi pi-users",command:u=>{this.table.selected.next(void 0),this.validateDadosCadastrais()}},{label:"Clientes",routerLink:"clientes",iconClass:"pi pi-user",command:u=>{this.table.selected.next(void 0),this.validateDadosCadastrais()}},{label:"Produtos",routerLink:"produtos",iconClass:"fa-solid fa-p",command:u=>{this.table.selected.next(void 0),this.validateDadosCadastrais()}},{label:"Carteira Setup",iconClass:"pi pi-wallet",routerLink:"setup",command:u=>{this.table.selected.next(void 0),this.validateDadosCadastrais()}}];var d=this.empresaService.empresa.subscribe(u=>this.objeto=u);this.subscription.push(d)}ngOnDestroy(){this.subscription.forEach(t=>t.unsubscribe())}validateDadosCadastrais(){let t=!0;return this.erro=[],t=!(0==parseInt(this.objeto.cnpj.toString())||!this.objeto.nome.trim()||!this.objeto.email.trim()),t||(this.toastr.error("Dados cadastrais inv\xe1lidos."),this.erro.push("Dados cadastrais inv\xe1lidos")),t}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(j.i),e.Y36(A._W),e.Y36(O.h),e.Y36(C.P))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-menu-items"]],decls:9,vars:27,consts:[[1,"d-flex","flex-wrap","step-container"],["headerTemplate","header","contentTemplate","content","expandIcon","none","collapseIcon","none",3,"toggleable","collapsed","showHeader","toggler"],["menu",""],[4,"ngIf"],["pTemplate","content"],["content",""],["pTemplate","header"],["header",""],[1,"aside-navigation-header"],["label","Show",1,"btn","btn-primary",3,"click"],["class","pi pi-bars",4,"ngIf"],["class","pi pi-times",4,"ngIf"],[1,"pi","pi-bars"],[1,"pi","pi-times"],[1,"aside-navigation-content"],["class","aside-navigation__link","routerLinkActive","active",3,"routerLink",4,"ngFor","ngForOf"],["routerLinkActive","active",1,"aside-navigation__link",3,"routerLink"],[1,"aside-navigation__link-icon"],[1,"aside-navigation__link-label"]],template:function(t,a){if(1&t&&(e.TgZ(0,"div",0)(1,"div")(2,"p-panel",1,2),e.YNc(4,Ae,2,0,null,3),e.YNc(5,Le,2,1,"ng-template",4,5,e.W1O),e.qZA()(),e.TgZ(7,"div"),e._UZ(8,"router-outlet"),e.qZA()()),2&t){const o=e.MAs(3);e.xp6(1),e.Gre("aside-navigation aside-navigation-",a.screen," "),e.ekj("open",!o.collapsed),e.xp6(1),e.Q6J("toggleable",!e.WLB(15,D,a.ScreenWidth.lg,a.ScreenWidth.xl).includes(a.screen))("collapsed",!1)("showHeader",!e.WLB(18,D,a.ScreenWidth.lg,a.ScreenWidth.xl).includes(a.screen))("toggler","header"),e.xp6(2),e.Q6J("ngIf",!e.WLB(21,D,a.ScreenWidth.lg,a.ScreenWidth.xl).includes(a.screen)),e.xp6(3),e.Gre("step-content step-content-",a.screen,""),e.ekj("step-content-margin",!e.WLB(24,D,a.ScreenWidth.lg,a.ScreenWidth.xl).includes(a.screen))}},dependencies:[T.sg,T.O5,m.lC,m.yS,m.Od,J.jx,Ze.s],styles:[".step-container[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]{flex:1 0 75%;width:75%}.step-content.step-content-margin[_ngcontent-%COMP%]{margin-top:34px}.step-content.step-content-sm[_ngcontent-%COMP%]{flex:1 0 100%;width:100%;margin-top:10px}.aside-navigation[_ngcontent-%COMP%]{flex:0 1 25%;min-width:170px;max-width:220px;width:25%;padding-right:5px}.aside-navigation-content[_ngcontent-%COMP%]{background-color:var(--primary);background-color:#f5f5f5;border:1px #dfdfdf solid;transform:translate(1px)}.aside-navigation__link[_ngcontent-%COMP%]{color:var(--primary);color:#403f3f;display:flex;align-items:center;padding:7px 8px;text-decoration:none;font-size:15px;transition:.3s color 0s;text-transform:lowercase;letter-spacing:-.3px;border:1px transparent solid}.aside-navigation__link[_ngcontent-%COMP%]:hover{text-decoration:none}.aside-navigation__link[_ngcontent-%COMP%]:not(.active):hover{background:#e3e3e3}.aside-navigation__link-icon[_ngcontent-%COMP%]{width:30px;height:30px;display:flex;align-items:center;justify-content:center;margin-right:7px;border-radius:3px;color:#fff;font-size:13px;background-color:#fff;background-color:#104456}.aside-navigation__link.active[_ngcontent-%COMP%]{background-color:var(--primary);color:#ffffffe8;transform:scaleX(1.01)}.aside-navigation__link.active[_ngcontent-%COMP%]   .aside-navigation__link-icon[_ngcontent-%COMP%]{background-color:#125268}  .aside-navigation-sm .p-toggleable-content{position:absolute;width:100%;transition:.5s;z-index:2;min-width:80%;max-width:330px}"]}),i})(),Fe=(()=>{class i{constructor(t,a,o,p){this.empresaService=t,this.modal=o,this.activatedRoute=p,this.faChevronLeft=c.A35,this.faArrowRight=c.eFW,this.faEllipsisV=c.iV1,this.faTimes=c.NBC,this.faCity=c.SBo,this.objeto=new v.oW,this.erro=[],this.index=1,this.cnpjValid=!1,this.subscription=[],this.routerBack=["../"],this.routeBackOptions={relativeTo:this.activatedRoute},null==this.empresaService.object&&this.empresaService.setObject(new v.oW,"CreateComponent");var r=this.empresaService.empresa.subscribe(d=>{this.objeto=d,this.objeto.produto=this.objeto.produto??[],this.objeto.percentualRisco=this.objeto.percentualRisco??[],this.objeto.cliente=this.objeto.cliente??[],this.objeto.account=this.objeto.account??[],this.objeto.carteiraSetup=this.objeto.carteiraSetup??[]});this.subscription.push(r)}ngOnDestroy(){this.empresaService.setObject(new v.oW,"ngOnDestroy"),this.modal.setOpen(!1),this.subscription.forEach(t=>t.unsubscribe())}voltar(){this.modal.voltar(this.routerBack,this.routeBackOptions)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(C.P),e.Y36(U.s),e.Y36(S.Q),e.Y36(m.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-create"]],decls:14,vars:1,consts:[[1,"page"],[1,"page__header"],[1,"title-icon"],[3,"icon"],[1,"mr-auto"],[1,"page__header-title"],[1,"page__header-subtitle"],[1,"page__body","px-3"],["form","ngForm"]],template:function(t,a){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"span",2),e._UZ(3,"fa-icon",3),e.qZA(),e.TgZ(4,"div",4)(5,"h3",5),e._uU(6,"Empresa"),e.qZA(),e.TgZ(7,"p",6)(8,"small"),e._uU(9,"Cadastrar empresa"),e.qZA()()()(),e.TgZ(10,"div",7)(11,"form",null,8),e._UZ(13,"app-menu-items"),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("icon",a.faCity))},dependencies:[Z.BN,f._Y,f.JL,f.F,I],styles:[".aside-navigation[_ngcontent-%COMP%]{display:flex;flex-flow:column;flex-wrap:wrap;flex:0 1 20%;min-width:170px;width:20%;background-color:var(--primary);background-color:#f5f5f5;border:1px #dfdfdf solid;transform:translate(1px)}"]}),i})();var k=s(9243);function De(i,n){if(1&i&&(e.TgZ(0,"li",18),e._uU(1),e.ALo(2,"json"),e.qZA()),2&i){const t=n.$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,t))}}function Ue(i,n){if(1&i&&(e.TgZ(0,"ul",16),e.YNc(1,De,3,3,"li",17),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.erro)}}function Oe(i,n){1&i&&e._UZ(0,"span",19)}function Pe(i,n){1&i&&(e.TgZ(0,"div",20),e._uU(1," Acione a seta para cima ou para baixo no teclado para mudar o valor "),e.qZA())}function Ne(i,n){1&i&&(e.TgZ(0,"div",20),e._uU(1," Este campo \xe9 obrigat\xf3rio "),e.qZA())}let Ee=(()=>{class i{constructor(t,a,o,p,r,d){this.router=t,this.activatedRoute=a,this.toastr=o,this.modal=p,this.empresaService=r,this.crypto=d,this.faTimes=c.NBC,this.modalOpen=!1,this.objeto=new v.oW,this.erro=[],this.loading=!1,this.subscription=[],this.routerBack=["../../"],this.routeBackOptions={relativeTo:this.activatedRoute};var u=this.modal.getOpen().subscribe(l=>this.modalOpen=l);this.subscription.push(u);var h=this.activatedRoute.params.subscribe(l=>{l.id&&(this.objeto.id=this.crypto.decrypt(l.id))});this.subscription.push(h),setTimeout(()=>{this.modal.setOpen(!0)},200)}ngOnDestroy(){this.subscription.forEach(t=>t.unsubscribe())}voltar(){this.modal.setOpen(!1),setTimeout(()=>{this.router.navigate(["empresas"])},200)}send(){this.loading=!0,this.erro=[],this.empresaService.delete(this.objeto.id),this.voltar(),this.toastr.success("Opera\xe7\xe3o conclu\xedda"),this.loading=!1}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.F0),e.Y36(m.gz),e.Y36(A._W),e.Y36(S.Q),e.Y36(C.P),e.Y36(k.w))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-delete"]],decls:26,vars:5,consts:[[1,"modal"],[1,"modal__bg",3,"click"],[1,"modal__inner",2,"max-width","600px"],[1,"modal__content"],[1,"modal__header","pb-2"],[1,"text-orange"],[1,"mt-2"],[1,"modal__header-close","btn-close",3,"click"],[1,"modal__body","mt-0"],["class","m-0 col-lg-12 mt-1",4,"ngIf"],[1,"d-flex","justify-content-center","flex-wrap","p-0","mt-1"],[1,"btn","btn-grey","mr-1",3,"click"],[1,"btn","btn-primary","mr-0",3,"disabled","click"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["setaUpDown",""],["campoObrigatorio",""],[1,"m-0","col-lg-12","mt-1"],["class","text-red",4,"ngFor","ngForOf"],[1,"text-red"],[1,"spinner-border","spinner-border-sm","mr-1"],[1,"py-3","px-4"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.NdJ("click",function(){return a.voltar()}),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),e._uU(6,"Excluir registro"),e.qZA(),e.TgZ(7,"p",6),e._uU(8,"Tem certeza que deseja excluir esse registro? Ele n\xe3o poder\xe1 ser recuperado."),e.qZA(),e.TgZ(9,"p"),e._uU(10,"Todos os registros relacionados a esse cliente tamb\xe9m ser\xe3o removidos."),e.qZA(),e.TgZ(11,"a",7),e.NdJ("click",function(){return a.voltar()}),e._UZ(12,"span")(13,"span"),e.qZA()(),e.TgZ(14,"div",8),e.YNc(15,Ue,2,1,"ul",9),e.TgZ(16,"div",10)(17,"button",11),e.NdJ("click",function(){return a.voltar()}),e._uU(18," Voltar"),e.qZA(),e.TgZ(19,"button",12),e.NdJ("click",function(){return a.send()}),e.YNc(20,Oe,1,0,"span",13),e._uU(21," Excluir "),e.qZA()()()()()(),e.YNc(22,Pe,2,0,"ng-template",null,14,e.W1O),e.YNc(24,Ne,2,0,"ng-template",null,15,e.W1O)),2&t&&(e.ekj("active",a.modalOpen),e.xp6(15),e.Q6J("ngIf",a.erro),e.xp6(4),e.Q6J("disabled",a.loading),e.xp6(1),e.Q6J("ngIf",a.loading))},dependencies:[T.sg,T.O5,T.Ts]}),i})();var P=s(5861),_=s(9808),Q=s(9876),w=s(932),R=s(9885),q=s(9205),W=s(3071);let Ye=(()=>{class i{constructor(t,a,o,p,r,d,u,h,l,F,g){var x=this;this.router=t,this.activatedRoute=a,this.empresaService=o,this.produtoService=p,this.setupService=r,this.userService=d,this.clienteService=u,this.crypto=h,this.modal=l,this.accountService=F,this.table=g,this.faChevronLeft=c.A35,this.faArrowRight=c.eFW,this.faEllipsisV=c.iV1,this.faTimes=c.NBC,this.faCity=c.SBo,this.faUsers=c.FVb,this.faFilter=c.G_j,this.objeto=new v.oW,this.erro=[],this.loading=!1,this.index=1,this.empresaSelectedId=0,this.empresas=[],this.subscription=[],this.routerBack=["../../"],this.routeBackOptions={relativeTo:this.activatedRoute};var b=this.table.loading.subscribe(y=>this.loading=y);this.subscription.push(b),(0,_.n)(this.empresaService.getList()).then(y=>this.empresas=y);var xt=this.accountService.account.subscribe(y=>this.account=y);this.subscription.push(xt),this.empresaSelectedId=this.crypto.decrypt(a.snapshot.paramMap.get("empresa_id"));var jt=a.params.subscribe(function(){var y=(0,P.Z)(function*(Y){Y.empresa_id?(x.objeto.id=x.crypto.decrypt(Y.empresa_id),x.objeto=yield(0,_.n)(x.empresaService.get(x.objeto.id)),x.getEmpresaData()):x.voltar()});return function(Y){return y.apply(this,arguments)}}());this.subscription.push(jt)}ngOnDestroy(){this.empresaService.setObject(new v.oW,"ngOnDestroy"),this.modal.setOpen(!1),this.subscription.forEach(t=>t.unsubscribe())}voltar(){this.modal.voltar(this.routerBack,this.routeBackOptions)}empresaChange(t){var a=this.activatedRoute.children[this.activatedRoute.children.length-1]?.routeConfig?.path??"";console.log(a),this.router.navigate(["empresas","editar",this.crypto.encrypt(this.objeto.id),a],{skipLocationChange:!0})}getEmpresaData(){var t=this;return(0,P.Z)(function*(){(0,_.n)(t.userService.getList(t.objeto.id)).then(a=>{t.objeto.account=a,t.empresaService.setObject(t.objeto,"getEmpresaData userService")}),(0,_.n)(t.clienteService.getList(t.objeto.id)).then(a=>{t.objeto.cliente=a,t.empresaService.setObject(t.objeto,"getEmpresaData clienteService")}),(0,_.n)(t.produtoService.getList(t.objeto.id)).then(a=>{t.objeto.produto=a,t.empresaService.setObject(t.objeto,"getEmpresaData produtoService")}),(0,_.n)(t.setupService.getList(t.objeto.id)).then(a=>{t.objeto.carteiraSetup=a,t.empresaService.setObject(t.objeto,"getEmpresaData setupService")})})()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.F0),e.Y36(m.gz),e.Y36(C.P),e.Y36(R.m),e.Y36(q.A),e.Y36(W.i),e.Y36(w.$),e.Y36(k.w),e.Y36(S.Q),e.Y36(Q.B),e.Y36(j.i))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit"]],decls:14,vars:2,consts:[[1,"page"],[1,"page__header","py-1"],[1,"title-icon"],[3,"icon"],[1,"mr-auto"],[1,"page__header-title"],[1,"page__header-subtitle"],[1,"page__body","px-3"],["form","ngForm"]],template:function(t,a){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"span",2),e._UZ(3,"fa-icon",3),e.qZA(),e.TgZ(4,"div",4)(5,"h3",5),e._uU(6),e.qZA(),e.TgZ(7,"p",6)(8,"small"),e._uU(9,"Editar registros"),e.qZA()()()(),e.TgZ(10,"div",7)(11,"form",null,8),e._UZ(13,"app-menu-items"),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("icon",a.faCity),e.xp6(3),e.Oqu(a.objeto.nome))},dependencies:[Z.BN,f._Y,f.JL,f.F,I],styles:[".aside-navigation[_ngcontent-%COMP%]{display:flex;flex-flow:column;flex-wrap:wrap;flex:0 1 20%;min-width:170px;width:20%;background-color:var(--primary);background-color:#f5f5f5;border:1px #dfdfdf solid;transform:translate(1px)}"]}),i})();var L=s(453);const Me=function(){return["cadastrar"]};let Je=(()=>{class i{constructor(t,a,o){this.table=t,this.empresaService=a,this.crypto=o,this.faCity=c.SBo,this.list=[],this.tableLinks=[],this.columns=v.jH,this.subscription=[],this.create=(d=this.empresaService)=>{d.setObject(new v.oW,"create")};var p=this.table.selected.subscribe(d=>{d&&(this.tableLinks=[{label:"Editar",routePath:["editar"],paramsFieldName:["id"]},{label:d.ativo?"Desabilitar":"Habilitar",routePath:[d.ativo?"desabilitar":"habilitar"],paramsFieldName:["id"]}],this.tableLinks=this.table.encryptParams(this.tableLinks))});this.subscription.push(p);var r=this.empresaService.list.subscribe(d=>this.list=d);this.subscription.push(r),(0,_.n)(this.empresaService.getList())}ngOnDestroy(){this.subscription.forEach(t=>t.unsubscribe())}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(j.i),e.Y36(C.P),e.Y36(k.w))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-list"]],decls:13,vars:15,consts:[[1,"page"],[1,"page__header"],[1,"title-icon"],[3,"icon"],[1,"mr-auto"],[1,"page__header-title"],[1,"page__header-subtitle"],[1,"page__body"],[3,"createLink","onCreate","canCreate","list","paginator","filterLink","filterTable","sortTable","menuTable","columns","selectable","tableLinks"]],template:function(t,a){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"span",2),e._UZ(3,"fa-icon",3),e.qZA(),e.TgZ(4,"div",4)(5,"h3",5),e._uU(6,"Empresas"),e.qZA(),e.TgZ(7,"p",6)(8,"small"),e._uU(9,"Todas as empresas"),e.qZA()()()(),e.TgZ(10,"div",7),e._UZ(11,"app-list-shared",8),e.qZA()(),e._UZ(12,"router-outlet")),2&t&&(e.xp6(3),e.Q6J("icon",a.faCity),e.xp6(8),e.Q6J("createLink",e.DdM(14,Me))("onCreate",a.create)("canCreate",!0)("list",a.list)("paginator",!0)("filterLink",!1)("filterTable",!0)("sortTable",!0)("menuTable",!0)("columns",a.columns)("selectable",!0)("tableLinks",a.tableLinks)("selectable",!0))},dependencies:[m.lC,Z.BN,L.o]}),i})();var N=s(878),B=s(279),G=s(1094);function Ie(i,n){1&i&&(e.TgZ(0,"p",12),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function Qe(i,n){1&i&&(e.TgZ(0,"span"),e._uU(1,"Remova os espa\xe7os antes e depois do texto."),e.qZA())}function we(i,n){if(1&i&&(e.TgZ(0,"p",12),e.YNc(1,Qe,2,0,"span",15),e.qZA()),2&i){e.oxw(2);const t=e.MAs(20);e.xp6(1),e.Q6J("ngIf","^\\S(.*\\S)?$"==t.errors.pattern.requiredPattern)}}function Re(i,n){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Ie,2,0,"p",19),e.YNc(2,we,2,1,"p",19),e.qZA()),2&i){e.oxw();const t=e.MAs(20);e.xp6(1),e.Q6J("ngIf",t.errors.required),e.xp6(1),e.Q6J("ngIf",t.errors.pattern)}}function qe(i,n){1&i&&(e.TgZ(0,"p",12),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function We(i,n){1&i&&(e.TgZ(0,"p",12),e._uU(1,"CNPJ inv\xe1lido."),e.qZA())}function Be(i,n){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,qe,2,0,"p",19),e.YNc(2,We,2,0,"p",19),e.qZA()),2&i){e.oxw();const t=e.MAs(28);e.xp6(1),e.Q6J("ngIf",t.errors.required),e.xp6(1),e.Q6J("ngIf",t.errors.mask)}}function Ge(i,n){1&i&&(e.TgZ(0,"p",12),e._uU(1,"CNPJ inv\xe1lido."),e.qZA())}function Ve(i,n){1&i&&(e.TgZ(0,"p",12),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function He(i,n){1&i&&(e.TgZ(0,"p",12),e._uU(1,"E-mail inv\xe1lido."),e.qZA())}function ze(i,n){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Ve,2,0,"p",19),e.YNc(2,He,2,0,"p",19),e.qZA()),2&i){e.oxw();const t=e.MAs(37);e.xp6(1),e.Q6J("ngIf",t.errors.required),e.xp6(1),e.Q6J("ngIf",t.errors.email)}}function Xe(i,n){1&i&&(e.TgZ(0,"p",12),e._uU(1,"Preencha todos os campos obrigat\xf3rios (*) corretamente para continuar"),e.qZA())}function $e(i,n){if(1&i&&(e.TgZ(0,"button",29)(1,"span",27),e._uU(2,"Salvar dados cadastrais"),e.qZA(),e._UZ(3,"fa-icon",3),e.qZA()),2&i){const t=e.oxw(),a=e.MAs(12);e.Q6J("disabled",a.invalid||!t.cnpjValid)("title",a.invalid?"Preencha os campos corretamente para continuar":"Pr\xf3ximo passo"),e.xp6(3),e.Q6J("icon",t.faCheck)}}function Ke(i,n){1&i&&(e.TgZ(0,"div",30),e._uU(1," Este campo \xe9 obrigat\xf3rio "),e.qZA())}let V=(()=>{class i{constructor(t,a,o,p,r,d){this.toastr=t,this.empresaService=a,this.router=o,this.activatedRoute=p,this.table=r,this.menuItems=d,this.faIdCard=c.Ukp,this.objeto=new v.oW,this.faArrowLeft=c.acZ,this.faArrowRight=c.eFW,this.faCheck=c.LEp,this.cnpjValid=!1,this.isEditPage=!1,this.url="",this.subscription=[],this.url=this.activatedRoute.snapshot.pathFromRoot.map(h=>h.routeConfig?.path).join("/"),this.isEditPage=!!this.url.includes("empresas/editar");var u=this.empresaService.empresa.subscribe(h=>{this.objeto=Object.assign(JSON.parse(JSON.stringify(h))),this.objeto.cnpj=this.objeto.cnpj.toString().trim()?this.objeto.cnpj.toString().padStart(14,"0"):"",this.validateCnpj()});this.subscription.push(u)}ngOnDestroy(){this.subscription.forEach(t=>t.unsubscribe())}setDadosCadastrais(){this.empresaService.setObject(this.objeto,"setDadosCadastrais")}validateCnpj(){return this.cnpjValid=14==this.objeto.cnpj.toString().length&&0!=parseInt(this.objeto.cnpj.toString())}next(t){t.invalid?this.toastr.error("Dados inv\xe1lidos"):(this.objeto.cnpj=parseInt(this.objeto.cnpj.toString()),this.setDadosCadastrais(),this.router.navigate(["..","usuarios"],{relativeTo:this.activatedRoute}))}send(t){t.invalid?this.toastr.error("Dados inv\xe1lidos"):(this.objeto.cnpj=parseInt(this.objeto.cnpj.toString()),this.url.includes("empresas/editar")&&(0,_.n)(this.empresaService.edit(this.objeto)).catch(a=>this.menuItems.erro.push((0,N.b)(a))))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A._W),e.Y36(C.P),e.Y36(m.F0),e.Y36(m.gz),e.Y36(j.i),e.Y36(U.s))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-dados-cadastrais-create"]],decls:49,vars:25,consts:[[1,"card"],[1,"card-header","d-flex","align-items-center","py-2"],[1,"title-icon"],[3,"icon"],[1,"card-header-title"],[1,"card-header-subtitle"],[1,"card-body"],[1,"d-flex","flex-column","h-100",3,"ngSubmit"],["form","ngForm"],[1,"form-row"],[1,"form-group","col-lg-4","col-md-4","col-sm-12","col-12"],["for","nome"],[1,"text-danger"],["type","text","id","nome","name","nome","required","","popoverClass","popover-danger","triggers","mouseenter:mouseleave","pattern","\\S(.*\\S)?",1,"form-control",3,"ngModel","ngbPopover","ngModelChange","change"],["nome","ngModel"],[4,"ngIf"],["for","cnpj"],["type","text","id","cnpj","name","cnpj","placeholder","00.000.000/0000-00","required","","popoverClass","popover-danger","triggers","mouseenter:mouseleave",1,"form-control",3,"ngModel","mask","min","minlength","maxlength","ngbPopover","ngModelChange","change"],["cnpj","ngModel"],["class","text-danger",4,"ngIf"],["for","email"],["type","email","id","email","name","email","placeholder","example@hotmail.com","required","","popoverClass","popover-danger","triggers","mouseenter:mouseleave",1,"form-control",3,"email","ngModel","ngbPopover","ngModelChange","change"],["email","ngModel"],[1,"form-row","mt-auto"],[1,"col-lg-12","d-flex","align-items-center"],["type","submit","class","btn ml-auto btn-step btn-step-next mt-2",3,"disabled","title",4,"ngIf"],["type","button",1,"btn","ml-2","btn-step","btn-step-next","mt-2",3,"disabled","title","click"],[1,"btn-step-text"],["campoObrigatorio",""],["type","submit",1,"btn","ml-auto","btn-step","btn-step-next","mt-2",3,"disabled","title"],[1,"py-3","px-4"]],template:function(t,a){if(1&t){const o=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._UZ(3,"fa-icon",3),e.qZA(),e.TgZ(4,"div")(5,"h3",4),e._uU(6,"Dados cadastrais"),e.qZA(),e.TgZ(7,"p",5)(8,"small"),e._uU(9,"Insira os dados cadastrais da empresa"),e.qZA()()()(),e.TgZ(10,"div",6)(11,"form",7,8),e.NdJ("ngSubmit",function(){e.CHM(o);const r=e.MAs(12);return e.KtG(a.send(r))}),e.TgZ(13,"div",9)(14,"div",10)(15,"label",11),e._uU(16,"Nome: "),e.TgZ(17,"span",12),e._uU(18,"*"),e.qZA()(),e.TgZ(19,"input",13,14),e.NdJ("ngModelChange",function(r){return a.objeto.nome=r})("change",function(){e.CHM(o);const r=e.MAs(20);return a.objeto.nome=r.value.trim(),e.KtG(a.setDadosCadastrais())}),e.qZA(),e.YNc(21,Re,3,2,"div",15),e.qZA(),e.TgZ(22,"div",10)(23,"label",16),e._uU(24,"CNPJ: "),e.TgZ(25,"span",12),e._uU(26,"*"),e.qZA()(),e.TgZ(27,"input",17,18),e.NdJ("ngModelChange",function(r){return a.objeto.cnpj=r})("change",function(){return a.validateCnpj(),a.setDadosCadastrais()}),e.qZA(),e.YNc(29,Be,3,2,"div",15),e.YNc(30,Ge,2,0,"p",19),e.qZA(),e.TgZ(31,"div",10)(32,"label",20),e._uU(33,"E-mail: "),e.TgZ(34,"span",12),e._uU(35,"*"),e.qZA()(),e.TgZ(36,"input",21,22),e.NdJ("ngModelChange",function(r){return a.objeto.email=r})("change",function(){return a.setDadosCadastrais()}),e.qZA(),e.YNc(38,ze,3,2,"div",15),e.qZA()(),e.TgZ(39,"div",23)(40,"div",24),e.YNc(41,Xe,2,0,"p",19),e.YNc(42,$e,4,3,"button",25),e.TgZ(43,"button",26),e.NdJ("click",function(){e.CHM(o);const r=e.MAs(12);return e.KtG(a.next(r))}),e.TgZ(44,"span",27),e._uU(45,"Pr\xf3ximo"),e.qZA(),e._UZ(46,"fa-icon",3),e.qZA()()()()()(),e.YNc(47,Ke,2,0,"ng-template",null,28,e.W1O)}if(2&t){const o=e.MAs(12),p=e.MAs(20),r=e.MAs(28),d=e.MAs(37),u=e.MAs(48);e.xp6(3),e.Q6J("icon",a.faIdCard),e.xp6(16),e.Q6J("ngModel",a.objeto.nome)("ngbPopover",u),e.xp6(2),e.Q6J("ngIf",p.touched&&p.errors),e.xp6(6),e.ekj("ng-invalid",!a.cnpjValid)("ng-valid",a.cnpjValid),e.Q6J("ngModel",a.objeto.cnpj)("mask","00.000.000/0000-00")("min",1)("minlength",14)("maxlength",18)("ngbPopover",u),e.xp6(2),e.Q6J("ngIf",r.touched&&r.errors),e.xp6(1),e.Q6J("ngIf",r.touched&&!a.cnpjValid),e.xp6(6),e.Q6J("email",!0)("ngModel",a.objeto.email)("ngbPopover",u),e.xp6(2),e.Q6J("ngIf",d.touched&&d.errors),e.xp6(3),e.Q6J("ngIf",o.invalid),e.xp6(1),e.Q6J("ngIf",a.isEditPage),e.xp6(1),e.Q6J("disabled",o.invalid||!a.cnpjValid)("title",o.invalid?"Preencha os campos corretamente para continuar":"Pr\xf3ximo passo"),e.xp6(3),e.Q6J("icon",a.faArrowRight)}},dependencies:[T.O5,Z.BN,f._Y,f.Fj,f.JJ,f.JL,f.Q7,f.wO,f.nD,f.c5,f.on,f.On,f.F,B.o8,G.hx]}),i})();var et=s(4506);let H=(()=>{class i{constructor(t,a,o){this.empresaService=t,this.toastr=a,this.alert=o}canActivate(t,a){return!0}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(C.P),e.LFG(A._W),e.LFG(et.c))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var z=s(4429);const tt=function(){return["cadastrar"]};let X=(()=>{class i{constructor(t,a,o,p,r){this.empresaService=t,this.clienteService=a,this.activatedRoute=o,this.router=p,this.table=r,this.faArrowLeft=c.acZ,this.faArrowRight=c.eFW,this.faEllipsisV=c.iV1,this.faUsers=c.FVb,this.faFilter=c.G_j,this.faTimes=c.NBC,this.loading=!1,this.columns=z.lF,this.objeto=new v.oW,this.tableLinks=[],this.subscription=[],this.create=(l=this.clienteService)=>{l.setObject(new z.c1)};var d=this.empresaService.empresa.subscribe(l=>this.objeto=l);this.subscription.push(d),this.activatedRoute.snapshot.pathFromRoot.map(l=>l.routeConfig?.path).join("/").includes("empresas/editar")||(this.columns=this.columns.filter(l=>"ativo"!=l.field));var h=this.table.selected.subscribe(l=>{this.tableLinks=[],l&&(this.tableLinks.push({label:"Editar",routePath:["editar"],paramsFieldName:["id"]}),this.tableLinks.push(l.registroNaoSalvo?{label:"Excluir",routePath:["excluir"],paramsFieldName:["id"]}:{label:l.ativo?"Desabilitar":"Habilitar",routePath:[l.ativo?"desabilitar":"habilitar"],paramsFieldName:["id"]}),this.tableLinks=this.table.encryptParams(this.tableLinks))});this.subscription.push(h)}ngOnDestroy(){this.subscription.forEach(t=>t.unsubscribe())}next(){this.router.navigate(["..","produtos"],{relativeTo:this.activatedRoute})}previous(){this.router.navigate(["..","usuarios"],{relativeTo:this.activatedRoute})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(C.P),e.Y36(w.$),e.Y36(m.gz),e.Y36(m.F0),e.Y36(j.i))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-clientes"]],decls:22,vars:16,consts:[[1,"card"],[1,"card-header","d-flex","align-items-center","py-2"],[1,"title-icon"],[3,"icon"],[1,"card-header-title"],[1,"card-header-subtitle"],[1,"card-body"],[3,"createLink","onCreate","canCreate","list","filterLink","filterTable","paginator","sortTable","menuTable","columns","selectable","tableLinks"],[1,"d-flex","justify-content-between","px-2","mt-auto"],["title","Anteiror",1,"btn","btn-step","btn-step-prev","mt-2",3,"click"],[1,"btn-step-text"],["title","Pr\xf3ximo",1,"btn","btn-step","btn-step-next","mt-2",3,"click"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._UZ(3,"fa-icon",3),e.qZA(),e.TgZ(4,"div")(5,"h3",4),e._uU(6,"Clientes"),e.qZA(),e.TgZ(7,"p",5)(8,"small"),e._uU(9,"Cadastrar um cliente para essa empresa"),e.qZA()()()(),e.TgZ(10,"div",6),e._UZ(11,"app-list-shared",7),e.TgZ(12,"div",8)(13,"button",9),e.NdJ("click",function(){return a.previous()}),e._UZ(14,"fa-icon",3),e.TgZ(15,"span",10),e._uU(16,"Anterior"),e.qZA()(),e.TgZ(17,"button",11),e.NdJ("click",function(){return a.next()}),e.TgZ(18,"span",10),e._uU(19,"Pr\xf3ximo"),e.qZA(),e._UZ(20,"fa-icon",3),e.qZA()()()(),e._UZ(21,"router-outlet")),2&t&&(e.xp6(3),e.Q6J("icon",a.faUsers),e.xp6(8),e.Q6J("createLink",e.DdM(15,tt))("onCreate",a.create)("canCreate",!0)("list",a.objeto.cliente)("filterLink",!0)("filterTable",!0)("paginator",!0)("sortTable",!0)("menuTable",!0)("columns",a.columns)("selectable",!0)("tableLinks",a.tableLinks),e.xp6(3),e.Q6J("icon",a.faArrowLeft),e.xp6(6),e.Q6J("icon",a.faArrowRight))},dependencies:[m.lC,L.o,Z.BN]}),i})();var $=s(8785),K=s(3834),ee=s(4595),te=s(9738),E=s(4409),ie=s(1685),ae=s(8164);const it=function(){return["cadastrar"]};let ne=(()=>{class i{constructor(t,a,o,p,r,d){this.empresaService=t,this.accountService=a,this.userService=o,this.router=p,this.table=r,this.activatedRoute=d,this.faUser=c.FVb,this.faArrowLeft=c.acZ,this.faArrowRight=c.eFW,this.objeto=new v.oW,this.columns=ae.Sf,this.tableLinks=[],this.account=new ie.mR,this.subscription=[],this.create=(g=this.userService)=>{g.setObject(new ae.bo)};var u=this.accountService.account.subscribe(g=>this.account=g??new ie.mR);this.subscription.push(u);var h=this.empresaService.empresa.subscribe(g=>this.objeto=g);this.subscription.push(h),this.activatedRoute.snapshot.pathFromRoot.map(g=>g.routeConfig?.path).join("/").includes("empresas/editar")||(this.columns=this.columns.filter(g=>"ativo"!=g.field));var F=this.table.selected.subscribe(g=>{this.tableLinks=[],g&&(this.tableLinks.push({label:"Editar",routePath:["editar"],paramsFieldName:["id"]}),g.registroNaoSalvo?this.tableLinks.push({label:"Excluir",routePath:["excluir"],paramsFieldName:["id"]}):(this.tableLinks.push({label:g.ativo?"Desabilitar":"Habilitar",routePath:[g.ativo?"desabilitar":"habilitar"],paramsFieldName:["id"]}),this.tableLinks.push({label:"Resetar senha",routePath:["reset-password"],paramsFieldName:["id"]})),this.tableLinks=this.table.encryptParams(this.tableLinks))});this.subscription.push(F)}ngOnDestroy(){this.subscription.forEach(t=>{t.unsubscribe()})}next(){this.router.navigate(["..","clientes"],{relativeTo:this.activatedRoute})}previous(){this.router.navigate(["..","dados-cadastrais"],{relativeTo:this.activatedRoute})}canMenu(){return`(${this.account.perfilAcesso_Id} == ${E.u.Admin}) || (${this.account.perfilAcesso_Id} == ${E.u.Master} && item.perfilAcesso_Id != ${E.u.Admin})`}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(C.P),e.Y36(Q.B),e.Y36(W.i),e.Y36(m.F0),e.Y36(j.i),e.Y36(m.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-usuarios-create"]],decls:22,vars:16,consts:[[1,"card"],[1,"card-header","d-flex","align-items-center","py-2"],[1,"title-icon"],[3,"icon"],[1,"card-header-title"],[1,"card-header-subtitle"],[1,"card-body"],[3,"createLink","onCreate","canCreate","list","filterLink","filterTable","paginator","sortTable","menuTable","columns","tableLinks","selectable"],[1,"d-flex","justify-content-between","px-2","mt-auto"],["title","Anteiror",1,"btn","btn-step","btn-step-prev","mt-2",3,"click"],[1,"btn-step-text"],["title","Pr\xf3ximo",1,"btn","btn-step","btn-step-next","mt-2",3,"click"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._UZ(3,"fa-icon",3),e.qZA(),e.TgZ(4,"div")(5,"h3",4),e._uU(6,"Usu\xe1rios"),e.qZA(),e.TgZ(7,"p",5)(8,"small"),e._uU(9,"Inclua usu\xe1rios dessa empresa para acessar o sistema"),e.qZA()()()(),e.TgZ(10,"div",6),e._UZ(11,"app-list-shared",7),e.TgZ(12,"div",8)(13,"button",9),e.NdJ("click",function(){return a.previous()}),e._UZ(14,"fa-icon",3),e.TgZ(15,"span",10),e._uU(16,"Anterior"),e.qZA()(),e.TgZ(17,"button",11),e.NdJ("click",function(){return a.next()}),e.TgZ(18,"span",10),e._uU(19,"Pr\xf3ximo"),e.qZA(),e._UZ(20,"fa-icon",3),e.qZA()()()(),e._UZ(21,"router-outlet")),2&t&&(e.xp6(3),e.Q6J("icon",a.faUser),e.xp6(8),e.Q6J("createLink",e.DdM(15,it))("onCreate",a.create)("canCreate",!0)("list",a.objeto.account)("filterLink",!1)("filterTable",!0)("paginator",!0)("sortTable",!0)("menuTable",a.canMenu())("columns",a.columns)("tableLinks",a.tableLinks)("selectable",!0),e.xp6(3),e.Q6J("icon",a.faArrowLeft),e.xp6(6),e.Q6J("icon",a.faArrowRight))},dependencies:[m.lC,L.o,Z.BN]}),i})();var se=s(1829),oe=s(2193),re=s(662),le=s(9155),ce=s(6886);const at=function(){return["cadastrar"]};let pe=(()=>{class i{constructor(t,a,o,p,r){this.empresaService=t,this.router=a,this.activatedRoute=o,this.produtoService=p,this.table=r,this.faHandHoldingDollar=c.VPG,this.faArrowLeft=c.acZ,this.faArrowRight=c.eFW,this.objeto=new v.oW,this.columns=ce.Dw,this.tableLinks=[],this.subscription=[],this.create=(l=this.produtoService)=>{l.setObject(new ce.a7)};var d=this.empresaService.empresa.subscribe(l=>this.objeto=l);this.subscription.push(d),this.activatedRoute.snapshot.pathFromRoot.map(l=>l.routeConfig?.path).join("/").includes("empresas/editar")||(this.columns=this.columns.filter(l=>"ativo"!=l.field));var h=this.table.selected.subscribe(l=>{this.tableLinks=[],l&&(this.tableLinks.push({label:"Editar",routePath:["editar"],paramsFieldName:["id"]}),this.tableLinks.push(l.registroNaoSalvo?{label:"Excluir",routePath:["excluir"],paramsFieldName:["id"]}:{label:l.ativo?"Desabilitar":"Habilitar",routePath:[l.ativo?"desabilitar":"habilitar"],paramsFieldName:["id"]}),this.tableLinks=this.table.encryptParams(this.tableLinks))});this.subscription.push(h)}ngOnDestroy(){this.subscription.forEach(t=>t.unsubscribe())}next(){this.router.navigate(["..","setup"],{relativeTo:this.activatedRoute})}previous(){this.router.navigate(["..","clientes"],{relativeTo:this.activatedRoute})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(C.P),e.Y36(m.F0),e.Y36(m.gz),e.Y36(R.m),e.Y36(j.i))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-produtos-create"]],decls:22,vars:16,consts:[[1,"card"],[1,"card-header","d-flex","align-items-center","py-2"],[1,"title-icon"],[3,"icon"],[1,"card-header-title"],[1,"card-header-subtitle"],[1,"card-body"],[3,"createLink","onCreate","canCreate","list","filterTable","paginator","sortTable","menuTable","columns","tableLinks","selectable"],[1,"d-flex","justify-content-between","px-2","mt-auto"],["title","Anteiror",1,"btn","btn-step","btn-step-prev","mt-2",3,"click"],[1,"btn-step-text"],["title","Pr\xf3ximo",1,"btn","btn-step","btn-step-next","mt-2",3,"click"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._UZ(3,"fa-icon",3),e.qZA(),e.TgZ(4,"div")(5,"h3",4),e._uU(6,"Produtos"),e.qZA(),e.TgZ(7,"p",5)(8,"small"),e._uU(9,"Inclua produtos para essa empresa"),e.qZA()()()(),e.TgZ(10,"div",6),e._UZ(11,"app-list-shared",7),e.TgZ(12,"div",8)(13,"button",9),e.NdJ("click",function(){return a.previous()}),e._UZ(14,"fa-icon",3),e.TgZ(15,"span",10),e._uU(16,"Anterior"),e.qZA()(),e.TgZ(17,"button",11),e.NdJ("click",function(){return a.next()}),e.TgZ(18,"span",10),e._uU(19,"Pr\xf3ximo"),e.qZA(),e._UZ(20,"fa-icon",3),e.qZA()()()(),e._UZ(21,"router-outlet")),2&t&&(e.xp6(3),e.Q6J("icon",a.faHandHoldingDollar),e.xp6(8),e.Q6J("createLink",e.DdM(15,at))("onCreate",a.create)("canCreate",!0)("list",a.objeto.produto)("filterTable",!0)("paginator",!0)("sortTable",!0)("menuTable",!0)("canCreate",!0)("columns",a.columns)("tableLinks",a.tableLinks)("selectable",!0),e.xp6(3),e.Q6J("icon",a.faArrowLeft),e.xp6(6),e.Q6J("icon",a.faArrowRight))},dependencies:[m.lC,L.o,Z.BN]}),i})();var de=s(8446),ue=s(343),me=s(9899),he=s(4163),fe=s(6025);function nt(i,n){if(1&i&&(e.TgZ(0,"p",15),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.xp6(1),e.Oqu(t)}}function st(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",16),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.next())}),e.TgZ(1,"span",13),e._uU(2,"Finalizar "),e.qZA(),e._UZ(3,"fa-icon",12),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("disabled",t.loading),e.xp6(3),e.Q6J("icon",t.faCheck)}}const ot=function(){return["cadastrar"]};let ge=(()=>{class i{constructor(t,a,o,p,r,d,u,h,l){this.empresaService=t,this.router=a,this.activatedRoute=o,this.table=p,this.crypto=r,this.menuItems=d,this.toastr=u,this.setupService=h,this.modal=l,this.faWallet=c.X5K,this.faArrowLeft=c.acZ,this.faArrowRight=c.eFW,this.faFilter=c.G_j,this.faTimes=c.NBC,this.faEllipsisV=c.iV1,this.faCheck=c.LEp,this.objeto=new v.oW,this.columns=fe.T7,this.tableLinks=[],this.isEditPage=!1,this.url="",this.loading=!1,this.subscription=[],this.create=(b=this.setupService)=>{b.setObject(new fe.Wj)},this.url=this.activatedRoute.snapshot.pathFromRoot.map(b=>b.routeConfig?.path).join("/"),this.url.includes("empresas/editar")?this.isEditPage=!0:(this.isEditPage=!1,this.columns=this.columns.filter(b=>"ativo"!=b.field));var F=this.empresaService.empresa.subscribe(b=>this.objeto=b);this.subscription.push(F);var g=this.table.loading.subscribe(b=>this.loading=b);this.subscription.push(g);var x=this.table.selected.subscribe(b=>{this.tableLinks=[],b&&(this.tableLinks.push({label:"Editar",routePath:["editar"],paramsFieldName:["id"]}),this.tableLinks.push(b.registroNaoSalvo?{label:"Excluir",routePath:["excluir"],paramsFieldName:["id"]}:{label:b.ativo?"Desabilitar":"Habilitar",routePath:[b.ativo?"desabilitar":"habilitar"],paramsFieldName:["id"]}),this.tableLinks=this.table.encryptParams(this.tableLinks))});this.subscription.push(x)}ngOnDestroy(){this.subscription.forEach(t=>t.unsubscribe())}next(){if(this.menuItems.erro=[],!(this.objeto.nome.trim()&&this.objeto.cnpj.toString().trim()&&this.objeto.cnpj&&this.objeto.email.trim()))return this.menuItems.erro.push("Dados cadastrais inv\xe1lidos."),void this.toastr.error("Dados cadastrais inv\xe1lidos.");let t=Object.assign({},JSON.parse(JSON.stringify(this.objeto)));t.produto=t.produto.map(a=>(delete a.empresa,a.registroNaoSalvo&&(a.id=0),a)),t.carteiraSetup.map(a=>(a.registroNaoSalvo&&(a.id=0),a.carteiraProdutoRel.map(o=>(a.registroNaoSalvo&&(o.carteiraSetup_Id=0),o)),a)),t.cliente.filter(a=>a.registroNaoSalvo).map(a=>(delete a.empresa,a.registroNaoSalvo&&(a.id=0),a)),t.account.filter(a=>a.registroNaoSalvo).map(a=>(a.registroNaoSalvo&&(a.id=0),a)),this.url.includes("empresas/cadastrar")?(0,_.n)(this.empresaService.create(t)).then(a=>{(0,_.n)(this.empresaService.getList()),this.modal.voltar()}).catch(a=>this.menuItems.erro.push((0,N.b)(a))):this.url.includes("empresas/editar")&&(0,_.n)(this.empresaService.edit(t)).then(a=>{(0,_.n)(this.empresaService.getList()),this.modal.voltar()}).catch(a=>this.menuItems.erro.push((0,N.b)(a)))}previous(){this.router.navigate(["..","produtos"],{relativeTo:this.activatedRoute})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(C.P),e.Y36(m.F0),e.Y36(m.gz),e.Y36(j.i),e.Y36(k.w),e.Y36(U.s),e.Y36(A._W),e.Y36(q.A),e.Y36(S.Q))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-setup-create"]],decls:21,vars:17,consts:[[1,"card"],[1,"card-header","d-flex","align-items-center","py-2"],[1,"title-icon"],[1,"pi","pi-wallet"],[1,"card-header-title"],[1,"card-header-subtitle"],[1,"card-body"],[3,"createLink","onCreate","canCreate","list","filterLink","filterTable","paginator","sortTable","menuTable","columns","tableLinks","selectable"],[1,"ms-auto"],["class","text-danger",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","px-2","mt-auto"],["title","Anteiror",1,"btn","btn-step","btn-step-prev","mt-2",3,"click"],[3,"icon"],[1,"btn-step-text"],["class","btn btn-step btn-step-next mt-2","title","Pr\xf3ximo",3,"disabled","click",4,"ngIf"],[1,"text-danger"],["title","Pr\xf3ximo",1,"btn","btn-step","btn-step-next","mt-2",3,"disabled","click"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._UZ(3,"i",3),e.qZA(),e.TgZ(4,"div")(5,"h3",4),e._uU(6,"Carteira Setup"),e.qZA(),e.TgZ(7,"p",5)(8,"small"),e._uU(9,"Inclua um ou mais setups dessa empresa"),e.qZA()()()(),e.TgZ(10,"div",6),e._UZ(11,"app-list-shared",7),e.TgZ(12,"div",8),e.YNc(13,nt,2,1,"p",9),e.qZA(),e.TgZ(14,"div",10)(15,"button",11),e.NdJ("click",function(){return a.previous()}),e._UZ(16,"fa-icon",12),e.TgZ(17,"span",13),e._uU(18,"Anterior"),e.qZA()(),e.YNc(19,st,4,2,"button",14),e.qZA()()(),e._UZ(20,"router-outlet")),2&t&&(e.xp6(11),e.Q6J("createLink",e.DdM(16,ot))("onCreate",a.create)("canCreate",!0)("list",a.objeto.carteiraSetup)("filterLink",!1)("filterTable",!0)("paginator",!0)("sortTable",!0)("menuTable",!0)("canCreate",!0)("columns",a.columns)("tableLinks",a.tableLinks)("selectable",!0),e.xp6(2),e.Q6J("ngForOf",a.menuItems.erro),e.xp6(3),e.Q6J("icon",a.faArrowLeft),e.xp6(3),e.Q6J("ngIf",!a.isEditPage))},dependencies:[T.sg,T.O5,m.lC,L.o,Z.BN]}),i})();var be=s(4458),ve=s(5623),_e=s(4115),Ce=s(8811),rt=s(7119);let Te=(()=>{class i{constructor(t,a,o,p){var r=this;this.activatedRoute=t,this.modal=a,this.empresaService=o,this.crypto=p,this.faTimes=c.NBC,this.modalOpen=!1,this.erro=[],this.loading=!1,this.url="",this.objeto=new v.oW,this.subscription=[],this.routerBack=["../../"],this.routeBackOptions={relativeTo:this.activatedRoute};var d=this.modal.getOpen().subscribe(h=>this.modalOpen=h);this.subscription.push(d),this.url=this.activatedRoute.snapshot.pathFromRoot.map(h=>h.routeConfig?.path).join("/");var u=t.params.subscribe(function(){var h=(0,P.Z)(function*(l){l.empresa_id?(r.objeto.id=r.crypto.decrypt(l.empresa_id),r.objeto=yield(0,_.n)(r.empresaService.get(r.objeto.id))):r.voltar()});return function(l){return h.apply(this,arguments)}}());this.subscription.push(u),setTimeout(()=>{this.modal.setOpen(!0)},200)}ngOnDestroy(){this.subscription.forEach(t=>t.unsubscribe())}voltar(){this.modal.voltar(this.routerBack,this.routeBackOptions)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.gz),e.Y36(S.Q),e.Y36(C.P),e.Y36(k.w))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-deactivated"]],decls:5,vars:4,consts:[[1,"modal"],[1,"modal__bg",3,"click"],[1,"modal__inner",2,"max-width","600px"],[1,"modal__content"],[3,"objeto","service"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.NdJ("click",function(){return a.voltar()}),e.qZA(),e.TgZ(2,"div",2)(3,"div",3),e._UZ(4,"app-shared-deactivated",4),e.qZA()()()),2&t&&(e.ekj("active",a.modalOpen),e.xp6(4),e.Q6J("objeto",a.objeto)("service",a.empresaService))},dependencies:[rt.T]}),i})();const lt=[{path:"",component:Je,children:[{path:"habilitar/:empresa_id",component:Te,title:"Planner - Habilitar empresa"},{path:"desabilitar/:empresa_id",component:Te,title:"Planner - Desabilitar empresa"},{path:"excluir/:empresa_id",component:Ee}]},{path:"editar/:empresa_id",redirectTo:"editar/:empresa_id/dados-cadastrais",pathMatch:"prefix"},{path:"editar/:empresa_id",component:Ye,children:[{path:"dados-cadastrais",component:V},{path:"clientes",component:X,children:[{path:"cadastrar",component:$.G},{path:"editar/:cliente_id",component:K.F},{path:"excluir/:cliente_id",component:ee.T},{path:"habilitar/:cliente_id",component:te.T,title:"Planner - Habilitar cliente"},{path:"desabilitar/:cliente_id",component:te.T,title:"Planner - Desabilitar cliente"}]},{path:"produtos",component:pe,children:[{path:"cadastrar",component:de.G,data:{page:"cadastrar-produto-nova-empresa"}},{path:"editar/:produto_id",component:ue.F},{path:"excluir/:produto_id",component:me.T},{path:"habilitar/:produto_id",component:he.T,title:"Planner - Habilitar produto"},{path:"desabilitar/:produto_id",component:he.T,title:"Planner - Desabilitar produto"}]},{path:"usuarios",component:ne,children:[{path:"cadastrar",component:se.G},{path:"editar/:usuario_id",component:oe.F},{path:"excluir/:usuario_id",component:re.T},{path:"habilitar/:usuario_id",component:le.T,title:"Planner - Habilitar usuario"},{path:"desabilitar/:usuario_id",component:le.T,title:"Planner - Desabilitar usuario"}]},{path:"setup/cadastrar",component:be.G,canActivate:[H]},{path:"setup/editar/:setup_id",component:ve.F},{path:"setup",component:ge,children:[{path:"excluir/:setup_id",component:_e.T},{path:"habilitar/:setup_id",component:Ce.T,title:"Planner - Habilitar setup"},{path:"desabilitar/:setup_id",component:Ce.T,title:"Planner - Desabilitar setup"}]}]},{path:"cadastrar",redirectTo:"cadastrar/dados-cadastrais",pathMatch:"prefix"},{path:"cadastrar",component:Fe,children:[{path:"dados-cadastrais",component:V},{path:"usuarios",component:ne,children:[{path:"cadastrar",component:se.G},{path:"editar/:usuario_id",component:oe.F},{path:"excluir/:usuario_id",component:re.T}]},{path:"clientes",component:X,children:[{path:"cadastrar",component:$.G},{path:"editar/:cliente_id",component:K.F},{path:"excluir/:cliente_id",component:ee.T}]},{path:"produtos",component:pe,children:[{path:"cadastrar",component:de.G},{path:"editar/:produto_id",component:ue.F},{path:"excluir/:produto_id",component:me.T}]},{path:"setup/cadastrar",component:be.G,canActivate:[H]},{path:"setup/editar/:setup_id",component:ve.F},{path:"setup",component:ge,children:[{path:"excluir/:setup_id",component:_e.T}]}]}];let ct=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[m.Bz.forChild(lt),m.Bz]}),i})();var pt=s(47),dt=s(1236);let gt=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[T.ez,J.m8]}),i})();var bt=s(1327);let vt=(()=>{class i{constructor(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-empresas"]],decls:2,vars:0,template:function(t,a){1&t&&(e.TgZ(0,"p"),e._uU(1,"empresas works!"),e.qZA())}}),i})();var _t=s(9880),Ct=s(4698),Tt=s(5593);let Zt=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i,bootstrap:[vt]}),i.\u0275inj=e.cJS({imports:[T.ez,ct,pt.U$,Z.uH,A.Rh,f.u5,B.dT,G.yI.forChild(),dt.q,gt,_t.m,Ct.E,bt.$9,Tt.hJ]}),i})()}}]);