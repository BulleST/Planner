"use strict";(self.webpackChunkplanner=self.webpackChunkplanner||[]).push([[378],{592:(Zt,z,s)=>{s.r(z),s.d(z,{ClientesModule:()=>bt});var v=s(6895),u=s(433),j=s(3868),J=s(1094),S=s(7185),H=s(47),O=s(279),ce=s(5861),C=s(801),B=s(805),b=s(9808),k=s(1956),U=s(4429),y=s(9398),R=s(1685);class w{constructor(){this.id=0,this.planejamento_Id=0,this.montante=0}}class M{constructor(){this.id=0,this.cliente_Id=0,this.cliente=new U.c1,this.account_Id=0,this.account=new R.mR,this.carteiraSetup_Id=void 0,this.carteiraSetup=void 0,this.data="",this.descricao="",this.taxaSelic="",this.taxaIpca="",this.cm=!1,this.rE_Sugerido="",this.rE_Planejado="",this.riscoAssumido="",this.riscoTolerado="",this.sugestao_Baixissimo="",this.sugestao_Baixo="",this.sugestao_Moderado="",this.sugestao_Arrojado="",this.sugestao_SuperArrojado="",this.sugestao_Hedge="",this.sugestao_Total="",this.plano_Baixissimo="",this.plano_Baixo="",this.plano_Moderado="",this.plano_Arrojado="",this.plano_SuperArrojado="",this.plano_Hedge="",this.plano_Total="",this.atual_Total=0,this.atual_RentabilidadeMedia=0,this.atual_RentabilidadeReal=0,this.sugerido_Total=0,this.planoAcao_Total=0,this.planoAcao_RentabilidadeMedia=0,this.planoAcao_RentabilidadeReal=0,this.planejamentoAgregandoValor=new w,this.planejamentoGrafico=[],this.planejamentoInvestimento=[],this.planejamentoProduto=[],this.planejamentoFluxosPontuais=[],this.principaisObjetivos=[]}}var K=s(9876),ge=s(932),W=s(8913),Q=s(1135),_e=s(8505),he=s(9646),D=s(4004),X=s(2340),x=s(9243),ee=s(4409),ne=s(46),e=s(4650),te=s(529);let P=(()=>{class o{constructor(t,n,a,i,r){this.http=t,this.crypto=n,this.accountService=a,this.empresaService=i,this.table=r,this.list=new Q.X([]),this.url=X.N.url,this.objeto=new Q.X(new M),this.empresa=new y.oW,this.account=new R.mR,this.empresa=this.empresaService.object,this.empresaService.empresa.subscribe(p=>this.empresa=p),this.accountService.account.subscribe(p=>this.account=p??new R.mR)}getObject(){let t=localStorage.getItem("planejamento");if(t){let n=this.crypto.decrypt(t);this.objeto.next(n)}else this.setObject(new M);return this.objeto}setObject(t){t.planejamentoAgregandoValor=t.planejamentoAgregandoValor??new w,localStorage.setItem("planejamento",this.crypto.encrypt(t)??""),this.objeto.next(t)}getList(){return this.table.loading.next(!0),this.http.get(`${this.url}/planejamento/all/${this.account.perfilAcesso_Id!=ee.u.Admin?this.account.empresa_Id:this.empresa.id}`).pipe((0,_e.b)({next:n=>(n=n.map(a=>(a.cliente.ativo=!a.cliente.dataDesativado,a)),this.list.next(n),(0,he.of)(n)),complete:()=>{this.table.loading.next(!1)}}))}getByClienteId(t){return this.http.get(`${this.url}/planejamento/${t}`).pipe((0,D.U)(n=>(n.principaisObjetivos=n.principaisObjetivos?n.principaisObjetivos:[],n.planejamentoAgregandoValor=n.planejamentoAgregandoValor??new w,this.setObject(n),n)))}create(t){return t.cliente.empresa_Id=this.account.perfilAcesso_Id!=ee.u.Admin?this.account.empresa_Id:this.empresa.id,t.account_Id=this.account.id,t.cliente.account_Id=this.account.id,this.http.post(`${this.url}/planejamento/`,t).pipe((0,D.U)(a=>(a.planejamentoAgregandoValor=a.planejamentoAgregandoValor??new w,this.setObject(a),a)))}edit(t){return this.http.put(`${this.url}/planejamento/`,t).pipe((0,D.U)(n=>(n.planejamentoAgregandoValor=n.planejamentoAgregandoValor??new w,this.setObject(n),n)))}delete(t){return this.http.delete(`${this.url}/planejamento/${t}`)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(te.eN),e.LFG(x.w),e.LFG(K.B),e.LFG(W.P),e.LFG(ne.i))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var T=s(202),ve=s(453),fe=s(8944);function Ce(o,l){1&o&&e._UZ(0,"app-empresa-select")}const be=function(){return["planner"]};let oe=(()=>{class o{constructor(t,n,a,i,r,p){var g=this;this.table=t,this.crypto=n,this.clienteService=a,this.plannerService=i,this.accountService=r,this.empresaService=p,this.faCity=C.SBo,this.list=[],this.columns=U.lF,this.tableLinks=[],this.empresaSelected=new y.oW,this.subscription=[],this.create=(h=this.plannerService)=>{h.setObject(new M)};var _=this.clienteService.list.subscribe(h=>this.list=h),m=this.accountService.account.subscribe(h=>this.account=h),d=this.empresaService.empresa.subscribe(function(){var h=(0,ce.Z)(function*(Z){g.empresaSelected=Z,0!=Z.id&&(yield(0,b.n)(g.clienteService.getList()))});return function(Z){return h.apply(this,arguments)}}()),A=this.table.selected.subscribe(h=>{h&&(this.tableLinks=[{label:"Ver planner",routePath:["planner"],paramsFieldName:["id"]},{label:h.ativo?"Desabilitar":"Habilitar",routePath:[h.ativo?"desabilitar":"habilitar"],paramsFieldName:["id"]}],this.tableLinks=this.table.encryptParams(this.tableLinks))});this.subscription.push(_),this.subscription.push(m),this.subscription.push(d),this.subscription.push(A),[1,2].includes(this.accountService.accountValue?.perfilAcesso_Id??0)&&(this.columns=Object.assign([],U.lF),this.columns.splice(2,0,{field:"account.email",header:"Cadastrado por",maskType:k.O.undefined,filterType:k.vA.text,filterDisplay:k.w2.menu,filterShowAddButton:!1,filterShowMatchMode:!1,filterMatchMode:B.a6.CONTAINS}))}ngOnDestroy(){this.subscription.forEach(t=>t.unsubscribe())}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(ne.i),e.Y36(x.w),e.Y36(ge.$),e.Y36(P),e.Y36(K.B),e.Y36(W.P))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-list"]],decls:17,vars:17,consts:[[1,"page"],[1,"page__header"],[1,"title-icon"],[3,"icon"],[1,"mr-auto"],[1,"page__header-title"],[1,"page__header-subtitle"],[1,"ml-auto","mb-0","col-xl-3","col-lg-4","col-md-5","col-sm-5","col-12","px-0"],[4,"ngIf"],[1,"page__body"],[3,"createLink","onCreate","canCreate","list","paginator","filterLink","filterTable","sortTable","menuTable","columns","selectable","tableLinks"]],template:function(t,n){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"span",2),e._UZ(3,"fa-icon",3),e.qZA(),e.TgZ(4,"div",4)(5,"h3",5),e._uU(6,"Clientes"),e.qZA(),e.TgZ(7,"p",6)(8,"small"),e._uU(9,"Clientes cadastrados em "),e.TgZ(10,"strong"),e._uU(11),e.qZA()()()(),e.TgZ(12,"div",7),e.YNc(13,Ce,1,0,"app-empresa-select",8),e.qZA()(),e.TgZ(14,"div",9),e._UZ(15,"app-list-shared",10),e.qZA()(),e._UZ(16,"router-outlet")),2&t&&(e.xp6(3),e.Q6J("icon",n.faCity),e.xp6(8),e.Oqu(n.empresaSelected.nome||"Empresa X"),e.xp6(2),e.Q6J("ngIf",n.account&&1==n.account.perfilAcesso_Id),e.xp6(2),e.Q6J("createLink",e.DdM(16,be))("onCreate",n.create)("canCreate",!0)("list",n.list)("paginator",!0)("filterLink",!1)("filterTable",!0)("sortTable",!0)("menuTable",!0)("columns",n.columns)("selectable",!0)("tableLinks",n.tableLinks)("selectable",!0))},dependencies:[v.O5,T.lC,j.BN,ve.o,fe.l]}),o})();var ae=s(2210),Me=s(6025);class Ae{constructor(){this.id=0,this.planejamento_Id=0,this.idade="",this.valor=""}}class Ze{constructor(){this.id=0,this.descricao=""}}var F=s(9535),re=s(9205),N=s(3866),ie=s(2788),q=s(7549),E=s(7897),L=s(9364);const Te=["chartAtivo_Investimento"],Pe=["chartRisco_Investimento"],xe=["chartLiquidez_Investimento"],Ie=["chartAtivo_Produto"],we=["chartRisco_Produto"],qe=["chartLiquidez_Produto"];function ye(o,l){if(1&o&&(e.TgZ(0,"div",10)(1,"p",11),e._uU(2,"Investimento"),e.qZA(),e._UZ(3,"p-chart",12,13),e.qZA()),2&o){const t=e.oxw(2);e.xp6(3),e.Q6J("data",t.chartRiscoData_Investimento)("options",t.chartRiscoOptions_Investimento)}}function Ne(o,l){if(1&o&&(e.TgZ(0,"div",10)(1,"p",11),e._uU(2,"Produto"),e.qZA(),e._UZ(3,"p-chart",12,14),e.qZA()),2&o){const t=e.oxw(2);e.xp6(3),e.Q6J("data",t.chartRiscoData_Produto)("options",t.chartRiscoOptions_Produto)}}function je(o,l){if(1&o&&(e.TgZ(0,"div",6)(1,"p",7),e._uU(2,"Risco"),e.qZA(),e.TgZ(3,"div",8),e.YNc(4,ye,5,2,"div",9),e.YNc(5,Ne,5,2,"div",9),e.qZA()()),2&o){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",t.showInvestimentoRisco),e.xp6(1),e.Q6J("ngIf",t.showProdutoRisco)}}function Je(o,l){if(1&o&&(e.TgZ(0,"div",10)(1,"p",11),e._uU(2,"Investimento"),e.qZA(),e._UZ(3,"p-chart",12,16),e.qZA()),2&o){const t=e.oxw(2);e.xp6(3),e.Q6J("data",t.chartLiquidezData_Investimento)("options",t.chartLiquidezOptions_Investimento)}}function Se(o,l){if(1&o&&(e.TgZ(0,"div",10)(1,"p",11),e._uU(2,"Produto"),e.qZA(),e._UZ(3,"p-chart",12,17),e.qZA()),2&o){const t=e.oxw(2);e.xp6(3),e.Q6J("data",t.chartLiquidezData_Produto)("options",t.chartLiquidezOptions_Produto)}}function Oe(o,l){if(1&o&&(e.TgZ(0,"div",15)(1,"p",7),e._uU(2,"Liquidez"),e.qZA(),e.TgZ(3,"div",8),e.YNc(4,Je,5,2,"div",9),e.YNc(5,Se,5,2,"div",9),e.qZA()()),2&o){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",t.showInvestimentoLiquidez),e.xp6(1),e.Q6J("ngIf",t.showProdutoLiquidez)}}function ke(o,l){if(1&o&&(e.TgZ(0,"div",10)(1,"p",11),e._uU(2,"Investimento"),e.qZA(),e._UZ(3,"p-chart",12,19),e.qZA()),2&o){const t=e.oxw(2);e.xp6(3),e.Q6J("data",t.chartAtivoData_Investimento)("options",t.chartAtivoOptions_Investimento)}}function Ue(o,l){if(1&o&&(e.TgZ(0,"div",10)(1,"p",11),e._uU(2,"Produto"),e.qZA(),e._UZ(3,"p-chart",12,20),e.qZA()),2&o){const t=e.oxw(2);e.xp6(3),e.Q6J("data",t.chartAtivoData_Produto)("options",t.chartAtivoOptions_Produto)}}function Re(o,l){if(1&o&&(e.TgZ(0,"div",18)(1,"p",7),e._uU(2,"Ativo"),e.qZA(),e.TgZ(3,"div",8),e.YNc(4,ke,5,2,"div",9),e.YNc(5,Ue,5,2,"div",9),e.qZA()()),2&o){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",t.showInvestimentoAtivo),e.xp6(1),e.Q6J("ngIf",t.showProdutoAtivo)}}let Qe=(()=>{class o{constructor(t){this.dropdown=t,this.open=!0,this.planner=new M,this.ativos=[],this.riscos=[],this.liquidez=[],this.colors=["#36a2eb","#ff6384","#ff9f40","#9966ff","#ffcd56","#c9cbcf","#4bc0c0"],this.produtoTotal=0,this.investimentoTotal=0,this.showInvestimentoRisco=!1,this.showInvestimentoLiquidez=!1,this.showInvestimentoAtivo=!1,this.showProdutoRisco=!1,this.showProdutoLiquidez=!1,this.showProdutoAtivo=!1,this.chartOptions={plugins:{legend:{position:"bottom",display:!1},colors:{enabled:!1}},animations:{tension:{duration:1e3,easing:"linear",from:1,to:0,loop:!0}}}}ngOnChanges(t){t.open&&(this.open=t.open.currentValue),t.planner&&(this.planner=t.planner.currentValue,this.planner.planejamentoProduto.length>0&&(this.produtoTotal=this.planner.planejamentoProduto.map(n=>n.sugerido).reduce((n,a)=>n+a)),this.planner.planejamentoInvestimento.length>0&&(this.investimentoTotal=this.planner.planejamentoInvestimento.map(n=>n.montanteAtual).reduce((n,a)=>n+a)),this.setChartRisco_Investimento(),this.setChartLiquidez_Investimento(),this.setChartAtivo_Investimento(),this.setChartRisco_Produto(),this.setChartLiquidez_Produto(),this.setChartAtivo_Produto())}voltar(){setTimeout(()=>{this.open=!1},300)}setChartRisco_Produto(){this.chartRiscoOptions_Produto=JSON.parse(JSON.stringify(this.chartOptions)),this.chartRiscoOptions_Produto.plugins.tooltip={callbacks:{afterBody:a=>"R$ "+a[0].element.$context.raw.sugerido}},this.chartRiscoOptions_Produto.parsing={key:"percentual"};var n,t=[];this.showProdutoRisco=t&&t.length>0,this.planner.planejamentoProduto.forEach(a=>{var i=t.findIndex(r=>a.produto.tipoRisco_Id==r.tipoRisco_Id);-1==i?n={tipoRisco_Id:a.produto.tipoRisco?a.produto.tipoRisco_Id:0,tipoRisco:a.produto.tipoRisco?a.produto.tipoRisco:void 0,sugerido:a.sugerido,label:a.produto.tipoRisco?a.produto.tipoRisco.nome:"-"}:(n=t[i]).sugerido+=a.sugerido,n.percentual=n.sugerido/this.produtoTotal*100,t.splice(i,-1==i?0:1,n)}),this.chartRiscoData_Produto={labels:t.map(a=>a.tipoRisco?a.tipoRisco.nome:"-"),datasets:[{label:t.map(a=>a.tipoRisco?a.tipoRisco.nome:"-"),data:t,backgroundColor:this.colors,hoverOffset:4}]}}setChartLiquidez_Produto(){this.chartLiquidezOptions_Produto=JSON.parse(JSON.stringify(this.chartOptions)),this.chartLiquidezOptions_Produto.plugins.tooltip={callbacks:{afterBody:a=>"R$ "+a[0].element.$context.raw.sugerido}},this.chartLiquidezOptions_Produto.parsing={key:"percentual"};var n,t=[];this.showProdutoLiquidez=t&&t.length>0,this.planner.planejamentoProduto.forEach(a=>{var i=t.findIndex(r=>a.produto.tipoLiquidez_Id==r.tipoLiquidez_Id);-1==i?n={tipoLiquidez_Id:a.produto.tipoLiquidez?a.produto.tipoLiquidez_Id:0,tipoLiquidez:a.produto.tipoLiquidez?a.produto.tipoLiquidez:void 0,sugerido:a.sugerido,label:a.produto.tipoLiquidez?a.produto.tipoLiquidez.nome:"-"}:(n=t[i]).sugerido+=a.sugerido,n.percentual=n.sugerido/this.produtoTotal*100,t.splice(i,-1==i?0:1,n)}),this.chartLiquidezData_Produto={labels:t.map(a=>a.tipoLiquidez?a.tipoLiquidez.nome:"-"),datasets:[{label:t.map(a=>a.tipoLiquidez?a.tipoLiquidez.nome:"-"),data:t,backgroundColor:this.colors,hoverOffset:4}]}}setChartAtivo_Produto(){this.chartAtivoOptions_Produto=JSON.parse(JSON.stringify(this.chartOptions)),this.chartAtivoOptions_Produto.plugins.tooltip={callbacks:{afterBody:a=>"R$ "+a[0].element.$context.raw.sugerido}},this.chartAtivoOptions_Produto.parsing={key:"percentual"};var n,t=[];this.showProdutoAtivo=t&&t.length>0,this.planner.planejamentoProduto.forEach(a=>{var i=t.findIndex(r=>a.produto.tipoAtivo_Id==r.tipoAtivo_Id);-1==i?n={tipoAtivo_Id:a.produto.tipoAtivo?a.produto.tipoAtivo_Id:0,tipoAtivo:a.produto.tipoAtivo?a.produto.tipoAtivo:void 0,sugerido:a.sugerido,label:a.produto.tipoAtivo?a.produto.tipoAtivo.nome:"-"}:(n=t[i]).sugerido+=a.sugerido,n.percentual=n.sugerido/this.produtoTotal*100,t.splice(i,-1==i?0:1,n)}),this.chartAtivoData_Produto={labels:t.map(a=>a.tipoAtivo?a.tipoAtivo.nome:"-"),datasets:[{label:t.map(a=>a.tipoAtivo?a.tipoAtivo.nome:"-"),data:t,backgroundColor:this.colors,hoverOffset:4}]}}setChartRisco_Investimento(){this.chartRiscoOptions_Investimento=JSON.parse(JSON.stringify(this.chartOptions)),this.chartRiscoOptions_Investimento.plugins.tooltip={callbacks:{afterBody:a=>"R$ "+a[0].element.$context.raw.montanteAtual}},this.chartRiscoOptions_Investimento.parsing={key:"percentual"};var n,t=[];this.showInvestimentoRisco=t&&t.length>0,this.planner.planejamentoInvestimento.forEach(a=>{var i=t.findIndex(r=>a.investimento.tipoRisco_Id==r.tipoRisco_Id);-1==i?n={tipoRisco_Id:a.investimento.tipoRisco?a.investimento.tipoRisco_Id:0,tipoRisco:a.investimento.tipoRisco?a.investimento.tipoRisco:void 0,montanteAtual:a.montanteAtual,label:a.investimento.tipoRisco?a.investimento.tipoRisco.nome:"-"}:(n=t[i]).montanteAtual+=a.montanteAtual,n.percentual=n.montanteAtual/this.investimentoTotal*100,t.splice(i,-1==i?0:1,n)}),this.chartRiscoData_Investimento={labels:t.map(a=>a.tipoRisco?a.tipoRisco.nome:"-"),datasets:[{label:t.map(a=>a.tipoRisco?a.tipoRisco.nome:"-"),data:t,backgroundColor:this.colors,hoverOffset:4}]}}setChartLiquidez_Investimento(){this.chartLiquidezOptions_Investimento=JSON.parse(JSON.stringify(this.chartOptions)),this.chartLiquidezOptions_Investimento.plugins.tooltip={callbacks:{afterBody:a=>"R$ "+a[0].element.$context.raw.montanteAtual}},this.chartLiquidezOptions_Investimento.parsing={key:"percentual"};var n,t=[];this.showInvestimentoLiquidez=t&&t.length>0,this.planner.planejamentoInvestimento.forEach(a=>{var i=t.findIndex(r=>a.investimento.tipoLiquidez_Id==r.tipoLiquidez_Id);-1==i?n={tipoLiquidez_Id:a.investimento.tipoLiquidez?a.investimento.tipoLiquidez_Id:0,tipoLiquidez:a.investimento.tipoLiquidez?a.investimento.tipoLiquidez:void 0,montanteAtual:a.montanteAtual,label:a.investimento.tipoLiquidez?a.investimento.tipoLiquidez.nome:"-"}:(n=t[i]).montanteAtual+=a.montanteAtual,n.percentual=n.montanteAtual/this.investimentoTotal*100,t.splice(i,-1==i?0:1,n)}),this.chartLiquidezData_Investimento={labels:t.map(a=>a.tipoLiquidez?a.tipoLiquidez.nome:"-    "),datasets:[{label:t.map(a=>a.tipoLiquidez?a.tipoLiquidez.nome:"-    "),data:t,backgroundColor:this.colors,hoverOffset:4}]}}setChartAtivo_Investimento(){this.chartAtivoOptions_Investimento=JSON.parse(JSON.stringify(this.chartOptions)),this.chartAtivoOptions_Investimento.plugins.tooltip={callbacks:{afterBody:a=>"R$ "+a[0].element.$context.raw.montanteAtual}},this.chartAtivoOptions_Investimento.parsing={key:"percentual"};var n,t=[];this.showInvestimentoAtivo=t&&t.length>0,this.planner.planejamentoInvestimento.forEach(a=>{var i=t.findIndex(r=>a.investimento.tipoAtivo_Id==r.tipoAtivo_Id);-1==i?n={tipoAtivo_Id:a.investimento.tipoAtivo_Id,tipoAtivo:a.investimento.tipoAtivo,montanteAtual:a.montanteAtual,label:a.investimento.tipoAtivo.nome}:(n=t[i]).montanteAtual+=a.montanteAtual,n.percentual=n.montanteAtual/this.investimentoTotal*100,t.splice(i,-1==i?0:1,n)}),this.chartAtivoData_Investimento={labels:t.map(a=>a.tipoAtivo.nome),datasets:[{label:t.map(a=>a.tipoAtivo.nome),data:t,backgroundColor:this.colors,hoverOffset:4}]}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(F.V))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-grafico-comparativo"]],viewQuery:function(t,n){if(1&t&&(e.Gf(Te,5),e.Gf(Pe,5),e.Gf(xe,5),e.Gf(Ie,5),e.Gf(we,5),e.Gf(qe,5)),2&t){let a;e.iGM(a=e.CRH())&&(n.chartAtivo_Investimento=a.first),e.iGM(a=e.CRH())&&(n.chartRisco_Investimento=a.first),e.iGM(a=e.CRH())&&(n.chartLiquidez_Investimento=a.first),e.iGM(a=e.CRH())&&(n.chartAtivo_Produto=a.first),e.iGM(a=e.CRH())&&(n.chartRisco_Produto=a.first),e.iGM(a=e.CRH())&&(n.chartLiquidez_Produto=a.first)}},inputs:{open:"open",planner:"planner"},features:[e.TTD],decls:8,vars:3,consts:[[1,"home__container","col-12"],[1,"home__container-header","mb-2"],[1,"d-flex","flex-wrap"],["class","col-lg-4 col-md-4 col-sm-12 col-12 mb-4 ps-md-0",4,"ngIf"],["class","col-lg-4 col-md-4 col-sm-12 col-12 mb-4 px-sm-0",4,"ngIf"],["class","col-lg-4 col-md-4 col-sm-12 col-12 mb-4 pe-md-0",4,"ngIf"],[1,"col-lg-4","col-md-4","col-sm-12","col-12","mb-4","ps-md-0"],[1,"card-header","border","text-center","font-weight-bold","w-100"],[1,"card","card-body","rounded-0","d-flex","flex-wrap","flex-row","p-0","pt-4"],["class","col-sm-6 col-6 px-1",4,"ngIf"],[1,"col-sm-6","col-6","px-1"],[1,"text-center","font-weight-bold","w-100","mb-2"],["type","pie",3,"data","options"],["chartRisco_Investimento",""],["chartRisco_Produto",""],[1,"col-lg-4","col-md-4","col-sm-12","col-12","mb-4","px-sm-0"],["chartLiquidez_Investimento",""],["chartLiquidez_Produto",""],[1,"col-lg-4","col-md-4","col-sm-12","col-12","mb-4","pe-md-0"],["chartAtivo_Investimento",""],["chartAtivo_Produto",""]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h6"),e._uU(3,"Comparativo"),e.qZA()(),e.TgZ(4,"div",2),e.YNc(5,je,6,2,"div",3),e.YNc(6,Oe,6,2,"div",4),e.YNc(7,Re,6,2,"div",5),e.qZA()()),2&t&&(e.xp6(5),e.Q6J("ngIf",n.showInvestimentoRisco||n.showProdutoRisco),e.xp6(1),e.Q6J("ngIf",n.showInvestimentoLiquidez||n.showProdutoLiquidez),e.xp6(1),e.Q6J("ngIf",n.showInvestimentoAtivo||n.showProdutoAtivo))},dependencies:[v.O5,L.C],styles:['.modal__bg-grafico[_ngcontent-%COMP%]{opacity:0;visibility:hidden;transition:.5s;position:fixed;z-index:1;background:#00000030}.modal__bg-grafico.active[_ngcontent-%COMP%]{opacity:1;visibility:visible}.modal-grafico.modal[_ngcontent-%COMP%]{position:absolute;top:0;left:auto;right:0;transform:translateY(50px);width:90%;max-width:1100px;height:auto;max-height:90vw;display:flex;align-items:center;justify-content:end;z-index:2;overflow:visible;opacity:1;visibility:visible}.modal-grafico.modal.active[_ngcontent-%COMP%]{z-index:1;transition:.5s}.navigation-open[_ngcontent-%COMP%]   .modal-grafico.modal[_ngcontent-%COMP%]{max-width:900px}.modal-grafico[_ngcontent-%COMP%]   .modal__inner[_ngcontent-%COMP%]{position:absolute;width:0;max-width:100%;top:0;right:0;left:auto;transform:none;overflow:visible;box-shadow:2px 2px 4px #00000069;transition:1s,1s opacity 3s,1s visibility 2s}.active.modal-grafico[_ngcontent-%COMP%]   .modal__inner[_ngcontent-%COMP%]{width:100%;transition:1s;transition:1s,1s opacity 3s,1s visibility 3s}.modal-grafico[_ngcontent-%COMP%]   .modal__inner[_ngcontent-%COMP%]   .modal-arrow[_ngcontent-%COMP%]{position:absolute;right:0;transform:translateY(-100%);z-index:1005;top:1px;width:15px;height:15px;filter:drop-shadow(0px -2px 1px rgba(0,0,0,.4));border:#0000008f;opacity:0;transition:.3s}.modal-grafico.active[_ngcontent-%COMP%]   .modal__inner[_ngcontent-%COMP%]   .modal-arrow[_ngcontent-%COMP%]{opacity:1;right:107px}.modal-grafico[_ngcontent-%COMP%]   .modal__inner[_ngcontent-%COMP%]   .modal-arrow[_ngcontent-%COMP%]:before{content:"";background:var(--primary);background-color:#fff;width:15px;height:15px;clip-path:polygon(51% 39%,0% 100%,100% 100%);position:relative;display:flex}.modal-grafico[_ngcontent-%COMP%]   .modal__content[_ngcontent-%COMP%]{max-height:80vh;overflow:auto}.modal-grafico[_ngcontent-%COMP%]   .modal__header[_ngcontent-%COMP%]{background-color:var(--primary);background-color:#fff}.modal-grafico[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{background-color:var(--primary);background-color:#fff;color:#fff;opacity:1;position:static;margin-left:auto;width:auto;height:auto;margin-right:15px}.modal-grafico[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:15px}']}),o})();var le=s(4551);const De=["chartPatrimonioIdade"];let Fe=(()=>{class o{constructor(t){this.plannerService=t,this.planner=new M,this.chartSize={"chart-capital-segurado":{width:"0",height:"0"},"chart-patrimonio-idade":{width:"0",height:"0"}},this.subscription=[];var n=this.plannerService.objeto.subscribe(a=>{this.planner=a,this.setChartPatrimonioIdade()});this.subscription.push(n)}ngOnDestroy(){this.subscription.forEach(t=>t.unsubscribe())}ngOnChanges(t){t.planner&&(this.planner=t.planner.currentValue,this.planner.planejamentoGrafico.length>0&&this.setChartPatrimonioIdade())}onResize(t){this.setChartWidth("chart-capital-segurado"),this.setChartWidth("chart-patrimonio-idade")}setChartWidth(t){let n=window.innerWidth,a=window.innerHeight,i=$("#"+t).width()??0,r=$("#"+t).height()??0,g=100/a;this.chartSize[t].width=(100/n*i).toString()+"vw",this.chartSize[t].height=(g*r).toString()+"vh"}setChartPatrimonioIdade(){this.setChartWidth("chart-patrimonio-idade"),this.planner.planejamentoGrafico.sort((t,n)=>t.idade-n.idade),this.chartPatrimonioIdadeData={labels:this.planner.planejamentoGrafico.map(t=>t.idade),datasets:[{type:"line",label:"Planejado",data:this.planner.planejamentoGrafico.map(t=>t.valorPlanejado),backgroundColor:"#242424",borderColor:"#2424247a"},{type:"bar",label:"Realidade Atual",data:this.planner.planejamentoGrafico.map(t=>t.valorAtual),backgroundColor:"#2d7a95"}]},this.chartPatrimonioIdadeOptions={plugins:{title:{display:!0,text:"Planejado x Realidade Atual",font:{size:20},color:le.w.primary},subtitle:{display:!1,text:"Planejado x Realidade Atual",font:{size:22},color:le.w.grey},legend:{position:"top"}},scales:{xAxes:{min:0,max:100,suggestedMax:100,display:!0,title:{text:"Idade",display:!0,align:"start",font:{weight:"bold"}}},yAxes:{title:{text:"Valor",display:!0,align:"start",font:{weight:"bold"}}}}}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(P))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-patrimonio-por-idade"]],viewQuery:function(t,n){if(1&t&&e.Gf(De,5),2&t){let a;e.iGM(a=e.CRH())&&(n.chartPatrimonioIdade=a.first)}},hostBindings:function(t,n){1&t&&e.NdJ("resize",function(i){return n.onResize(i)},!1,e.Jf7)},inputs:{planner:"planner"},features:[e.TTD],decls:7,vars:4,consts:[[1,"home__container"],[1,"home__container-header","mb-2"],["id","chart-patrimonio-idade",1,"form-row","chart-container"],[3,"data","options","width","height"],["chartPatrimonioIdade",""]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h6"),e._uU(3,"Patrim\xf4nio por Idade"),e.qZA()(),e.TgZ(4,"div",2),e._UZ(5,"p-chart",3,4),e.qZA()()),2&t&&(e.xp6(5),e.Q6J("data",n.chartPatrimonioIdadeData)("options",n.chartPatrimonioIdadeOptions)("width",n.chartSize["chart-patrimonio-idade"].width)("height",n.chartSize["chart-patrimonio-idade"].height))},dependencies:[L.C]}),o})();const Ee=["chartCapitalSegurado"],Le=["form"],Ye=["dataNascimento"];function $e(o,l){if(1&o&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&o){const t=l.$implicit;e.Q6J("ngValue",t.id),e.xp6(1),e.hij("",t.descricao," ")}}function Ge(o,l){if(1&o&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&o){const t=l.$implicit;e.Q6J("ngValue",t.id),e.xp6(1),e.Oqu(t.descricao)}}function Ve(o,l){if(1&o&&(e.TgZ(0,"p",17)(1,"small"),e._uU(2),e.qZA()()),2&o){const t=e.oxw(2);e.xp6(2),e.hij("Data m\xednima \xe9 ",t.dataNascimentoMin,"")}}function ze(o,l){if(1&o&&(e.TgZ(0,"p",17)(1,"small"),e._uU(2),e.qZA()()),2&o){const t=e.oxw(2);e.xp6(2),e.hij("Data m\xe1xima \xe9 ",t.dataNascimentoMax,"")}}function He(o,l){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,Ve,3,1,"p",213),e.YNc(2,ze,3,1,"p",213),e.qZA()),2&o){e.oxw();const t=e.MAs(70);e.xp6(1),e.Q6J("ngIf",t.errors.min),e.xp6(1),e.Q6J("ngIf",t.errors.max)}}function Be(o,l){1&o&&(e.TgZ(0,"p",17),e._uU(1,"Valor m\xednimo \xe9 1."),e.qZA())}function Ke(o,l){1&o&&(e.TgZ(0,"p",17),e._uU(1,"Valor m\xe1ximo \xe9 100.000.000."),e.qZA())}function We(o,l){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,Be,2,0,"p",213),e.YNc(2,Ke,2,0,"p",213),e.qZA()),2&o){e.oxw();const t=e.MAs(100);e.xp6(1),e.Q6J("ngIf",t.errors.min),e.xp6(1),e.Q6J("ngIf",t.errors.max)}}function Xe(o,l){1&o&&(e.TgZ(0,"p",17),e._uU(1,"Valor m\xednimo \xe9 1."),e.qZA())}function en(o,l){1&o&&(e.TgZ(0,"p",17),e._uU(1,"Valor m\xe1ximo \xe9 100.000.000."),e.qZA())}function nn(o,l){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,Xe,2,0,"p",213),e.YNc(2,en,2,0,"p",213),e.qZA()),2&o){e.oxw();const t=e.MAs(108);e.xp6(1),e.Q6J("ngIf",t.errors.min),e.xp6(1),e.Q6J("ngIf",t.errors.max)}}function tn(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td",104)(2,"input",214,45),e.NdJ("ngModelChange",function(a){const r=e.CHM(t).$implicit;return e.KtG(r.idade=a)})("keyup.arrowup",function(){const i=e.CHM(t).$implicit,r=e.MAs(3),p=e.oxw();return e.KtG(i.idade=p.arrowUp(r.value))})("keyup.arrowdown",function(){const i=e.CHM(t).$implicit,r=e.MAs(3),p=e.oxw();return e.KtG(i.idade=p.arrowDown(r.value))})("change",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.saveData())}),e.qZA()(),e.TgZ(4,"td")(5,"input",215,216),e.NdJ("ngModelChange",function(a){const r=e.CHM(t).$implicit;return e.KtG(r.valor=a)})("keyup.arrowup",function(){const i=e.CHM(t).$implicit,r=e.MAs(6),p=e.oxw();return e.KtG(i.valor=p.arrowUp(r.value))})("keyup.arrowdown",function(){const i=e.CHM(t).$implicit,r=e.MAs(6),p=e.oxw();return e.KtG(i.valor=p.arrowDown(r.value,!0))})("change",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.saveData())}),e.qZA()(),e.TgZ(7,"td",217)(8,"button",218),e.NdJ("click",function(){const i=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.removerFluxoPontual(i))}),e._UZ(9,"fa-icon",102),e.qZA()()()}if(2&o){const t=l.$implicit,n=l.index,a=e.MAs(3),i=e.MAs(6),r=e.oxw(),p=e.MAs(461);e.xp6(2),e.MGl("id","idade-",n,"")("name","idade-",n,""),e.Q6J("ngModel",t.idade)("ngbPopover",p)("disablePopover",null==a.errors),e.xp6(3),e.MGl("id","valor",n,"")("name","valor",n,""),e.Q6J("ngModel",t.valor)("ngbPopover",p)("disablePopover",null==i.errors),e.xp6(4),e.Q6J("icon",r.faTrash)}}function on(o,l){1&o&&(e.TgZ(0,"tr")(1,"td",219),e._uU(2,"Nenhum registro"),e.qZA()())}function an(o,l){1&o&&(e.TgZ(0,"tr",93)(1,"th",220),e._uU(2,"Investimento"),e.qZA(),e.TgZ(3,"th",108),e._uU(4,"Custos/Taxas"),e.qZA(),e.TgZ(5,"th",108),e._uU(6,"Rentabilidade"),e.qZA(),e.TgZ(7,"th",108),e._uU(8,"Rentab. Liquida"),e.qZA(),e.TgZ(9,"th",108),e._uU(10,"Montante Atual"),e.qZA(),e._UZ(11,"th",221),e.qZA())}function rn(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td",165)(2,"span",222),e._uU(3),e.qZA()(),e.TgZ(4,"td")(5,"app-input-number",223),e.NdJ("valueChanges",function(a){const r=e.CHM(t).$implicit,p=e.oxw();return r.custosTaxas=a,e.KtG(p.saveData())}),e.qZA()(),e.TgZ(6,"td")(7,"app-input-number",223),e.NdJ("valueChanges",function(a){const r=e.CHM(t).$implicit,p=e.oxw();return r.rentabilidade=a,e.KtG(p.saveData())}),e.qZA()(),e.TgZ(8,"td")(9,"app-input-number",224),e.NdJ("valueChanges",function(a){const r=e.CHM(t).$implicit;return e.KtG(r.rentabilidadeLiquida=a)}),e.qZA()(),e.TgZ(10,"td")(11,"app-input-number",225),e.NdJ("valueChanges",function(a){const r=e.CHM(t).$implicit;return e.KtG(r.montanteAtual=a)}),e.qZA()(),e.TgZ(12,"td",221)(13,"a",226),e.NdJ("click",function(){const i=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.removerInvestimento(i))}),e._UZ(14,"fa-icon",102),e.qZA()()()}if(2&o){const t=l.$implicit,n=l.rowIndex,a=e.oxw();e.xp6(3),e.Oqu(t.investimento.descricao),e.xp6(2),e.Q6J("valueInput",t.custosTaxas)("inputId","investimento-custosTaxas-"+n)("mask","separator.2")("min",0)("max",100)("showErrorMessage",!1)("allowNegativeNumbers",!1)("required",!0),e.xp6(2),e.Q6J("valueInput",t.rentabilidade)("inputId","investimento-rentabilidade-"+n)("mask","separator.2")("min",0)("max",100)("showErrorMessage",!1)("allowNegativeNumbers",!1)("required",!0),e.xp6(2),e.Q6J("valueInput",t.rentabilidadeLiquida)("inputId","investimento-rentabilidadeLiquida-"+n)("mask","separator.2")("min",0)("max",100)("showErrorMessage",!1)("allowNegativeNumbers",!1)("readonly",!0)("disabled",!0),e.xp6(2),e.Q6J("valueInput",t.montanteAtual)("inputId","investimento-montanteAtual-"+n)("mask","separator.2")("min",0)("required",!0)("showErrorMessage",!1)("allowNegativeNumbers",!1),e.xp6(3),e.Q6J("icon",a.faTrash)}}function ln(o,l){if(1&o&&(e.TgZ(0,"tr")(1,"td",228)(2,"small")(3,"b"),e._uU(4,"Total"),e.qZA()()(),e._UZ(5,"td")(6,"td")(7,"td"),e.TgZ(8,"td",229),e._uU(9),e.ALo(10,"mask"),e.qZA(),e._UZ(11,"td"),e.qZA()),2&o){const t=e.oxw(2);e.ekj("bg-danger",t.somaInvestimentos.somaSugerido<0||t.somaInvestimentos.somaPlanoAcao<0),e.xp6(9),e.hij("R$ ",e.Dn7(10,3,t.somaInvestimentos.somaMontanteAtual,"separator.2","."),"")}}function sn(o,l){if(1&o&&e.YNc(0,ln,12,7,"tr",227),2&o){const t=e.oxw();e.Q6J("ngIf",t.planner.planejamentoInvestimento.length>0)}}function pn(o,l){1&o&&(e.TgZ(0,"tr"),e._UZ(1,"td"),e.TgZ(2,"td",230),e._uU(3," Nenhum registro "),e.qZA(),e._UZ(4,"td"),e.qZA()),2&o&&(e.xp6(2),e.uIk("colspan",4))}function dn(o,l){if(1&o&&(e.TgZ(0,"span",234),e._uU(1," Inativo "),e.qZA()),2&o){e.oxw();const t=e.MAs(5);e.Q6J("ngbPopover",t)}}function un(o,l){if(1&o&&(e.TgZ(0,"div",235),e._uU(1),e.ALo(2,"date"),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.hij("Desativado em ",e.Dn7(2,1,t.dataDesativado,"dd/MM/yyyy","UTC")," ")}}function mn(o,l){if(1&o&&(e.TgZ(0,"div",231)(1,"span"),e._uU(2),e.qZA(),e.YNc(3,dn,2,1,"span",232),e.YNc(4,un,3,5,"ng-template",null,233,e.W1O),e.qZA()),2&o){const t=l.$implicit;e.xp6(2),e.Oqu(t.nome),e.xp6(1),e.Q6J("ngIf",t.dataDesativado)}}function cn(o,l){1&o&&(e.TgZ(0,"span"),e._uU(1,"Recarregar"),e.qZA())}function gn(o,l){1&o&&(e.TgZ(0,"span"),e._uU(1,"Carregar"),e.qZA())}function _n(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"button",236),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),i=e.MAs(13);return e.KtG(a.carregarProdutos(i))}),e.YNc(1,cn,2,0,"span",41),e.YNc(2,gn,2,0,"span",41),e.TgZ(3,"span"),e._uU(4,"\xa0 produtos"),e.qZA()()}if(2&o){const t=e.oxw(),n=e.MAs(13);e.Gre("btn btn-primary ml-1 d-flex align-items-center ",n.invalid||t.loading?"disabled-button":"",""),e.Q6J("disabled",n.invalid||t.loading),e.xp6(1),e.Q6J("ngIf",!t.mudouCarteiraSetup),e.xp6(1),e.Q6J("ngIf",t.mudouCarteiraSetup)}}const hn=function(){return["produto"]};function vn(o,l){1&o&&(e.TgZ(0,"a",237),e._uU(1," Adicionar outros produtos "),e.qZA()),2&o&&e.Q6J("routerLink",e.DdM(1,hn))}function fn(o,l){1&o&&(e.TgZ(0,"p",238),e._uU(1,"* Insira um investimento para adicionar um produto"),e.qZA())}function Cn(o,l){1&o&&(e.TgZ(0,"tr",93)(1,"th",239),e._uU(2,"Produto"),e.qZA(),e.TgZ(3,"th",108),e._uU(4,"Custos/Taxas"),e.qZA(),e.TgZ(5,"th",108),e._uU(6,"Percentual"),e.qZA(),e.TgZ(7,"th",108),e._uU(8,"Rentabilidade"),e.qZA(),e.TgZ(9,"th",108),e._uU(10,"Rentab. Liquida"),e.qZA(),e.TgZ(11,"th",108),e._uU(12,"Montante Sugerido"),e.qZA(),e.TgZ(13,"th",108),e._uU(14,"Plano de A\xe7\xe3o"),e.qZA(),e._UZ(15,"th",221),e.qZA())}function bn(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td",228)(2,"small")(3,"b"),e._uU(4),e.qZA()()(),e.TgZ(5,"td")(6,"app-input-number",240),e.NdJ("valueChanges",function(a){const r=e.CHM(t).$implicit,p=e.oxw();return r.custosTaxas=a,e.KtG(p.saveData())}),e.qZA()(),e.TgZ(7,"td")(8,"app-input-number",224),e.NdJ("valueChanges",function(a){const r=e.CHM(t).$implicit;return e.KtG(r.percentual=a)}),e.qZA()(),e.TgZ(9,"td")(10,"app-input-number",240),e.NdJ("valueChanges",function(a){const r=e.CHM(t).$implicit,p=e.oxw();return r.rentabilidade=a,e.KtG(p.saveData())}),e.qZA()(),e.TgZ(11,"td")(12,"app-input-number",224),e.NdJ("valueChanges",function(a){const r=e.CHM(t).$implicit;return e.KtG(r.rentabilidadeLiquida=a)}),e.qZA()(),e.TgZ(13,"td")(14,"app-input-number",241),e.NdJ("valueChanges",function(a){const r=e.CHM(t).$implicit;return e.KtG(r.sugerido=a)}),e.qZA()(),e.TgZ(15,"td",108)(16,"app-input-number",242),e.NdJ("valueChanges",function(a){const r=e.CHM(t).$implicit,p=e.oxw();return r.planoAcao=a,e.KtG(p.saveData())}),e.qZA()(),e.TgZ(17,"td",221)(18,"a",226),e.NdJ("click",function(){const i=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.removerProduto(i))}),e._UZ(19,"fa-icon",102),e.qZA()()()}if(2&o){const t=l.$implicit,n=l.rowIndex,a=e.oxw();e.xp6(4),e.Oqu(t.produto.descricao),e.xp6(2),e.Q6J("valueInput",t.custosTaxas)("inputId","produto-custosTaxas-"+n)("mask","separator.2")("min",0)("max",100)("required",!0)("showErrorMessage",!1)("allowNegativeNumbers",!1),e.xp6(2),e.Q6J("valueInput",t.percentual)("inputId","produto-percentual-"+n)("mask","separator.2")("min",0)("max",100)("showErrorMessage",!1)("allowNegativeNumbers",!1)("readonly",!0)("disabled",!0),e.xp6(2),e.Q6J("valueInput",t.rentabilidade)("inputId","produto-rentabilidade-"+n)("mask","separator.2")("min",0)("max",100)("required",!0)("showErrorMessage",!1)("allowNegativeNumbers",!1),e.xp6(2),e.Q6J("valueInput",t.rentabilidadeLiquida)("inputId","produto-rentabilidadeLiquida-"+n)("mask","separator.2")("min",0)("max",100)("showErrorMessage",!1)("allowNegativeNumbers",!1)("readonly",!0)("disabled",!0),e.xp6(2),e.Q6J("valueInput",t.sugerido)("inputId","produto-sugerido-"+n)("mask","separator.2")("min",0)("showErrorMessage",!1)("allowNegativeNumbers",!1)("readonly",!0)("disabled",!0),e.xp6(2),e.Q6J("valueInput",t.planoAcao)("inputId","produto-planoAcao-"+n)("mask","separator.2")("min",0)("required",!0)("showErrorMessage",!1)("allowNegativeNumbers",!1)("readonly",61==t.produto_Id)("disabled",61==t.produto_Id),e.xp6(3),e.Q6J("icon",a.faTrash)}}function Mn(o,l){if(1&o&&(e.TgZ(0,"tr")(1,"td",228)(2,"small")(3,"b"),e._uU(4,"Total"),e.qZA()()(),e._UZ(5,"td"),e.TgZ(6,"td",243),e._uU(7),e.ALo(8,"mask"),e.qZA(),e._UZ(9,"td")(10,"td"),e.TgZ(11,"td",243),e._uU(12),e.ALo(13,"mask"),e.qZA(),e.TgZ(14,"td",243),e._uU(15),e.ALo(16,"mask"),e.qZA(),e._UZ(17,"td"),e.qZA()),2&o){const t=e.oxw(2);e.ekj("bg-danger",t.somaProdutos.somaPercentual<0||t.somaProdutos.somaPercentual>100),e.xp6(7),e.hij("",e.Dn7(8,5,t.somaProdutos.somaPercentual,"separator.2","."),"%"),e.xp6(5),e.hij("R$ ",e.Dn7(13,9,t.somaProdutos.somaSugerido,"separator.2","."),""),e.xp6(3),e.hij("R$ ",e.Dn7(16,13,t.somaProdutos.somaPlanoAcao,"separator.2","."),"")}}function An(o,l){if(1&o&&e.YNc(0,Mn,18,17,"tr",227),2&o){const t=e.oxw();e.Q6J("ngIf",t.planner.planejamentoProduto.length>0)}}function Zn(o,l){1&o&&(e.TgZ(0,"tr"),e._UZ(1,"td"),e.TgZ(2,"td",230),e._uU(3," Nenhum registro "),e.qZA(),e._UZ(4,"td"),e.qZA()),2&o&&(e.xp6(2),e.uIk("colspan",6))}function Tn(o,l){if(1&o&&(e.TgZ(0,"div",10),e._UZ(1,"app-patrimonio-por-idade",244),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("planner",t.planner)}}function Pn(o,l){if(1&o&&(e.TgZ(0,"div",10),e._UZ(1,"app-grafico-comparativo",244,245),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("planner",t.planner)}}function xn(o,l){if(1&o&&(e.TgZ(0,"p",249),e._uU(1),e.ALo(2,"json"),e.qZA()),2&o){const t=l.$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,t))}}function In(o,l){1&o&&(e.TgZ(0,"p",249),e._uU(1,"Preencha todos os campos corretamente para salvar"),e.qZA())}function wn(o,l){if(1&o&&(e.TgZ(0,"div",246),e.YNc(1,xn,3,3,"p",247),e.YNc(2,In,2,0,"p",248),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.erro),e.xp6(1),e.Q6J("ngIf",0==t.erro.length)}}function qn(o,l){1&o&&e._UZ(0,"span",250)}function yn(o,l){1&o&&(e.TgZ(0,"div",251),e._uU(1," Este campo \xe9 obrigat\xf3rio "),e.qZA())}function Nn(o,l){1&o&&(e.TgZ(0,"div",252),e._uU(1," Acione a seta para cima ou para baixo no teclado para mudar o valor "),e.qZA())}function jn(o,l){1&o&&(e.TgZ(0,"div",251),e._uU(1,"Preencha todos os campos corretamente para adicionar produtos"),e.qZA())}const Jn=function(){return["investimento"]};let se=(()=>{class o{constructor(t,n,a,i,r,p,g,_){this.modal=t,this.plannerService=n,this.isMobile=a,this.toastr=i,this.activatedRoute=r,this.dropdown=p,this.setup=g,this.crypto=_,this.faTimes=C.NBC,this.faWallet=C.X5K,this.faChevronLeft=C.A35,this.faTrash=C.$aW,this.faArrowRight=C.eFW,this.faPlus=C.r8p,this.faTrashAlt=C.I7k,this.faChartPie=C.OS1,this.modalOpen=!1,this.planner=new M,this.erro=[],this.loading=!1,this.loadingProduto=!1,this.carteirasSetup=[],this.loadingCarteiraSetup=!0,this.estadoCivil=[],this.loadingEstadoCivil=!0,this.perfilInvestidor=[],this.loadingPerfilInvestidor=!0,this.isEditPage=!1,this.mobile=ie.I.lg,this.formIsValid=!1,this.somaProdutos={somaPercentual:0,somaPlanoAcao:0,somaSugerido:0},this.somaInvestimentos={somaPlanoAcao:0,somaSugerido:0,somaMontanteAtual:0},this.carteiraSetupInalterada=new Me.Wj,this.mudouCarteiraSetup=!1,this.clienteIdEncrypted="",this.subscription=[],this.dataNascimentoMin="",this.dataNascimentoMax="";var m=new Date;m.setFullYear(m.getFullYear()+100),this.dataNascimentoMax=m.toJSON().substring(0,10);var d=new Date;d.setFullYear(d.getFullYear()-100),this.dataNascimentoMin=d.toJSON().substring(0,10);var A=this.isMobile.get().subscribe(c=>this.mobile=c),h=this.activatedRoute.params.subscribe(c=>{if(this.isEditPage=!!c.cliente_id,this.isEditPage)this.loading=!0,this.clienteIdEncrypted=c.cliente_id,this.planner.cliente_Id=this.crypto.decrypt(c.cliente_id),(0,b.n)(this.plannerService.getByClienteId(this.planner.cliente_Id)).then(f=>{f.cliente.rg=f.cliente.rg.toString().padStart(9,"0"),f.cliente.cpf=f.cliente.cpf.toString().padStart(11,"0"),f.principaisObjetivos=f.principaisObjetivos?f.principaisObjetivos:[],this.planner=f,this.carteiraSetupInalterada=f.carteiraSetup,this.validateDataNascimento();var Mt=this.plannerService.objeto.subscribe(At=>{this.planner=At,this.calculaPercentualProdutos(),this.calculaPercentualInvestimentos(),this.formIsValid=this.validaForm(this.form)});this.subscription.push(Mt)}).catch(f=>{this.voltar()}).finally(()=>this.loading=!1);else{this.plannerService.getObject();var I=this.plannerService.objeto.subscribe(f=>{this.planner=f,this.calculaPercentualInvestimentos(),this.calculaPercentualProdutos(),this.formIsValid=this.validaForm(this.form)});this.subscription.push(I)}}),Z=this.planner.cliente.empresa_Id??this.planner.account.empresa_Id,Y=this.setup.list.subscribe(c=>{this.carteirasSetup=c.filter(I=>I.ativo).sort((I,f)=>I.nome<f.nome?-1:I.nome>f.nome?1:0)});(0,b.n)(this.setup.getList(Z)).finally(()=>this.loadingCarteiraSetup=!1);var G=this.dropdown.estadoCivil.subscribe(c=>this.estadoCivil=c);(0,b.n)(this.dropdown.getEstadoCivil()).then(c=>this.estadoCivil=c).finally(()=>this.loadingEstadoCivil=!1);var V=this.dropdown.perfilInvestidor.subscribe(c=>this.perfilInvestidor=c);(0,b.n)(this.dropdown.getPerfilInvestidor()).then(c=>this.perfilInvestidor=c).finally(()=>this.loadingPerfilInvestidor=!1),this.subscription.push(A),this.subscription.push(h),this.subscription.push(Y),this.subscription.push(G),this.subscription.push(V)}ngOnDestroy(){this.subscription.forEach(t=>t.unsubscribe())}voltar(){this.modal.voltar()}resetForm(){this.plannerService.setObject(new M)}calcularICM(){this.planner.cliente.imc=this.planner.cliente.altura&&this.planner.cliente.peso?this.planner.cliente.peso/Math.pow(this.planner.cliente.altura,2):""}calculaPercentualProdutos(){if(this.planner.planejamentoProduto.length>0&&null!=this.planner.planejamentoAgregandoValor){const _=(m,d)=>Math.round(m*Math.pow(10,d))/Math.pow(10,d);var t=this.planner.planejamentoAgregandoValor.montante??1,n=0,a=0,i=0,r=this.planner.planejamentoProduto,p=(r=r.sort((m,d)=>m.produto.descricao.toLowerCase()>d.produto.descricao.toLowerCase()?1:-1)).findIndex(m=>61==m.produto_Id),g=r.splice(p,1);r.push(g[0]),r=r.map(m=>{var d=0;if(61==m.produto_Id){var A=this.planner.planejamentoAgregandoValor.montante-a;m.percentual=_(100*(d=A>0?A/this.planner.planejamentoAgregandoValor.montante:0),2),m.planoAcao=A>0?A:0,m.sugerido=m.sugerido}else m.percentual=_(100*(d=m.planoAcao/t),2);return n+=d,a+=m.planoAcao,i+=m.sugerido,m}),this.somaProdutos.somaPercentual=_(100*n,2),this.somaProdutos.somaPlanoAcao=_(a,2),this.somaProdutos.somaSugerido=_(i,2),this.planner.planejamentoProduto=r}}calculaPercentualInvestimentos(){if(this.planner.planejamentoInvestimento.length>0&&null!=this.planner.planejamentoAgregandoValor){const r=(p,g)=>Math.round(p*Math.pow(10,g))/Math.pow(10,g);var n=0,a=0,i=0;this.planner.planejamentoInvestimento=this.planner.planejamentoInvestimento.sort((p,g)=>p.investimento.descricao.toLowerCase()>g.investimento.descricao.toLowerCase()?1:-1),this.planner.planejamentoInvestimento.map(p=>(n+=p.planoAcao,a+=p.sugerido,i+=p.montanteAtual,p)),this.somaInvestimentos.somaPlanoAcao=r(n,2),this.somaInvestimentos.somaSugerido=r(a,2),this.somaInvestimentos.somaMontanteAtual=r(i,2)}}calculaIdade(){if(this.planner.cliente.dataNascimento&&""!=this.planner.cliente.dataNascimento.toString().trim()){var t=Date.now()-new Date(new Date(this.planner.cliente.dataNascimento).toUTCString()).getTime(),n=new Date(t);this.planner.cliente.idade=Math.abs(n.getUTCFullYear()-1970)}else this.planner.cliente.idade=""}carteiraSetupChange(t){if(t.value){let n=this.carteirasSetup.find(a=>a.id==t.value);this.planner.carteiraSetup=n}else this.planner.carteiraSetup=void 0;this.mudouCarteiraSetup=this.planner.carteiraSetup_Id!=this.carteiraSetupInalterada.id,console.log(this.mudouCarteiraSetup),this.saveData()}perfilInvestidorChange(){this.planner.cliente.perfilInvestidor=this.perfilInvestidor.find(t=>t.id==this.planner.cliente.perfilInvestidor_Id),this.saveData()}adicionarFLuxoPontual(){this.planner.planejamentoFluxosPontuais.push(new Ae),this.saveData()}removerFluxoPontual(t){let n=this.planner.planejamentoFluxosPontuais.findIndex(a=>a==t);-1!=n&&(this.planner.planejamentoFluxosPontuais.splice(n,1),this.saveData())}adicionarObjetivo(){this.planner.principaisObjetivos.push(new Ze),this.saveData()}removerObjetivo(t){let n=this.planner.principaisObjetivos.findIndex(a=>a==t);-1!=n&&(this.planner.principaisObjetivos.splice(n,1),this.saveData())}removerInvestimento(t){let n=this.planner.planejamentoInvestimento.findIndex(a=>a==t);-1!=n&&(this.planner.planejamentoInvestimento.splice(n,1),this.saveData())}removerProduto(t){let n=this.planner.planejamentoProduto.findIndex(a=>a==t);-1!=n&&(this.planner.planejamentoProduto.splice(n,1),this.saveData())}arrowUp(t){return(0,N.zJ)(t)}arrowDown(t,n=!1){return(0,N.DI)(t,n)}saveData(){this.plannerService.setObject(this.planner)}validaForm(t){return this.erro=[],t.touched&&t.invalid?(this.erro.push("Campos inv\xe1lidos!"),this.toastr.error("Campos inv\xe1lidos!"),!1):!(1==this.loading||(0==this.planner.planejamentoInvestimento.length?(this.erro.push("Insira um ou mais investimentos no planner."),this.toastr.error("Insira um ou mais investimentos no planner."),1):0==this.planner.planejamentoProduto.length?(this.erro.push("Insira um ou mais produtos no planner."),this.toastr.error("Insira um ou mais produtos no planner."),1):null!=this.planner.planejamentoProduto.find(n=>n.planoAcao<0)?(this.erro.push("Plano de a\xe7\xe3o em produto n\xe3o pode ser inferior a zero."),this.toastr.error("Plano de a\xe7\xe3o em produto n\xe3o pode ser inferior a zero."),1):(this.somaProdutos.somaPlanoAcao>this.planner.planejamentoAgregandoValor.montante||this.somaProdutos.somaPlanoAcao<this.planner.planejamentoAgregandoValor.montante)&&(this.erro.push("Soma de plano de a\xe7\xe3o em produtos deve ser igual ao montante"),this.toastr.error("Soma de plano de a\xe7\xe3o em produtos deve ser igual ao montante"),1)))}validateDataNascimento(){var t=new Date(this.planner.cliente.dataNascimento),n=new Date(this.dataNascimentoMin),a=new Date(this.dataNascimentoMax);this.dataNascimento&&(t>a?this.dataNascimento.control.setErrors({max:!0}):t<n&&this.dataNascimento.control.setErrors({min:!0}))}carregarProdutos(t){if(this.planner.cliente.empresa||(this.planner.cliente.empresa=new y.oW),this.planner.cliente.empresa.id=1,this.saveData(),this.erro=[],t.invalid)return this.erro.push("Campos inv\xe1lidos!"),this.toastr.error("Campos inv\xe1lidos!"),void(this.loading=!1);(0,b.n)(this.plannerService.create(this.planner)).then(n=>{this.plannerService.setObject(n),this.mudouCarteiraSetup=!1,n.carteiraSetup&&(this.carteiraSetupInalterada=n.carteiraSetup)}).finally(()=>{this.loading=!1})}send(t){this.planner.account_Id=1,this.planner.cliente.empresa_Id=1,this.planner.cliente.empresa||(this.planner.cliente.empresa=new y.oW),this.planner.cliente.empresa.id=1,this.saveData(),this.validaForm(t)&&(0,b.n)(this.plannerService.edit(this.planner)).finally(()=>this.loading=!1)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(q.Q),e.Y36(P),e.Y36(ie.h),e.Y36(S._W),e.Y36(T.gz),e.Y36(F.V),e.Y36(re.A),e.Y36(x.w))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-planner"]],viewQuery:function(t,n){if(1&t&&(e.Gf(Ee,5),e.Gf(Le,5),e.Gf(Ye,5)),2&t){let a;e.iGM(a=e.CRH())&&(n.chartCapitalSegurado=a.first),e.iGM(a=e.CRH())&&(n.form=a.first),e.iGM(a=e.CRH())&&(n.dataNascimento=a.first)}},decls:467,vars:180,consts:[[1,"modal__content"],[1,"modal__header","pb-2",2,"padding","0 25px"],[1,"d-flex","align-items-center","justify-content-between","flex-wrap","w-100"],[1,"link","text-dark",3,"click"],[1,"mr-1",3,"icon"],[1,"btn","btn-yellow",3,"click"],[1,"text-orange","mt-1"],[1,"modal__body","mt-0"],["disabled","",1,"needs-validation","home","editable",3,"ngSubmit"],["form","ngForm"],[1,"form-row","mb-2"],[1,"col-lg-8","col-md-8","col-sm-12"],[1,"card","card-body"],[1,"home__container-header","mb-2"],[1,"form-row"],[1,"form-group","col-lg-5","col-md-5","col-sm-12"],["for","nome"],[1,"text-danger"],["type","text","name","nome","id","nome","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","","pattern","\\S(.*\\S)?",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","change"],["nome","ngModel"],[1,"form-group","col-lg-3","col-md-3","col-sm-12"],["for","perfilInvestidor"],["name","perfilInvestidor","id","perfilInvestidor","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange"],["_perfilInvestidor","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"form-group","col-lg-4","col-md-4","col-sm-12"],["for","estadoCivil"],["name","estadoCivil","id","estadoCivil","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange"],["_estadoCivil","ngModel"],[1,"form-group","col-lg-3","col-md-3","col-sm-6","col-6"],["for","cpf"],["type","text","name","cpf","id","cpf","mask","000.000.000-00","placeHolder","000.000.000-00","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","","pattern","\\d{3}\\.?\\d{3}\\.?\\d{3}-?\\d{2}",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","change"],["cpf","ngModel"],["for","rg"],["type","text","name","rg","id","rg","mask","00.000.000-0","placeholder","00.000.000-0","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","","pattern","\\d{2}\\.?\\d{3}\\.?\\d{3}-?\\d{1}",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","change"],["rg","ngModel"],[1,"form-group","col-lg-4","col-md-4","col-sm-6","col-6"],["for","dataNascimento"],["type","date","name","dataNascimento","id","dataNascimento","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","min","max","ngbPopover","disablePopover","ngModelChange","change"],["dataNascimento","ngModel"],[4,"ngIf"],[1,"form-group","col-lg-2","col-md-2","col-sm-6","col-6"],["for","idade"],["type","text","name","idade","id","idade","popoverClass","popover-danger","triggers","mouseenter:mouseleave","mask","0*","suffix"," anos","required","",1,"form-control","form-control-number",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["idade","ngModel"],[1,"form-group","col-lg-12","col-md-12","col-sm-12"],["for","email"],["type","email","name","email","id","email","placeholder","example@gmail.com","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"email","ngModel","ngbPopover","disablePopover","ngModelChange","change"],["email","ngModel"],[1,"col-lg-6","col-md-6","col-sm-12","col-12","pl-0","pr-0"],[1,"home__container"],[1,"form-group","col-lg-6","col-md-6","col-sm-12","d-lg-block","d-md-block"],["for","receita"],["type","text","id","receita","name","receita","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","min","max","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["receita","ngModel"],[1,"form-group","col-lg-6","col-md-6","col-sm-12"],["for","despesa"],["type","text","id","despesa","name","despesa","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","min","max","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["despesa","ngModel"],[1,"col-lg-6","col-md-6","col-sm-12","col-12","pr-0","pl-0"],["for","taxaSelic"],["type","text","id","taxaSelic","name","taxaSelic","mask","separator","thousandSeparator",".","decimalMarker",",","suffix","%","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["taxaSelic","ngModel"],["for","taxaIpca"],["type","text","id","taxaIpca","name","taxaIpca","mask","separator","thousandSeparator",".","decimalMarker",",","suffix","%","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["taxaIpca","ngModel"],[1,"home__container-header","mb-4"],[1,"col-lg-6","col-md-6","col-sm-12","col-12","px-0"],[1,"form-container"],[1,"form-container-title","font-weight-bold"],[1,"form-container-body"],[1,"form-group","col-lg-6","col-md-6","col-sm-6","pr-1"],["for","rE_Sugerido"],["type","text","id","rE_Sugerido","name","rE_Sugerido","mask","separator.5","thousandSeparator",".","decimalMarker",",","placeholder","R$ 00,00","prefix","R$ ","readonly","",1,"form-control","form-control-number",3,"ngModel","allowNegativeNumbers","ngModelChange"],["rE_Sugerido","ngModel"],[1,"form-group","col-lg-6","col-md-6","col-sm-6","pr-0"],["for","rE_Planejado"],["type","text","id","rE_Planejado","name","rE_Planejado","mask","separator.5","thousandSeparator",".","decimalMarker",",","placeholder","R$ 00,00","prefix","R$ ","readonly","",1,"form-control","form-control-number",3,"ngModel","allowNegativeNumbers","ngModelChange"],["rE_Planejado","ngModel"],[1,"form-container","mb-0"],["for","riscoAssumido"],["type","text","id","riscoAssumido","name","riscoAssumido","mask","separator.5","thousandSeparator",".","decimalMarker",",","placeholder","R$ 00,00","suffix","%","readonly","",1,"form-control","form-control-number",3,"ngModel","allowNegativeNumbers","ngModelChange"],["riscoAssumido","ngModel"],["for","riscoTolerado"],["type","text","id","riscoTolerado","name","riscoTolerado","mask","separator.5","thousandSeparator",".","decimalMarker",",","placeholder","R$ 00,00","suffix","%","suffix","%","readonly","",1,"form-control","form-control-number",3,"ngModel","allowNegativeNumbers","ngModelChange"],["riscoTolerado","ngModel"],[1,"col-lg-4","col-md-4","col-sm-12","col-12"],["for","descricao"],["type","text","name","descricao","id","descricao","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","","pattern","\\S(.*)?",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","change"],["descricao","ngModel"],[1,"home__container","table-responsive","mb-2"],[1,"table","table-editable","w-100","d-md-table","d-sm-table","mb-0"],[1,"primary"],[1,"bg-light","px-3","text-right",2,"white-space","nowrap"],[3,"valueInput","inputId","mask","suffix","min","max","required","showErrorMessage","allowNegativeNumbers","valueChanges"],[3,"valueInput","inputId","mask","thousandSeparator","decimalMarker","prefix","min","max","required","placeholder","showErrorMessage","valueChanges"],[3,"valueInput","inputId","mask","suffix","max","required","showErrorMessage","allowNegativeNumbers","placeholder","valueChanges"],[1,"table","table-editable","w-100","mb-0"],["colspan","3",1,"pl-4"],[1,"text-center","d-flex","align-items-center"],["title","Adicionar",1,"btn","p-0","ml-auto","text-white",3,"click"],[3,"icon"],[1,"subheader"],[1,"pl-4"],[4,"ngFor","ngForOf"],[1,"col-lg-12","col-md-12","col-sm-12","col-12"],[1,"table","table-editable","table-responsive"],[2,"white-space","nowrap"],[1,"px-3","bg-light","text-right"],["type","text","id","sugestao_Baixissimo","name","sugestao_Baixissimo","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["sugestao_Baixissimo","ngModel"],["type","text","id","sugestao_Baixo","name","sugestao_Baixo","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["sugestao_Baixo","ngModel"],["type","text","id","sugestao_Moderado","name","sugestao_Moderado","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["sugestao_Moderado","ngModel"],["type","text","id","sugestao_Arrojado","name","sugestao_Arrojado","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["sugestao_Arrojado","ngModel"],["type","text","id","sugestao_SuperArrojado","name","sugestao_SuperArrojado","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["sugestao_SuperArrojado","ngModel"],["type","text","id","sugestao_Hedge","name","sugestao_Hedge","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["sugestao_Hedge","ngModel"],["type","text","id","sugestao_Total","name","sugestao_Total","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["sugestao_Total","ngModel"],["type","text","id","plano_Baixissimo","name","plano_Baixissimo","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["plano_Baixissimo","ngModel"],["type","text","id","plano_Baixo","name","plano_Baixo","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["plano_Baixo","ngModel"],["type","text","id","plano_Moderado","name","plano_Moderado","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["plano_Moderado","ngModel"],["type","text","id","plano_Arrojado","name","plano_Arrojado","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["plano_Arrojado","ngModel"],["type","text","id","plano_SuperArrojado","name","plano_SuperArrojado","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["plano_SuperArrojado","ngModel"],["type","text","id","plano_Hedge","name","plano_Hedge","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["plano_Hedge","ngModel"],["type","text","id","plano_Total","name","plano_Total","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["plano_Total","ngModel"],[1,"home__container-header","mb-2","position-relative"],[1,"btn","btn-primary",3,"routerLink"],["responsiveLayout","scroll","emptyMessage","Nenhum registro",1,"table","table-editable",3,"value","responsive"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],["pTemplate","emptymessage"],[1,"d-flex","justify-content-end","align-items-center","w-100"],[1,"col-lg-4","col-md-5","col-sm-6","col-8","px-0"],["id","carteirasSetup","name","carteirasSetup","optionLabel","nome","optionValue","id","optionDisabled","dataDesativado","filterBy","nome","placeholder","Selecione para adicionar",1,"form-control",3,"disabled","options","ngModel","filter","showClear","required","ngModelChange"],["_carteirasSetup","ngModel"],["pTemplate","item"],["type","button","triggers","mouseenter:mouseleave",3,"class","disabled","click",4,"ngIf"],["class","link ml-3",3,"routerLink",4,"ngIf"],["class","text-danger px-2",4,"ngIf"],[1,"form-row","table-responsive","mb-2"],[1,"table","table-editable","mb-0"],["colspan","6",1,"text-center","p-2"],[1,""],["colspan","2",1,"text-right","primary"],[1,"p-0"],["type","text","id","solucao_montante_Atual","name","solucao_montante_Atual","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control","form-control-solucaoInicial",3,"ngModel","readOnly","ngModelChange"],["solucao_montante_Atual","ngModel"],["colspan","2",1,"p-0"],["type","text","id","solucao_riscoAssumido_Atual","name","solucao_riscoAssumido_Atual","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%",1,"form-control","form-control-solucaoInicial",3,"ngModel","readOnly","ngModelChange"],["solucao_riscoAssumido_Atual","ngModel"],[1,"text-right",2,"white-space","nowrap"],[1,"px-3","bg-light","text-right",2,"white-space","nowrap"],["type","text","id","solucao_rentabilidade_Atual","name","solucao_rentabilidade_Atual","mask","separator.2","thousandSeparator",".","decimalMarker",",","suffix","%",1,"form-control",3,"ngModel","allowNegativeNumbers","readOnly","ngModelChange"],["solucao_rentabilidade_Atual","ngModel"],["type","text","id","solucao_retornoAnual_Atual","name","solucao_retornoAnual_Atual","mask","separator.2","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control",3,"ngModel","allowNegativeNumbers","readOnly","ngModelChange"],["solucao_retornoAnual_Atual","ngModel"],["type","text","id","solucao_retornoMensal_Atual","name","solucao_retornoMensal_Atual","mask","separator.2","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control",3,"ngModel","allowNegativeNumbers","readOnly","ngModelChange"],["solucao_retornoMensal_Atual","ngModel"],["type","text","id","solucao_plMax_Atual","name","solucao_plMax_Atual","mask","separator.2","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_plMax_Atual","ngModel"],["type","text","id","solucao_idadeMax_Atual","name","solucao_idadeMax_Atual","mask","separator.2","thousandSeparator",".","decimalMarker",",",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_idadeMax_Atual","ngModel"],["type","text","id","solucao_rentabilidade_Sugerida","name","solucao_rentabilidade_Sugerida","mask","separator.2","thousandSeparator",".","decimalMarker",",","suffix","%",1,"form-control",3,"ngModel","allowNegativeNumbers","readOnly","ngModelChange"],["solucao_rentabilidade_Sugerida","ngModel"],["type","text","id","solucao_retornoAnual_Sugerido","name","solucao_retornoAnual_Sugerido","mask","separator.2","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control",3,"ngModel","allowNegativeNumbers","readOnly","ngModelChange"],["solucao_retornoAnual_Sugerido","ngModel"],["type","text","id","solucao_retornoMensal_Sugerido","name","solucao_retornoMensal_Sugerido","mask","separator.2","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control",3,"ngModel","allowNegativeNumbers","readOnly","ngModelChange"],["solucao_retornoMensal_Sugerido","ngModel"],["type","text","id","solucao_plMax_Sugerido","name","solucao_plMax_Sugerido","mask","separator.2","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_plMax_Sugerido","ngModel"],["type","text","id","solucao_idadeMax_Sugerido","name","solucao_idadeMax_Sugerido","mask","separator.2","thousandSeparator",".","decimalMarker",",",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_idadeMax_Sugerido","ngModel"],["type","text","id","solucao_rentabilidade_Diferenca","name","solucao_rentabilidade_Diferenca","mask","separator.2","thousandSeparator",".","decimalMarker",",","suffix","%",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_rentabilidade_Diferenca","ngModel"],["type","text","id","solucao_retornoAnual_Diferenca","name","solucao_retornoAnual_Diferenca","mask","separator.2","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_retornoAnual_Diferenca","ngModel"],["type","text","id","solucao_retornoMensal_Diferenca","name","solucao_retornoMensal_Diferenca","mask","separator.2","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_retornoMensal_Diferenca","ngModel"],[1,"border-primary","border-left","border-top"],["type","text","id","solucao_plMax_Diferenca","name","solucao_plMax_Diferenca","mask","separator.2","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_plMax_Diferenca","ngModel"],[1,"border-primary","border"],["type","text","id","solucao_idadeMax_Diferenca","name","solucao_idadeMax_Diferenca","mask","separator.2","thousandSeparator",".","decimalMarker",",",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_idadeMax_Diferenca","ngModel"],["colspan","2",1,"px-3","bg-light","text-center",2,"white-space","nowrap"],[1,"px-3","bg-light","text-left"],[1,"border-primary","border-left","border-bottom"],["type","text","id","solucao_pL_Desempenho","name","solucao_pL_Desempenho","mask","separator.2","thousandSeparator",".","decimalMarker",",","suffix","%",1,"form-control","h2","mb-0","font-weight-bold",2,"font-size","20px",3,"ngModel","readOnly","ngModelChange"],["solucao_pL_Desempenho","ngModel"],["type","text","id","solucao_idade_Desempenho","name","solucao_idade_Desempenho","mask","separator.2","thousandSeparator",".","decimalMarker",",",1,"form-control","h2","mb-0","font-weight-bold",2,"font-size","20px",3,"ngModel","readOnly","ngModelChange"],["solucao_idade_Desempenho","ngModel"],["class","form-row mb-2",4,"ngIf"],[1,"form-footer-submit-fixed"],["class","m-0",4,"ngIf"],[1,"btn","btn-primary","mr-0","ml-auto",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["campoObrigatorio",""],["setaUpDown",""],["formInvalido",""],["class","text-danger",4,"ngIf"],["type","text","mask","0*","suffix"," anos","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control","form-control-number",3,"id","name","ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["type","text","mask","separator.5","thousandSeparator",".","decimalMarker",",","placeholder","R$ 00,00","prefix","R$ ","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control","form-control-number",3,"id","name","ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["valor","ngModel"],[1,"text-center"],["title","Remover linha",1,"btn","btn-trash","d-inline",3,"click"],["colspan","3",1,"py-2","pl-4","text-grey"],[1,"text-right"],[1,"td-actions"],[1,"small","font-weight-bold"],["suffix","%",3,"valueInput","inputId","mask","min","max","showErrorMessage","allowNegativeNumbers","required","valueChanges"],["suffix","%",3,"valueInput","inputId","mask","min","max","showErrorMessage","allowNegativeNumbers","readonly","disabled","valueChanges"],["prefix","R$ ",3,"valueInput","inputId","mask","min","required","showErrorMessage","allowNegativeNumbers","valueChanges"],["title","Remover linha",1,"btn","btn-trash",3,"click"],[3,"bg-danger",4,"ngIf"],[1,"px-3","bg-light","text-right","position-sticky",2,"white-space","nowrap"],[1,"p-2","ps-3"],[1,"py-2","px-2","text-grey"],[1,"d-flex","align-items-center","justify-content-between"],["class","flag flag-red",3,"ngbPopover",4,"ngIf"],["ativo",""],[1,"flag","flag-red",3,"ngbPopover"],[1,"py-2","px-3"],["type","button","triggers","mouseenter:mouseleave",3,"disabled","click"],[1,"link","ml-3",3,"routerLink"],[1,"text-danger","px-2"],[1,"text-right","position-sticky",2,"white-space","nowrap"],["suffix","%",3,"valueInput","inputId","mask","min","max","required","showErrorMessage","allowNegativeNumbers","valueChanges"],["prefix","R$ ",3,"valueInput","inputId","mask","min","showErrorMessage","allowNegativeNumbers","readonly","disabled","valueChanges"],["prefix","R$ ",3,"valueInput","inputId","mask","min","required","showErrorMessage","allowNegativeNumbers","readonly","disabled","valueChanges"],[1,"p-2",2,"white-space","nowrap"],[2,"width","100%",3,"planner"],["investimentoGraficos",""],[1,"m-0"],["class","text-red",4,"ngFor","ngForOf"],["class","text-red",4,"ngIf"],[1,"text-red"],[1,"spinner-border","spinner-border-sm","mr-1"],[1,"py-2","px-2","text-danger"],[1,"py-2","px-2","text-info"]],template:function(t,n){if(1&t){const a=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),e.NdJ("click",function(){return n.voltar()}),e._UZ(4,"fa-icon",4),e._uU(5," Voltar "),e.qZA(),e.TgZ(6,"div")(7,"button",5),e.NdJ("click",function(){return n.resetForm()}),e._uU(8,"Limpar campos"),e.qZA()()(),e.TgZ(9,"h3",6),e._uU(10,"Planner"),e.qZA()(),e.TgZ(11,"div",7)(12,"form",8,9),e.NdJ("ngSubmit",function(){e.CHM(a);const r=e.MAs(13);return e.KtG(n.send(r))}),e.TgZ(14,"div",10)(15,"div",11)(16,"div",10)(17,"div",12)(18,"div",13)(19,"h6"),e._uU(20,"Dados Cadastrais"),e.qZA()(),e.TgZ(21,"div",14)(22,"div",15)(23,"label",16),e._uU(24,"Nome Completo: "),e.TgZ(25,"span",17),e._uU(26,"*"),e.qZA()(),e.TgZ(27,"input",18,19),e.NdJ("ngModelChange",function(r){return n.planner.cliente.nome=r})("change",function(){return n.saveData()}),e.qZA()(),e.TgZ(29,"div",20)(30,"label",21),e._uU(31,"Perfil de Investidor: "),e.TgZ(32,"span",17),e._uU(33,"*"),e.qZA()(),e.TgZ(34,"select",22,23),e.NdJ("ngModelChange",function(r){return n.planner.cliente.perfilInvestidor_Id=r})("ngModelChange",function(){return n.perfilInvestidorChange()}),e.TgZ(36,"option",24),e._uU(37,"Selecione"),e.qZA(),e.YNc(38,$e,2,2,"option",25),e.qZA()(),e.TgZ(39,"div",26)(40,"label",27),e._uU(41,"Estado Civil: "),e.TgZ(42,"span",17),e._uU(43,"*"),e.qZA()(),e.TgZ(44,"select",28,29),e.NdJ("ngModelChange",function(r){return n.planner.cliente.estadoCivil_Id=r})("ngModelChange",function(){return n.saveData()}),e.TgZ(46,"option",24),e._uU(47,"Selecione"),e.qZA(),e.YNc(48,Ge,2,2,"option",25),e.qZA()()(),e.TgZ(49,"div",14)(50,"div",30)(51,"label",31),e._uU(52,"CPF: "),e.TgZ(53,"span",17),e._uU(54,"*"),e.qZA()(),e.TgZ(55,"input",32,33),e.NdJ("ngModelChange",function(r){return n.planner.cliente.cpf=r})("change",function(){return n.saveData()}),e.qZA()(),e.TgZ(57,"div",30)(58,"label",34),e._uU(59,"RG: "),e.TgZ(60,"span",17),e._uU(61,"*"),e.qZA()(),e.TgZ(62,"input",35,36),e.NdJ("ngModelChange",function(r){return n.planner.cliente.rg=r})("change",function(){return n.saveData()}),e.qZA()(),e.TgZ(64,"div",37)(65,"label",38),e._uU(66,"Data de Nascimento: "),e.TgZ(67,"span",17),e._uU(68,"*"),e.qZA()(),e.TgZ(69,"input",39,40),e.NdJ("ngModelChange",function(r){return n.planner.cliente.dataNascimento=r})("ngModelChange",function(){return n.calculaIdade()})("change",function(){return n.saveData(),n.validateDataNascimento()}),e.qZA(),e.YNc(71,He,3,2,"div",41),e.qZA(),e.TgZ(72,"div",42)(73,"label",43),e._uU(74,"Idade: "),e.TgZ(75,"span",17),e._uU(76,"*"),e.qZA()(),e.TgZ(77,"input",44,45),e.NdJ("ngModelChange",function(r){return n.planner.cliente.idade=r})("keyup.arrowup",function(){e.CHM(a);const r=e.MAs(78);return e.KtG(n.planner.cliente.idade=n.arrowUp(r.value))})("keyup.arrowdown",function(){e.CHM(a);const r=e.MAs(78);return e.KtG(n.planner.cliente.idade=n.arrowDown(r.value,!0))})("change",function(){return n.saveData()}),e.qZA()()(),e.TgZ(79,"div",14)(80,"div",46)(81,"label",47),e._uU(82,"E-mail: "),e.TgZ(83,"span",17),e._uU(84,"*"),e.qZA()(),e.TgZ(85,"input",48,49),e.NdJ("ngModelChange",function(r){return n.planner.cliente.email=r})("change",function(){return n.saveData()}),e.qZA()()()()(),e.TgZ(87,"div",10)(88,"div",50)(89,"div",51)(90,"div",13)(91,"h6"),e._uU(92,"Valores"),e.qZA()(),e.TgZ(93,"div",14)(94,"div",52)(95,"label",53),e._uU(96,"Receita: "),e.TgZ(97,"span",17),e._uU(98,"*"),e.qZA()(),e.TgZ(99,"input",54,55),e.NdJ("ngModelChange",function(r){return n.planner.cliente.receita=r})("keyup.arrowup",function(){e.CHM(a);const r=e.MAs(100);return e.KtG(n.planner.cliente.receita=n.arrowUp(r.value))})("keyup.arrowdown",function(){e.CHM(a);const r=e.MAs(100);return e.KtG(n.planner.cliente.receita=n.arrowDown(r.value,!0))})("change",function(){return n.saveData()}),e.qZA(),e.YNc(101,We,3,2,"div",41),e.qZA(),e.TgZ(102,"div",56)(103,"label",57),e._uU(104,"Despesas: "),e.TgZ(105,"span",17),e._uU(106,"*"),e.qZA()(),e.TgZ(107,"input",58,59),e.NdJ("ngModelChange",function(r){return n.planner.cliente.despesa=r})("keyup.arrowup",function(){e.CHM(a);const r=e.MAs(108);return e.KtG(n.planner.cliente.despesa=n.arrowUp(r.value))})("keyup.arrowdown",function(){e.CHM(a);const r=e.MAs(108);return e.KtG(n.planner.cliente.despesa=n.arrowDown(r.value,!0))})("change",function(){return n.saveData()}),e.qZA(),e.YNc(109,nn,3,2,"div",41),e.qZA()()()(),e.TgZ(110,"div",60)(111,"div",51)(112,"div",13)(113,"h6"),e._uU(114,"Taxas"),e.qZA()(),e.TgZ(115,"div",14)(116,"div",52)(117,"label",61),e._uU(118,"Taxa Selic: "),e.TgZ(119,"span",17),e._uU(120,"*"),e.qZA()(),e.TgZ(121,"input",62,63),e.NdJ("ngModelChange",function(r){return n.planner.taxaSelic=r})("keyup.arrowup",function(){e.CHM(a);const r=e.MAs(122);return e.KtG(n.planner.taxaSelic=n.arrowUp(r.value))})("keyup.arrowdown",function(){e.CHM(a);const r=e.MAs(122);return e.KtG(n.planner.taxaSelic=n.arrowDown(r.value,!0))})("change",function(){return n.saveData()}),e.qZA()(),e.TgZ(123,"div",56)(124,"label",64),e._uU(125,"Taxa IPCA: "),e.TgZ(126,"span",17),e._uU(127,"*"),e.qZA()(),e.TgZ(128,"input",65,66),e.NdJ("ngModelChange",function(r){return n.planner.taxaIpca=r})("keyup.arrowup",function(){e.CHM(a);const r=e.MAs(129);return e.KtG(n.planner.taxaIpca=n.arrowUp(r.value))})("keyup.arrowdown",function(){e.CHM(a);const r=e.MAs(129);return e.KtG(n.planner.taxaIpca=n.arrowDown(r.value,!0))})("change",function(){return n.saveData()}),e.qZA()()()()()(),e.TgZ(130,"div",10)(131,"div",12)(132,"div",67)(133,"h6"),e._uU(134,"Capacidade de Risco"),e.qZA()(),e.TgZ(135,"div",14)(136,"div",68)(137,"div",69)(138,"div",70),e._uU(139,"Reserva de Emerg\xeancia"),e.qZA(),e.TgZ(140,"div",71)(141,"div",72)(142,"label",73),e._uU(143," Sugerida:"),e.qZA(),e.TgZ(144,"input",74,75),e.NdJ("ngModelChange",function(r){return n.planner.rE_Sugerido=r}),e.qZA()(),e.TgZ(146,"div",76)(147,"label",77),e._uU(148," Planejada:"),e.qZA(),e.TgZ(149,"input",78,79),e.NdJ("ngModelChange",function(r){return n.planner.rE_Planejado=r}),e.qZA()()()()(),e.TgZ(151,"div",68)(152,"div",80)(153,"div",70),e._uU(154,"Risco"),e.qZA(),e.TgZ(155,"div",71)(156,"div",72)(157,"label",81),e._uU(158," Assumido:"),e.qZA(),e.TgZ(159,"input",82,83),e.NdJ("ngModelChange",function(r){return n.planner.riscoAssumido=r}),e.qZA()(),e.TgZ(161,"div",76)(162,"label",84),e._uU(163," Tolerado:"),e.qZA(),e.TgZ(164,"input",85,86),e.NdJ("ngModelChange",function(r){return n.planner.riscoTolerado=r}),e.qZA()()()()()()()()(),e.TgZ(166,"div",87)(167,"div",10)(168,"div",12)(169,"div",13)(170,"h6"),e._uU(171,"Descri\xe7\xe3o"),e.qZA()(),e.TgZ(172,"div",14)(173,"div",46)(174,"label",88),e._uU(175,"Observa\xe7\xf5es do planner: "),e.TgZ(176,"span",17),e._uU(177,"*"),e.qZA()(),e.TgZ(178,"textarea",89,90),e.NdJ("ngModelChange",function(r){return n.planner.descricao=r})("change",function(){return n.saveData()}),e._uU(180,"                                        "),e.qZA()()()()(),e.TgZ(181,"div",10)(182,"div",91)(183,"table",92)(184,"thead",93)(185,"tr"),e._UZ(186,"th"),e.TgZ(187,"th"),e._uU(188,"Aposentadoria"),e.qZA()()(),e.TgZ(189,"tbody")(190,"tr")(191,"td",94)(192,"small")(193,"b"),e._uU(194,"Idade"),e.qZA()()(),e.TgZ(195,"td")(196,"app-input-number",95),e.NdJ("valueChanges",function(r){return n.planner.cliente.idadeAposentadoria=r,n.saveData()}),e.qZA()()(),e.TgZ(197,"tr")(198,"td",94)(199,"small")(200,"b"),e._uU(201,"Renda Mensal"),e.qZA()()(),e.TgZ(202,"td")(203,"app-input-number",96),e.NdJ("valueChanges",function(r){return n.planner.cliente.rendaMensalAposentadoria=r,n.saveData()}),e.qZA()()(),e.TgZ(204,"tr")(205,"td",94)(206,"small")(207,"b"),e._uU(208,"Rentabilidade"),e.qZA()()(),e.TgZ(209,"td")(210,"app-input-number",97),e.NdJ("valueChanges",function(r){return n.planner.cliente.rentabilidadeAposentadoria=r,n.saveData()}),e.qZA()()()()()()(),e.TgZ(211,"div",10)(212,"div",91)(213,"table",98)(214,"thead",93)(215,"tr")(216,"th",99)(217,"p",100),e._uU(218," Fluxos Pontuais "),e.TgZ(219,"a",101),e.NdJ("click",function(){return n.adicionarFLuxoPontual()}),e._UZ(220,"fa-icon",102),e.qZA()()()(),e.TgZ(221,"tr",103)(222,"th",104),e._uU(223,"Idade"),e.qZA(),e.TgZ(224,"th"),e._uU(225,"Valor"),e.qZA(),e._UZ(226,"th"),e.qZA()(),e.TgZ(227,"tbody"),e.YNc(228,tn,10,11,"tr",105),e.YNc(229,on,3,0,"tr",41),e.qZA()()()()(),e.TgZ(230,"div",106)(231,"div",10)(232,"div",51)(233,"div",13)(234,"h6"),e._uU(235,"C\xe1lculos"),e.qZA()(),e.TgZ(236,"div",14)(237,"table",107)(238,"thead",93)(239,"tr"),e._UZ(240,"th"),e.TgZ(241,"th"),e._uU(242,"Baix\xedssimo"),e.qZA(),e.TgZ(243,"th"),e._uU(244,"Baixo"),e.qZA(),e.TgZ(245,"th"),e._uU(246,"Moderado"),e.qZA(),e.TgZ(247,"th"),e._uU(248,"Arrojado"),e.qZA(),e.TgZ(249,"th",108),e._uU(250,"Super Arrojado"),e.qZA(),e.TgZ(251,"th"),e._uU(252,"Hedge"),e.qZA(),e.TgZ(253,"th"),e._uU(254,"Total"),e.qZA()()(),e.TgZ(255,"tbody")(256,"tr")(257,"td",109)(258,"small")(259,"b"),e._uU(260,"Sugest\xe3o"),e.qZA()()(),e.TgZ(261,"td")(262,"input",110,111),e.NdJ("ngModelChange",function(r){return n.planner.sugestao_Baixissimo=r}),e.qZA()(),e.TgZ(264,"td")(265,"input",112,113),e.NdJ("ngModelChange",function(r){return n.planner.sugestao_Baixo=r}),e.qZA()(),e.TgZ(267,"td")(268,"input",114,115),e.NdJ("ngModelChange",function(r){return n.planner.sugestao_Moderado=r}),e.qZA()(),e.TgZ(270,"td")(271,"input",116,117),e.NdJ("ngModelChange",function(r){return n.planner.sugestao_Arrojado=r}),e.qZA()(),e.TgZ(273,"td")(274,"input",118,119),e.NdJ("ngModelChange",function(r){return n.planner.sugestao_SuperArrojado=r}),e.qZA()(),e.TgZ(276,"td")(277,"input",120,121),e.NdJ("ngModelChange",function(r){return n.planner.sugestao_Hedge=r}),e.qZA()(),e.TgZ(279,"td")(280,"input",122,123),e.NdJ("ngModelChange",function(r){return n.planner.sugestao_Total=r}),e.qZA()()(),e.TgZ(282,"tr")(283,"td",109)(284,"small")(285,"b"),e._uU(286,"Plano"),e.qZA()()(),e.TgZ(287,"td")(288,"input",124,125),e.NdJ("ngModelChange",function(r){return n.planner.plano_Baixissimo=r}),e.qZA()(),e.TgZ(290,"td")(291,"input",126,127),e.NdJ("ngModelChange",function(r){return n.planner.plano_Baixo=r}),e.qZA()(),e.TgZ(293,"td")(294,"input",128,129),e.NdJ("ngModelChange",function(r){return n.planner.plano_Moderado=r}),e.qZA()(),e.TgZ(296,"td")(297,"input",130,131),e.NdJ("ngModelChange",function(r){return n.planner.plano_Arrojado=r}),e.qZA()(),e.TgZ(299,"td")(300,"input",132,133),e.NdJ("ngModelChange",function(r){return n.planner.plano_SuperArrojado=r}),e.qZA()(),e.TgZ(302,"td")(303,"input",134,135),e.NdJ("ngModelChange",function(r){return n.planner.plano_Hedge=r}),e.qZA()(),e.TgZ(305,"td")(306,"input",136,137),e.NdJ("ngModelChange",function(r){return n.planner.plano_Total=r}),e.qZA()()()()()()()(),e.TgZ(308,"div",10)(309,"div",51)(310,"div",138)(311,"h6"),e._uU(312,"Investimentos"),e.qZA(),e.TgZ(313,"a",139),e._uU(314,"Adicionar"),e.qZA()(),e.TgZ(315,"div",14)(316,"p-table",140),e.YNc(317,an,12,0,"ng-template",141),e.YNc(318,rn,15,34,"ng-template",142),e.YNc(319,sn,1,1,"ng-template",143),e.YNc(320,pn,5,1,"ng-template",144),e.qZA()()()(),e.TgZ(321,"div",10)(322,"div",51)(323,"div",13)(324,"h6"),e._uU(325,"Produtos"),e.qZA(),e.TgZ(326,"div",145)(327,"div",146)(328,"p-dropdown",147,148),e.NdJ("ngModelChange",function(r){return n.planner.carteiraSetup_Id=r})("ngModelChange",function(){e.CHM(a);const r=e.MAs(329);return e.KtG(n.carteiraSetupChange(r))}),e.YNc(330,mn,6,2,"ng-template",149),e.qZA()(),e.YNc(331,_n,5,6,"button",150),e.YNc(332,vn,2,2,"a",151),e.qZA()(),e.TgZ(333,"div",14),e.YNc(334,fn,2,0,"p",152),e.TgZ(335,"p-table",140),e.YNc(336,Cn,16,0,"ng-template",141),e.YNc(337,bn,20,53,"ng-template",142),e.YNc(338,An,1,1,"ng-template",143),e.YNc(339,Zn,5,1,"ng-template",144),e.qZA()()()(),e.TgZ(340,"div",10)(341,"div",51)(342,"div",13)(343,"h6"),e._uU(344,"Solu\xe7\xe3o Inicial"),e.qZA()(),e.TgZ(345,"div",153)(346,"table",154)(347,"thead")(348,"tr",93)(349,"th",155)(350,"h6"),e._uU(351,"Agregando Valor"),e.qZA()()(),e.TgZ(352,"tr",156)(353,"th",157),e._uU(354,"Montante Total"),e.qZA(),e.TgZ(355,"th",158)(356,"input",159,160),e.NdJ("ngModelChange",function(r){return n.planner.planejamentoAgregandoValor.montante=r}),e.qZA()(),e.TgZ(358,"th",93),e._uU(359,"Exposi\xe7\xe3o a Risco"),e.qZA(),e.TgZ(360,"th",161)(361,"input",162,163),e.NdJ("ngModelChange",function(r){return n.planner.planejamentoAgregandoValor.riscoAssumido=r}),e.qZA()()(),e.TgZ(363,"tr",93)(364,"th",164),e._uU(365,"Carteira"),e.qZA(),e.TgZ(366,"th",108),e._uU(367,"Rent. Atual "),e.TgZ(368,"small"),e._uU(369,"(ano)"),e.qZA()(),e.TgZ(370,"th",108),e._uU(371,"Retorno Anual"),e.qZA(),e.TgZ(372,"th",108),e._uU(373,"Retorno Mensal"),e.qZA(),e.TgZ(374,"th",108),e._uU(375,"Patrim\xf4nio M\xe1ximo"),e.qZA(),e.TgZ(376,"th",108),e._uU(377,"Tempo "),e.TgZ(378,"small"),e._uU(379,"(anos)"),e.qZA()()()(),e.TgZ(380,"tbody")(381,"tr")(382,"td",165)(383,"small"),e._uU(384,"Atual"),e.qZA()(),e.TgZ(385,"td")(386,"input",166,167),e.NdJ("ngModelChange",function(r){return n.planner.planejamentoAgregandoValor.rentabilidade_Atual=r}),e.qZA()(),e.TgZ(388,"td")(389,"input",168,169),e.NdJ("ngModelChange",function(r){return n.planner.planejamentoAgregandoValor.retornoAnual_Atual=r}),e.qZA()(),e.TgZ(391,"td")(392,"input",170,171),e.NdJ("ngModelChange",function(r){return n.planner.planejamentoAgregandoValor.retornoMensal_Atual=r}),e.qZA()(),e.TgZ(394,"td")(395,"input",172,173),e.NdJ("ngModelChange",function(r){return n.planner.planejamentoAgregandoValor.plMax_Atual=r}),e.qZA()(),e.TgZ(397,"td")(398,"input",174,175),e.NdJ("ngModelChange",function(r){return n.planner.planejamentoAgregandoValor.idadeMax_Atual=r}),e.qZA()()(),e.TgZ(400,"tr")(401,"td",165)(402,"small"),e._uU(403,"Sugerida"),e.qZA()(),e.TgZ(404,"td")(405,"input",176,177),e.NdJ("ngModelChange",function(r){return n.planner.planejamentoAgregandoValor.rentabilidade_Sugerida=r}),e.qZA()(),e.TgZ(407,"td")(408,"input",178,179),e.NdJ("ngModelChange",function(r){return n.planner.planejamentoAgregandoValor.retornoAnual_Sugerido=r}),e.qZA()(),e.TgZ(410,"td")(411,"input",180,181),e.NdJ("ngModelChange",function(r){return n.planner.planejamentoAgregandoValor.retornoMensal_Sugerido=r}),e.qZA()(),e.TgZ(413,"td")(414,"input",182,183),e.NdJ("ngModelChange",function(r){return n.planner.planejamentoAgregandoValor.plMax_Sugerido=r}),e.qZA()(),e.TgZ(416,"td")(417,"input",184,185),e.NdJ("ngModelChange",function(r){return n.planner.planejamentoAgregandoValor.idadeMax_Sugerido=r}),e.qZA()()(),e.TgZ(419,"tr")(420,"td",165)(421,"small"),e._uU(422,"Diferen\xe7a"),e.qZA()(),e.TgZ(423,"td")(424,"input",186,187),e.NdJ("ngModelChange",function(r){return n.planner.planejamentoAgregandoValor.rentabilidade_Diferenca=r}),e.qZA()(),e.TgZ(426,"td")(427,"input",188,189),e.NdJ("ngModelChange",function(r){return n.planner.planejamentoAgregandoValor.retornoAnual_Diferenca=r}),e.qZA()(),e.TgZ(429,"td")(430,"input",190,191),e.NdJ("ngModelChange",function(r){return n.planner.planejamentoAgregandoValor.retornoMensal_Diferenca=r}),e.qZA()(),e.TgZ(432,"td",192)(433,"input",193,194),e.NdJ("ngModelChange",function(r){return n.planner.planejamentoAgregandoValor.plMax_Diferenca=r}),e.qZA()(),e.TgZ(435,"td",195)(436,"input",196,197),e.NdJ("ngModelChange",function(r){return n.planner.planejamentoAgregandoValor.idadeMax_Diferenca=r}),e.qZA()()(),e.TgZ(438,"tr"),e._UZ(439,"td",165),e.TgZ(440,"td",198)(441,"span")(442,"b"),e._uU(443,"Melhora de Desempenho"),e.qZA()()(),e.TgZ(444,"td",199)(445,"span"),e._UZ(446,"fa-icon",102),e.qZA()(),e.TgZ(447,"td",200)(448,"input",201,202),e.NdJ("ngModelChange",function(r){return n.planner.planejamentoAgregandoValor.pL_Desempenho=r}),e.qZA()(),e.TgZ(450,"td",195)(451,"input",203,204),e.NdJ("ngModelChange",function(r){return n.planner.planejamentoAgregandoValor.idade_Desempenho=r}),e.qZA()()()()()()()(),e.YNc(453,Tn,2,1,"div",205),e.YNc(454,Pn,3,1,"div",205),e.qZA()(),e.TgZ(455,"div",206),e.YNc(456,wn,3,2,"div",207),e.TgZ(457,"button",208),e.YNc(458,qn,1,0,"span",209),e._uU(459," Salvar "),e.qZA()()(),e.YNc(460,yn,2,0,"ng-template",null,210,e.W1O),e.YNc(462,Nn,2,0,"ng-template",null,211,e.W1O),e.YNc(464,jn,2,0,"ng-template",null,212,e.W1O),e.qZA()(),e._UZ(466,"router-outlet")}if(2&t){const a=e.MAs(13),i=e.MAs(28),r=e.MAs(35),p=e.MAs(45),g=e.MAs(56),_=e.MAs(63),m=e.MAs(70),d=e.MAs(78),A=e.MAs(86),h=e.MAs(100),Z=e.MAs(108),Y=e.MAs(122),G=e.MAs(129),V=e.MAs(179),c=e.MAs(461);e.xp6(4),e.Q6J("icon",n.faChevronLeft),e.xp6(23),e.Q6J("ngModel",n.planner.cliente.nome)("ngbPopover",c)("disablePopover",null==i.errors),e.xp6(7),e.ekj("form-control-loading",n.loadingPerfilInvestidor),e.Q6J("ngModel",n.planner.cliente.perfilInvestidor_Id)("ngbPopover",c)("disablePopover",null==r.errors),e.xp6(2),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",n.perfilInvestidor),e.xp6(6),e.ekj("form-control-loading",n.loadingEstadoCivil),e.Q6J("ngModel",n.planner.cliente.estadoCivil_Id)("ngbPopover",c)("disablePopover",null==p.errors),e.xp6(2),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",n.estadoCivil),e.xp6(7),e.Q6J("ngModel",n.planner.cliente.cpf)("ngbPopover",c)("disablePopover",null==g.errors),e.xp6(7),e.Q6J("ngModel",n.planner.cliente.rg)("ngbPopover",c)("disablePopover",null==_.errors),e.xp6(7),e.Q6J("ngModel",n.planner.cliente.dataNascimento)("min",n.dataNascimentoMin)("max",n.dataNascimentoMax)("ngbPopover",c)("disablePopover",null==m.errors),e.xp6(2),e.Q6J("ngIf",m.touched&&m.errors),e.xp6(6),e.Q6J("ngModel",n.planner.cliente.idade)("ngbPopover",c)("disablePopover",null==d.errors),e.xp6(8),e.Q6J("email",!0)("ngModel",n.planner.cliente.email)("ngbPopover",c)("disablePopover",null==A.errors),e.xp6(14),e.Q6J("ngModel",n.planner.cliente.receita)("ngbPopover",c)("disablePopover",null==h.errors)("min",1)("max",1e8),e.xp6(2),e.Q6J("ngIf",h.touched&&h.errors),e.xp6(6),e.Q6J("ngModel",n.planner.cliente.despesa)("ngbPopover",c)("disablePopover",null==Z.errors)("min",1)("max",1e8),e.xp6(2),e.Q6J("ngIf",Z.touched&&Z.errors),e.xp6(12),e.Q6J("ngModel",n.planner.taxaSelic)("ngbPopover",c)("disablePopover",null==Y.errors),e.xp6(7),e.Q6J("ngModel",n.planner.taxaIpca)("ngbPopover",c)("disablePopover",null==G.errors),e.xp6(16),e.Q6J("ngModel",n.planner.rE_Sugerido)("allowNegativeNumbers",!1),e.xp6(5),e.Q6J("ngModel",n.planner.rE_Planejado)("allowNegativeNumbers",!1),e.xp6(10),e.Q6J("ngModel",n.planner.riscoAssumido)("allowNegativeNumbers",!1),e.xp6(5),e.Q6J("ngModel",n.planner.riscoTolerado)("allowNegativeNumbers",!1),e.xp6(14),e.Q6J("ngModel",n.planner.descricao)("ngbPopover",c)("disablePopover",null==V.errors),e.xp6(18),e.Q6J("valueInput",n.planner.cliente.idadeAposentadoria)("inputId","idadeAposentadoria")("mask","0*")("suffix"," anos")("min",20)("max",100)("required",!0)("showErrorMessage",!1)("allowNegativeNumbers",!1),e.xp6(7),e.Q6J("valueInput",n.planner.cliente.rendaMensalAposentadoria)("inputId","rendaMensalAposentadoria")("mask","separator.5")("thousandSeparator",".")("decimalMarker",",")("prefix","R$")("min",1)("max",1e8)("required",!0)("placeholder","R$ 00,00")("showErrorMessage",!1),e.xp6(7),e.Q6J("valueInput",n.planner.cliente.rentabilidadeAposentadoria)("inputId","rentabilidadeAposentadoria")("mask","separator.5")("suffix","%")("max",1e8)("required",!0)("showErrorMessage",!1)("allowNegativeNumbers",!0)("placeholder","0,00%")("showErrorMessage",!1),e.xp6(10),e.Q6J("icon",n.faPlus),e.xp6(8),e.Q6J("ngForOf",n.planner.planejamentoFluxosPontuais),e.xp6(1),e.Q6J("ngIf",0==n.planner.planejamentoFluxosPontuais.length),e.xp6(33),e.Q6J("ngModel",n.planner.sugestao_Baixissimo),e.xp6(3),e.Q6J("ngModel",n.planner.sugestao_Baixo),e.xp6(3),e.Q6J("ngModel",n.planner.sugestao_Moderado),e.xp6(3),e.Q6J("ngModel",n.planner.sugestao_Arrojado),e.xp6(3),e.Q6J("ngModel",n.planner.sugestao_SuperArrojado),e.xp6(3),e.Q6J("ngModel",n.planner.sugestao_Hedge),e.xp6(3),e.Q6J("ngModel",n.planner.sugestao_Total),e.xp6(8),e.Q6J("ngModel",n.planner.plano_Baixissimo),e.xp6(3),e.Q6J("ngModel",n.planner.plano_Baixo),e.xp6(3),e.Q6J("ngModel",n.planner.plano_Moderado),e.xp6(3),e.Q6J("ngModel",n.planner.plano_Arrojado),e.xp6(3),e.Q6J("ngModel",n.planner.plano_SuperArrojado),e.xp6(3),e.Q6J("ngModel",n.planner.plano_Hedge),e.xp6(3),e.Q6J("ngModel",n.planner.plano_Total),e.xp6(7),e.Q6J("routerLink",e.DdM(179,Jn)),e.xp6(3),e.Q6J("value",n.planner.planejamentoInvestimento)("responsive",!0),e.xp6(12),e.ekj("form-control-loading",n.loadingCarteiraSetup),e.Q6J("disabled",n.loadingCarteiraSetup)("options",n.carteirasSetup)("ngModel",n.planner.carteiraSetup_Id)("filter",!0)("showClear",!0)("required",!0),e.xp6(3),e.Q6J("ngIf",n.planner.planejamentoInvestimento.length>0&&0!=n.planner.carteiraSetup_Id&&(0==n.planner.planejamentoProduto.length||n.mudouCarteiraSetup)),e.xp6(1),e.Q6J("ngIf",n.planner.planejamentoInvestimento.length>0&&n.planner.planejamentoProduto.length>0&&0!=n.planner.carteiraSetup_Id&&!n.mudouCarteiraSetup),e.xp6(2),e.Q6J("ngIf",0==n.planner.planejamentoInvestimento.length),e.xp6(1),e.Q6J("value",n.planner.planejamentoProduto)("responsive",!0),e.xp6(21),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.montante)("readOnly",!0),e.xp6(5),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.riscoAssumido)("readOnly",!0),e.xp6(25),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.rentabilidade_Atual)("allowNegativeNumbers",!0)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.retornoAnual_Atual)("allowNegativeNumbers",!0)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.retornoMensal_Atual)("allowNegativeNumbers",!0)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.plMax_Atual)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.idadeMax_Atual)("readOnly",!0),e.xp6(7),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.rentabilidade_Sugerida)("allowNegativeNumbers",!0)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.retornoAnual_Sugerido)("allowNegativeNumbers",!0)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.retornoMensal_Sugerido)("allowNegativeNumbers",!0)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.plMax_Sugerido)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.idadeMax_Sugerido)("readOnly",!0),e.xp6(7),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.rentabilidade_Diferenca)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.retornoAnual_Diferenca)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.retornoMensal_Diferenca)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.plMax_Diferenca)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.idadeMax_Diferenca)("readOnly",!0),e.xp6(10),e.Q6J("icon",n.faArrowRight),e.xp6(2),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.pL_Desempenho)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.idade_Desempenho)("readOnly",!0),e.xp6(2),e.Q6J("ngIf",n.planner.planejamentoGrafico.length>0),e.xp6(1),e.Q6J("ngIf",n.planner.planejamentoProduto.length>0||n.planner.planejamentoInvestimento.length>0),e.xp6(2),e.Q6J("ngIf",n.erro||a.invalid),e.xp6(1),e.Q6J("disabled",n.loading||a.invalid||!n.formIsValid),e.xp6(1),e.Q6J("ngIf",n.loading)}},dependencies:[v.sg,v.O5,T.lC,T.yS,u._Y,u.YN,u.Kr,u.Fj,u.EJ,u.JJ,u.JL,u.Q7,u.c5,u.on,u.On,u.F,j.BN,J.hx,H.iA,B.jx,O.o8,ae.Lt,E.l,Qe,Fe,v.Ts,v.uU,J.Iq],styles:[".form-control-solucaoInicial[_ngcontent-%COMP%], .form-control-solucaoInicial[_ngcontent-%COMP%]:focus, .form-control-solucaoInicial[_ngcontent-%COMP%]:hover, .form-control-solucaoInicial[_ngcontent-%COMP%]:hover:focus{background-color:var(--primary)!important;border-radius:0;color:#fff!important;outline:none!important;box-shadow:none!important}.table[_ngcontent-%COMP%]   td.position-sticky[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th.position-sticky[_ngcontent-%COMP%]{position:sticky;left:0}.table-editable[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{min-width:110px}input#solucao_riscoAssumido_Atual[_ngcontent-%COMP%], input#solucao_montante_Atual[_ngcontent-%COMP%]{background-color:#104456;border:none}tr.bg-danger[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#f1d6d6!important;border:1px #ff0909 solid;border-left-color:#f1d6d6;border-right-color:#f1d6d6;border-spacing:1px;border-collapse:separate}tr.bg-danger[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background-color:#f1d6d6}"]}),o})();var Sn=s(4595),On=s(1442),kn=s(5669),Un=s(316);class Rn{constructor(){this.id=0,this.tipoAtivo_Id=0,this.tipoAtivo=new On.m,this.tipoRisco_Id=0,this.tipoRisco=new Un.p,this.tipoLiquidez_Id=0,this.tipoLiquidez=new kn.T,this.descricao=""}}class Qn{constructor(){this.id=0,this.planejamento_Id=0,this.rentabilidade="",this.rentabilidadeLiquida="",this.montanteAtual="",this.sugerido="",this.planoAcao="",this.custosTaxas="",this.investimento=new Rn,this.investimento_Id=void 0}}let Dn=(()=>{class o{constructor(t){this.http=t,this.url=X.N.url,this.list=new Q.X([])}getAll(){return this.http.get(`${this.url}/investimento/getAll`)}get(t){return this.http.get(`${this.url}/investimento/${t}`)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(te.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Fn(o,l){if(1&o&&(e.TgZ(0,"option",16),e._uU(1),e.qZA()),2&o){const t=l.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.descricao)}}function En(o,l){1&o&&(e.TgZ(0,"p",13),e._uU(1,"Esse campo \xe9 obrigat\xf3rio"),e.qZA())}function Ln(o,l){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,En,2,0,"p",29),e.qZA()),2&o){e.oxw();const t=e.MAs(20);e.xp6(1),e.Q6J("ngIf",t.errors.required)}}function Yn(o,l){if(1&o&&(e.TgZ(0,"p",33),e._uU(1),e.ALo(2,"json"),e.qZA()),2&o){const t=l.$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,t))}}function $n(o,l){1&o&&(e.TgZ(0,"p",33),e._uU(1,"Preencha todos os campos obrigat\xf3rios (*) corretamente para salvar"),e.qZA())}function Gn(o,l){if(1&o&&(e.TgZ(0,"div",30),e.YNc(1,Yn,3,3,"p",31),e.YNc(2,$n,2,0,"p",32),e.qZA()),2&o){const t=e.oxw(),n=e.MAs(12);e.xp6(1),e.Q6J("ngForOf",t.erro),e.xp6(1),e.Q6J("ngIf",n.invalid&&0==t.erro.length)}}function Vn(o,l){1&o&&e._UZ(0,"span",34)}function zn(o,l){1&o&&(e.TgZ(0,"div",35),e._uU(1," Este campo \xe9 obrigat\xf3rio "),e.qZA())}let pe=(()=>{class o{constructor(t,n,a,i,r,p){this.modal=t,this.plannerService=n,this.setupService=a,this.investimentoService=i,this.toastr=r,this.crypto=p,this.faTimes=C.NBC,this.faChevronLeft=C.A35,this.modalOpen=!1,this.objeto=new Qn,this.erro=[],this.loading=!1,this.planner=new M,this.investimentos=[],this.loadingInvestimentos=!0,this.aliquota="",this.subscription=[],this.objeto.investimento=void 0;var g=this.modal.getOpen().subscribe(d=>this.modalOpen=d);this.subscription.push(g);var _=0,m=this.plannerService.objeto.subscribe(d=>{0==d.id&&(d=this.getPlanner()),this.planner=d,this.objeto.planejamento_Id=this.planner.id,console.log("planner "+_++,d)});this.subscription.push(m)}ngAfterViewInit(){var t=this.investimentoService.list.subscribe(n=>this.setInvestimentos(n));this.subscription.push(t),(0,b.n)(this.investimentoService.getAll()).then(n=>this.setInvestimentos(n)).finally(()=>this.loadingInvestimentos=!1),setTimeout(()=>{this.modal.setOpen(!0)},200)}ngOnDestroy(){this.modal.setOpen(!1),this.subscription.forEach(t=>t.unsubscribe())}voltar(){this.modal.voltar()}setInvestimentos(t){this.loadingInvestimentos=!0;var n=this.planner.planejamentoInvestimento.map(a=>a.investimento_Id);console.log("investimentosExistentes",n),console.log("list",t),this.investimentos=t.filter(a=>!n.includes(a.id)),console.log("investimentos",this.investimentos),console.log("planner",this.planner),this.objeto.investimento=void 0,this.objeto.investimento_Id=void 0,this.loadingInvestimentos=!1}send(t){this.loading=!0,this.erro=[],this.objeto.investimento_Id=this.objeto.investimento.id,this.objeto.planejamento_Id=this.planner.id,this.objeto.rentabilidadeLiquida=this.objeto.rentabilidade,this.objeto.planoAcao=this.objeto.montanteAtual,this.objeto.sugerido=this.objeto.planoAcao,this.planner.planejamentoInvestimento.find(a=>a.investimento_Id==this.objeto.investimento_Id)?(this.erro.push("Esse investimento j\xe1 est\xe1 inserido."),this.toastr.error("Esse investimento j\xe1 est\xe1 inserido.")):(this.erro=[],this.planner.planejamentoInvestimento.push(this.objeto),this.plannerService.setObject(this.planner),this.voltar()),this.loading=!1}getPlanner(){let t=localStorage.getItem("planejamento");return this.crypto.decrypt(t)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(q.Q),e.Y36(P),e.Y36(re.A),e.Y36(Dn),e.Y36(S._W),e.Y36(x.w))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-form-investimento"]],decls:48,vars:36,consts:[[1,"modal"],[1,"modal__bg",3,"click"],[1,"modal__inner",2,"max-width","700px"],[1,"modal__content"],[1,"modal__header","pb-2"],[1,"text-orange"],[1,"modal__header-close","btn-close",3,"click"],[1,"modal__body","mt-0"],[1,"needs-validation",3,"ngSubmit"],["form","ngForm"],[1,"form-row"],[1,"form-group","col-lg-6","col-md-6","col-sm-6","col-12"],["for","investimento"],[1,"text-danger"],["name","investimento","id","investimento","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange"],["investimento","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[4,"ngIf"],["for","custosTaxas"],["suffix","%",3,"valueInput","inputId","mask","min","max","showErrorMessage","allowNegativeNumbers","required","valueChanges"],["for","rentabilidade"],["for","montanteAtual"],["prefix","R$ ",3,"valueInput","inputId","mask","min","showErrorMessage","allowNegativeNumbers","required","valueChanges"],[1,"d-flex","p-0","mt-3"],["class","m-0",4,"ngIf"],[1,"btn","btn-primary","mr-0","ml-auto",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["campoObrigatorio",""],["class","text-danger",4,"ngIf"],[1,"m-0"],["class","text-red",4,"ngFor","ngForOf"],["class","text-red",4,"ngIf"],[1,"text-red"],[1,"spinner-border","spinner-border-sm","mr-1"],[1,"py-3","px-4"]],template:function(t,n){if(1&t){const a=e.EpF();e.TgZ(0,"div",0)(1,"div",1),e.NdJ("click",function(){return n.voltar()}),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),e._uU(6,"Adicionar investimento"),e.qZA(),e.TgZ(7,"a",6),e.NdJ("click",function(){return n.voltar()}),e._UZ(8,"span")(9,"span"),e.qZA()(),e.TgZ(10,"div",7)(11,"form",8,9),e.NdJ("ngSubmit",function(){e.CHM(a);const r=e.MAs(12);return e.KtG(n.send(r))}),e.TgZ(13,"div",10)(14,"div",11)(15,"label",12),e._uU(16,"Investimento: "),e.TgZ(17,"span",13),e._uU(18,"*"),e.qZA()(),e.TgZ(19,"select",14,15),e.NdJ("ngModelChange",function(r){return n.objeto.investimento=r}),e.TgZ(21,"option",16),e._uU(22,"Selecione"),e.qZA(),e.YNc(23,Fn,2,2,"option",17),e.qZA(),e.YNc(24,Ln,2,1,"div",18),e.qZA(),e.TgZ(25,"div",11)(26,"label",19),e._uU(27,"Custos/Taxas: "),e.TgZ(28,"span",13),e._uU(29,"*"),e.qZA()(),e.TgZ(30,"app-input-number",20),e.NdJ("valueChanges",function(r){return n.objeto.custosTaxas=r}),e.qZA()(),e.TgZ(31,"div",11)(32,"label",21),e._uU(33,"Rentabilidade: "),e.TgZ(34,"span",13),e._uU(35,"*"),e.qZA()(),e.TgZ(36,"app-input-number",20),e.NdJ("valueChanges",function(r){return n.objeto.rentabilidade=r}),e.qZA()(),e.TgZ(37,"div",11)(38,"label",22),e._uU(39,"Montante Atual: "),e.qZA(),e.TgZ(40,"app-input-number",23),e.NdJ("valueChanges",function(r){return n.objeto.montanteAtual=r}),e.qZA()()(),e.TgZ(41,"div",24),e.YNc(42,Gn,3,2,"div",25),e.TgZ(43,"button",26),e.YNc(44,Vn,1,0,"span",27),e._uU(45," Salvar "),e.qZA()()(),e.YNc(46,zn,2,0,"ng-template",null,28,e.W1O),e.qZA()()()()}if(2&t){const a=e.MAs(12),i=e.MAs(20),r=e.MAs(47);e.ekj("active",n.modalOpen),e.xp6(19),e.ekj("form-control-loading",n.loadingInvestimentos),e.Q6J("ngModel",n.objeto.investimento)("ngbPopover",r)("disablePopover",null==i.errors),e.xp6(2),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",n.investimentos),e.xp6(1),e.Q6J("ngIf",i.errors&&i.touched),e.xp6(6),e.Q6J("valueInput",n.objeto.custosTaxas)("inputId","custosTaxas")("mask","separator.2")("min",0)("max",100)("showErrorMessage",!0)("allowNegativeNumbers",!1)("required",!0),e.xp6(6),e.Q6J("valueInput",n.objeto.rentabilidade)("inputId","rentabilidade")("mask","separator.2")("min",0)("max",100)("showErrorMessage",!0)("allowNegativeNumbers",!1)("required",!0),e.xp6(4),e.Q6J("valueInput",n.objeto.montanteAtual)("inputId","montanteAtual")("mask","separator.2")("min",0)("showErrorMessage",!0)("allowNegativeNumbers",!1)("required",!0),e.xp6(2),e.Q6J("ngIf",n.erro||a.invalid),e.xp6(1),e.Q6J("disabled",a.invalid||n.loading),e.xp6(1),e.Q6J("ngIf",n.loading)}},dependencies:[v.sg,v.O5,u._Y,u.YN,u.Kr,u.EJ,u.JJ,u.JL,u.Q7,u.On,u.F,O.o8,E.l,v.Ts]}),o})();var Hn=s(6886);class Bn{constructor(){this.id=0,this.planejamento_Id=0,this.rentabilidade="",this.rentabilidadeLiquida="",this.montanteAtual="",this.sugerido="",this.planoAcao="",this.percentual="",this.custosTaxas="",this.produto=new Hn.a7,this.produto_Id=void 0}}var Kn=s(9885);function Wn(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",13)(1,"input",37,15),e.NdJ("ngModelChange",function(a){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedRisco=a)})("ngModelChange",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.setProdutos())}),e.qZA(),e.TgZ(3,"label",38),e._uU(4),e.qZA()()}if(2&o){const t=l.$implicit,n=e.oxw();e.xp6(1),e.MGl("id","tipoRisco-",t.nome,""),e.Q6J("ngModel",n.selectedRisco)("value",t)("checked",t.id==(null==n.selectedRisco?null:n.selectedRisco.id)),e.xp6(2),e.MGl("for","tipoRisco-",t.nome,""),e.xp6(1),e.Oqu(t.nome)}}function Xn(o,l){1&o&&(e.TgZ(0,"span"),e._uU(1,"Selecione"),e.qZA())}function et(o,l){1&o&&(e.TgZ(0,"span"),e._uU(1,"Nenhum produto"),e.qZA())}function nt(o,l){if(1&o&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&o){const t=l.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.descricao)}}function tt(o,l){1&o&&(e.TgZ(0,"p",21)(1,"small"),e._uU(2,"Esse campo \xe9 obrigat\xf3rio "),e.qZA()())}function ot(o,l){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,tt,3,0,"p",39),e.qZA()),2&o){e.oxw();const t=e.MAs(30);e.xp6(1),e.Q6J("ngIf",t.errors.required)}}function at(o,l){if(1&o&&(e.TgZ(0,"p",43),e._uU(1),e.ALo(2,"json"),e.qZA()),2&o){const t=l.$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,t))}}function rt(o,l){1&o&&(e.TgZ(0,"p",43),e._uU(1,"Preencha todos os campos obrigat\xf3rios (*) corretamente para salvar"),e.qZA())}function it(o,l){if(1&o&&(e.TgZ(0,"div",40),e.YNc(1,at,3,3,"p",41),e.YNc(2,rt,2,0,"p",42),e.qZA()),2&o){const t=e.oxw(),n=e.MAs(12);e.xp6(1),e.Q6J("ngForOf",t.erro),e.xp6(1),e.Q6J("ngIf",n.invalid&&0==t.erro.length)}}function lt(o,l){1&o&&e._UZ(0,"span",44)}function st(o,l){1&o&&(e.TgZ(0,"div",45),e._uU(1," Este campo \xe9 obrigat\xf3rio "),e.qZA())}let de=(()=>{class o{constructor(t,n,a,i,r){this.modal=t,this.plannerService=n,this.produtoService=a,this.dropdown=i,this.crypto=r,this.faTimes=C.NBC,this.faChevronLeft=C.A35,this.modalOpen=!1,this.objeto=new Bn,this.planner=new M,this.erro=[],this.loading=!1,this.subscription=[],this.produtos=[],this.loadingProdutos=!0,this.tipoRiscos=[],this.loadingRiscos=!0;var p=this.modal.getOpen().subscribe(d=>this.modalOpen=d);this.subscription.push(p);var g=this.plannerService.objeto.subscribe(d=>{0==d.id&&(d=this.getPlanner()),this.planner=d,this.objeto.planejamento_Id=this.planner.id});this.subscription.push(g);var _=this.dropdown.tipoRisco.subscribe(d=>this.tipoRiscos=d);this.subscription.push(_),(0,b.n)(this.dropdown.getRisco()).then(d=>this.tipoRiscos=d).finally(()=>this.loadingRiscos=!1);var m=this.produtoService.list.subscribe(d=>this.setProdutos());this.subscription.push(m),(0,b.n)(this.produtoService.getList()).then(d=>this.setProdutos()).finally(()=>this.loadingProdutos=!1),setTimeout(()=>{this.modal.setOpen(!0)},200)}ngOnDestroy(){this.modal.setOpen(!1),this.subscription.forEach(t=>t.unsubscribe())}voltar(){this.modal.voltar()}setProdutos(){this.loadingProdutos=!0;var t=this.planner.planejamentoProduto.map(n=>n.produto_Id);this.produtos=this.produtoService.list.value,this.selectedRisco&&(this.produtos=this.produtoService.list.value.filter(n=>n.tipoRisco_Id==this.selectedRisco?.id)),this.produtos=this.produtos.filter(n=>!t.includes(n.id)),this.objeto.produto=void 0,this.objeto.produto_Id=void 0,this.loadingProdutos=!1}arrowUp(t){return(0,N.zJ)(t)}arrowDown(t,n=!1){return(0,N.DI)(t,n)}send(t){this.loading=!0,this.erro=[],this.objeto.rentabilidadeLiquida=0,this.objeto.montanteAtual=0,this.objeto.sugerido=0,this.planner.planejamentoProduto.push(this.objeto),this.plannerService.setObject(this.planner),this.voltar(),this.loading=!1}getPlanner(){let t=localStorage.getItem("planejamento");return this.crypto.decrypt(t)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(q.Q),e.Y36(P),e.Y36(Kn.m),e.Y36(F.V),e.Y36(x.w))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-form-produto"]],decls:59,vars:35,consts:[[1,"modal"],[1,"modal__bg",3,"click"],[1,"modal__inner",2,"max-width","700px"],[1,"modal__content"],[1,"modal__header","pb-2"],[1,"text-orange"],[1,"modal__header-close","btn-close",3,"click"],[1,"modal__body","mt-0"],[1,"needs-validation",3,"ngSubmit"],["form","ngForm"],[1,"mt-2","mb-2","px-2"],[1,"h6"],[1,"d-flex","align-items-center"],[1,"mx-2"],["type","radio","name","tipoRisco","id","tipoRisco-0",1,"mr-1","mt-1",3,"ngModel","value","checked","ngModelChange"],["tipoRisco","ngModel"],["for","tipoRisco-0"],["class","mx-2",4,"ngFor","ngForOf"],[1,"form-row"],[1,"form-group","col-lg-6","col-md-6","col-sm-6","col-12"],["for","produto"],[1,"text-danger"],["id","produto","name","produto","required","",1,"form-control",3,"ngModel","ngModelChange"],["produto","ngModel"],[3,"ngValue"],[4,"ngIf"],[3,"ngValue",4,"ngFor","ngForOf"],["for","custosTaxas"],[3,"valueInput","inputId","mask","suffix","required","showErrorMessage","allowNegativeNumbers","valueChanges"],["for","rentabilidade"],["for","planoAcao"],["prefix","R$ ",3,"valueInput","inputId","mask","required","showErrorMessage","allowNegativeNumbers","valueChanges"],[1,"d-flex","p-0","mt-3","align-items-center"],["class","m-0",4,"ngIf"],[1,"btn","btn-primary","mr-0","ml-auto",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["campoObrigatorio",""],["type","radio","name","tipoRisco",1,"mr-1","mt-1",3,"id","ngModel","value","checked","ngModelChange"],[3,"for"],["class","text-danger ",4,"ngIf"],[1,"m-0"],["class","text-red",4,"ngFor","ngForOf"],["class","text-red",4,"ngIf"],[1,"text-red"],[1,"spinner-border","spinner-border-sm","mr-1"],[1,"py-3","px-4"]],template:function(t,n){if(1&t){const a=e.EpF();e.TgZ(0,"div",0)(1,"div",1),e.NdJ("click",function(){return n.voltar()}),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),e._uU(6,"Adicionar produto"),e.qZA(),e.TgZ(7,"a",6),e.NdJ("click",function(){return n.voltar()}),e._UZ(8,"span")(9,"span"),e.qZA()(),e.TgZ(10,"div",7)(11,"form",8,9),e.NdJ("ngSubmit",function(){e.CHM(a);const r=e.MAs(12);return e.KtG(n.send(r))}),e.TgZ(13,"div",10)(14,"p",11),e._uU(15,"Selecione o Risco"),e.qZA(),e.TgZ(16,"div",12)(17,"div",13)(18,"input",14,15),e.NdJ("ngModelChange",function(r){return n.selectedRisco=r})("ngModelChange",function(){return n.setProdutos()}),e.qZA(),e.TgZ(20,"label",16),e._uU(21,"Todos"),e.qZA()(),e.YNc(22,Wn,5,6,"div",17),e.qZA()(),e.TgZ(23,"div",18)(24,"div",19)(25,"label",20),e._uU(26,"Produto: "),e.TgZ(27,"span",21),e._uU(28,"*"),e.qZA()(),e.TgZ(29,"select",22,23),e.NdJ("ngModelChange",function(r){return n.objeto.produto=r})("ngModelChange",function(){e.CHM(a);const r=e.MAs(30);return e.KtG(n.objeto.produto_Id=r.value?r.value.id:void 0)}),e.TgZ(31,"option",24),e.YNc(32,Xn,2,0,"span",25),e.YNc(33,et,2,0,"span",25),e.qZA(),e.YNc(34,nt,2,2,"option",26),e.qZA(),e.YNc(35,ot,2,1,"div",25),e.qZA(),e.TgZ(36,"div",19)(37,"label",27),e._uU(38,"Custos/Taxas: "),e.qZA(),e.TgZ(39,"app-input-number",28),e.NdJ("valueChanges",function(r){return n.objeto.custosTaxas=r}),e.qZA()(),e.TgZ(40,"div",19)(41,"label",29),e._uU(42,"Rentabilidade: "),e.TgZ(43,"span",21),e._uU(44,"*"),e.qZA()(),e.TgZ(45,"app-input-number",28),e.NdJ("valueChanges",function(r){return n.objeto.rentabilidade=r}),e.qZA()(),e.TgZ(46,"div",19)(47,"label",30),e._uU(48,"Plano de A\xe7\xe3o: "),e.TgZ(49,"span",21),e._uU(50,"*"),e.qZA()(),e.TgZ(51,"app-input-number",31),e.NdJ("valueChanges",function(r){return n.objeto.planoAcao=r}),e.qZA()()(),e.TgZ(52,"div",32),e.YNc(53,it,3,2,"div",33),e.TgZ(54,"button",34),e.YNc(55,lt,1,0,"span",35),e._uU(56," Salvar "),e.qZA()()(),e.YNc(57,st,2,0,"ng-template",null,36,e.W1O),e.qZA()()()()}if(2&t){const a=e.MAs(12),i=e.MAs(30);e.ekj("active",n.modalOpen),e.xp6(18),e.Q6J("ngModel",n.selectedRisco)("value",void 0)("checked",!n.selectedRisco),e.xp6(4),e.Q6J("ngForOf",n.tipoRiscos),e.xp6(7),e.Q6J("ngModel",n.objeto.produto),e.xp6(2),e.Q6J("ngValue",void 0),e.xp6(1),e.Q6J("ngIf",n.produtos.length>0),e.xp6(1),e.Q6J("ngIf",0==n.produtos.length),e.xp6(1),e.Q6J("ngForOf",n.produtos),e.xp6(1),e.Q6J("ngIf",i.touched&&i.errors),e.xp6(4),e.Q6J("valueInput",n.objeto.custosTaxas)("inputId","custosTaxas")("mask","separator.2")("suffix","%")("required",!0)("showErrorMessage",!0)("allowNegativeNumbers",!1),e.xp6(6),e.Q6J("valueInput",n.objeto.rentabilidade)("inputId","rentabilidade")("mask","separator.2")("suffix","%")("required",!0)("showErrorMessage",!0)("allowNegativeNumbers",!1),e.xp6(6),e.Q6J("valueInput",n.objeto.planoAcao)("inputId","planoAcao")("mask","separator.2")("required",!0)("showErrorMessage",!0)("allowNegativeNumbers",!1),e.xp6(2),e.Q6J("ngIf",n.erro||a.invalid),e.xp6(1),e.Q6J("disabled",a.invalid||n.loading||!i),e.xp6(1),e.Q6J("ngIf",n.loading)}},dependencies:[v.sg,v.O5,u._Y,u.YN,u.Kr,u.Fj,u.EJ,u._,u.JJ,u.JL,u.Q7,u.On,u.F,E.l,v.Ts]}),o})();var pt=s(4506);let ue=(()=>{class o{constructor(t,n,a){this.modal=t,this.alert=n,this.plannerService=a}canActivate(t,n){let a=this.plannerService.objeto.value;return a.carteiraSetup?0!=a.planejamentoInvestimento.length||(this.modal.voltar(),this.alert.warn("Insira um investimento para cadastrar um produto!"),!1):(this.modal.voltar(),this.alert.warn("Escolha um setup para adicionar um produto!"),!1)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(q.Q),e.LFG(pt.c),e.LFG(P))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function dt(o,l){if(1&o&&(e.TgZ(0,"li",16),e._uU(1),e.ALo(2,"json"),e.qZA()),2&o){const t=l.$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,t))}}function ut(o,l){if(1&o&&(e.TgZ(0,"ul",14),e.YNc(1,dt,3,3,"li",15),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.erro)}}function mt(o,l){1&o&&e._UZ(0,"span",17)}let ct=(()=>{class o{constructor(t,n,a,i,r){this.router=t,this.activatedRoute=n,this.modal=a,this.plannerService=i,this.crypto=r,this.faTimes=C.NBC,this.modalOpen=!1,this.erro=[],this.loading=!1,this.id=0,this.subscription=[];var p=this.modal.getOpen().subscribe(_=>this.modalOpen=_);this.subscription.push(p);var g=this.activatedRoute.params.subscribe(_=>{_.planner_id?this.id=this.crypto.decrypt(_.planner_id):this.voltar()});this.subscription.push(g),setTimeout(()=>{this.modal.setOpen(!0)},200)}ngOnDestroy(){this.subscription.forEach(t=>t.unsubscribe())}voltar(){this.modal.voltar()}send(){this.loading=!0,(0,b.n)(this.plannerService.delete(this.id)).then(t=>{(0,b.n)(this.plannerService.getList()),this.router.navigate(["..","..",".."]),this.plannerService.setObject(new M)}).finally(()=>this.loading=!1)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(T.F0),e.Y36(T.gz),e.Y36(q.Q),e.Y36(P),e.Y36(x.w))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-delete-planner"]],decls:22,vars:5,consts:[[1,"modal"],[1,"modal__bg",3,"click"],[1,"modal__inner",2,"max-width","600px"],[1,"modal__content"],[1,"modal__header","pb-2"],[1,"text-orange"],[1,"mt-2"],[1,"modal__header-close","btn-close",3,"click"],[1,"modal__body","mt-0"],["class","m-0 col-lg-12 mt-1",4,"ngIf"],[1,"d-flex","justify-content-center","flex-wrap","p-0","mt-1"],[1,"btn","btn-grey","mr-1",3,"click"],[1,"btn","btn-primary","mr-0",3,"disabled","click"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"m-0","col-lg-12","mt-1"],["class","text-red",4,"ngFor","ngForOf"],[1,"text-red"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.NdJ("click",function(){return n.voltar()}),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),e._uU(6,"Excluir registro"),e.qZA(),e.TgZ(7,"p",6),e._uU(8,"Tem certeza que deseja excluir esse registro? Ele n\xe3o poder\xe1 ser recuperado."),e.qZA(),e.TgZ(9,"p"),e._uU(10,"Todos os registros relacionados a esse planejamento, tamb\xe9m ser\xe3o removidos."),e.qZA(),e.TgZ(11,"a",7),e.NdJ("click",function(){return n.voltar()}),e._UZ(12,"span")(13,"span"),e.qZA()(),e.TgZ(14,"div",8),e.YNc(15,ut,2,1,"ul",9),e.TgZ(16,"div",10)(17,"button",11),e.NdJ("click",function(){return n.voltar()}),e._uU(18," Voltar"),e.qZA(),e.TgZ(19,"button",12),e.NdJ("click",function(){return n.send()}),e.YNc(20,mt,1,0,"span",13),e._uU(21," Excluir "),e.qZA()()()()()()),2&t&&(e.ekj("active",n.modalOpen),e.xp6(15),e.Q6J("ngIf",n.erro),e.xp6(4),e.Q6J("disabled",n.loading),e.xp6(1),e.Q6J("ngIf",n.loading))},dependencies:[v.sg,v.O5,v.Ts]}),o})();var gt=s(8785),_t=s(3834),me=s(9738);const ht=[{path:"",component:oe,children:[{path:"cadastrar",component:gt.G,title:"Planner - Cadastrar cliente"},{path:"editar/:cliente_id",component:_t.F,title:"Planner - Editar cliente"},{path:"excluir/:cliente_id",component:Sn.T,title:"Planner - Excluir cliente"},{path:"habilitar/:cliente_id",component:me.T,title:"Planner - Habilitar cliente"},{path:"desabilitar/:cliente_id",component:me.T,title:"Planner - Desabilitar cliente"}]},{path:"planner",component:se,title:"Planner - Planejamento",children:[{path:"investimento",component:pe},{path:"produto",component:de,canActivate:[ue]},{path:"excluir/:planner_id",component:ct}]},{path:"planner/:cliente_id",component:se,children:[{path:"investimento",component:pe},{path:"produto",component:de,canActivate:[ue]}]}];let vt=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[T.Bz.forChild(ht),T.Bz]}),o})();var ft=s(9880),Ct=s(1740);let bt=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o,bootstrap:[oe]}),o.\u0275inj=e.cJS({imports:[v.ez,vt,u.u5,j.uH,J.yI,S.Rh,H.U$,O.dT,ae.kW,L.S,ft.m,Ct.j,u.UX]}),o})()}}]);