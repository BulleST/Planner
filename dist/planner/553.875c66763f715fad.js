"use strict";(self.webpackChunkplanner=self.webpackChunkplanner||[]).push([[553],{1553:(ft,z,p)=>{p.r(z),p.d(z,{ClientesModule:()=>vt});var h=p(6895),d=p(433),j=p(3868),y=p(1094),I=p(7185),V=p(47),J=p(279),B=p(5861),M=p(801),W=p(805),C=p(9808),U=p(1956),O=p(4429),N=p(9398),F=p(1685);class q{constructor(){this.id=0,this.planejamento_Id=0}}class T{constructor(){this.id=0,this.cliente_Id=0,this.cliente=new O.c1,this.account_Id=0,this.account=new F.mR,this.carteiraSetup_Id=void 0,this.carteiraSetup=void 0,this.data="",this.descricao="",this.taxaSelic="",this.taxaIpca="",this.cm=!1,this.rE_Sugerido="",this.rE_Planejado="",this.riscoAssumido="",this.riscoTolerado="",this.sugestao_Baixissimo="",this.sugestao_Baixo="",this.sugestao_Moderado="",this.sugestao_Arrojado="",this.sugestao_SuperArrojado="",this.sugestao_Hedge="",this.sugestao_Total="",this.plano_Baixissimo="",this.plano_Baixo="",this.plano_Moderado="",this.plano_Arrojado="",this.plano_SuperArrojado="",this.plano_Hedge="",this.plano_Total="",this.atual_Total=0,this.atual_RentabilidadeMedia=0,this.atual_RentabilidadeReal=0,this.sugerido_Total=0,this.planoAcao_Total=0,this.planoAcao_RentabilidadeMedia=0,this.planoAcao_RentabilidadeReal=0,this.planejamentoAgregandoValor=new q,this.planejamentoGrafico=[],this.planejamentoInvestimento=[],this.planejamentoProduto=[],this.planejamentoFluxosPontuais=[],this.principaisObjetivos=[]}}var X=p(9876),_e=p(932),ee=p(8913),Q=p(1135),ge=p(8505),he=p(9646),R=p(4004),ne=p(2340),S=p(9243),te=p(4409),oe=p(46),e=p(4650),ae=p(529);let P=(()=>{class i{constructor(t,n,a,r,o){this.http=t,this.crypto=n,this.accountService=a,this.empresaService=r,this.table=o,this.list=new Q.X([]),this.url=ne.N.url,this.objeto=new Q.X(new T),this.empresa=new N.oW,this.account=new F.mR,this.empresa=this.empresaService.object,this.empresaService.empresa.subscribe(s=>this.empresa=s),this.accountService.account.subscribe(s=>this.account=s??new F.mR)}getObject(){let t=localStorage.getItem("planejamento");if(t){let n=this.crypto.decrypt(t);this.objeto.next(n)}else this.setObject(new T);return this.objeto}setObject(t){t.planejamentoAgregandoValor=t.planejamentoAgregandoValor??new q,localStorage.setItem("planejamento",this.crypto.encrypt(t)??""),this.objeto.next(t)}getList(){return this.table.loading.next(!0),this.http.get(`${this.url}/planejamento/all/${this.account.perfilAcesso_Id!=te.u.Admin?this.account.empresa_Id:this.empresa.id}`).pipe((0,ge.b)({next:n=>(n=n.map(a=>(a.cliente.ativo=!a.cliente.dataDesativado,a)),this.list.next(n),(0,he.of)(n)),complete:()=>{this.table.loading.next(!1)}}))}getByClienteId(t){return this.http.get(`${this.url}/planejamento/${t}`).pipe((0,R.U)(n=>(n.principaisObjetivos=n.principaisObjetivos?n.principaisObjetivos:[],n.planejamentoAgregandoValor=n.planejamentoAgregandoValor??new q,this.setObject(n),n)))}send(t){return this.http.post(`${this.url}/planejamento/`,t)}create(t){return t.cliente.empresa_Id=this.account.perfilAcesso_Id!=te.u.Admin?this.account.empresa_Id:this.empresa.id,t.account_Id=this.account.id,t.cliente.account_Id=this.account.id,this.http.post(`${this.url}/planejamento/`,t).pipe((0,R.U)(a=>(a.planejamentoAgregandoValor=a.planejamentoAgregandoValor??new q,a)))}edit(t){return this.http.put(`${this.url}/planejamento/`,t).pipe((0,R.U)(n=>(n.planejamentoAgregandoValor=n.planejamentoAgregandoValor??new q,n)))}delete(t){return this.http.delete(`${this.url}/planejamento/${t}`)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(ae.eN),e.LFG(S.w),e.LFG(X.B),e.LFG(ee.P),e.LFG(oe.i))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var Z=p(202),ve=p(453),fe=p(8944);function Me(i,l){1&i&&e._UZ(0,"app-empresa-select")}const Ce=function(){return["planner"]};let re=(()=>{class i{constructor(t,n,a,r,o,s){var _=this;this.table=t,this.crypto=n,this.clienteService=a,this.plannerService=r,this.accountService=o,this.empresaService=s,this.faCity=M.SBo,this.list=[],this.columns=O.lF,this.tableLinks=[],this.empresaSelected=new N.oW,this.subscription=[],this.create=(f=this.plannerService)=>{f.setObject(new T)};var g=this.clienteService.list.subscribe(f=>this.list=f),u=this.accountService.account.subscribe(f=>this.account=f),c=this.empresaService.empresa.subscribe(function(){var f=(0,B.Z)(function*(w){_.empresaSelected=w,0!=w.id&&(yield(0,C.n)(_.clienteService.getList()))});return function(w){return f.apply(this,arguments)}}()),A=this.table.selected.subscribe(f=>{f&&(this.tableLinks=[{label:"Ver planner",routePath:["planner"],paramsFieldName:["id"]},{label:f.ativo?"Desabilitar":"Habilitar",routePath:[f.ativo?"desabilitar":"habilitar"],paramsFieldName:["id"]}],this.tableLinks=this.table.encryptParams(this.tableLinks))});this.subscription.push(g),this.subscription.push(u),this.subscription.push(c),this.subscription.push(A),[1,2].includes(this.accountService.accountValue?.perfilAcesso_Id??0)&&(this.columns=Object.assign([],O.lF),this.columns.splice(2,0,{field:"account.email",header:"Cadastrado por",maskType:U.O.undefined,filterType:U.vA.text,filterDisplay:U.w2.menu,filterShowAddButton:!1,filterShowMatchMode:!1,filterMatchMode:W.a6.CONTAINS}))}ngOnDestroy(){this.subscription.forEach(t=>t.unsubscribe())}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(oe.i),e.Y36(S.w),e.Y36(_e.$),e.Y36(P),e.Y36(X.B),e.Y36(ee.P))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-list"]],decls:17,vars:17,consts:[[1,"page"],[1,"page__header"],[1,"title-icon"],[3,"icon"],[1,"mr-auto"],[1,"page__header-title"],[1,"page__header-subtitle"],[1,"ml-auto","mb-0","col-xl-3","col-lg-4","col-md-5","col-sm-5","col-12","px-0"],[4,"ngIf"],[1,"page__body"],[3,"createLink","onCreate","canCreate","list","paginator","filterLink","filterTable","sortTable","menuTable","columns","selectable","tableLinks"]],template:function(t,n){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"span",2),e._UZ(3,"fa-icon",3),e.qZA(),e.TgZ(4,"div",4)(5,"h3",5),e._uU(6,"Clientes"),e.qZA(),e.TgZ(7,"p",6)(8,"small"),e._uU(9,"Clientes cadastrados em "),e.TgZ(10,"strong"),e._uU(11),e.qZA()()()(),e.TgZ(12,"div",7),e.YNc(13,Me,1,0,"app-empresa-select",8),e.qZA()(),e.TgZ(14,"div",9),e._UZ(15,"app-list-shared",10),e.qZA()(),e._UZ(16,"router-outlet")),2&t&&(e.xp6(3),e.Q6J("icon",n.faCity),e.xp6(8),e.Oqu(n.empresaSelected.nome||"Empresa X"),e.xp6(2),e.Q6J("ngIf",n.account&&1==n.account.perfilAcesso_Id),e.xp6(2),e.Q6J("createLink",e.DdM(16,Ce))("onCreate",n.create)("canCreate",!0)("list",n.list)("paginator",!0)("filterLink",!1)("filterTable",!0)("sortTable",!0)("menuTable",!0)("columns",n.columns)("selectable",!0)("tableLinks",n.tableLinks)("selectable",!0))},dependencies:[h.O5,Z.lC,j.BN,ve.o,fe.l]}),i})();var ie=p(2210),Ae=p(6025);class be{constructor(){this.id=0,this.planejamento_Id=0,this.idade="",this.valor=""}}class Te{constructor(){this.id=0,this.descricao=""}}var D=p(9535),G=p(9205),x=p(3866),le=p(2788),k=p(7549),L=p(9364);const Ze=["chartAtivo_Investimento"],Pe=["chartRisco_Investimento"],we=["chartLiquidez_Investimento"],xe=["chartAtivo_Produto"],ye=["chartRisco_Produto"],qe=["chartLiquidez_Produto"];function ke(i,l){if(1&i&&(e.TgZ(0,"div",10)(1,"p",11),e._uU(2,"Investimento"),e.qZA(),e._UZ(3,"p-chart",12,13),e.qZA()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("data",t.chartRiscoData_Investimento)("options",t.chartRiscoOptions_Investimento)}}function Ie(i,l){if(1&i&&(e.TgZ(0,"div",10)(1,"p",11),e._uU(2,"Produto"),e.qZA(),e._UZ(3,"p-chart",12,14),e.qZA()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("data",t.chartRiscoData_Produto)("options",t.chartRiscoOptions_Produto)}}function Je(i,l){if(1&i&&(e.TgZ(0,"div",6)(1,"p",7),e._uU(2,"Risco"),e.qZA(),e.TgZ(3,"div",8),e.YNc(4,ke,5,2,"div",9),e.YNc(5,Ie,5,2,"div",9),e.qZA()()),2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",t.showInvestimentoRisco),e.xp6(1),e.Q6J("ngIf",t.showProdutoRisco)}}function Ne(i,l){if(1&i&&(e.TgZ(0,"div",10)(1,"p",11),e._uU(2,"Investimento"),e.qZA(),e._UZ(3,"p-chart",12,16),e.qZA()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("data",t.chartLiquidezData_Investimento)("options",t.chartLiquidezOptions_Investimento)}}function Se(i,l){if(1&i&&(e.TgZ(0,"div",10)(1,"p",11),e._uU(2,"Produto"),e.qZA(),e._UZ(3,"p-chart",12,17),e.qZA()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("data",t.chartLiquidezData_Produto)("options",t.chartLiquidezOptions_Produto)}}function je(i,l){if(1&i&&(e.TgZ(0,"div",15)(1,"p",7),e._uU(2,"Liquidez"),e.qZA(),e.TgZ(3,"div",8),e.YNc(4,Ne,5,2,"div",9),e.YNc(5,Se,5,2,"div",9),e.qZA()()),2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",t.showInvestimentoLiquidez),e.xp6(1),e.Q6J("ngIf",t.showProdutoLiquidez)}}function Ue(i,l){if(1&i&&(e.TgZ(0,"div",10)(1,"p",11),e._uU(2,"Investimento"),e.qZA(),e._UZ(3,"p-chart",12,19),e.qZA()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("data",t.chartAtivoData_Investimento)("options",t.chartAtivoOptions_Investimento)}}function Oe(i,l){if(1&i&&(e.TgZ(0,"div",10)(1,"p",11),e._uU(2,"Produto"),e.qZA(),e._UZ(3,"p-chart",12,20),e.qZA()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("data",t.chartAtivoData_Produto)("options",t.chartAtivoOptions_Produto)}}function Fe(i,l){if(1&i&&(e.TgZ(0,"div",18)(1,"p",7),e._uU(2,"Ativo"),e.qZA(),e.TgZ(3,"div",8),e.YNc(4,Ue,5,2,"div",9),e.YNc(5,Oe,5,2,"div",9),e.qZA()()),2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",t.showInvestimentoAtivo),e.xp6(1),e.Q6J("ngIf",t.showProdutoAtivo)}}let Qe=(()=>{class i{constructor(t){this.dropdown=t,this.open=!0,this.planner=new T,this.ativos=[],this.riscos=[],this.liquidez=[],this.colors=["#36a2eb","#ff6384","#ff9f40","#9966ff","#ffcd56","#c9cbcf","#4bc0c0"],this.produtoTotal=0,this.investimentoTotal=0,this.showInvestimentoRisco=!1,this.showInvestimentoLiquidez=!1,this.showInvestimentoAtivo=!1,this.showProdutoRisco=!1,this.showProdutoLiquidez=!1,this.showProdutoAtivo=!1,this.chartOptions={plugins:{legend:{position:"bottom",display:!1},colors:{enabled:!1}},animations:{tension:{duration:1e3,easing:"linear",from:1,to:0,loop:!0}}}}ngOnChanges(t){t.open&&(this.open=t.open.currentValue),t.planner&&(this.planner=t.planner.currentValue,this.planner.planejamentoProduto.length>0&&(this.produtoTotal=this.planner.planejamentoProduto.map(n=>n.sugerido).reduce((n,a)=>n+a)),this.planner.planejamentoInvestimento.length>0&&(this.investimentoTotal=this.planner.planejamentoInvestimento.map(n=>n.montanteAtual).reduce((n,a)=>n+a)),this.setChartRisco_Investimento(),this.setChartLiquidez_Investimento(),this.setChartAtivo_Investimento(),this.setChartRisco_Produto(),this.setChartLiquidez_Produto(),this.setChartAtivo_Produto())}voltar(){setTimeout(()=>{this.open=!1},300)}setChartRisco_Produto(){this.chartRiscoOptions_Produto=JSON.parse(JSON.stringify(this.chartOptions)),this.chartRiscoOptions_Produto.plugins.tooltip={callbacks:{afterBody:a=>"R$ "+a[0].element.$context.raw.sugerido}},this.chartRiscoOptions_Produto.parsing={key:"percentual"};var n,t=[];this.showProdutoRisco=t&&t.length>0,this.planner.planejamentoProduto.forEach(a=>{var r=t.findIndex(o=>a.produto.tipoRisco_Id==o.tipoRisco_Id);-1==r?n={tipoRisco_Id:a.produto.tipoRisco_Id,tipoRisco:a.produto.tipoRisco,sugerido:a.sugerido,label:a.produto.tipoRisco.nome}:(n=t[r]).sugerido+=a.sugerido,n.percentual=n.sugerido/this.produtoTotal*100,t.splice(r,-1==r?0:1,n)}),this.chartRiscoData_Produto={labels:t.map(a=>a.tipoRisco.nome),datasets:[{label:t.map(a=>a.tipoRisco.nome),data:t,backgroundColor:this.colors,hoverOffset:4}]}}setChartLiquidez_Produto(){this.chartLiquidezOptions_Produto=JSON.parse(JSON.stringify(this.chartOptions)),this.chartLiquidezOptions_Produto.plugins.tooltip={callbacks:{afterBody:a=>"R$ "+a[0].element.$context.raw.sugerido}},this.chartLiquidezOptions_Produto.parsing={key:"percentual"};var n,t=[];this.showProdutoLiquidez=t&&t.length>0,this.planner.planejamentoProduto.forEach(a=>{var r=t.findIndex(o=>a.produto.tipoLiquidez_Id==o.tipoLiquidez_Id);-1==r?n={tipoLiquidez_Id:a.produto.tipoLiquidez_Id,tipoLiquidez:a.produto.tipoLiquidez,sugerido:a.sugerido,label:a.produto.tipoLiquidez.nome}:(n=t[r]).sugerido+=a.sugerido,n.percentual=n.sugerido/this.produtoTotal*100,t.splice(r,-1==r?0:1,n)}),this.chartLiquidezData_Produto={labels:t.map(a=>a.tipoLiquidez.nome),datasets:[{label:t.map(a=>a.tipoLiquidez.nome),data:t,backgroundColor:this.colors,hoverOffset:4}]}}setChartAtivo_Produto(){this.chartAtivoOptions_Produto=JSON.parse(JSON.stringify(this.chartOptions)),this.chartAtivoOptions_Produto.plugins.tooltip={callbacks:{afterBody:a=>"R$ "+a[0].element.$context.raw.sugerido}},this.chartAtivoOptions_Produto.parsing={key:"percentual"};var n,t=[];this.showProdutoAtivo=t&&t.length>0,this.planner.planejamentoProduto.forEach(a=>{var r=t.findIndex(o=>a.produto.tipoAtivo_Id==o.tipoAtivo_Id);-1==r?n={tipoAtivo_Id:a.produto.tipoAtivo_Id,tipoAtivo:a.produto.tipoAtivo,sugerido:a.sugerido,label:a.produto.tipoAtivo.nome}:(n=t[r]).sugerido+=a.sugerido,n.percentual=n.sugerido/this.produtoTotal*100,t.splice(r,-1==r?0:1,n)}),this.chartAtivoData_Produto={labels:t.map(a=>a.tipoAtivo.nome),datasets:[{label:t.map(a=>a.tipoAtivo.nome),data:t,backgroundColor:this.colors,hoverOffset:4}]}}setChartRisco_Investimento(){this.chartRiscoOptions_Investimento=JSON.parse(JSON.stringify(this.chartOptions)),this.chartRiscoOptions_Investimento.plugins.tooltip={callbacks:{afterBody:a=>"R$ "+a[0].element.$context.raw.montanteAtual}},this.chartRiscoOptions_Investimento.parsing={key:"percentual"};var n,t=[];this.showInvestimentoRisco=t&&t.length>0,this.planner.planejamentoInvestimento.forEach(a=>{var r=t.findIndex(o=>a.investimento.tipoRisco_Id==o.tipoRisco_Id);-1==r?n={tipoRisco_Id:a.investimento.tipoRisco_Id,tipoRisco:a.investimento.tipoRisco,montanteAtual:a.montanteAtual,label:a.investimento.tipoRisco.nome}:(n=t[r]).montanteAtual+=a.montanteAtual,n.percentual=n.montanteAtual/this.investimentoTotal*100,t.splice(r,-1==r?0:1,n)}),this.chartRiscoData_Investimento={labels:t.map(a=>a.tipoRisco.nome),datasets:[{label:t.map(a=>a.tipoRisco.nome),data:t,backgroundColor:this.colors,hoverOffset:4}]}}setChartLiquidez_Investimento(){this.chartLiquidezOptions_Investimento=JSON.parse(JSON.stringify(this.chartOptions)),this.chartLiquidezOptions_Investimento.plugins.tooltip={callbacks:{afterBody:a=>"R$ "+a[0].element.$context.raw.montanteAtual}},this.chartLiquidezOptions_Investimento.parsing={key:"percentual"};var n,t=[];this.showInvestimentoLiquidez=t&&t.length>0,this.planner.planejamentoInvestimento.forEach(a=>{var r=t.findIndex(o=>a.investimento.tipoLiquidez_Id==o.tipoLiquidez_Id);-1==r?n={tipoLiquidez_Id:a.investimento.tipoLiquidez_Id,tipoLiquidez:a.investimento.tipoLiquidez,montanteAtual:a.montanteAtual,label:a.investimento.tipoLiquidez.nome}:(n=t[r]).montanteAtual+=a.montanteAtual,n.percentual=n.montanteAtual/this.investimentoTotal*100,t.splice(r,-1==r?0:1,n)}),this.chartLiquidezData_Investimento={labels:t.map(a=>a.tipoLiquidez.nome),datasets:[{label:t.map(a=>a.tipoLiquidez.nome),data:t,backgroundColor:this.colors,hoverOffset:4}]}}setChartAtivo_Investimento(){this.chartAtivoOptions_Investimento=JSON.parse(JSON.stringify(this.chartOptions)),this.chartAtivoOptions_Investimento.plugins.tooltip={callbacks:{afterBody:a=>"R$ "+a[0].element.$context.raw.montanteAtual}},this.chartAtivoOptions_Investimento.parsing={key:"percentual"};var n,t=[];this.showInvestimentoAtivo=t&&t.length>0,this.planner.planejamentoInvestimento.forEach(a=>{var r=t.findIndex(o=>a.investimento.tipoAtivo_Id==o.tipoAtivo_Id);-1==r?n={tipoAtivo_Id:a.investimento.tipoAtivo_Id,tipoAtivo:a.investimento.tipoAtivo,montanteAtual:a.montanteAtual,label:a.investimento.tipoAtivo.nome}:(n=t[r]).montanteAtual+=a.montanteAtual,n.percentual=n.montanteAtual/this.investimentoTotal*100,t.splice(r,-1==r?0:1,n)}),this.chartAtivoData_Investimento={labels:t.map(a=>a.tipoAtivo.nome),datasets:[{label:t.map(a=>a.tipoAtivo.nome),data:t,backgroundColor:this.colors,hoverOffset:4}]}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(D.V))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-grafico-comparativo"]],viewQuery:function(t,n){if(1&t&&(e.Gf(Ze,5),e.Gf(Pe,5),e.Gf(we,5),e.Gf(xe,5),e.Gf(ye,5),e.Gf(qe,5)),2&t){let a;e.iGM(a=e.CRH())&&(n.chartAtivo_Investimento=a.first),e.iGM(a=e.CRH())&&(n.chartRisco_Investimento=a.first),e.iGM(a=e.CRH())&&(n.chartLiquidez_Investimento=a.first),e.iGM(a=e.CRH())&&(n.chartAtivo_Produto=a.first),e.iGM(a=e.CRH())&&(n.chartRisco_Produto=a.first),e.iGM(a=e.CRH())&&(n.chartLiquidez_Produto=a.first)}},inputs:{open:"open",planner:"planner"},features:[e.TTD],decls:8,vars:3,consts:[[1,"home__container","col-12"],[1,"home__container-header","mb-2"],[1,"d-flex","flex-wrap"],["class","col-lg-4 col-md-4 col-sm-12 col-12 mb-4 ps-md-0",4,"ngIf"],["class","col-lg-4 col-md-4 col-sm-12 col-12 mb-4 px-sm-0",4,"ngIf"],["class","col-lg-4 col-md-4 col-sm-12 col-12 mb-4 pe-md-0",4,"ngIf"],[1,"col-lg-4","col-md-4","col-sm-12","col-12","mb-4","ps-md-0"],[1,"card-header","border","text-center","font-weight-bold","w-100"],[1,"card","card-body","rounded-0","d-flex","flex-wrap","flex-row","p-0","pt-4"],["class","col-sm-6 col-6 px-1",4,"ngIf"],[1,"col-sm-6","col-6","px-1"],[1,"text-center","font-weight-bold","w-100","mb-2"],["type","pie",3,"data","options"],["chartRisco_Investimento",""],["chartRisco_Produto",""],[1,"col-lg-4","col-md-4","col-sm-12","col-12","mb-4","px-sm-0"],["chartLiquidez_Investimento",""],["chartLiquidez_Produto",""],[1,"col-lg-4","col-md-4","col-sm-12","col-12","mb-4","pe-md-0"],["chartAtivo_Investimento",""],["chartAtivo_Produto",""]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h6"),e._uU(3,"Comparativo"),e.qZA()(),e.TgZ(4,"div",2),e.YNc(5,Je,6,2,"div",3),e.YNc(6,je,6,2,"div",4),e.YNc(7,Fe,6,2,"div",5),e.qZA()()),2&t&&(e.xp6(5),e.Q6J("ngIf",n.showInvestimentoRisco||n.showProdutoRisco),e.xp6(1),e.Q6J("ngIf",n.showInvestimentoLiquidez||n.showProdutoLiquidez),e.xp6(1),e.Q6J("ngIf",n.showInvestimentoAtivo||n.showProdutoAtivo))},dependencies:[h.O5,L.C],styles:['.modal__bg-grafico[_ngcontent-%COMP%]{opacity:0;visibility:hidden;transition:.5s;position:fixed;z-index:1;background:#00000030}.modal__bg-grafico.active[_ngcontent-%COMP%]{opacity:1;visibility:visible}.modal-grafico.modal[_ngcontent-%COMP%]{position:absolute;top:0;left:auto;right:0;transform:translateY(50px);width:90%;max-width:1100px;height:auto;max-height:90vw;display:flex;align-items:center;justify-content:end;z-index:2;overflow:visible;opacity:1;visibility:visible}.modal-grafico.modal.active[_ngcontent-%COMP%]{z-index:1;transition:.5s}.navigation-open[_ngcontent-%COMP%]   .modal-grafico.modal[_ngcontent-%COMP%]{max-width:900px}.modal-grafico[_ngcontent-%COMP%]   .modal__inner[_ngcontent-%COMP%]{position:absolute;width:0;max-width:100%;top:0;right:0;left:auto;transform:none;overflow:visible;box-shadow:2px 2px 4px #00000069;transition:1s,1s opacity 3s,1s visibility 2s}.active.modal-grafico[_ngcontent-%COMP%]   .modal__inner[_ngcontent-%COMP%]{width:100%;transition:1s;transition:1s,1s opacity 3s,1s visibility 3s}.modal-grafico[_ngcontent-%COMP%]   .modal__inner[_ngcontent-%COMP%]   .modal-arrow[_ngcontent-%COMP%]{position:absolute;right:0;transform:translateY(-100%);z-index:1005;top:1px;width:15px;height:15px;filter:drop-shadow(0px -2px 1px rgba(0,0,0,.4));border:#0000008f;opacity:0;transition:.3s}.modal-grafico.active[_ngcontent-%COMP%]   .modal__inner[_ngcontent-%COMP%]   .modal-arrow[_ngcontent-%COMP%]{opacity:1;right:107px}.modal-grafico[_ngcontent-%COMP%]   .modal__inner[_ngcontent-%COMP%]   .modal-arrow[_ngcontent-%COMP%]:before{content:"";background:var(--primary);background-color:#fff;width:15px;height:15px;clip-path:polygon(51% 39%,0% 100%,100% 100%);position:relative;display:flex}.modal-grafico[_ngcontent-%COMP%]   .modal__content[_ngcontent-%COMP%]{max-height:80vh;overflow:auto}.modal-grafico[_ngcontent-%COMP%]   .modal__header[_ngcontent-%COMP%]{background-color:var(--primary);background-color:#fff}.modal-grafico[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{background-color:var(--primary);background-color:#fff;color:#fff;opacity:1;position:static;margin-left:auto;width:auto;height:auto;margin-right:15px}.modal-grafico[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:15px}']}),i})();var se=p(4551);const Re=["chartPatrimonioIdade"];let De=(()=>{class i{constructor(t){this.plannerService=t,this.planner=new T,this.chartSize={"chart-capital-segurado":{width:"0",height:"0"},"chart-patrimonio-idade":{width:"0",height:"0"}},this.subscription=[];var n=this.plannerService.getObject().subscribe(a=>{this.planner=a,this.setChartPatrimonioIdade()});this.subscription.push(n)}ngOnDestroy(){this.subscription.forEach(t=>t.unsubscribe())}ngOnChanges(t){t.planner&&(this.planner=t.planner.currentValue,this.planner.planejamentoGrafico.length>0&&this.setChartPatrimonioIdade())}onResize(t){this.setChartWidth("chart-capital-segurado"),this.setChartWidth("chart-patrimonio-idade")}setChartWidth(t){let n=window.innerWidth,a=window.innerHeight,r=$("#"+t).width()??0,o=$("#"+t).height()??0,_=100/a;this.chartSize[t].width=(100/n*r).toString()+"vw",this.chartSize[t].height=(_*o).toString()+"vh"}setChartPatrimonioIdade(){this.setChartWidth("chart-patrimonio-idade"),this.planner.planejamentoGrafico.sort((t,n)=>t.idade-n.idade),this.chartPatrimonioIdadeData={labels:this.planner.planejamentoGrafico.map(t=>t.idade),datasets:[{type:"line",label:"Planejado",data:this.planner.planejamentoGrafico.map(t=>t.valorPlanejado),backgroundColor:"#242424",borderColor:"#2424247a"},{type:"bar",label:"Realidade Atual",data:this.planner.planejamentoGrafico.map(t=>t.valorAtual),backgroundColor:"#2d7a95"}]},this.chartPatrimonioIdadeOptions={plugins:{title:{display:!0,text:"Planejado x Realidade Atual",font:{size:20},color:se.w.primary},subtitle:{display:!1,text:"Planejado x Realidade Atual",font:{size:22},color:se.w.grey},legend:{position:"top"}},scales:{xAxes:{min:0,max:100,suggestedMax:100,display:!0,title:{text:"Idade",display:!0,align:"start",font:{weight:"bold"}}},yAxes:{title:{text:"Valor",display:!0,align:"start",font:{weight:"bold"}}}}}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(P))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-patrimonio-por-idade"]],viewQuery:function(t,n){if(1&t&&e.Gf(Re,5),2&t){let a;e.iGM(a=e.CRH())&&(n.chartPatrimonioIdade=a.first)}},hostBindings:function(t,n){1&t&&e.NdJ("resize",function(r){return n.onResize(r)},!1,e.Jf7)},inputs:{planner:"planner"},features:[e.TTD],decls:7,vars:4,consts:[[1,"home__container"],[1,"home__container-header","mb-2"],["id","chart-patrimonio-idade",1,"form-row","chart-container"],[3,"data","options","width","height"],["chartPatrimonioIdade",""]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h6"),e._uU(3,"Patrim\xf4nio por Idade"),e.qZA()(),e.TgZ(4,"div",2),e._UZ(5,"p-chart",3,4),e.qZA()()),2&t&&(e.xp6(5),e.Q6J("data",n.chartPatrimonioIdadeData)("options",n.chartPatrimonioIdadeOptions)("width",n.chartSize["chart-patrimonio-idade"].width)("height",n.chartSize["chart-patrimonio-idade"].height))},dependencies:[L.C]}),i})();const Ge=["chartCapitalSegurado"],Le=["dataNascimento"];function He(i,l){if(1&i&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.Q6J("ngValue",t.id),e.xp6(1),e.hij("",t.descricao," ")}}function $e(i,l){if(1&i&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.Q6J("ngValue",t.id),e.xp6(1),e.Oqu(t.descricao)}}function Ye(i,l){if(1&i&&(e.TgZ(0,"p",17)(1,"small"),e._uU(2),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(2),e.hij("Data m\xednima \xe9 ",t.dataNascimentoMin,"")}}function Ee(i,l){if(1&i&&(e.TgZ(0,"p",17)(1,"small"),e._uU(2),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(2),e.hij("Data m\xe1xima \xe9 ",t.dataNascimentoMax,"")}}function Ke(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Ye,3,1,"p",214),e.YNc(2,Ee,3,1,"p",214),e.qZA()),2&i){e.oxw();const t=e.MAs(70);e.xp6(1),e.Q6J("ngIf",t.errors.min),e.xp6(1),e.Q6J("ngIf",t.errors.max)}}function ze(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td",107)(2,"input",215,45),e.NdJ("ngModelChange",function(a){const o=e.CHM(t).$implicit;return e.KtG(o.idade=a)})("keyup.arrowup",function(){const r=e.CHM(t).$implicit,o=e.MAs(3),s=e.oxw();return e.KtG(r.idade=s.arrowUp(o.value))})("keyup.arrowdown",function(){const r=e.CHM(t).$implicit,o=e.MAs(3),s=e.oxw();return e.KtG(r.idade=s.arrowDown(o.value))})("change",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.saveData())}),e.qZA()(),e.TgZ(4,"td")(5,"input",216,217),e.NdJ("ngModelChange",function(a){const o=e.CHM(t).$implicit;return e.KtG(o.valor=a)})("keyup.arrowup",function(){const r=e.CHM(t).$implicit,o=e.MAs(6),s=e.oxw();return e.KtG(r.valor=s.arrowUp(o.value))})("keyup.arrowdown",function(){const r=e.CHM(t).$implicit,o=e.MAs(6),s=e.oxw();return e.KtG(r.valor=s.arrowDown(o.value,!0))})("change",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.saveData())}),e.qZA()(),e.TgZ(7,"td",218)(8,"button",219),e.NdJ("click",function(){const r=e.CHM(t).$implicit,o=e.oxw();return e.KtG(o.removerFluxoPontual(r))}),e._UZ(9,"fa-icon",105),e.qZA()()()}if(2&i){const t=l.$implicit,n=l.index,a=e.MAs(3),r=e.MAs(6),o=e.oxw(),s=e.MAs(461);e.xp6(2),e.MGl("id","idade-",n,"")("name","idade-",n,""),e.Q6J("ngModel",t.idade)("ngbPopover",s)("disablePopover",null==a.errors),e.xp6(3),e.MGl("id","valor",n,"")("name","valor",n,""),e.Q6J("ngModel",t.valor)("ngbPopover",s)("disablePopover",null==r.errors),e.xp6(4),e.Q6J("icon",o.faTrash)}}function Ve(i,l){1&i&&(e.TgZ(0,"tr")(1,"td",220),e._uU(2,"Nenhum registro"),e.qZA()())}function Be(i,l){1&i&&(e.TgZ(0,"tr",93)(1,"th",221),e._uU(2,"Investimento"),e.qZA(),e.TgZ(3,"th",111),e._uU(4,"Custos/Taxas"),e.qZA(),e.TgZ(5,"th",111),e._uU(6,"Rentabilidade"),e.qZA(),e.TgZ(7,"th",111),e._uU(8,"Rentab. Liquida"),e.qZA(),e.TgZ(9,"th",111),e._uU(10,"Montante Atual"),e.qZA(),e.TgZ(11,"th",111),e._uU(12,"Montante Sugerida"),e.qZA(),e.TgZ(13,"th",111),e._uU(14,"Plano de A\xe7\xe3o"),e.qZA(),e._UZ(15,"th",222),e.qZA())}function We(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td",166)(2,"span",223),e._uU(3),e.qZA()(),e.TgZ(4,"td",224)(5,"input",225,226),e.NdJ("ngModelChange",function(a){const o=e.CHM(t).$implicit;return e.KtG(o.custosTaxas=a)})("keyup.arrowup",function(){const r=e.CHM(t).$implicit,o=e.MAs(6),s=e.oxw();return e.KtG(r.custosTaxas=s.arrowUp(o.value))})("keyup.arrowdown",function(){const r=e.CHM(t).$implicit,o=e.MAs(6),s=e.oxw();return e.KtG(r.custosTaxas=s.arrowDown(o.value,!1))})("change",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.saveData())}),e.qZA()(),e.TgZ(7,"td",157)(8,"input",227,228),e.NdJ("ngModelChange",function(a){const o=e.CHM(t).$implicit;return e.KtG(o.rentabilidade=a)})("keyup.arrowup",function(){const r=e.CHM(t).$implicit,o=e.MAs(9),s=e.oxw();return e.KtG(r.rentabilidade=s.arrowUp(o.value))})("keyup.arrowdown",function(){const r=e.CHM(t).$implicit,o=e.MAs(9),s=e.oxw();return e.KtG(r.rentabilidade=s.arrowDown(o.value,!0))})("change",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.saveData())}),e.qZA()(),e.TgZ(10,"td",224)(11,"input",229,230),e.NdJ("ngModelChange",function(a){const o=e.CHM(t).$implicit;return e.KtG(o.rentabilidadeLiquida=a)})("keyup.arrowup",function(){const r=e.CHM(t).$implicit,o=e.MAs(12),s=e.oxw();return e.KtG(r.rentabilidadeLiquida=s.arrowUp(o.value))})("keyup.arrowdown",function(){const r=e.CHM(t).$implicit,o=e.MAs(12),s=e.oxw();return e.KtG(r.rentabilidadeLiquida=s.arrowDown(o.value,!0))})("change",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.saveData())}),e.qZA()(),e.TgZ(13,"td",157)(14,"input",231,232),e.NdJ("ngModelChange",function(a){const o=e.CHM(t).$implicit;return e.KtG(o.montanteAtual=a)})("keyup.arrowup",function(){const r=e.CHM(t).$implicit,o=e.MAs(15),s=e.oxw();return e.KtG(r.montanteAtual=s.arrowUp(o.value))})("keyup.arrowdown",function(){const r=e.CHM(t).$implicit,o=e.MAs(15),s=e.oxw();return e.KtG(r.montanteAtual=s.arrowDown(o.value,!0))})("change",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.saveData())}),e.qZA()(),e.TgZ(16,"td",224)(17,"input",233,234),e.NdJ("ngModelChange",function(a){const o=e.CHM(t).$implicit;return e.KtG(o.sugerido=a)})("keyup.arrowup",function(){const r=e.CHM(t).$implicit,o=e.MAs(18),s=e.oxw();return e.KtG(r.sugerido=s.arrowUp(o.value))})("keyup.arrowdown",function(){const r=e.CHM(t).$implicit,o=e.MAs(18),s=e.oxw();return e.KtG(r.sugerido=s.arrowDown(o.value,!0))})("change",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.saveData())}),e.qZA()(),e.TgZ(19,"td",224)(20,"input",233,235),e.NdJ("ngModelChange",function(a){const o=e.CHM(t).$implicit;return e.KtG(o.planoAcao=a)})("keyup.arrowup",function(){const r=e.CHM(t).$implicit,o=e.MAs(21),s=e.oxw();return e.KtG(r.planoAcao=s.arrowUp(o.value))})("keyup.arrowdown",function(){const r=e.CHM(t).$implicit,o=e.MAs(21),s=e.oxw();return e.KtG(r.planoAcao=s.arrowDown(o.value,!0))})("change",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.saveData())}),e.qZA()(),e.TgZ(22,"td",222)(23,"a",236),e.NdJ("click",function(){const r=e.CHM(t).$implicit,o=e.oxw();return e.KtG(o.removerInvestimento(r))}),e._UZ(24,"fa-icon",105),e.qZA()()()}if(2&i){const t=l.$implicit,n=l.rowIndex,a=e.oxw(),r=e.MAs(463);e.xp6(3),e.Oqu(t.investimento.descricao),e.xp6(2),e.MGl("id","investimento-custosTaxas-",n,"")("name","investimento-custosTaxas-",n,""),e.Q6J("ngModel",t.custosTaxas)("allowNegativeNumbers",!1)("ngbPopover",r),e.xp6(3),e.MGl("id","investimento-rentabilidade-",n,"")("name","investimento-rentabilidade-",n,""),e.Q6J("ngModel",t.rentabilidade)("allowNegativeNumbers",!0)("ngbPopover",r),e.xp6(3),e.MGl("id","investimento-rentabilidadeLiquida-",n,"")("name","investimento-rentabilidadeLiquida-",n,""),e.Q6J("ngModel",t.rentabilidadeLiquida)("ngbPopover",r),e.xp6(3),e.MGl("id","investimento-montanteAtual-",n,"")("name","investimento-montanteAtual-",n,""),e.Q6J("ngModel",t.montanteAtual)("ngbPopover",r),e.xp6(3),e.MGl("id","investimento-sugerido-",n,"")("name","investimento-sugerido-",n,""),e.Q6J("ngModel",t.sugerido)("ngbPopover",r),e.xp6(3),e.MGl("id","investimento-planoAcao-",n,"")("name","investimento-planoAcao-",n,""),e.Q6J("ngModel",t.planoAcao)("ngbPopover",r),e.xp6(4),e.Q6J("icon",a.faTrash)}}function Xe(i,l){1&i&&(e.TgZ(0,"tr"),e._UZ(1,"td"),e.TgZ(2,"td",237),e._uU(3," Nenhum registro "),e.qZA(),e._UZ(4,"td"),e.qZA()),2&i&&(e.xp6(2),e.uIk("colspan",6))}function en(i,l){if(1&i&&(e.TgZ(0,"span",241),e._uU(1," Inativo "),e.qZA()),2&i){e.oxw();const t=e.MAs(5);e.Q6J("ngbPopover",t)}}function nn(i,l){if(1&i&&(e.TgZ(0,"div",242),e._uU(1),e.ALo(2,"date"),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij("Desativado em ",e.Dn7(2,1,t.dataDesativado,"dd/MM/yyyy","UTC")," ")}}function tn(i,l){if(1&i&&(e.TgZ(0,"div",238)(1,"span"),e._uU(2),e.qZA(),e.YNc(3,en,2,1,"span",239),e.YNc(4,nn,3,5,"ng-template",null,240,e.W1O),e.qZA()),2&i){const t=l.$implicit;e.xp6(2),e.Oqu(t.nome),e.xp6(1),e.Q6J("ngIf",t.dataDesativado)}}function on(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",243),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),r=e.MAs(13);return e.KtG(a.adicionarProdutoCarteira(r))}),e._uU(1," Salvar "),e.qZA()}if(2&i){const t=e.oxw(),n=e.MAs(13);e.Gre("btn btn-primary ml-1 d-flex align-items-center ",n.invalid||t.loading?"disabled-button":"",""),e.Q6J("disabled",n.invalid||t.loading)}}const an=function(){return["produto"]};function rn(i,l){1&i&&(e.TgZ(0,"a",244),e._uU(1," Adicionar outros produtos "),e.qZA()),2&i&&e.Q6J("routerLink",e.DdM(1,an))}function ln(i,l){1&i&&(e.TgZ(0,"p",245),e._uU(1,"* Insira um investimento para adicionar um produto"),e.qZA())}function sn(i,l){1&i&&(e.TgZ(0,"tr",93)(1,"th",246),e._uU(2,"Produto"),e.qZA(),e.TgZ(3,"th",111),e._uU(4,"Custos/Taxas"),e.qZA(),e.TgZ(5,"th",111),e._uU(6,"Percentual"),e.qZA(),e.TgZ(7,"th",111),e._uU(8,"Rentabilidade"),e.qZA(),e.TgZ(9,"th",111),e._uU(10,"Rentab. Liquida"),e.qZA(),e.TgZ(11,"th",111),e._uU(12,"Montante Atual"),e.qZA(),e.TgZ(13,"th",111),e._uU(14,"Montante Sugerida"),e.qZA(),e.TgZ(15,"th",111),e._uU(16,"Plano de A\xe7\xe3o"),e.qZA(),e._UZ(17,"th",222),e.qZA())}function pn(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td",247)(2,"small")(3,"b"),e._uU(4),e.qZA()()(),e.TgZ(5,"td")(6,"input",225,226),e.NdJ("ngModelChange",function(a){const o=e.CHM(t).$implicit;return e.KtG(o.custosTaxas=a)})("keyup.arrowup",function(){const r=e.CHM(t).$implicit,o=e.MAs(7),s=e.oxw();return e.KtG(r.custosTaxas=s.arrowUp(o.value))})("keyup.arrowdown",function(){const r=e.CHM(t).$implicit,o=e.MAs(7),s=e.oxw();return e.KtG(r.custosTaxas=s.arrowDown(o.value,!1))})("change",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.saveData())}),e.qZA()(),e.TgZ(8,"td",224),e._uU(9),e.ALo(10,"mask"),e.qZA(),e.TgZ(11,"td")(12,"input",248,228),e.NdJ("ngModelChange",function(a){const o=e.CHM(t).$implicit;return e.KtG(o.rentabilidade=a)})("keyup.arrowup",function(){const r=e.CHM(t).$implicit,o=e.MAs(13),s=e.oxw();return e.KtG(r.rentabilidade=s.arrowUp(o.value))})("keyup.arrowdown",function(){const r=e.CHM(t).$implicit,o=e.MAs(13),s=e.oxw();return e.KtG(r.rentabilidade=s.arrowDown(o.value,!0))})("change",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.saveData())}),e.qZA()(),e.TgZ(14,"td",224),e._uU(15),e.ALo(16,"mask"),e.qZA(),e.TgZ(17,"td",224),e._uU(18),e.ALo(19,"mask"),e.qZA(),e.TgZ(20,"td",224),e._uU(21),e.ALo(22,"mask"),e.qZA(),e.TgZ(23,"td",224)(24,"input",249,235),e.NdJ("ngModelChange",function(a){const o=e.CHM(t).$implicit;return e.KtG(o.planoAcao=a)})("keyup.arrowup",function(){const r=e.CHM(t).$implicit,o=e.MAs(25),s=e.oxw();return e.KtG(r.planoAcao=s.arrowUp(o.value))})("keyup.arrowdown",function(){const r=e.CHM(t).$implicit,o=e.MAs(25),s=e.oxw();return e.KtG(r.planoAcao=s.arrowDown(o.value,!1))})("change",function(){e.CHM(t);const a=e.oxw();return a.calculaPercentual(),e.KtG(a.saveData())}),e.qZA()(),e.TgZ(26,"td",222)(27,"a",236),e.NdJ("click",function(){const r=e.CHM(t).$implicit,o=e.oxw();return e.KtG(o.removerProduto(r))}),e._UZ(28,"fa-icon",105),e.qZA()()()}if(2&i){const t=l.$implicit,n=l.rowIndex,a=e.oxw(),r=e.MAs(463);e.xp6(4),e.Oqu(t.produto.descricao),e.xp6(2),e.MGl("id","investimento-custosTaxas-",n,"")("name","investimento-custosTaxas-",n,""),e.Q6J("ngModel",t.custosTaxas)("allowNegativeNumbers",!1)("ngbPopover",r),e.xp6(3),e.hij(" ",e.Dn7(10,23,t.percentual,"separator",","),"% "),e.xp6(3),e.MGl("id","produto-rentabilidade-",n,"")("name","produto-rentabilidade-",n,""),e.Q6J("ngModel",t.rentabilidade)("allowNegativeNumbers",!0)("ngbPopover",r)("required",!0),e.xp6(3),e.hij("",e.Dn7(16,27,t.rentabilidadeLiquida,"separator",","),"%"),e.xp6(3),e.hij(" R$ ",e.Dn7(19,31,t.montanteAtual,"separator",",")," "),e.xp6(3),e.hij(" R$ ",e.Dn7(22,35,t.sugerido,"separator",",")," "),e.xp6(3),e.MGl("id","produto-planoAcao-",n,"")("name","produto-planoAcao-",n,""),e.Q6J("ngModel",t.planoAcao)("allowNegativeNumbers",!0)("ngbPopover",r)("required",!0),e.xp6(4),e.Q6J("icon",a.faTrash)}}function dn(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td",247)(2,"small")(3,"b"),e._uU(4,"Total"),e.qZA()()(),e._UZ(5,"td"),e.TgZ(6,"td")(7,"input",250,251),e.NdJ("ngModelChange",function(a){e.CHM(t);const r=e.oxw(2);return e.KtG(r.percentualTotalProduto=a)}),e.qZA()(),e._UZ(9,"td")(10,"td")(11,"td"),e.TgZ(12,"td")(13,"input",252,253),e.NdJ("ngModelChange",function(a){e.CHM(t);const r=e.oxw(2);return e.KtG(r.sugeridoTotalProduto=a)}),e.qZA()(),e.TgZ(15,"td")(16,"input",254,255),e.NdJ("ngModelChange",function(a){e.CHM(t);const r=e.oxw(2);return e.KtG(r.planoAcaoTotalProduto=a)}),e.qZA()(),e._UZ(18,"td"),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(7),e.Q6J("ngModel",t.percentualTotalProduto)("allowNegativeNumbers",!0)("readonly",!0),e.xp6(6),e.Q6J("ngModel",t.sugeridoTotalProduto)("allowNegativeNumbers",!0)("readonly",!0),e.xp6(3),e.Q6J("ngModel",t.planoAcaoTotalProduto)("allowNegativeNumbers",!0)("readonly",!0)}}function un(i,l){if(1&i&&e.YNc(0,dn,19,9,"tr",41),2&i){const t=e.oxw();e.Q6J("ngIf",t.planner.planejamentoProduto.length>0)}}function cn(i,l){1&i&&(e.TgZ(0,"tr"),e._UZ(1,"td"),e.TgZ(2,"td",237),e._uU(3," Nenhum registro "),e.qZA(),e._UZ(4,"td"),e.qZA()),2&i&&(e.xp6(2),e.uIk("colspan",7))}function mn(i,l){if(1&i&&(e.TgZ(0,"div",10),e._UZ(1,"app-patrimonio-por-idade",256),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("planner",t.planner)}}function _n(i,l){if(1&i&&(e.TgZ(0,"div",10),e._UZ(1,"app-grafico-comparativo",256,257),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("planner",t.planner)}}function gn(i,l){if(1&i&&(e.TgZ(0,"p",261),e._uU(1),e.ALo(2,"json"),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,t))}}function hn(i,l){1&i&&(e.TgZ(0,"p",261),e._uU(1,"Preencha todos os campos corretamente para salvar"),e.qZA())}function vn(i,l){if(1&i&&(e.TgZ(0,"div",258),e.YNc(1,gn,3,3,"p",259),e.YNc(2,hn,2,0,"p",260),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.erro),e.xp6(1),e.Q6J("ngIf",0==t.erro.length)}}function fn(i,l){1&i&&e._UZ(0,"span",262)}function Mn(i,l){1&i&&(e.TgZ(0,"div",263),e._uU(1," Este campo \xe9 obrigat\xf3rio "),e.qZA())}function Cn(i,l){1&i&&(e.TgZ(0,"div",264),e._uU(1," Acione a seta para cima ou para baixo no teclado para mudar o valor "),e.qZA())}function An(i,l){1&i&&(e.TgZ(0,"div",263),e._uU(1,"Preencha todos os campos corretamente para adicionar produtos"),e.qZA())}const bn=function(){return["investimento"]};let pe=(()=>{class i{constructor(t,n,a,r,o,s,_,g){this.modal=t,this.plannerService=n,this.isMobile=a,this.toastr=r,this.activatedRoute=o,this.dropdown=s,this.setup=_,this.crypto=g,this.faTimes=M.NBC,this.faWallet=M.X5K,this.faChevronLeft=M.A35,this.faTrash=M.$aW,this.faArrowRight=M.eFW,this.faPlus=M.r8p,this.faTrashAlt=M.I7k,this.faChartPie=M.OS1,this.modalOpen=!1,this.planner=new T,this.erro=[],this.loading=!1,this.loadingProduto=!1,this.carteirasSetup=[],this.loadingCarteiraSetup=!0,this.estadoCivil=[],this.loadingEstadoCivil=!0,this.perfilInvestidor=[],this.loadingPerfilInvestidor=!0,this.isEditPage=!1,this.mobile=le.I.lg,this.percentualTotalProduto=0,this.planoAcaoTotalProduto=0,this.sugeridoTotalProduto=0,this.carteiraSetupInalterada=new Ae.Wj,this.mudouCarteiraSetup=!1,this.clienteIdEncrypted="",this.subscription=[],this.dataNascimentoMin="",this.dataNascimentoMax="";var u=new Date;u.setFullYear(u.getFullYear()+100),this.dataNascimentoMax=u.toJSON().substring(0,10);var c=new Date;c.setFullYear(c.getFullYear()-100),this.dataNascimentoMin=c.toJSON().substring(0,10);var A=this.isMobile.get().subscribe(m=>this.mobile=m),f=this.plannerService.getObject().subscribe(m=>{this.planner=m,this.mudouCarteiraSetup=0!=this.planner.id,this.calculaPercentual()}),w=this.activatedRoute.params.subscribe(m=>{this.isEditPage=!!m.cliente_id,this.isEditPage&&(this.loading=!0,this.clienteIdEncrypted=m.cliente_id,this.planner.cliente_Id=this.crypto.decrypt(m.cliente_id),(0,C.n)(this.plannerService.getByClienteId(this.planner.cliente_Id)).then(b=>{b.cliente.rg=b.cliente.rg.toString().padStart(9,"0"),b.cliente.cpf=b.cliente.cpf.toString().padStart(11,"0"),b.principaisObjetivos=b.principaisObjetivos?b.principaisObjetivos:[],this.planner=b,this.carteiraSetupInalterada=b.carteiraSetup,this.mudouCarteiraSetup=!1,this.validateDataNascimento()}).catch(b=>{this.voltar()}).finally(()=>this.loading=!1))}),H=this.planner.cliente.empresa_Id??this.planner.account.empresa_Id,Y=this.setup.list.subscribe(m=>this.carteirasSetup=m);(0,C.n)(this.setup.getList(H)).then(m=>this.carteirasSetup=m).finally(()=>this.loadingCarteiraSetup=!1);var E=this.dropdown.estadoCivil.subscribe(m=>this.estadoCivil=m);(0,C.n)(this.dropdown.getEstadoCivil()).then(m=>this.estadoCivil=m).finally(()=>this.loadingEstadoCivil=!1);var K=this.dropdown.perfilInvestidor.subscribe(m=>this.perfilInvestidor=m);(0,C.n)(this.dropdown.getPerfilInvestidor()).then(m=>this.perfilInvestidor=m).finally(()=>this.loadingPerfilInvestidor=!1),this.subscription.push(A),this.subscription.push(f),this.subscription.push(w),this.subscription.push(Y),this.subscription.push(E),this.subscription.push(K)}validateDataNascimento(){var t=new Date(this.planner.cliente.dataNascimento),n=new Date(this.dataNascimentoMin),a=new Date(this.dataNascimentoMax);this.dataNascimento&&(t>a?this.dataNascimento.control.setErrors({max:!0}):t<n&&this.dataNascimento.control.setErrors({min:!0}))}ngOnDestroy(){this.subscription.forEach(t=>t.unsubscribe())}voltar(){this.modal.voltar()}resetForm(){this.plannerService.setObject(new T)}calcularICM(){this.planner.cliente.imc=this.planner.cliente.altura&&this.planner.cliente.peso?this.planner.cliente.peso/Math.pow(this.planner.cliente.altura,2):""}calculaPercentual(){this.planner.planejamentoProduto.length>0?(this.planoAcaoTotalProduto=(this.planner.planejamentoProduto.map(t=>t.planoAcao)??[]).reduce((t,n)=>t+n),this.sugeridoTotalProduto=(this.planner.planejamentoProduto.map(t=>t.sugerido)??[]).reduce((t,n)=>t+n),this.planner.planejamentoProduto=this.planner.planejamentoProduto.map(t=>(t.percentual=100*t.planoAcao/this.sugeridoTotalProduto,t)),this.percentualTotalProduto=this.planner.planejamentoProduto.map(t=>t.percentual).reduce((t,n)=>t+n)):(this.planoAcaoTotalProduto=0,this.percentualTotalProduto=0)}calculaIdade(){if(this.planner.cliente.dataNascimento&&""!=this.planner.cliente.dataNascimento.toString().trim()){var t=Date.now()-new Date(new Date(this.planner.cliente.dataNascimento).toUTCString()).getTime(),n=new Date(t);this.planner.cliente.idade=Math.abs(n.getUTCFullYear()-1970)}else this.planner.cliente.idade=""}carteiraSetupChange(t){if(t.value){let n=this.carteirasSetup.find(a=>a.id==t.value);this.planner.carteiraSetup=n}else this.planner.carteiraSetup=void 0;this.mudouCarteiraSetup=this.planner.carteiraSetup_Id!=this.carteiraSetupInalterada.id,this.saveData()}perfilInvestidorChange(){this.planner.cliente.perfilInvestidor=this.perfilInvestidor.find(t=>t.id==this.planner.cliente.perfilInvestidor_Id),this.saveData()}adicionarProdutoCarteira(t){var n=this;return(0,B.Z)(function*(){if(n.planner.cliente.empresa||(n.planner.cliente.empresa=new N.oW),n.planner.cliente.empresa.id=1,n.saveData(),n.erro=[],t.invalid)return n.erro.push("Campos inv\xe1lidos!"),n.toastr.error("Campos inv\xe1lidos!"),void(n.loading=!1);(0,C.n)(n.plannerService.create(n.planner)).then(a=>{n.plannerService.setObject(a),n.mudouCarteiraSetup=!0}).finally(()=>n.loading=!1)})()}adicionarFLuxoPontual(){this.planner.planejamentoFluxosPontuais.push(new be),this.saveData()}removerFluxoPontual(t){let n=this.planner.planejamentoFluxosPontuais.findIndex(a=>a==t);-1!=n&&(this.planner.planejamentoFluxosPontuais.splice(n,1),this.saveData())}adicionarObjetivo(){this.planner.principaisObjetivos.push(new Te),this.saveData()}removerObjetivo(t){let n=this.planner.principaisObjetivos.findIndex(a=>a==t);-1!=n&&(this.planner.principaisObjetivos.splice(n,1),this.saveData())}removerInvestimento(t){let n=this.planner.planejamentoInvestimento.findIndex(a=>a==t);-1!=n&&(this.planner.planejamentoInvestimento.splice(n,1),this.saveData())}removerProduto(t){let n=this.planner.planejamentoProduto.findIndex(a=>a==t);-1!=n&&(this.planner.planejamentoProduto.splice(n,1),this.saveData())}arrowUp(t){return(0,x.zJ)(t)}arrowDown(t,n=!1){return(0,x.DI)(t,n)}saveData(){this.plannerService.setObject(this.planner)}validaForm(t){return this.erro=[],t.invalid?(this.erro.push("Campos inv\xe1lidos!"),this.toastr.error("Campos inv\xe1lidos!"),!1):1!=this.loading&&(0==this.planner.planejamentoInvestimento.length?(this.erro.push("Insira um ou mais investimentos no planner."),this.toastr.error("Insira um ou mais investimentos no planner."),!1):(0==this.planner.planejamentoProduto.length&&(this.erro.push("Insira um ou mais produtos no planner."),this.toastr.error("Insira um ou mais produtos no planner.")),!0))}send(t){this.planner.account_Id=1,this.planner.cliente.empresa_Id=1,this.planner.cliente.empresa||(this.planner.cliente.empresa=new N.oW),this.planner.cliente.empresa.id=1,this.saveData(),this.validaForm(t)&&(0,C.n)(this.plannerService.edit(this.planner)).then(a=>this.plannerService.setObject(a)).finally(()=>this.loading=!1)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(k.Q),e.Y36(P),e.Y36(le.h),e.Y36(I._W),e.Y36(Z.gz),e.Y36(D.V),e.Y36(G.A),e.Y36(S.w))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-planner"]],viewQuery:function(t,n){if(1&t&&(e.Gf(Ge,5),e.Gf(Le,5)),2&t){let a;e.iGM(a=e.CRH())&&(n.chartCapitalSegurado=a.first),e.iGM(a=e.CRH())&&(n.dataNascimento=a.first)}},decls:467,vars:151,consts:[[1,"modal__content"],[1,"modal__header","pb-2",2,"padding","0 25px"],[1,"d-flex","align-items-center","justify-content-between","flex-wrap","w-100"],[1,"link","text-dark",3,"click"],[1,"mr-1",3,"icon"],[1,"btn","btn-yellow",3,"click"],[1,"text-orange","mt-1"],[1,"modal__body","mt-0"],["disabled","",1,"needs-validation","home","editable",3,"ngSubmit"],["form","ngForm"],[1,"form-row","mb-2"],[1,"col-lg-8","col-md-8","col-sm-12"],[1,"card","card-body"],[1,"home__container-header","mb-2"],[1,"form-row"],[1,"form-group","col-lg-5","col-md-5","col-sm-12"],["for","nome"],[1,"text-danger"],["type","text","name","nome","id","nome","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","change"],["nome","ngModel"],[1,"form-group","col-lg-3","col-md-3","col-sm-12"],["for","perfilInvestidor"],["name","perfilInvestidor","id","perfilInvestidor","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange"],["_perfilInvestidor","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"form-group","col-lg-4","col-md-4","col-sm-12"],["for","estadoCivil"],["name","estadoCivil","id","estadoCivil","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange"],["_estadoCivil","ngModel"],[1,"form-group","col-lg-3","col-md-3","col-sm-6","col-6"],["for","cpf"],["type","text","name","cpf","id","cpf","mask","000.000.000-00","placeHolder","000.000.000-00","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","change"],["cpf","ngModel"],["for","rg"],["type","text","name","rg","id","rg","mask","00.000.000-0","placeHolder","00.000.000-0","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","change"],["rg","ngModel"],[1,"form-group","col-lg-4","col-md-4","col-sm-6","col-6"],["for","dataNascimento"],["type","date","name","dataNascimento","id","dataNascimento","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","min","max","ngbPopover","disablePopover","ngModelChange","change"],["dataNascimento","ngModel"],[4,"ngIf"],[1,"form-group","col-lg-2","col-md-2","col-sm-6","col-6"],["for","idade"],["type","text","name","idade","id","idade","popoverClass","popover-danger","triggers","mouseenter:mouseleave","mask","0*","suffix"," anos","required","",1,"form-control","form-control-number",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["idade","ngModel"],[1,"form-group","col-lg-12","col-md-12","col-sm-12"],["for","email"],["type","email","name","email","id","email","placeholder","example@gmail.com","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"email","ngModel","ngbPopover","disablePopover","ngModelChange","change"],["email","ngModel"],[1,"col-lg-6","col-md-6","col-sm-12","col-12","pl-0","pr-0"],[1,"home__container"],[1,"form-group","col-lg-6","col-md-6","col-sm-12","d-lg-block","d-md-block"],["for","receita"],["type","text","id","receita","name","receita","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["receita","ngModel"],[1,"form-group","col-lg-6","col-md-6","col-sm-12"],["for","despesa"],["type","text","id","despesa","name","despesa","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["despesa","ngModel"],[1,"col-lg-6","col-md-6","col-sm-12","col-12","pr-0","pl-0"],["for","taxaSelic"],["type","text","id","taxaSelic","name","taxaSelic","mask","separator","thousandSeparator",".","decimalMarker",",","suffix","%","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["taxaSelic","ngModel"],["for","taxaIpca"],["type","text","id","taxaIpca","name","taxaIpca","mask","separator","thousandSeparator",".","decimalMarker",",","suffix","%","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["taxaIpca","ngModel"],[1,"home__container-header","mb-4"],[1,"col-lg-6","col-md-6","col-sm-12","col-12","px-0"],[1,"form-container"],[1,"form-container-title","font-weight-bold"],[1,"form-container-body"],[1,"form-group","col-lg-6","col-md-6","col-sm-6","pr-1"],["for","rE_Sugerido"],["type","text","id","rE_Sugerido","name","rE_Sugerido","mask","separator.5","thousandSeparator",".","decimalMarker",",","placeholder","R$ 00,00","prefix","R$ ","readonly","",1,"form-control","form-control-number",3,"ngModel","allowNegativeNumbers","ngModelChange"],["rE_Sugerido","ngModel"],[1,"form-group","col-lg-6","col-md-6","col-sm-6","pr-0"],["for","rE_Planejado"],["type","text","id","rE_Planejado","name","rE_Planejado","mask","separator.5","thousandSeparator",".","decimalMarker",",","placeholder","R$ 00,00","prefix","R$ ","readonly","",1,"form-control","form-control-number",3,"ngModel","allowNegativeNumbers","ngModelChange"],["rE_Planejado","ngModel"],[1,"form-container","mb-0"],["for","riscoAssumido"],["type","text","id","riscoAssumido","name","riscoAssumido","mask","separator.5","thousandSeparator",".","decimalMarker",",","placeholder","R$ 00,00","suffix","%","readonly","",1,"form-control","form-control-number",3,"ngModel","allowNegativeNumbers","ngModelChange"],["riscoAssumido","ngModel"],["for","riscoTolerado"],["type","text","id","riscoTolerado","name","riscoTolerado","mask","separator.5","thousandSeparator",".","decimalMarker",",","placeholder","R$ 00,00","suffix","%","suffix","%","readonly","",1,"form-control","form-control-number",3,"ngModel","allowNegativeNumbers","ngModelChange"],["riscoTolerado","ngModel"],[1,"col-lg-4","col-md-4","col-sm-12","col-12"],["for","descricao"],["type","text","name","descricao","id","descricao","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","change"],["descricao","ngModel"],[1,"home__container","table-responsive","mb-2"],[1,"table","table-editable","w-100","d-md-table","d-sm-table","mb-0"],[1,"primary"],[1,"bg-light","px-3","text-right",2,"white-space","nowrap"],["type","text","id","idadeAposentadoria","name","idadeAposentadoria","mask","0*","suffix"," anos","placeholder","0","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control","form-control-number",3,"ngModel","allowNegativeNumbers","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["idadeAposentadoria","ngModel"],["type","text","id","rendaMensalAposentadoria","name","rendaMensalAposentadoria","mask","separator.5","thousandSeparator",".","decimalMarker",",","placeholder","R$ 00,00","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control","form-control-number",3,"ngModel","prefix","allowNegativeNumbers","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["rendaMensalAposentadoria","ngModel"],["type","text","id","rentabilidadeAposentadoria","name","rentabilidadeAposentadoria","mask","separator.5","thousandSeparator",".","decimalMarker",",","placeholder","00,00%","suffix","%","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control","form-control-number",3,"ngModel","allowNegativeNumbers","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["rentabilidadeAposentadoria","ngModel"],[1,"table","table-editable","w-100","mb-0"],["colspan","3",1,"pl-4"],[1,"text-center","d-flex","align-items-center"],["title","Adicionar",1,"btn","p-0","ml-auto","text-white",3,"click"],[3,"icon"],[1,"subheader"],[1,"pl-4"],[4,"ngFor","ngForOf"],[1,"col-lg-12","col-md-12","col-sm-12","col-12"],[1,"table","table-editable","table-responsive"],[2,"white-space","nowrap"],[1,"px-3","bg-light","text-right"],["type","text","id","sugestao_Baixissimo","name","sugestao_Baixissimo","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["sugestao_Baixissimo","ngModel"],["type","text","id","sugestao_Baixo","name","sugestao_Baixo","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["sugestao_Baixo","ngModel"],["type","text","id","sugestao_Moderado","name","sugestao_Moderado","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["sugestao_Moderado","ngModel"],["type","text","id","sugestao_Arrojado","name","sugestao_Arrojado","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["sugestao_Arrojado","ngModel"],["type","text","id","sugestao_SuperArrojado","name","sugestao_SuperArrojado","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["sugestao_SuperArrojado","ngModel"],["type","text","id","sugestao_Hedge","name","sugestao_Hedge","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["sugestao_Hedge","ngModel"],["type","text","id","sugestao_Total","name","sugestao_Total","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["sugestao_Total","ngModel"],["type","text","id","plano_Baixissimo","name","plano_Baixissimo","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["plano_Baixissimo","ngModel"],["type","text","id","plano_Baixo","name","plano_Baixo","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["plano_Baixo","ngModel"],["type","text","id","plano_Moderado","name","plano_Moderado","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["plano_Moderado","ngModel"],["type","text","id","plano_Arrojado","name","plano_Arrojado","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["plano_Arrojado","ngModel"],["type","text","id","plano_SuperArrojado","name","plano_SuperArrojado","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["plano_SuperArrojado","ngModel"],["type","text","id","plano_Hedge","name","plano_Hedge","mask","separator","thousandSeparator",".","decimalMarker",",","prefix","R$ ","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["plano_Hedge","ngModel"],[1,"home__container-header","mb-2","position-relative"],[1,"btn","btn-primary",3,"routerLink"],["responsiveLayout","scroll","emptyMessage","Nenhum registro",1,"table","table-editable",3,"value","responsive"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"d-flex","justify-content-end","align-items-center","w-100"],[1,"col-lg-4","col-md-5","col-sm-6","col-8","px-0"],["id","carteirasSetup","name","carteirasSetup","optionLabel","nome","optionValue","id","optionDisabled","dataDesativado","filterBy","nome","placeholder","Selecione para adicionar",1,"form-control",3,"disabled","options","ngModel","filter","showClear","required","ngModelChange"],["_carteirasSetup","ngModel"],["pTemplate","item"],["type","button","triggers","mouseenter:mouseleave",3,"class","disabled","click",4,"ngIf"],["class","link ml-3",3,"routerLink",4,"ngIf"],["class","text-danger px-2",4,"ngIf"],["pTemplate","footer"],[1,"form-row","table-responsive","mb-2"],[1,"table","table-editable","mb-0"],["colspan","6",1,"text-center","p-2"],[1,""],["colspan","2",1,"text-right","primary"],[1,"p-0"],["type","text","id","solucao_montante_Atual","name","solucao_montante_Atual","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control","form-control-solucaoInicial",3,"ngModel","readOnly","ngModelChange"],["solucao_montante_Atual","ngModel"],["colspan","2",1,"p-0"],["type","text","id","solucao_riscoAssumido_Atual","name","solucao_riscoAssumido_Atual","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%",1,"form-control","form-control-solucaoInicial",3,"ngModel","readOnly","ngModelChange"],["solucao_riscoAssumido_Atual","ngModel"],[1,"text-right",2,"white-space","nowrap"],[1,"px-3","bg-light","text-right",2,"white-space","nowrap"],["type","text","id","solucao_rentabilidade_Atual","name","solucao_rentabilidade_Atual","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_rentabilidade_Atual","ngModel"],["type","text","id","solucao_retornoAnual_Atual","name","solucao_retornoAnual_Atual","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_retornoAnual_Atual","ngModel"],["type","text","id","solucao_retornoMensal_Atual","name","solucao_retornoMensal_Atual","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_retornoMensal_Atual","ngModel"],["type","text","id","solucao_plMax_Atual","name","solucao_plMax_Atual","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_plMax_Atual","ngModel"],["type","text","id","solucao_idadeMax_Atual","name","solucao_idadeMax_Atual","mask","separator.5","thousandSeparator",".","decimalMarker",",",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_idadeMax_Atual","ngModel"],["type","text","id","solucao_rentabilidade_Sugerida","name","solucao_rentabilidade_Sugerida","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_rentabilidade_Sugerida","ngModel"],["type","text","id","solucao_retornoAnual_Sugerido","name","solucao_retornoAnual_Sugerido","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_retornoAnual_Sugerido","ngModel"],["type","text","id","solucao_retornoMensal_Sugerido","name","solucao_retornoMensal_Sugerido","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_retornoMensal_Sugerido","ngModel"],["type","text","id","solucao_plMax_Sugerido","name","solucao_plMax_Sugerido","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_plMax_Sugerido","ngModel"],["type","text","id","solucao_idadeMax_Sugerido","name","solucao_idadeMax_Sugerido","mask","separator.5","thousandSeparator",".","decimalMarker",",",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_idadeMax_Sugerido","ngModel"],["type","text","id","solucao_rentabilidade_Diferenca","name","solucao_rentabilidade_Diferenca","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_rentabilidade_Diferenca","ngModel"],["type","text","id","solucao_retornoAnual_Diferenca","name","solucao_retornoAnual_Diferenca","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_retornoAnual_Diferenca","ngModel"],["type","text","id","solucao_retornoMensal_Diferenca","name","solucao_retornoMensal_Diferenca","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_retornoMensal_Diferenca","ngModel"],[1,"border-primary","border-left","border-top"],["type","text","id","solucao_plMax_Diferenca","name","solucao_plMax_Diferenca","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_plMax_Diferenca","ngModel"],[1,"border-primary","border"],["type","text","id","solucao_idadeMax_Diferenca","name","solucao_idadeMax_Diferenca","mask","separator.5","thousandSeparator",".","decimalMarker",",",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["solucao_idadeMax_Diferenca","ngModel"],["colspan","2",1,"px-3","bg-light","text-center",2,"white-space","nowrap"],[1,"px-3","bg-light","text-left"],[1,"border-primary","border-left","border-bottom"],["type","text","id","solucao_pL_Desempenho","name","solucao_pL_Desempenho","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%",1,"form-control","h2","mb-0","font-weight-bold",2,"font-size","20px",3,"ngModel","readOnly","ngModelChange"],["solucao_pL_Desempenho","ngModel"],["type","text","id","solucao_idade_Desempenho","name","solucao_idade_Desempenho","mask","separator.5","thousandSeparator",".","decimalMarker",",",1,"form-control","h2","mb-0","font-weight-bold",2,"font-size","20px",3,"ngModel","readOnly","ngModelChange"],["solucao_idade_Desempenho","ngModel"],["class","form-row mb-2",4,"ngIf"],[1,"form-footer-submit-fixed"],["class","m-0",4,"ngIf"],[1,"btn","btn-primary","mr-0","ml-auto",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["campoObrigatorio",""],["setaUpDown",""],["formInvalido",""],["class","text-danger",4,"ngIf"],["type","text","mask","0*","suffix"," anos","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control","form-control-number",3,"id","name","ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["type","text","mask","separator.5","thousandSeparator",".","decimalMarker",",","placeholder","R$ 00,00","prefix","R$ ","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control","form-control-number",3,"id","name","ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["valor","ngModel"],[1,"text-center"],["title","Remover linha",1,"btn","btn-trash","d-inline",3,"click"],["colspan","3",1,"py-2","pl-4","text-grey"],[1,"text-right"],[1,"td-actions"],[1,"small","font-weight-bold"],[1,"px-2",2,"white-space","nowrap"],["type","text","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%","triggers","mouseenter:mouseleave","required","",1,"form-control","form-control-number",3,"id","name","ngModel","allowNegativeNumbers","ngbPopover","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["custosTaxas","ngModel"],["type","text","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%","triggers","mouseenter:mouseleave",1,"form-control","form-control-number",3,"id","name","ngModel","allowNegativeNumbers","ngbPopover","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["rentabilidade","ngModel"],["type","text","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%","triggers","mouseenter:mouseleave",1,"form-control","form-control-number",3,"id","name","ngModel","ngbPopover","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["rentabilidadeLiquida","ngModel"],["type","text","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$","triggers","mouseenter:mouseleave","required","",1,"form-control","form-control-number",3,"id","name","ngModel","ngbPopover","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["montanteAtual","ngModel"],["type","text","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ","triggers","mouseenter:mouseleave",1,"form-control","form-control-number",3,"id","name","ngModel","ngbPopover","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["sugerido","ngModel"],["planoAcao","ngModel"],["title","Remover linha",1,"btn","btn-trash",3,"click"],[1,"py-2","px-2","text-grey"],[1,"d-flex","align-items-center","justify-content-between"],["class","flag flag-red",3,"ngbPopover",4,"ngIf"],["ativo",""],[1,"flag","flag-red",3,"ngbPopover"],[1,"py-2","px-3"],["type","button","triggers","mouseenter:mouseleave",3,"disabled","click"],[1,"link","ml-3",3,"routerLink"],[1,"text-danger","px-2"],[1,"text-right","position-sticky",2,"white-space","nowrap"],[1,"px-3","bg-light","text-right","position-sticky",2,"white-space","nowrap"],["type","text","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%","triggers","mouseenter:mouseleave",1,"form-control","form-control-number",3,"id","name","ngModel","allowNegativeNumbers","ngbPopover","required","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["type","text","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ","triggers","mouseenter:mouseleave",1,"form-control","form-control-number",3,"id","name","ngModel","allowNegativeNumbers","ngbPopover","required","ngModelChange","keyup.arrowup","keyup.arrowdown","change"],["type","text","id","percentualTotalProduto","name","percentualTotalProduto","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%",1,"form-control",3,"ngModel","allowNegativeNumbers","readonly","ngModelChange"],["_percentualTotalProduto","ngModel"],["type","text","id","sugeridoTotalProduto","name","sugeridoTotalProduto","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control",3,"ngModel","allowNegativeNumbers","readonly","ngModelChange"],["_sugeridoTotalProduto","ngModel"],["type","text","id","planoAcaoTotalProduto","name","planoAcaoTotalProduto","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ",1,"form-control",3,"ngModel","allowNegativeNumbers","readonly","ngModelChange"],["_planoAcaoTotalProduto","ngModel"],[2,"width","100%",3,"planner"],["investimentoGraficos",""],[1,"m-0"],["class","text-red",4,"ngFor","ngForOf"],["class","text-red",4,"ngIf"],[1,"text-red"],[1,"spinner-border","spinner-border-sm","mr-1"],[1,"py-2","px-2","text-danger"],[1,"py-2","px-2","text-info"]],template:function(t,n){if(1&t){const a=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),e.NdJ("click",function(){return n.voltar()}),e._UZ(4,"fa-icon",4),e._uU(5," Voltar "),e.qZA(),e.TgZ(6,"div")(7,"button",5),e.NdJ("click",function(){return n.resetForm()}),e._uU(8,"Limpar campos"),e.qZA()()(),e.TgZ(9,"h3",6),e._uU(10,"Planner"),e.qZA()(),e.TgZ(11,"div",7)(12,"form",8,9),e.NdJ("ngSubmit",function(){e.CHM(a);const o=e.MAs(13);return e.KtG(n.send(o))}),e.TgZ(14,"div",10)(15,"div",11)(16,"div",10)(17,"div",12)(18,"div",13)(19,"h6"),e._uU(20,"Dados Cadastrais"),e.qZA()(),e.TgZ(21,"div",14)(22,"div",15)(23,"label",16),e._uU(24,"Nome Completo: "),e.TgZ(25,"span",17),e._uU(26,"*"),e.qZA()(),e.TgZ(27,"input",18,19),e.NdJ("ngModelChange",function(o){return n.planner.cliente.nome=o})("change",function(){return n.saveData()}),e.qZA()(),e.TgZ(29,"div",20)(30,"label",21),e._uU(31,"Perfil de Investidor: "),e.TgZ(32,"span",17),e._uU(33,"*"),e.qZA()(),e.TgZ(34,"select",22,23),e.NdJ("ngModelChange",function(o){return n.planner.cliente.perfilInvestidor_Id=o})("ngModelChange",function(){return n.perfilInvestidorChange()}),e.TgZ(36,"option",24),e._uU(37,"Selecione"),e.qZA(),e.YNc(38,He,2,2,"option",25),e.qZA()(),e.TgZ(39,"div",26)(40,"label",27),e._uU(41,"Estado Civil: "),e.TgZ(42,"span",17),e._uU(43,"*"),e.qZA()(),e.TgZ(44,"select",28,29),e.NdJ("ngModelChange",function(o){return n.planner.cliente.estadoCivil_Id=o})("ngModelChange",function(){return n.saveData()}),e.TgZ(46,"option",24),e._uU(47,"Selecione"),e.qZA(),e.YNc(48,$e,2,2,"option",25),e.qZA()()(),e.TgZ(49,"div",14)(50,"div",30)(51,"label",31),e._uU(52,"CPF: "),e.TgZ(53,"span",17),e._uU(54,"*"),e.qZA()(),e.TgZ(55,"input",32,33),e.NdJ("ngModelChange",function(o){return n.planner.cliente.cpf=o})("change",function(){return n.saveData()}),e.qZA()(),e.TgZ(57,"div",30)(58,"label",34),e._uU(59,"RG: "),e.TgZ(60,"span",17),e._uU(61,"*"),e.qZA()(),e.TgZ(62,"input",35,36),e.NdJ("ngModelChange",function(o){return n.planner.cliente.rg=o})("change",function(){return n.saveData()}),e.qZA()(),e.TgZ(64,"div",37)(65,"label",38),e._uU(66,"Data de Nascimento: "),e.TgZ(67,"span",17),e._uU(68,"*"),e.qZA()(),e.TgZ(69,"input",39,40),e.NdJ("ngModelChange",function(o){return n.planner.cliente.dataNascimento=o})("ngModelChange",function(){return n.calculaIdade()})("change",function(){return n.saveData(),n.validateDataNascimento()}),e.qZA(),e.YNc(71,Ke,3,2,"div",41),e.qZA(),e.TgZ(72,"div",42)(73,"label",43),e._uU(74,"Idade: "),e.TgZ(75,"span",17),e._uU(76,"*"),e.qZA()(),e.TgZ(77,"input",44,45),e.NdJ("ngModelChange",function(o){return n.planner.cliente.idade=o})("keyup.arrowup",function(){e.CHM(a);const o=e.MAs(78);return e.KtG(n.planner.cliente.idade=n.arrowUp(o.value))})("keyup.arrowdown",function(){e.CHM(a);const o=e.MAs(78);return e.KtG(n.planner.cliente.idade=n.arrowDown(o.value,!0))})("change",function(){return n.saveData()}),e.qZA()()(),e.TgZ(79,"div",14)(80,"div",46)(81,"label",47),e._uU(82,"E-mail: "),e.TgZ(83,"span",17),e._uU(84,"*"),e.qZA()(),e.TgZ(85,"input",48,49),e.NdJ("ngModelChange",function(o){return n.planner.cliente.email=o})("change",function(){return n.saveData()}),e.qZA()()()()(),e.TgZ(87,"div",10)(88,"div",50)(89,"div",51)(90,"div",13)(91,"h6"),e._uU(92,"Valores"),e.qZA()(),e.TgZ(93,"div",14)(94,"div",52)(95,"label",53),e._uU(96,"Receita: "),e.TgZ(97,"span",17),e._uU(98,"*"),e.qZA()(),e.TgZ(99,"input",54,55),e.NdJ("ngModelChange",function(o){return n.planner.cliente.receita=o})("keyup.arrowup",function(){e.CHM(a);const o=e.MAs(100);return e.KtG(n.planner.cliente.receita=n.arrowUp(o.value))})("keyup.arrowdown",function(){e.CHM(a);const o=e.MAs(100);return e.KtG(n.planner.cliente.receita=n.arrowDown(o.value,!0))})("change",function(){return n.saveData()}),e.qZA()(),e.TgZ(101,"div",56)(102,"label",57),e._uU(103,"Despesas: "),e.TgZ(104,"span",17),e._uU(105,"*"),e.qZA()(),e.TgZ(106,"input",58,59),e.NdJ("ngModelChange",function(o){return n.planner.cliente.despesa=o})("keyup.arrowup",function(){e.CHM(a);const o=e.MAs(107);return e.KtG(n.planner.cliente.despesa=n.arrowUp(o.value))})("keyup.arrowdown",function(){e.CHM(a);const o=e.MAs(107);return e.KtG(n.planner.cliente.despesa=n.arrowDown(o.value,!0))})("change",function(){return n.saveData()}),e.qZA()()()()(),e.TgZ(108,"div",60)(109,"div",51)(110,"div",13)(111,"h6"),e._uU(112,"Taxas"),e.qZA()(),e.TgZ(113,"div",14)(114,"div",52)(115,"label",61),e._uU(116,"Taxa Selic: "),e.TgZ(117,"span",17),e._uU(118,"*"),e.qZA()(),e.TgZ(119,"input",62,63),e.NdJ("ngModelChange",function(o){return n.planner.taxaSelic=o})("keyup.arrowup",function(){e.CHM(a);const o=e.MAs(120);return e.KtG(n.planner.taxaSelic=n.arrowUp(o.value))})("keyup.arrowdown",function(){e.CHM(a);const o=e.MAs(120);return e.KtG(n.planner.taxaSelic=n.arrowDown(o.value,!0))})("change",function(){return n.saveData()}),e.qZA()(),e.TgZ(121,"div",56)(122,"label",64),e._uU(123,"Taxa IPCA: "),e.TgZ(124,"span",17),e._uU(125,"*"),e.qZA()(),e.TgZ(126,"input",65,66),e.NdJ("ngModelChange",function(o){return n.planner.taxaIpca=o})("keyup.arrowup",function(){e.CHM(a);const o=e.MAs(127);return e.KtG(n.planner.taxaIpca=n.arrowUp(o.value))})("keyup.arrowdown",function(){e.CHM(a);const o=e.MAs(127);return e.KtG(n.planner.taxaIpca=n.arrowDown(o.value,!0))})("change",function(){return n.saveData()}),e.qZA()()()()()(),e.TgZ(128,"div",10)(129,"div",12)(130,"div",67)(131,"h6"),e._uU(132,"Capacidade de Risco"),e.qZA()(),e.TgZ(133,"div",14)(134,"div",68)(135,"div",69)(136,"div",70),e._uU(137,"Reserva de Emerg\xeancia"),e.qZA(),e.TgZ(138,"div",71)(139,"div",72)(140,"label",73),e._uU(141," Sugerida:"),e.qZA(),e.TgZ(142,"input",74,75),e.NdJ("ngModelChange",function(o){return n.planner.rE_Sugerido=o}),e.qZA()(),e.TgZ(144,"div",76)(145,"label",77),e._uU(146," Planejada:"),e.qZA(),e.TgZ(147,"input",78,79),e.NdJ("ngModelChange",function(o){return n.planner.rE_Planejado=o}),e.qZA()()()()(),e.TgZ(149,"div",68)(150,"div",80)(151,"div",70),e._uU(152,"Risco"),e.qZA(),e.TgZ(153,"div",71)(154,"div",72)(155,"label",81),e._uU(156," Assumido:"),e.qZA(),e.TgZ(157,"input",82,83),e.NdJ("ngModelChange",function(o){return n.planner.riscoAssumido=o}),e.qZA()(),e.TgZ(159,"div",76)(160,"label",84),e._uU(161," Tolerado:"),e.qZA(),e.TgZ(162,"input",85,86),e.NdJ("ngModelChange",function(o){return n.planner.riscoTolerado=o}),e.qZA()()()()()()()()(),e.TgZ(164,"div",87)(165,"div",10)(166,"div",12)(167,"div",13)(168,"h6"),e._uU(169,"Descri\xe7\xe3o"),e.qZA()(),e.TgZ(170,"div",14)(171,"div",46)(172,"label",88),e._uU(173,"Observa\xe7\xf5es do planner: "),e.TgZ(174,"span",17),e._uU(175,"*"),e.qZA()(),e.TgZ(176,"textarea",89,90),e.NdJ("ngModelChange",function(o){return n.planner.descricao=o})("change",function(){return n.saveData()}),e._uU(178,"                                        "),e.qZA()()()()(),e.TgZ(179,"div",10)(180,"div",91)(181,"table",92)(182,"thead",93)(183,"tr"),e._UZ(184,"th"),e.TgZ(185,"th"),e._uU(186,"Aposentadoria"),e.qZA()()(),e.TgZ(187,"tbody")(188,"tr")(189,"td",94)(190,"small")(191,"b"),e._uU(192,"Idade"),e.qZA()()(),e.TgZ(193,"td")(194,"input",95,96),e.NdJ("ngModelChange",function(o){return n.planner.cliente.idadeAposentadoria=o})("keyup.arrowup",function(){e.CHM(a);const o=e.MAs(195);return e.KtG(n.planner.cliente.idadeAposentadoria=n.arrowUp(o.value))})("keyup.arrowdown",function(){e.CHM(a);const o=e.MAs(195);return e.KtG(n.planner.cliente.idadeAposentadoria=n.arrowDown(o.value))})("change",function(){return n.saveData()}),e.qZA()()(),e.TgZ(196,"tr")(197,"td",94)(198,"small")(199,"b"),e._uU(200,"Renda Mensal"),e.qZA()()(),e.TgZ(201,"td")(202,"input",97,98),e.NdJ("ngModelChange",function(o){return n.planner.cliente.rendaMensalAposentadoria=o})("keyup.arrowup",function(){e.CHM(a);const o=e.MAs(203);return e.KtG(n.planner.cliente.rendaMensalAposentadoria=n.arrowUp(o.value))})("keyup.arrowdown",function(){e.CHM(a);const o=e.MAs(203);return e.KtG(n.planner.cliente.rendaMensalAposentadoria=n.arrowDown(o.value))})("change",function(){return n.saveData()}),e.qZA()()(),e.TgZ(204,"tr")(205,"td",94)(206,"small")(207,"b"),e._uU(208,"Rentabilidade"),e.qZA()()(),e.TgZ(209,"td")(210,"input",99,100),e.NdJ("ngModelChange",function(o){return n.planner.cliente.rentabilidadeAposentadoria=o})("keyup.arrowup",function(){e.CHM(a);const o=e.MAs(211);return e.KtG(n.planner.cliente.rentabilidadeAposentadoria=n.arrowUp(o.value))})("keyup.arrowdown",function(){e.CHM(a);const o=e.MAs(211);return e.KtG(n.planner.cliente.rentabilidadeAposentadoria=n.arrowDown(o.value))})("change",function(){return n.saveData()}),e.qZA()()()()()()(),e.TgZ(212,"div",10)(213,"div",91)(214,"table",101)(215,"thead",93)(216,"tr")(217,"th",102)(218,"p",103),e._uU(219," Fluxos Pontuais "),e.TgZ(220,"a",104),e.NdJ("click",function(){return n.adicionarFLuxoPontual()}),e._UZ(221,"fa-icon",105),e.qZA()()()(),e.TgZ(222,"tr",106)(223,"th",107),e._uU(224,"Idade"),e.qZA(),e.TgZ(225,"th"),e._uU(226,"Valor"),e.qZA(),e._UZ(227,"th"),e.qZA()(),e.TgZ(228,"tbody"),e.YNc(229,ze,10,11,"tr",108),e.YNc(230,Ve,3,0,"tr",41),e.qZA()()()()(),e.TgZ(231,"div",109)(232,"div",10)(233,"div",51)(234,"div",13)(235,"h6"),e._uU(236,"C\xe1lculos"),e.qZA()(),e.TgZ(237,"div",14)(238,"table",110)(239,"thead",93)(240,"tr"),e._UZ(241,"th"),e.TgZ(242,"th"),e._uU(243,"Baix\xedssimo"),e.qZA(),e.TgZ(244,"th"),e._uU(245,"Baixo"),e.qZA(),e.TgZ(246,"th"),e._uU(247,"Moderado"),e.qZA(),e.TgZ(248,"th"),e._uU(249,"Arrojado"),e.qZA(),e.TgZ(250,"th",111),e._uU(251,"Super Arrojado"),e.qZA(),e.TgZ(252,"th"),e._uU(253,"Hedge"),e.qZA(),e.TgZ(254,"th"),e._uU(255,"Total"),e.qZA()()(),e.TgZ(256,"tbody")(257,"tr")(258,"td",112)(259,"small")(260,"b"),e._uU(261,"Sugest\xe3o"),e.qZA()()(),e.TgZ(262,"td")(263,"input",113,114),e.NdJ("ngModelChange",function(o){return n.planner.sugestao_Baixissimo=o}),e.qZA()(),e.TgZ(265,"td")(266,"input",115,116),e.NdJ("ngModelChange",function(o){return n.planner.sugestao_Baixo=o}),e.qZA()(),e.TgZ(268,"td")(269,"input",117,118),e.NdJ("ngModelChange",function(o){return n.planner.sugestao_Moderado=o}),e.qZA()(),e.TgZ(271,"td")(272,"input",119,120),e.NdJ("ngModelChange",function(o){return n.planner.sugestao_Arrojado=o}),e.qZA()(),e.TgZ(274,"td")(275,"input",121,122),e.NdJ("ngModelChange",function(o){return n.planner.sugestao_SuperArrojado=o}),e.qZA()(),e.TgZ(277,"td")(278,"input",123,124),e.NdJ("ngModelChange",function(o){return n.planner.sugestao_Hedge=o}),e.qZA()(),e.TgZ(280,"td")(281,"input",125,126),e.NdJ("ngModelChange",function(o){return n.planner.sugestao_Total=o}),e.qZA()()(),e.TgZ(283,"tr")(284,"td",112)(285,"small")(286,"b"),e._uU(287,"Plano"),e.qZA()()(),e.TgZ(288,"td")(289,"input",127,128),e.NdJ("ngModelChange",function(o){return n.planner.plano_Baixissimo=o}),e.qZA()(),e.TgZ(291,"td")(292,"input",129,130),e.NdJ("ngModelChange",function(o){return n.planner.plano_Baixo=o}),e.qZA()(),e.TgZ(294,"td")(295,"input",131,132),e.NdJ("ngModelChange",function(o){return n.planner.plano_Moderado=o}),e.qZA()(),e.TgZ(297,"td")(298,"input",133,134),e.NdJ("ngModelChange",function(o){return n.planner.plano_Arrojado=o}),e.qZA()(),e.TgZ(300,"td")(301,"input",135,136),e.NdJ("ngModelChange",function(o){return n.planner.plano_SuperArrojado=o}),e.qZA()(),e.TgZ(303,"td")(304,"input",137,138),e.NdJ("ngModelChange",function(o){return n.planner.plano_Hedge=o}),e.qZA()(),e.TgZ(306,"td")(307,"input",125,126),e.NdJ("ngModelChange",function(o){return n.planner.sugestao_Total=o}),e.qZA()()()()()()()(),e.TgZ(309,"div",10)(310,"div",51)(311,"div",139)(312,"h6"),e._uU(313,"Investimento"),e.qZA(),e.TgZ(314,"a",140),e._uU(315,"Adicionar"),e.qZA()(),e.TgZ(316,"div",14)(317,"p-table",141),e.YNc(318,Be,16,0,"ng-template",142),e.YNc(319,We,25,28,"ng-template",143),e.YNc(320,Xe,5,1,"ng-template",144),e.qZA()()()(),e.TgZ(321,"div",10)(322,"div",51)(323,"div",13)(324,"h6"),e._uU(325,"Produto"),e.qZA(),e.TgZ(326,"div",145)(327,"div",146)(328,"p-dropdown",147,148),e.NdJ("ngModelChange",function(o){return n.planner.carteiraSetup_Id=o})("ngModelChange",function(){e.CHM(a);const o=e.MAs(329);return e.KtG(n.carteiraSetupChange(o))}),e.YNc(330,tn,6,2,"ng-template",149),e.qZA()(),e.YNc(331,on,2,4,"button",150),e.YNc(332,rn,2,2,"a",151),e.qZA()(),e.TgZ(333,"div",14),e.YNc(334,ln,2,0,"p",152),e.TgZ(335,"p-table",141),e.YNc(336,sn,18,0,"ng-template",142),e.YNc(337,pn,29,39,"ng-template",143),e.YNc(338,un,1,1,"ng-template",153),e.YNc(339,cn,5,1,"ng-template",144),e.qZA()()()(),e.TgZ(340,"div",10)(341,"div",51)(342,"div",13)(343,"h6"),e._uU(344,"Solu\xe7\xe3o Inicial"),e.qZA()(),e.TgZ(345,"div",154)(346,"table",155)(347,"thead")(348,"tr",93)(349,"th",156)(350,"h6"),e._uU(351,"Agregando Valor"),e.qZA()()(),e.TgZ(352,"tr",157)(353,"th",158),e._uU(354,"Montante Total"),e.qZA(),e.TgZ(355,"th",159)(356,"input",160,161),e.NdJ("ngModelChange",function(o){return n.planner.planejamentoAgregandoValor.montante=o}),e.qZA()(),e.TgZ(358,"th",93),e._uU(359,"Exposi\xe7\xe3o a Risco"),e.qZA(),e.TgZ(360,"th",162)(361,"input",163,164),e.NdJ("ngModelChange",function(o){return n.planner.planejamentoAgregandoValor.riscoAssumido=o}),e.qZA()()(),e.TgZ(363,"tr",93)(364,"th",165),e._uU(365,"Carteira"),e.qZA(),e.TgZ(366,"th",111),e._uU(367,"Rent. Atual "),e.TgZ(368,"small"),e._uU(369,"(ano)"),e.qZA()(),e.TgZ(370,"th",111),e._uU(371,"Retorno Anual"),e.qZA(),e.TgZ(372,"th",111),e._uU(373,"Retorno Mensal"),e.qZA(),e.TgZ(374,"th",111),e._uU(375,"Patrim\xf4nio M\xe1ximo"),e.qZA(),e.TgZ(376,"th",111),e._uU(377,"Tempo "),e.TgZ(378,"small"),e._uU(379,"(anos)"),e.qZA()()()(),e.TgZ(380,"tbody")(381,"tr")(382,"td",166)(383,"small"),e._uU(384,"Atual"),e.qZA()(),e.TgZ(385,"td")(386,"input",167,168),e.NdJ("ngModelChange",function(o){return n.planner.planejamentoAgregandoValor.rentabilidade_Atual=o}),e.qZA()(),e.TgZ(388,"td")(389,"input",169,170),e.NdJ("ngModelChange",function(o){return n.planner.planejamentoAgregandoValor.retornoAnual_Atual=o}),e.qZA()(),e.TgZ(391,"td")(392,"input",171,172),e.NdJ("ngModelChange",function(o){return n.planner.planejamentoAgregandoValor.retornoMensal_Atual=o}),e.qZA()(),e.TgZ(394,"td")(395,"input",173,174),e.NdJ("ngModelChange",function(o){return n.planner.planejamentoAgregandoValor.plMax_Atual=o}),e.qZA()(),e.TgZ(397,"td")(398,"input",175,176),e.NdJ("ngModelChange",function(o){return n.planner.planejamentoAgregandoValor.idadeMax_Atual=o}),e.qZA()()(),e.TgZ(400,"tr")(401,"td",166)(402,"small"),e._uU(403,"Sugerida"),e.qZA()(),e.TgZ(404,"td")(405,"input",177,178),e.NdJ("ngModelChange",function(o){return n.planner.planejamentoAgregandoValor.rentabilidade_Sugerida=o}),e.qZA()(),e.TgZ(407,"td")(408,"input",179,180),e.NdJ("ngModelChange",function(o){return n.planner.planejamentoAgregandoValor.retornoAnual_Sugerido=o}),e.qZA()(),e.TgZ(410,"td")(411,"input",181,182),e.NdJ("ngModelChange",function(o){return n.planner.planejamentoAgregandoValor.retornoMensal_Sugerido=o}),e.qZA()(),e.TgZ(413,"td")(414,"input",183,184),e.NdJ("ngModelChange",function(o){return n.planner.planejamentoAgregandoValor.plMax_Sugerido=o}),e.qZA()(),e.TgZ(416,"td")(417,"input",185,186),e.NdJ("ngModelChange",function(o){return n.planner.planejamentoAgregandoValor.idadeMax_Sugerido=o}),e.qZA()()(),e.TgZ(419,"tr")(420,"td",166)(421,"small"),e._uU(422,"Diferen\xe7a"),e.qZA()(),e.TgZ(423,"td")(424,"input",187,188),e.NdJ("ngModelChange",function(o){return n.planner.planejamentoAgregandoValor.rentabilidade_Diferenca=o}),e.qZA()(),e.TgZ(426,"td")(427,"input",189,190),e.NdJ("ngModelChange",function(o){return n.planner.planejamentoAgregandoValor.retornoAnual_Diferenca=o}),e.qZA()(),e.TgZ(429,"td")(430,"input",191,192),e.NdJ("ngModelChange",function(o){return n.planner.planejamentoAgregandoValor.retornoMensal_Diferenca=o}),e.qZA()(),e.TgZ(432,"td",193)(433,"input",194,195),e.NdJ("ngModelChange",function(o){return n.planner.planejamentoAgregandoValor.plMax_Diferenca=o}),e.qZA()(),e.TgZ(435,"td",196)(436,"input",197,198),e.NdJ("ngModelChange",function(o){return n.planner.planejamentoAgregandoValor.idadeMax_Diferenca=o}),e.qZA()()(),e.TgZ(438,"tr"),e._UZ(439,"td",166),e.TgZ(440,"td",199)(441,"span")(442,"b"),e._uU(443,"Melhora de Desempenho"),e.qZA()()(),e.TgZ(444,"td",200)(445,"span"),e._UZ(446,"fa-icon",105),e.qZA()(),e.TgZ(447,"td",201)(448,"input",202,203),e.NdJ("ngModelChange",function(o){return n.planner.planejamentoAgregandoValor.pL_Desempenho=o}),e.qZA()(),e.TgZ(450,"td",196)(451,"input",204,205),e.NdJ("ngModelChange",function(o){return n.planner.planejamentoAgregandoValor.idade_Desempenho=o}),e.qZA()()()()()()()(),e.YNc(453,mn,2,1,"div",206),e.YNc(454,_n,3,1,"div",206),e.qZA()(),e.TgZ(455,"div",207),e.YNc(456,vn,3,2,"div",208),e.TgZ(457,"button",209),e.YNc(458,fn,1,0,"span",210),e._uU(459," Salvar "),e.qZA()()(),e.YNc(460,Mn,2,0,"ng-template",null,211,e.W1O),e.YNc(462,Cn,2,0,"ng-template",null,212,e.W1O),e.YNc(464,An,2,0,"ng-template",null,213,e.W1O),e.qZA()(),e._UZ(466,"router-outlet")}if(2&t){const a=e.MAs(13),r=e.MAs(28),o=e.MAs(35),s=e.MAs(45),_=e.MAs(56),g=e.MAs(63),u=e.MAs(70),c=e.MAs(78),A=e.MAs(86),f=e.MAs(100),w=e.MAs(107),H=e.MAs(120),Y=e.MAs(127),E=e.MAs(177),K=e.MAs(195),m=e.MAs(203),b=e.MAs(211),v=e.MAs(461);e.xp6(4),e.Q6J("icon",n.faChevronLeft),e.xp6(23),e.Q6J("ngModel",n.planner.cliente.nome)("ngbPopover",v)("disablePopover",null==r.errors),e.xp6(7),e.ekj("form-control-loading",n.loadingPerfilInvestidor),e.Q6J("ngModel",n.planner.cliente.perfilInvestidor_Id)("ngbPopover",v)("disablePopover",null==o.errors),e.xp6(2),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",n.perfilInvestidor),e.xp6(6),e.ekj("form-control-loading",n.loadingEstadoCivil),e.Q6J("ngModel",n.planner.cliente.estadoCivil_Id)("ngbPopover",v)("disablePopover",null==s.errors),e.xp6(2),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",n.estadoCivil),e.xp6(7),e.Q6J("ngModel",n.planner.cliente.cpf)("ngbPopover",v)("disablePopover",null==_.errors),e.xp6(7),e.Q6J("ngModel",n.planner.cliente.rg)("ngbPopover",v)("disablePopover",null==g.errors),e.xp6(7),e.Q6J("ngModel",n.planner.cliente.dataNascimento)("min",n.dataNascimentoMin)("max",n.dataNascimentoMax)("ngbPopover",v)("disablePopover",null==u.errors),e.xp6(2),e.Q6J("ngIf",u.touched&&u.errors),e.xp6(6),e.Q6J("ngModel",n.planner.cliente.idade)("ngbPopover",v)("disablePopover",null==c.errors),e.xp6(8),e.Q6J("email",!0)("ngModel",n.planner.cliente.email)("ngbPopover",v)("disablePopover",null==A.errors),e.xp6(14),e.Q6J("ngModel",n.planner.cliente.receita)("ngbPopover",v)("disablePopover",null==f.errors),e.xp6(7),e.Q6J("ngModel",n.planner.cliente.despesa)("ngbPopover",v)("disablePopover",null==w.errors),e.xp6(13),e.Q6J("ngModel",n.planner.taxaSelic)("ngbPopover",v)("disablePopover",null==H.errors),e.xp6(7),e.Q6J("ngModel",n.planner.taxaIpca)("ngbPopover",v)("disablePopover",null==Y.errors),e.xp6(16),e.Q6J("ngModel",n.planner.rE_Sugerido)("allowNegativeNumbers",!1),e.xp6(5),e.Q6J("ngModel",n.planner.rE_Planejado)("allowNegativeNumbers",!1),e.xp6(10),e.Q6J("ngModel",n.planner.riscoAssumido)("allowNegativeNumbers",!1),e.xp6(5),e.Q6J("ngModel",n.planner.riscoTolerado)("allowNegativeNumbers",!1),e.xp6(14),e.Q6J("ngModel",n.planner.descricao)("ngbPopover",v)("disablePopover",null==E.errors),e.xp6(18),e.Q6J("ngModel",n.planner.cliente.idadeAposentadoria)("allowNegativeNumbers",!1)("ngbPopover",v)("disablePopover",null==K.errors),e.xp6(8),e.Q6J("ngModel",n.planner.cliente.rendaMensalAposentadoria)("prefix",""!=m.value?"R$ ":"")("allowNegativeNumbers",!1)("ngbPopover",v)("disablePopover",null==m.errors),e.xp6(8),e.Q6J("ngModel",n.planner.cliente.rentabilidadeAposentadoria)("allowNegativeNumbers",!0)("ngbPopover",v)("disablePopover",null==b.errors),e.xp6(11),e.Q6J("icon",n.faPlus),e.xp6(8),e.Q6J("ngForOf",n.planner.planejamentoFluxosPontuais),e.xp6(1),e.Q6J("ngIf",0==n.planner.planejamentoFluxosPontuais.length),e.xp6(33),e.Q6J("ngModel",n.planner.sugestao_Baixissimo),e.xp6(3),e.Q6J("ngModel",n.planner.sugestao_Baixo),e.xp6(3),e.Q6J("ngModel",n.planner.sugestao_Moderado),e.xp6(3),e.Q6J("ngModel",n.planner.sugestao_Arrojado),e.xp6(3),e.Q6J("ngModel",n.planner.sugestao_SuperArrojado),e.xp6(3),e.Q6J("ngModel",n.planner.sugestao_Hedge),e.xp6(3),e.Q6J("ngModel",n.planner.sugestao_Total),e.xp6(8),e.Q6J("ngModel",n.planner.plano_Baixissimo),e.xp6(3),e.Q6J("ngModel",n.planner.plano_Baixo),e.xp6(3),e.Q6J("ngModel",n.planner.plano_Moderado),e.xp6(3),e.Q6J("ngModel",n.planner.plano_Arrojado),e.xp6(3),e.Q6J("ngModel",n.planner.plano_SuperArrojado),e.xp6(3),e.Q6J("ngModel",n.planner.plano_Hedge),e.xp6(3),e.Q6J("ngModel",n.planner.sugestao_Total),e.xp6(7),e.Q6J("routerLink",e.DdM(150,bn)),e.xp6(3),e.Q6J("value",n.planner.planejamentoInvestimento)("responsive",!0),e.xp6(11),e.ekj("form-control-loading",n.loadingCarteiraSetup),e.Q6J("disabled",n.loadingCarteiraSetup)("options",n.carteirasSetup)("ngModel",n.planner.carteiraSetup_Id)("filter",!0)("showClear",!0)("required",!0),e.xp6(3),e.Q6J("ngIf",0!=n.planner.carteiraSetup_Id&&n.mudouCarteiraSetup||0==n.planner.planejamentoProduto.length),e.xp6(1),e.Q6J("ngIf",n.planner.planejamentoInvestimento.length>0&&n.planner.planejamentoProduto.length>0&&!n.mudouCarteiraSetup),e.xp6(2),e.Q6J("ngIf",0==n.planner.planejamentoInvestimento.length),e.xp6(1),e.Q6J("value",n.planner.planejamentoProduto)("responsive",!0),e.xp6(21),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.montante)("readOnly",!0),e.xp6(5),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.riscoAssumido)("readOnly",!0),e.xp6(25),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.rentabilidade_Atual)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.retornoAnual_Atual)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.retornoMensal_Atual)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.plMax_Atual)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.idadeMax_Atual)("readOnly",!0),e.xp6(7),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.rentabilidade_Sugerida)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.retornoAnual_Sugerido)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.retornoMensal_Sugerido)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.plMax_Sugerido)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.idadeMax_Sugerido)("readOnly",!0),e.xp6(7),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.rentabilidade_Diferenca)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.retornoAnual_Diferenca)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.retornoMensal_Diferenca)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.plMax_Diferenca)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.idadeMax_Diferenca)("readOnly",!0),e.xp6(10),e.Q6J("icon",n.faArrowRight),e.xp6(2),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.pL_Desempenho)("readOnly",!0),e.xp6(3),e.Q6J("ngModel",n.planner.planejamentoAgregandoValor.idade_Desempenho)("readOnly",!0),e.xp6(2),e.Q6J("ngIf",n.planner.planejamentoGrafico.length>0),e.xp6(1),e.Q6J("ngIf",n.planner.planejamentoProduto.length>0||n.planner.planejamentoInvestimento.length>0),e.xp6(2),e.Q6J("ngIf",n.erro||a.invalid),e.xp6(1),e.Q6J("disabled",n.loading||a.invalid),e.xp6(1),e.Q6J("ngIf",n.loading)}},dependencies:[h.sg,h.O5,Z.lC,Z.yS,d._Y,d.YN,d.Kr,d.Fj,d.EJ,d.JJ,d.JL,d.Q7,d.on,d.On,d.F,j.BN,y.hx,V.iA,W.jx,J.o8,ie.Lt,Qe,De,h.Ts,h.uU,y.Iq],styles:[".form-control-solucaoInicial[_ngcontent-%COMP%], .form-control-solucaoInicial[_ngcontent-%COMP%]:focus, .form-control-solucaoInicial[_ngcontent-%COMP%]:hover, .form-control-solucaoInicial[_ngcontent-%COMP%]:hover:focus{background-color:var(--primary)!important;border-radius:0;color:#fff!important;outline:none!important;box-shadow:none!important}.table[_ngcontent-%COMP%]   td.position-sticky[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th.position-sticky[_ngcontent-%COMP%]{position:sticky;left:0}.table-editable[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{min-width:110px}input#solucao_riscoAssumido_Atual[_ngcontent-%COMP%], input#solucao_montante_Atual[_ngcontent-%COMP%]{background-color:#104456;border:none}"]}),i})();var Tn=p(4595),Zn=p(1442),Pn=p(5669),wn=p(316);class xn{constructor(){this.id=0,this.tipoAtivo_Id=0,this.tipoAtivo=new Zn.m,this.tipoRisco_Id=0,this.tipoRisco=new wn.p,this.tipoLiquidez_Id=0,this.tipoLiquidez=new Pn.T,this.descricao=""}}class yn{constructor(){this.id=0,this.planejamento_Id=0,this.rentabilidade="",this.rentabilidadeLiquida="",this.montanteAtual="",this.sugerido="",this.planoAcao="",this.custosTaxas="",this.investimento=new xn,this.investimento_Id=void 0}}let qn=(()=>{class i{constructor(t,n,a){this.router=t,this.http=n,this.toastr=a,this.url=ne.N.url,this.list=new Q.X([])}getAll(){return this.http.get(`${this.url}/investimento/getAll`)}get(t){return this.http.get(`${this.url}/investimento/${t}`)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(Z.F0),e.LFG(ae.eN),e.LFG(I._W))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function kn(i,l){if(1&i&&(e.TgZ(0,"option",16),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.descricao)}}function In(i,l){1&i&&(e.TgZ(0,"p",13),e._uU(1,"Esse campo \xe9 obrigat\xf3rio"),e.qZA())}function Jn(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,In,2,0,"p",43),e.qZA()),2&i){e.oxw();const t=e.MAs(20);e.xp6(1),e.Q6J("ngIf",t.errors.required)}}function Nn(i,l){1&i&&(e.TgZ(0,"p",13),e._uU(1,"Esse campo \xe9 obrigat\xf3rio"),e.qZA())}function Sn(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Nn,2,0,"p",43),e.qZA()),2&i){e.oxw();const t=e.MAs(30);e.xp6(1),e.Q6J("ngIf",t.errors.required)}}function jn(i,l){if(1&i&&(e.TgZ(0,"p",47),e._uU(1),e.ALo(2,"json"),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,t))}}function Un(i,l){1&i&&(e.TgZ(0,"p",47),e._uU(1,"Preencha todos os campos obrigat\xf3rios (*) corretamente para salvar"),e.qZA())}function On(i,l){if(1&i&&(e.TgZ(0,"div",44),e.YNc(1,jn,3,3,"p",45),e.YNc(2,Un,2,0,"p",46),e.qZA()),2&i){const t=e.oxw(),n=e.MAs(12);e.xp6(1),e.Q6J("ngForOf",t.erro),e.xp6(1),e.Q6J("ngIf",n.invalid&&0==t.erro.length)}}function Fn(i,l){1&i&&e._UZ(0,"span",48)}function Qn(i,l){1&i&&(e.TgZ(0,"div",49),e._uU(1," Este campo \xe9 obrigat\xf3rio "),e.qZA())}let de=(()=>{class i{constructor(t,n,a,r,o){this.modal=t,this.plannerService=n,this.setupService=a,this.investimentoService=r,this.toastr=o,this.faTimes=M.NBC,this.faChevronLeft=M.A35,this.modalOpen=!1,this.objeto=new yn,this.erro=[],this.loading=!1,this.carteirasSetup=[],this.loadingCarteiraSetup=!0,this.planner=new T,this.investimento=void 0,this.investimentos=[],this.loadingInvestimentos=!0,this.aliquota="",this.subscription=[];var s=this.modal.getOpen().subscribe(u=>this.modalOpen=u);this.subscription.push(s);var _=this.plannerService.getObject().subscribe(u=>this.planner=u);this.subscription.push(_);var g=this.setupService.list.subscribe(u=>this.carteirasSetup=u);this.subscription.push(g),(0,C.n)(this.setupService.getList()).then(u=>this.carteirasSetup=u).finally(()=>this.loadingCarteiraSetup=!1),(0,C.n)(this.investimentoService.getAll()).then(u=>this.investimentos=u).finally(()=>this.loadingInvestimentos=!1),setTimeout(()=>{this.modal.setOpen(!0)},200)}ngOnDestroy(){this.modal.setOpen(!1),this.subscription.forEach(t=>t.unsubscribe())}voltar(){this.modal.voltar()}arrowUp(t){return(0,x.zJ)(t)}arrowDown(t,n=!1){return(0,x.DI)(t,n)}send(t){this.loading=!0,this.erro=[],this.objeto.investimento=this.investimento,this.objeto.investimento_Id=this.investimento.id,this.objeto.planejamento_Id=this.planner.id,this.planner.planejamentoInvestimento.find(a=>a.investimento_Id==this.objeto.investimento_Id)?(this.erro.push("Esse investimento j\xe1 est\xe1 inserido."),this.toastr.error("Esse investimento j\xe1 est\xe1 inserido.")):(this.erro=[],this.planner.planejamentoInvestimento.push(this.objeto),this.plannerService.setObject(this.planner),this.voltar()),this.loading=!1}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(k.Q),e.Y36(P),e.Y36(G.A),e.Y36(qn),e.Y36(I._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-investimento-form"]],decls:64,vars:32,consts:[[1,"modal"],[1,"modal__bg",3,"click"],[1,"modal__inner",2,"max-width","700px"],[1,"modal__content"],[1,"modal__header","pb-2"],[1,"text-orange"],[1,"modal__header-close","btn-close",3,"click"],[1,"modal__body","mt-0"],[1,"needs-validation",3,"ngSubmit"],["form","ngForm"],[1,"form-row"],[1,"form-group","col-lg-4","col-md-4","col-12"],["for","investimento"],[1,"text-danger"],["name","investimento","id","investimento","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange"],["_investimento","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"form-group","col-lg-4","col-md-4","col-sm-6","col-12"],["for","rentabilidade"],["type","text","id","rentabilidade","name","rentabilidade","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%","popoverClass","popover-danger","triggers","mouseenter:mouseleave",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown"],["rentabilidade","ngModel"],["for","rentabilidadeLiquida"],["type","text","id","rentabilidadeLiquida","name","rentabilidadeLiquida","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%","popoverClass","popover-danger","triggers","mouseenter:mouseleave",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown"],["rentabilidadeLiquida","ngModel"],["for","custosTaxas"],["type","text","id","custosTaxas","name","custosTaxas","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%","popoverClass","popover-danger","triggers","mouseenter:mouseleave",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown"],["custosTaxas","ngModel"],["for","montanteAtual"],["type","text","id","montanteAtual","name","montanteAtual","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ","popoverClass","popover-danger","triggers","mouseenter:mouseleave",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown"],["montanteAtual","ngModel"],["for","sugerido"],["type","text","id","sugerido","name","sugerido","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ","popoverClass","popover-danger","triggers","mouseenter:mouseleave",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown"],["sugerido","ngModel"],["for","planoAcao"],["type","text","id","planoAcao","name","planoAcao","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ","popoverClass","popover-danger","triggers","mouseenter:mouseleave",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown"],["planoAcao","ngModel"],[1,"d-flex","p-0","mt-3"],["class","m-0",4,"ngIf"],[1,"btn","btn-primary","mr-0","ml-auto",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["campoObrigatorio",""],["class","text-danger",4,"ngIf"],[1,"m-0"],["class","text-red",4,"ngFor","ngForOf"],["class","text-red",4,"ngIf"],[1,"text-red"],[1,"spinner-border","spinner-border-sm","mr-1"],[1,"py-3","px-4"]],template:function(t,n){if(1&t){const a=e.EpF();e.TgZ(0,"div",0)(1,"div",1),e.NdJ("click",function(){return n.voltar()}),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),e._uU(6,"Adicionar investimento"),e.qZA(),e.TgZ(7,"a",6),e.NdJ("click",function(){return n.voltar()}),e._UZ(8,"span")(9,"span"),e.qZA()(),e.TgZ(10,"div",7)(11,"form",8,9),e.NdJ("ngSubmit",function(){e.CHM(a);const o=e.MAs(12);return e.KtG(n.send(o))}),e.TgZ(13,"div",10)(14,"div",11)(15,"label",12),e._uU(16,"Investimento: "),e.TgZ(17,"span",13),e._uU(18,"*"),e.qZA()(),e.TgZ(19,"select",14,15),e.NdJ("ngModelChange",function(o){return n.investimento=o}),e.TgZ(21,"option",16),e._uU(22,"Selecione"),e.qZA(),e.YNc(23,kn,2,2,"option",17),e.qZA(),e.YNc(24,Jn,2,1,"div",18),e.qZA()(),e.TgZ(25,"div",10)(26,"div",19)(27,"label",20),e._uU(28,"Rentabilidade Bruta: "),e.qZA(),e.TgZ(29,"input",21,22),e.NdJ("ngModelChange",function(o){return n.objeto.rentabilidade=o})("keyup.arrowup",function(){e.CHM(a);const o=e.MAs(30);return e.KtG(n.objeto.rentabilidade=n.arrowUp(o.value))})("keyup.arrowdown",function(){e.CHM(a);const o=e.MAs(30);return e.KtG(n.objeto.rentabilidade=n.arrowDown(o.value))}),e.qZA(),e.YNc(31,Sn,2,1,"div",18),e.qZA(),e.TgZ(32,"div",19)(33,"label",23),e._uU(34,"Rentabilidade L\xedquida: "),e.qZA(),e.TgZ(35,"input",24,25),e.NdJ("ngModelChange",function(o){return n.objeto.rentabilidadeLiquida=o})("keyup.arrowup",function(){e.CHM(a);const o=e.MAs(36);return e.KtG(n.objeto.rentabilidadeLiquida=n.arrowUp(o.value))})("keyup.arrowdown",function(){e.CHM(a);const o=e.MAs(36);return e.KtG(n.objeto.rentabilidadeLiquida=n.arrowDown(o.value))}),e.qZA()(),e.TgZ(37,"div",19)(38,"label",26),e._uU(39,"Custos/Taxas: "),e.qZA(),e.TgZ(40,"input",27,28),e.NdJ("ngModelChange",function(o){return n.objeto.custosTaxas=o})("keyup.arrowup",function(){e.CHM(a);const o=e.MAs(41);return e.KtG(n.objeto.custosTaxas=n.arrowUp(o.value))})("keyup.arrowdown",function(){e.CHM(a);const o=e.MAs(41);return e.KtG(n.objeto.custosTaxas=n.arrowDown(o.value))}),e.qZA()(),e.TgZ(42,"div",19)(43,"label",29),e._uU(44,"Montante Atual: "),e.qZA(),e.TgZ(45,"input",30,31),e.NdJ("ngModelChange",function(o){return n.objeto.montanteAtual=o})("keyup.arrowup",function(){e.CHM(a);const o=e.MAs(46);return e.KtG(n.objeto.montanteAtual=n.arrowUp(o.value))})("keyup.arrowdown",function(){e.CHM(a);const o=e.MAs(46);return e.KtG(n.objeto.montanteAtual=n.arrowDown(o.value))}),e.qZA()(),e.TgZ(47,"div",19)(48,"label",32),e._uU(49,"Montante Sugerido: "),e.qZA(),e.TgZ(50,"input",33,34),e.NdJ("ngModelChange",function(o){return n.objeto.sugerido=o})("keyup.arrowup",function(){e.CHM(a);const o=e.MAs(51);return e.KtG(n.objeto.sugerido=n.arrowUp(o.value))})("keyup.arrowdown",function(){e.CHM(a);const o=e.MAs(51);return e.KtG(n.objeto.sugerido=n.arrowDown(o.value))}),e.qZA()(),e.TgZ(52,"div",19)(53,"label",35),e._uU(54,"Plano de A\xe7\xe3o: "),e.qZA(),e.TgZ(55,"input",36,37),e.NdJ("ngModelChange",function(o){return n.objeto.planoAcao=o})("keyup.arrowup",function(){e.CHM(a);const o=e.MAs(56);return e.KtG(n.objeto.planoAcao=n.arrowUp(o.value))})("keyup.arrowdown",function(){e.CHM(a);const o=e.MAs(56);return e.KtG(n.objeto.planoAcao=n.arrowDown(o.value))}),e.qZA()()(),e.TgZ(57,"div",38),e.YNc(58,On,3,2,"div",39),e.TgZ(59,"button",40),e.YNc(60,Fn,1,0,"span",41),e._uU(61," Salvar "),e.qZA()()(),e.YNc(62,Qn,2,0,"ng-template",null,42,e.W1O),e.qZA()()()()}if(2&t){const a=e.MAs(12),r=e.MAs(20),o=e.MAs(30),s=e.MAs(36),_=e.MAs(41),g=e.MAs(46),u=e.MAs(51),c=e.MAs(56),A=e.MAs(63);e.ekj("active",n.modalOpen),e.xp6(19),e.ekj("form-control-loading",n.loadingInvestimentos),e.Q6J("ngModel",n.investimento)("ngbPopover",A)("disablePopover",null==r.errors),e.xp6(2),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",n.investimentos),e.xp6(1),e.Q6J("ngIf",r.errors&&r.touched),e.xp6(5),e.Q6J("ngModel",n.objeto.rentabilidade)("ngbPopover",A)("disablePopover",null==o.errors),e.xp6(2),e.Q6J("ngIf",o.errors&&o.touched),e.xp6(4),e.Q6J("ngModel",n.objeto.rentabilidadeLiquida)("ngbPopover",A)("disablePopover",null==s.errors),e.xp6(5),e.Q6J("ngModel",n.objeto.custosTaxas)("ngbPopover",A)("disablePopover",null==_.errors),e.xp6(5),e.Q6J("ngModel",n.objeto.montanteAtual)("ngbPopover",A)("disablePopover",null==g.errors),e.xp6(5),e.Q6J("ngModel",n.objeto.sugerido)("ngbPopover",A)("disablePopover",null==u.errors),e.xp6(5),e.Q6J("ngModel",n.objeto.planoAcao)("ngbPopover",A)("disablePopover",null==c.errors),e.xp6(3),e.Q6J("ngIf",n.erro||a.invalid),e.xp6(1),e.Q6J("disabled",a.invalid||n.loading),e.xp6(1),e.Q6J("ngIf",n.loading)}},dependencies:[h.sg,h.O5,d._Y,d.YN,d.Kr,d.Fj,d.EJ,d.JJ,d.JL,d.Q7,d.On,d.F,y.hx,J.o8,h.Ts]}),i})();var Rn=p(6886);class Dn{constructor(){this.id=0,this.planejamento_Id=0,this.rentabilidade="",this.rentabilidadeLiquida="",this.montanteAtual="",this.sugerido="",this.planoAcao="",this.percentual="",this.custosTaxas="",this.produto=new Rn.a7,this.produto_Id=void 0}}var Gn=p(9885);function Ln(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",13)(1,"input",46,15),e.NdJ("ngModelChange",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.selectedRisco=a)})("ngModelChange",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.setProdutos())}),e.qZA(),e.TgZ(3,"label",47),e._uU(4),e.qZA()()}if(2&i){const t=l.$implicit,n=e.oxw();e.xp6(1),e.MGl("id","tipoRisco-",t.nome,""),e.Q6J("ngModel",n.selectedRisco)("value",t)("checked",t.id==(null==n.selectedRisco?null:n.selectedRisco.id)),e.xp6(2),e.MGl("for","tipoRisco-",t.nome,""),e.xp6(1),e.Oqu(t.nome)}}function Hn(i,l){1&i&&(e.TgZ(0,"span"),e._uU(1,"Selecione"),e.qZA())}function $n(i,l){1&i&&(e.TgZ(0,"span"),e._uU(1,"Nenhum produto"),e.qZA())}function Yn(i,l){if(1&i&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.descricao)}}function En(i,l){1&i&&(e.TgZ(0,"p",21)(1,"small"),e._uU(2,"Esse campo \xe9 obrigat\xf3rio "),e.qZA()())}function Kn(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,En,3,0,"p",48),e.qZA()),2&i){e.oxw();const t=e.MAs(30);e.xp6(1),e.Q6J("ngIf",t.errors.required)}}function zn(i,l){1&i&&(e.TgZ(0,"p",21),e._uU(1,"Esse campo \xe9 obrigat\xf3rio"),e.qZA())}function Vn(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,zn,2,0,"p",49),e.qZA()),2&i){e.oxw();const t=e.MAs(51);e.xp6(1),e.Q6J("ngIf",t.errors.required)}}function Bn(i,l){1&i&&(e.TgZ(0,"p",21),e._uU(1,"Esse campo \xe9 obrigat\xf3rio"),e.qZA())}function Wn(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Bn,2,0,"p",49),e.qZA()),2&i){e.oxw();const t=e.MAs(59);e.xp6(1),e.Q6J("ngIf",t.errors.required)}}function Xn(i,l){1&i&&(e.TgZ(0,"p",21),e._uU(1,"Esse campo \xe9 obrigat\xf3rio"),e.qZA())}function et(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Xn,2,0,"p",49),e.qZA()),2&i){e.oxw();const t=e.MAs(67);e.xp6(1),e.Q6J("ngIf",t.errors.required)}}function nt(i,l){if(1&i&&(e.TgZ(0,"p",53),e._uU(1),e.ALo(2,"json"),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,t))}}function tt(i,l){1&i&&(e.TgZ(0,"p",53),e._uU(1,"Preencha todos os campos obrigat\xf3rios (*) corretamente para salvar"),e.qZA())}function ot(i,l){if(1&i&&(e.TgZ(0,"div",50),e.YNc(1,nt,3,3,"p",51),e.YNc(2,tt,2,0,"p",52),e.qZA()),2&i){const t=e.oxw(),n=e.MAs(12);e.xp6(1),e.Q6J("ngForOf",t.erro),e.xp6(1),e.Q6J("ngIf",n.invalid&&0==t.erro.length)}}function at(i,l){1&i&&e._UZ(0,"span",54)}function rt(i,l){1&i&&(e.TgZ(0,"div",55),e._uU(1," Este campo \xe9 obrigat\xf3rio "),e.qZA())}let ue=(()=>{class i{constructor(t,n,a,r,o){this.modal=t,this.plannerService=n,this.produtoService=a,this.setupService=r,this.dropdown=o,this.faTimes=M.NBC,this.faChevronLeft=M.A35,this.modalOpen=!1,this.objeto=new Dn,this.erro=[],this.loading=!1,this.carteirasSetup=[],this.loadingCarteiraSetup=!0,this.produtos=[],this.loadingProdutos=!0,this.tipoRiscos=[],this.loadingRiscos=!0,this.planner=new T,this.aliquota="",this.subscription=[];var s=this.modal.getOpen().subscribe(c=>this.modalOpen=c);this.subscription.push(s);var _=this.plannerService.getObject().subscribe(c=>this.planner=c);this.subscription.push(_);var u=this.setupService.list.subscribe(c=>this.carteirasSetup=c);this.subscription.push(u),(0,C.n)(this.setupService.getList()).then(c=>this.carteirasSetup=c).finally(()=>this.loadingCarteiraSetup=!1);var g=this.dropdown.tipoRisco.subscribe(c=>this.tipoRiscos=c);this.subscription.push(g),(0,C.n)(this.dropdown.getRisco()).then(c=>this.tipoRiscos=c).finally(()=>this.loadingRiscos=!1),u=this.produtoService.list.subscribe(c=>this.setProdutos()),this.subscription.push(u),(0,C.n)(this.produtoService.getList()).then(c=>this.setProdutos()).finally(()=>this.loadingProdutos=!1),setTimeout(()=>{this.modal.setOpen(!0)},200)}ngOnDestroy(){this.modal.setOpen(!1),this.subscription.forEach(t=>t.unsubscribe())}voltar(){this.modal.voltar()}setProdutos(){this.loadingProdutos=!0,this.produtos=this.produtoService.list.value,this.selectedRisco&&(this.produtos=this.produtoService.list.value.filter(t=>t.tipoRisco_Id==this.selectedRisco?.id)),this.produto=void 0,this.aliquota="",this.loadingProdutos=!1}produtoChange(){this.aliquota=""}arrowUp(t){return(0,x.zJ)(t)}arrowDown(t,n=!1){return(0,x.DI)(t,n)}send(t){this.loading=!0,this.erro=[],this.planner.planejamentoProduto.push(this.objeto),this.plannerService.setObject(this.planner),this.voltar(),this.loading=!1}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(k.Q),e.Y36(P),e.Y36(Gn.m),e.Y36(G.A),e.Y36(D.V))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-produto-form"]],decls:76,vars:29,consts:[[1,"modal"],[1,"modal__bg",3,"click"],[1,"modal__inner",2,"max-width","700px"],[1,"modal__content"],[1,"modal__header","pb-2"],[1,"text-orange"],[1,"modal__header-close","btn-close",3,"click"],[1,"modal__body","mt-0"],[1,"needs-validation",3,"ngSubmit"],["form","ngForm"],[1,"mt-2","mb-2","px-2"],[1,"h6"],[1,"d-flex","align-items-center"],[1,"mx-2"],["type","radio","name","tipoRisco","id","tipoRisco-0",1,"mr-1","mt-1",3,"ngModel","value","checked","ngModelChange"],["tipoRisco","ngModel"],["for","tipoRisco-0"],["class","mx-2",4,"ngFor","ngForOf"],[1,"form-row"],[1,"form-group","col-lg-12","col-md-4","col-sm-12"],["for","produto"],[1,"text-danger"],["id","produto","name","produto","required","",1,"form-control",3,"ngModel","ngModelChange"],["_produto","ngModel"],[3,"ngValue"],[4,"ngIf"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"form-group","col-lg-4","col-md-4","col-sm-6"],["for","aliquota"],["type","text","id","aliquota","name","aliquota","mask","separator.5","thousandSeparator",".","suffix","%","readonly","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["_aliquota","ngModel"],[1,"form-group","col-lg-4","col-md-4","col-sm-12"],["for","percentual"],["type","text","id","percentual","name","percentual","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown"],["percentual","ngModel"],["for","rentabilidade"],["type","text","id","rentabilidade","name","rentabilidade","mask","separator.5","thousandSeparator",".","decimalMarker",",","suffix","%","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown"],["rentabilidade","ngModel"],["for","montanteAtual"],["type","text","id","montanteAtual","name","montanteAtual","mask","separator.5","thousandSeparator",".","decimalMarker",",","prefix","R$ ","popoverClass","popover-danger","triggers","mouseenter:mouseleave","required","",1,"form-control",3,"ngModel","ngbPopover","disablePopover","ngModelChange","keyup.arrowup","keyup.arrowdown"],["montanteAtual","ngModel"],[1,"d-flex","p-0","mt-3","align-items-center"],["class","m-0",4,"ngIf"],[1,"btn","btn-primary","mr-0","ml-auto",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["campoObrigatorio",""],["type","radio","name","tipoRisco",1,"mr-1","mt-1",3,"id","ngModel","value","checked","ngModelChange"],[3,"for"],["class","text-danger ",4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"m-0"],["class","text-red",4,"ngFor","ngForOf"],["class","text-red",4,"ngIf"],[1,"text-red"],[1,"spinner-border","spinner-border-sm","mr-1"],[1,"py-3","px-4"]],template:function(t,n){if(1&t){const a=e.EpF();e.TgZ(0,"div",0)(1,"div",1),e.NdJ("click",function(){return n.voltar()}),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),e._uU(6,"Adicionar produto"),e.qZA(),e.TgZ(7,"a",6),e.NdJ("click",function(){return n.voltar()}),e._UZ(8,"span")(9,"span"),e.qZA()(),e.TgZ(10,"div",7)(11,"form",8,9),e.NdJ("ngSubmit",function(){e.CHM(a);const o=e.MAs(12);return e.KtG(n.send(o))}),e.TgZ(13,"div",10)(14,"p",11),e._uU(15,"Selecione o Risco"),e.qZA(),e.TgZ(16,"div",12)(17,"div",13)(18,"input",14,15),e.NdJ("ngModelChange",function(o){return n.selectedRisco=o})("ngModelChange",function(){return n.setProdutos()}),e.qZA(),e.TgZ(20,"label",16),e._uU(21,"Todos"),e.qZA()(),e.YNc(22,Ln,5,6,"div",17),e.qZA()(),e.TgZ(23,"div",18)(24,"div",19)(25,"label",20),e._uU(26,"Produto: "),e.TgZ(27,"span",21),e._uU(28,"*"),e.qZA()(),e.TgZ(29,"select",22,23),e.NdJ("ngModelChange",function(o){return n.produto=o})("ngModelChange",function(){return n.produtoChange()}),e.TgZ(31,"option",24),e.YNc(32,Hn,2,0,"span",25),e.YNc(33,$n,2,0,"span",25),e.qZA(),e.YNc(34,Yn,2,2,"option",26),e.qZA(),e.YNc(35,Kn,2,1,"div",25),e.qZA()(),e.TgZ(36,"div",18)(37,"div",27)(38,"label",28),e._uU(39,"Al\xedquota: "),e.TgZ(40,"span",21),e._uU(41,"*"),e.qZA()(),e.TgZ(42,"input",29,30),e.NdJ("ngModelChange",function(o){return n.aliquota=o}),e.qZA()()(),e.TgZ(44,"div",18)(45,"div",31)(46,"label",32),e._uU(47,"Percentual: "),e.TgZ(48,"span",21),e._uU(49,"*"),e.qZA()(),e.TgZ(50,"input",33,34),e.NdJ("ngModelChange",function(o){return n.objeto.percentual=o})("keyup.arrowup",function(){e.CHM(a);const o=e.MAs(51);return e.KtG(n.objeto.percentual=n.arrowUp(o.value))})("keyup.arrowdown",function(){e.CHM(a);const o=e.MAs(51);return e.KtG(n.objeto.percentual=n.arrowDown(o.value))}),e.qZA(),e.YNc(52,Vn,2,1,"div",25),e.qZA(),e.TgZ(53,"div",31)(54,"label",35),e._uU(55,"Rentabilidade: "),e.TgZ(56,"span",21),e._uU(57,"*"),e.qZA()(),e.TgZ(58,"input",36,37),e.NdJ("ngModelChange",function(o){return n.objeto.rentabilidade=o})("keyup.arrowup",function(){e.CHM(a);const o=e.MAs(59);return e.KtG(n.objeto.rentabilidade=n.arrowUp(o.value))})("keyup.arrowdown",function(){e.CHM(a);const o=e.MAs(59);return e.KtG(n.objeto.rentabilidade=n.arrowDown(o.value))}),e.qZA(),e.YNc(60,Wn,2,1,"div",25),e.qZA(),e.TgZ(61,"div",31)(62,"label",38),e._uU(63,"Montante Atual: "),e.TgZ(64,"span",21),e._uU(65,"*"),e.qZA()(),e.TgZ(66,"input",39,40),e.NdJ("ngModelChange",function(o){return n.objeto.montanteAtual=o})("keyup.arrowup",function(){e.CHM(a);const o=e.MAs(67);return e.KtG(n.objeto.montanteAtual=n.arrowUp(o.value))})("keyup.arrowdown",function(){e.CHM(a);const o=e.MAs(67);return e.KtG(n.objeto.montanteAtual=n.arrowDown(o.value))}),e.qZA(),e.YNc(68,et,2,1,"div",25),e.qZA()(),e.TgZ(69,"div",41),e.YNc(70,ot,3,2,"div",42),e.TgZ(71,"button",43),e.YNc(72,at,1,0,"span",44),e._uU(73," Salvar "),e.qZA()()(),e.YNc(74,rt,2,0,"ng-template",null,45,e.W1O),e.qZA()()()()}if(2&t){const a=e.MAs(12),r=e.MAs(30),o=e.MAs(51),s=e.MAs(59),_=e.MAs(67),g=e.MAs(75);e.ekj("active",n.modalOpen),e.xp6(18),e.Q6J("ngModel",n.selectedRisco)("value",void 0)("checked",!n.selectedRisco),e.xp6(4),e.Q6J("ngForOf",n.tipoRiscos),e.xp6(7),e.Q6J("ngModel",n.produto),e.xp6(2),e.Q6J("ngValue",void 0),e.xp6(1),e.Q6J("ngIf",n.produtos.length>0),e.xp6(1),e.Q6J("ngIf",0==n.produtos.length),e.xp6(1),e.Q6J("ngForOf",n.produtos),e.xp6(1),e.Q6J("ngIf",r.touched&&r.errors),e.xp6(7),e.Q6J("ngModel",n.aliquota)("disabled",!n.produto),e.xp6(8),e.Q6J("ngModel",n.objeto.percentual)("ngbPopover",g)("disablePopover",null==o.errors),e.xp6(2),e.Q6J("ngIf",o.errors&&o.touched),e.xp6(6),e.Q6J("ngModel",n.objeto.rentabilidade)("ngbPopover",g)("disablePopover",null==s.errors),e.xp6(2),e.Q6J("ngIf",s.errors&&s.touched),e.xp6(6),e.Q6J("ngModel",n.objeto.montanteAtual)("ngbPopover",g)("disablePopover",null==_.errors),e.xp6(2),e.Q6J("ngIf",_.errors&&_.touched),e.xp6(2),e.Q6J("ngIf",n.erro||a.invalid),e.xp6(1),e.Q6J("disabled",a.invalid||n.loading||!n.produto),e.xp6(1),e.Q6J("ngIf",n.loading)}},dependencies:[h.sg,h.O5,d._Y,d.YN,d.Kr,d.Fj,d.EJ,d._,d.JJ,d.JL,d.Q7,d.On,d.F,y.hx,J.o8,h.Ts]}),i})();var it=p(4506);let ce=(()=>{class i{constructor(t,n,a){this.modal=t,this.alert=n,this.plannerService=a}canActivate(t,n){let a=this.plannerService.getObject().value;return a.carteiraSetup?0!=a.planejamentoInvestimento.length||(this.modal.voltar(),this.alert.warn("Insira um investimento para cadastrar um produto!"),!1):(this.modal.voltar(),this.alert.warn("Escolha um setup para adicionar um produto!"),!1)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(k.Q),e.LFG(it.c),e.LFG(P))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function lt(i,l){if(1&i&&(e.TgZ(0,"li",16),e._uU(1),e.ALo(2,"json"),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,t))}}function st(i,l){if(1&i&&(e.TgZ(0,"ul",14),e.YNc(1,lt,3,3,"li",15),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.erro)}}function pt(i,l){1&i&&e._UZ(0,"span",17)}let dt=(()=>{class i{constructor(t,n,a,r,o){this.router=t,this.activatedRoute=n,this.modal=a,this.plannerService=r,this.crypto=o,this.faTimes=M.NBC,this.modalOpen=!1,this.erro=[],this.loading=!1,this.id=0,this.subscription=[];var s=this.modal.getOpen().subscribe(g=>this.modalOpen=g);this.subscription.push(s);var _=this.activatedRoute.params.subscribe(g=>{g.planner_id?this.id=this.crypto.decrypt(g.planner_id):this.voltar()});this.subscription.push(_),setTimeout(()=>{this.modal.setOpen(!0)},200)}ngOnDestroy(){this.subscription.forEach(t=>t.unsubscribe())}voltar(){this.modal.voltar()}send(){this.loading=!0,(0,C.n)(this.plannerService.delete(this.id)).then(t=>{(0,C.n)(this.plannerService.getList()),this.router.navigate(["..","..",".."]),this.plannerService.setObject(new T)}).finally(()=>this.loading=!1)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Z.F0),e.Y36(Z.gz),e.Y36(k.Q),e.Y36(P),e.Y36(S.w))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-delete-planner"]],decls:22,vars:5,consts:[[1,"modal"],[1,"modal__bg",3,"click"],[1,"modal__inner",2,"max-width","600px"],[1,"modal__content"],[1,"modal__header","pb-2"],[1,"text-orange"],[1,"mt-2"],[1,"modal__header-close","btn-close",3,"click"],[1,"modal__body","mt-0"],["class","m-0 col-lg-12 mt-1",4,"ngIf"],[1,"d-flex","justify-content-center","flex-wrap","p-0","mt-1"],[1,"btn","btn-grey","mr-1",3,"click"],[1,"btn","btn-primary","mr-0",3,"disabled","click"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"m-0","col-lg-12","mt-1"],["class","text-red",4,"ngFor","ngForOf"],[1,"text-red"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.NdJ("click",function(){return n.voltar()}),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),e._uU(6,"Excluir registro"),e.qZA(),e.TgZ(7,"p",6),e._uU(8,"Tem certeza que deseja excluir esse registro? Ele n\xe3o poder\xe1 ser recuperado."),e.qZA(),e.TgZ(9,"p"),e._uU(10,"Todos os registros relacionados a esse planejamento, tamb\xe9m ser\xe3o removidos."),e.qZA(),e.TgZ(11,"a",7),e.NdJ("click",function(){return n.voltar()}),e._UZ(12,"span")(13,"span"),e.qZA()(),e.TgZ(14,"div",8),e.YNc(15,st,2,1,"ul",9),e.TgZ(16,"div",10)(17,"button",11),e.NdJ("click",function(){return n.voltar()}),e._uU(18," Voltar"),e.qZA(),e.TgZ(19,"button",12),e.NdJ("click",function(){return n.send()}),e.YNc(20,pt,1,0,"span",13),e._uU(21," Excluir "),e.qZA()()()()()()),2&t&&(e.ekj("active",n.modalOpen),e.xp6(15),e.Q6J("ngIf",n.erro),e.xp6(4),e.Q6J("disabled",n.loading),e.xp6(1),e.Q6J("ngIf",n.loading))},dependencies:[h.sg,h.O5,h.Ts]}),i})();var ut=p(8785),ct=p(3834),me=p(9738);const mt=[{path:"",component:re,children:[{path:"cadastrar",component:ut.G,title:"Planner - Cadastrar cliente"},{path:"editar/:cliente_id",component:ct.F,title:"Planner - Editar cliente"},{path:"excluir/:cliente_id",component:Tn.T,title:"Planner - Excluir cliente"},{path:"habilitar/:cliente_id",component:me.T,title:"Planner - Habilitar cliente"},{path:"desabilitar/:cliente_id",component:me.T,title:"Planner - Desabilitar cliente"}]},{path:"planner",component:pe,title:"Planner - Planejamento",children:[{path:"investimento",component:de},{path:"produto",component:ue,canActivate:[ce]},{path:"excluir/:planner_id",component:dt}]},{path:"planner/:cliente_id",component:pe,children:[{path:"investimento",component:de},{path:"produto",component:ue,canActivate:[ce]}]}];let _t=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[Z.Bz.forChild(mt),Z.Bz]}),i})();var gt=p(9880),ht=p(1740);let vt=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i,bootstrap:[re]}),i.\u0275inj=e.cJS({imports:[h.ez,_t,d.u5,j.uH,y.yI,I.Rh,V.U$,J.dT,ie.kW,L.S,gt.m,ht.j,d.UX]}),i})()}}]);