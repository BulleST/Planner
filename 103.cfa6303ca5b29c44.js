"use strict";(self.webpackChunkplanner=self.webpackChunkplanner||[]).push([[103],{1735:(j,E,i)=>{i.d(E,{p:()=>A});var e=i(9876),h=i(4650),_=i(202),u=i(7185);let A=(()=>{class C{constructor(p,x,v){this.accountService=p,this.router=x,this.toastr=v}canActivate(p,x){let v=this.accountService.accountValue;return v?!(p.data.roles&&!p.data.roles.includes(v?.role)&&(this.toastr.error("Acesso n\xe3o autorizado."),this.router.navigate([""]),1)):(this.toastr.error("Acesso n\xe3o autorizado. <br> Fa\xe7a login."),this.router.navigate(["account","login"],{queryParams:{returnUrl:x.url}}),!1)}}return C.\u0275fac=function(p){return new(p||C)(h.LFG(e.B),h.LFG(_.F0),h.LFG(u._W))},C.\u0275prov=h.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})()},8103:(j,E,i)=>{i.r(E),i.d(E,{LoggedInModule:()=>Zt});var e=i(4650),h=i(6895),_=i(202),u=i(4409),A=i(1135),C=i(8259),w=i(9243),p=i(46);let x=(()=>{class n{constructor(t,o){this.crypto=t,this.table=o,this.open=new A.X(!1),this.menuHeaderOpen=new A.X(!1)}get aside(){var t=!!localStorage.getItem("navigation")&&this.crypto.decrypt(localStorage.getItem("navigation"));return this.setMenuAside(t),this.open.value}toggleMenuAside(){this.setMenuAside(!this.open.value)}setMenuAside(t){var o=this.crypto.encrypt(t)??"";localStorage.setItem("navigation",o),this.open.next(t)}toggleMenuHeader(){this.menuHeaderOpen.next(!this.menuHeaderOpen.value)}openMenuHeader(){this.menuHeaderOpen.next(!0)}closeMenuHeader(){this.menuHeaderOpen.next(!1)}clickOut(){var t=this;C("body").on("click",function(o){t.closeMenuHeader()}),C(".header__userLogado").on("click",function(o){o.stopPropagation()})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(w.w),e.LFG(p.i))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),v=(()=>{class n{constructor(t){this.crypto=t,this.ativado=new A.X(!1)}toggle(){this.setAtivado(!this.ativado.value)}setAtivado(t){this.ativado.next(t);var o=this.crypto.encrypt(this.ativado.value);null!=o?localStorage.setItem("dark-mode",o):localStorage.removeItem("dark-mode")}getAtivado(){var t=localStorage.getItem("dark-mode");if(t){var o=this.crypto.decrypt(t);null!=o&&this.setAtivado(o)}return this.ativado}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(w.w))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),D=(()=>{class n{constructor(t){this.header=t,this.messageSource=new A.X(""),this.currentMessage=this.messageSource.asObservable()}setDirection(t){this.messageSource.next(t)}swipePrevious(){this.header.setMenuAside(!1),this.setDirection("previous")}swipeNext(){this.header.setMenuAside(!0),this.setDirection("next")}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(x))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Z=i(7549),M=i(5861),c=i(801),m=i(9876),b=i(1939),P=i(4506),d=i(433),I=i(3868);function Q(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"input",15,16),e.NdJ("search",function(){e.CHM(t);const s=e.MAs(1),r=e.oxw();return e.KtG(r.setUrl(s.value))}),e.qZA()}}const U=function(){return["my-account"]};let R=(()=>{class n{constructor(t,o,s,r,l){var g=this;this.modoEscuro=t,this.accountService=o,this.urlBackendService=s,this.header=r,this.alertService=l,this.Role=u.u,this.faSignOut=c.HEx,this.faIdCard=c.Ukp,this.faKey=c.DD4,this.faUser=c.ILF,this.modoEscuroAtivado=!1,this.menuHeaderOpen=!1,this.nomeAbreviado="",this.perfil="",this.subscription=[];var y=this.modoEscuro.getAtivado().subscribe(f=>this.modoEscuroAtivado=f);this.userLogado=this.accountService.accountValue;var T=this.accountService.account.subscribe(function(){var f=(0,M.Z)(function*(N){if(g.userLogado=N,N){g.perfil=u.u[N.perfilAcesso_Id];let F=N?.name.split(" ");g.nomeAbreviado=1==F.length?F[0]:F[0]+" "+F[F.length-1],null==N.passwordReset&&0==window.location.pathname.includes("my-account/change-password")&&g.alertService.info('\n                        <h5>Aten\xe7\xe3o</h5>\n                        <h6>Sua conta n\xe3o est\xe1 protegida!</h6>\n                        <p>Ap\xf3s sua conta ter sido cadastrada a senha padr\xe3o n\xe3o foi alterada, isso torna sua conta vulner\xe1vel \xe0 acessos n\xe3o autorizados.</p>\n                        <p>Por favor, altere sua senha em <a href="./my-account/change-password">/my-account/change-password</a>.</p>\n                    ')}});return function(N){return f.apply(this,arguments)}}());this.subscription.push(y),this.subscription.push(T);var O=this.header.menuHeaderOpen.subscribe(f=>this.menuHeaderOpen=f);this.subscription.push(O)}ngAfterViewInit(){this.header.clickOut()}ngOnDestroy(){this.subscription.forEach(t=>t.unsubscribe())}toggleMenuHeader(){this.header.toggleMenuHeader()}sair(){this.accountService.logout()}setUrl(t){this.urlBackendService.setUrl(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(v),e.Y36(m.B),e.Y36(b.j),e.Y36(x),e.Y36(P.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-header"]],decls:25,vars:14,consts:[[1,"header"],[1,"header-logo"],["src","assets/img/logo-planner.png","alt","Logo Planner"],[1,"d-flex","align-items-center","ml-auto"],["type","search","class","form-control","ngModel","","required","","placeholder","Insira a url do backend desejada",3,"search",4,"ngIf"],[1,"header__userLogado","ml-auto"],[1,"header__userLogado-content",3,"click"],[1,"header__userLogado-img"],[3,"icon"],[1,"header__userLogado-text"],[1,"header__userLogado-submenu"],[1,"header__userLogado-submenu-link"],[1,"header__userLogado-submenu-link",3,"routerLink"],[2,"margin-right","8px"],[1,"header__userLogado-submenu-link",3,"click"],["type","search","ngModel","","required","","placeholder","Insira a url do backend desejada",1,"form-control",3,"search"],["urlBackend","ngModel"]],template:function(t,o){1&t&&(e.TgZ(0,"header",0)(1,"div",1),e._UZ(2,"img",2),e.qZA(),e.TgZ(3,"div",3),e.YNc(4,Q,2,0,"input",4),e.qZA(),e.TgZ(5,"div",5)(6,"div",6),e.NdJ("click",function(){return o.toggleMenuHeader()}),e.TgZ(7,"div",7),e._UZ(8,"fa-icon",8),e.qZA(),e.TgZ(9,"div",9)(10,"p"),e._uU(11),e.qZA(),e.TgZ(12,"p"),e._uU(13),e.qZA()()()()(),e.TgZ(14,"div",10)(15,"p",11),e._uU(16,"Welcome"),e.qZA(),e.TgZ(17,"a",12)(18,"span",13),e._UZ(19,"fa-icon",8),e.qZA(),e._uU(20," Meus dados "),e.qZA(),e.TgZ(21,"a",14),e.NdJ("click",function(){return o.sair()}),e.TgZ(22,"span",13),e._UZ(23,"fa-icon",8),e.qZA(),e._uU(24," Sair "),e.qZA()()),2&t&&(e.ekj("dark",o.modoEscuroAtivado),e.xp6(4),e.Q6J("ngIf",1==(null==o.userLogado?null:o.userLogado.perfilAcesso_Id)),e.xp6(2),e.ekj("header__userLogado-submenu--open",o.menuHeaderOpen),e.xp6(2),e.Q6J("icon",o.faUser),e.xp6(3),e.Oqu(null==o.userLogado?null:o.userLogado.email),e.xp6(2),e.Oqu(o.perfil),e.xp6(1),e.ekj("header__userLogado-submenu--open",o.menuHeaderOpen),e.xp6(3),e.Q6J("routerLink",e.DdM(13,U)),e.xp6(2),e.Q6J("icon",o.faIdCard),e.xp6(4),e.Q6J("icon",o.faSignOut))},dependencies:[h.O5,_.yS,d.Fj,d.JJ,d.Q7,d.On,I.BN],styles:[".header[_ngcontent-%COMP%]{height:50px;position:sticky;top:0;left:0;width:100%;background-color:#fff;background-color:var(--primary);box-shadow:2px 2px 2px #0000000d;display:flex;align-items:center;justify-content:space-between;margin-top:0;margin-bottom:10px}.header-logo[_ngcontent-%COMP%]{height:100%;overflow:hidden;padding:5px 5px 5px 50px;z-index:-1;display:flex}.header-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:80%;width:auto;margin:auto 0;display:block}.header__userLogado[_ngcontent-%COMP%]{height:100%;position:relative;display:flex;justify-content:center;width:auto;margin-right:calc(.5vw + 10px);max-width:100%}.header__userLogado-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;padding:0 25px 0 30px;box-sizing:border-box;background-color:#fff;background-color:var(--primary);z-index:2;position:relative;cursor:pointer;margin:auto 0;transition:.3s;border:none}.header__userLogado-content[_ngcontent-%COMP%]:hover{background-color:#f5f5f5;background-color:var(--primary-dark)}.header__userLogado-content.header__userLogado-submenu--open[_ngcontent-%COMP%]{border:1px #d2d2d2 solid;border-color:var(--primary);background-color:var(--primary-dark);border-top:none;border-bottom:none;height:100%}.header__userLogado-img[_ngcontent-%COMP%]{width:25px;height:25px;background-size:cover;background-position:center;border-radius:50%;border:1px #c7c6c6 solid;background-color:#fff;cursor:pointer;margin-left:-15px;display:flex;align-items:center;justify-content:center;color:var(--primary)}.header__userLogado-img[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--primary)}.header__userLogado-text[_ngcontent-%COMP%]{margin-left:10px;cursor:pointer}.header__userLogado-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#fafcff;cursor:pointer;line-height:1.2;font-size:12px;font-weight:100;letter-spacing:.4px;font-family:Light}.header__userLogado-submenu[_ngcontent-%COMP%]{position:fixed;top:50px;left:auto;right:calc(.5vw + 10px);transform:translateY(-100%);width:200px;border:1px #d2d2d2 solid;border-top:0;border-radius:0 0 3px 3px;display:flex;flex-flow:column;align-items:stretch;padding:5px 0;opacity:0;z-index:-1;visibility:hidden;transition:.3s;background-color:#fff}.header__userLogado-submenu.header__userLogado-submenu--open[_ngcontent-%COMP%]{transform:translate(0);opacity:1;visibility:visible;transition:.3s}p.header__userLogado-submenu-link[_ngcontent-%COMP%]{font-weight:700}.header__userLogado-submenu-link[_ngcontent-%COMP%]{padding:4px 15px;font-size:11px;font-family:Regular;color:#888;text-transform:uppercase;cursor:pointer;text-decoration:none}.header__userLogado-submenu-link[_ngcontent-%COMP%]:not(p):hover{background-color:#cdcdcd70}.header__nav[_ngcontent-%COMP%]{height:100%;display:flex}.header__nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;padding:5px 1vw;text-decoration:none;color:#fbf9f9;transition:.3s}.header__nav-link[_ngcontent-%COMP%]:hover{background:#00000026}.dropdown-empresas[_ngcontent-%COMP%]{background-color:#484848;color:#fff}.dropdown-empresas[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#484848;background:#fff}@media (max-width: 430px){.header__userLogado-content[_ngcontent-%COMP%]{overflow:hidden!important;padding:0!important;width:160px}.header__userLogado-text[_ngcontent-%COMP%]{overflow:hidden;flex:0 1 60%}}"]}),n})(),V=(()=>{class n{constructor(t){this.modoEscuro=t,this.modoEscuroAtivado=!1,this.subscription=[];var o=this.modoEscuro.getAtivado().subscribe(s=>this.modoEscuroAtivado=s);this.subscription.push(o)}ngOnDestroy(){this.subscription.forEach(t=>t.unsubscribe())}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(v))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-footer"]],decls:3,vars:2,consts:[[1,"footer"],[1,"text-center"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2,"Copyright 2022"),e.qZA()()),2&t&&e.ekj("dark",o.modoEscuroAtivado)},styles:[".footer[_ngcontent-%COMP%]{height:26px;background:#100f0f;margin-top:auto;width:100vw;display:flex;align-items:center;justify-content:center;color:#fff;font-size:13px}.footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-size:13px}"]}),n})();const ee=function(n){return["minha-empresa",n]};function te(n,a){if(1&n&&(e.TgZ(0,"a",8)(1,"span",9),e._UZ(2,"fa-icon",10),e.qZA(),e._uU(3," Minha empresa "),e.qZA()),2&n){const t=e.oxw();e.Q6J("routerLink",e.VKq(2,ee,null==t.account||null==t.account.empresa?null:t.account.empresa.nome)),e.xp6(2),e.Q6J("icon",t.faIdCard)}}const ne=function(){return["empresas"]};function oe(n,a){if(1&n&&(e.TgZ(0,"a",8)(1,"span",9),e._UZ(2,"fa-icon",10),e.qZA(),e._uU(3," Empresas "),e.qZA()),2&n){const t=e.oxw();e.Q6J("routerLink",e.DdM(2,ne)),e.xp6(2),e.Q6J("icon",t.faCity)}}const ie=function(){return["clientes"]};function ae(n,a){1&n&&(e.TgZ(0,"a",8)(1,"span",9),e._UZ(2,"i",11),e.qZA(),e._uU(3," Clientes "),e.qZA()),2&n&&e.Q6J("routerLink",e.DdM(1,ie))}const re=function(){return["produtos"]};function se(n,a){if(1&n&&(e.TgZ(0,"a",8)(1,"span",9),e._UZ(2,"fa-icon",10),e.qZA(),e._uU(3," Produtos "),e.qZA()),2&n){const t=e.oxw();e.Q6J("routerLink",e.DdM(2,re)),e.xp6(2),e.Q6J("icon",t.faHandHoldingDollar)}}const le=function(){return["carteira-setup"]};function ce(n,a){1&n&&(e.TgZ(0,"a",8)(1,"span",9),e._UZ(2,"i",11),e.qZA(),e._uU(3," Setup "),e.qZA()),2&n&&e.Q6J("routerLink",e.DdM(1,le))}const pe=function(){return["usuarios"]};function de(n,a){if(1&n&&(e.TgZ(0,"a",8)(1,"span",9),e._UZ(2,"fa-icon",10),e.qZA(),e._uU(3," Usu\xe1rios "),e.qZA()),2&n){const t=e.oxw();e.Q6J("routerLink",e.DdM(2,pe)),e.xp6(2),e.Q6J("icon",t.faUsers)}}const ue=function(){return["percentual-risco"]};let me=(()=>{class n{constructor(t,o){this.header=t,this.accountService=o,this.Role=u.u,this.faHandHoldingDollar=c.VPG,this.faUsers=c.FVb,this.faPercent=c.jGC,this.faCity=c.SBo,this.faIdCard=c.Ukp,this.menuOpen=!1,this.subscription=[],this.menuOpen=this.header.aside;var s=this.header.open.subscribe(l=>this.menuOpen=l);this.subscription.push(s);var r=this.accountService.account.subscribe(l=>this.account=l);this.subscription.push(r)}ngOnDestroy(){this.subscription.forEach(t=>t.unsubscribe())}toggleAside(){this.header.toggleMenuAside()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(x),e.Y36(m.B))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-navigation"]],decls:21,vars:11,consts:[[1,"navigation"],[1,"navigation__toggle-content"],[1,"navigation__toggle",3,"click"],[1,"navigation__content"],[1,"navigation__logo"],["src","assets/img/logo-planner.png","alt","Logo Planner"],[1,"navigation__links"],["class","navigation__links-item",3,"routerLink",4,"ngIf"],[1,"navigation__links-item",3,"routerLink"],[1,"navigation__item-icon"],[3,"icon"],[1,"pi","pi-wallet"]],template:function(t,o){1&t&&(e.TgZ(0,"aside",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return o.toggleAside()}),e._UZ(3,"span")(4,"span")(5,"span"),e.qZA()(),e.TgZ(6,"div",3)(7,"div",4),e._UZ(8,"img",5)(9,"hr"),e.qZA(),e.TgZ(10,"div",6),e.YNc(11,te,4,4,"a",7),e.YNc(12,oe,4,3,"a",7),e.YNc(13,ae,4,2,"a",7),e.YNc(14,se,4,3,"a",7),e.YNc(15,ce,4,2,"a",7),e.YNc(16,de,4,3,"a",7),e.TgZ(17,"a",8)(18,"span",9),e._UZ(19,"fa-icon",10),e.qZA(),e._uU(20," Percentual de Risco "),e.qZA()()()()),2&t&&(e.ekj("open",o.menuOpen),e.xp6(11),e.Q6J("ngIf",(null==o.account?null:o.account.role)==o.Role.Master||(null==o.account?null:o.account.role)==o.Role.Backoffice),e.xp6(1),e.Q6J("ngIf",(null==o.account?null:o.account.role)==o.Role.Admin),e.xp6(1),e.Q6J("ngIf",(null==o.account?null:o.account.role)==o.Role.Admin||(null==o.account?null:o.account.role)==o.Role.Master||(null==o.account?null:o.account.role)==o.Role.Backoffice),e.xp6(1),e.Q6J("ngIf",(null==o.account?null:o.account.role)==o.Role.Admin||(null==o.account?null:o.account.role)==o.Role.Master),e.xp6(1),e.Q6J("ngIf",(null==o.account?null:o.account.role)==o.Role.Admin||(null==o.account?null:o.account.role)==o.Role.Master),e.xp6(1),e.Q6J("ngIf",(null==o.account?null:o.account.role)==o.Role.Admin||(null==o.account?null:o.account.role)==o.Role.Master),e.xp6(1),e.Q6J("routerLink",e.DdM(10,ue)),e.xp6(2),e.Q6J("icon",o.faPercent))},dependencies:[h.O5,_.yS,I.BN],styles:[".navigation[_ngcontent-%COMP%]{position:fixed;left:0;top:0;height:100vh;max-width:230px;width:80%;transition:.3s;transform:translate(-100%)}.navigation.open[_ngcontent-%COMP%]{transform:translate(0)}.navigation__toggle-content[_ngcontent-%COMP%]{position:absolute;right:0;z-index:1;display:flex;align-items:center;justify-content:center;transform:translate(calc(100% + 10px));height:50px}.navigation__toggle[_ngcontent-%COMP%]{position:relative;left:5px;width:30px;height:30px;background-color:var(--primary);display:flex;align-items:center;justify-content:center;border:2px var(--primary) solid;border-radius:5px;transition:.3s}.navigation__toggle-logo[_ngcontent-%COMP%]{height:55px;overflow:hidden;transform:translateY(-5px) translate(-40px);padding:5px 5px 5px 50px;z-index:-1}.navigation__toggle-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:auto}.navigation__toggle[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.navigation.open[_ngcontent-%COMP%]   .navigation__toggle[_ngcontent-%COMP%]{background-color:var(--primary);border-color:var(--primary)}.navigation__toggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:60%;height:2px;background-color:#fff;position:absolute;border-radius:5px}.navigation__toggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{transform:translateY(-5px)}.navigation__toggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{transform:translateY(5px)}.navigation__content[_ngcontent-%COMP%]{height:100vh;overflow-y:auto;display:flex;flex-flow:column;background-color:var(--primary);z-index:1;position:absolute;width:100%;box-shadow:2px 2px 13px 3px #00000036;transition:.3s}.navigation__logo[_ngcontent-%COMP%]{padding:13px 15px 0;display:flex;flex-flow:column;justify-content:space-between}.navigation__logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:auto;width:90%}.navigation__logo[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;line-height:1}.navigation__logo[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;height:1px;background-color:#fff;background-color:var(--primary);opacity:.3;opacity:0;margin:0}.navigation__links[_ngcontent-%COMP%]{display:flex;flex-flow:column;margin-top:2vh;position:relative;margin:calc(.5vh + 10px) 10px 0}.navigation__links[_ngcontent-%COMP%]:before{position:absolute;left:0;top:19px;height:calc(100% - 35px);width:1px;background-color:#fff;opacity:.3}.navigation__links-item[_ngcontent-%COMP%]{padding:6px 10px;text-decoration:none;color:#ffffffc7;font-weight:100;font-size:15px;text-transform:lowercase;transition:.3s;height:35px;position:relative;display:flex;align-items:center}.navigation__links-item[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:0;width:20px;height:1px;background-color:#fff;opacity:.3;z-index:-1}.navigation__item-icon[_ngcontent-%COMP%]{width:30px;height:30px;display:inline-flex;align-items:center;justify-content:center;background-color:#125268;border-radius:3px;margin-right:8px;transition:.2s;font-size:15px}.navigation__links-item[_ngcontent-%COMP%]:hover   .navigation__item-icon[_ngcontent-%COMP%]{background:var(--primary-light)}"]}),n})();const B=function(n){return{"z-index":n,position:"relative"}};let G=(()=>{class n{constructor(t,o,s,r,l){this.modoEscuro=t,this.modal=o,this.table=s,this.header=r,this.swipeService=l,this.modoEscuroAtivado=!1,this.modalOpen=!1,this.navigationOpen=!1,this.loading=!1,this.subscription=[];var g=this.modoEscuro.getAtivado().subscribe(f=>this.modoEscuroAtivado=f),y=this.modal.getOpen().subscribe(f=>this.modalOpen=f),T=this.header.open.subscribe(f=>this.navigationOpen=f),O=this.table.loading.subscribe(f=>this.loading=f);this.subscription.push(g),this.subscription.push(y),this.subscription.push(T),this.subscription.push(O)}ngOnDestroy(){this.subscription.forEach(t=>t.unsubscribe())}swipe(t,o){const s=[t.changedTouches[0].pageX,t.changedTouches[0].pageY],r=(new Date).getTime();if("start"===o)this.swipeCoord=s,this.swipeTime=r;else if("end"===o){const l=[s[0]-this.swipeCoord[0],s[1]-this.swipeCoord[1]];r-this.swipeTime<1e3&&Math.abs(l[0])>30&&Math.abs(l[0])>Math.abs(3*l[1])&&(l[0]<0?this.swipeService.swipePrevious():this.swipeService.swipeNext())}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(v),e.Y36(Z.Q),e.Y36(p.i),e.Y36(x),e.Y36(D))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-initial"]],decls:7,vars:11,consts:[[3,"touchstart","touchend"],[3,"ngStyle"],[1,"main",3,"ngStyle"],[1,"main-content"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.NdJ("touchstart",function(r){return o.swipe(r,"start")})("touchend",function(r){return o.swipe(r,"end")}),e._UZ(1,"app-navigation",1),e.TgZ(2,"div",2)(3,"div",3),e._UZ(4,"app-header",1)(5,"router-outlet"),e.qZA()(),e._UZ(6,"app-footer"),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngStyle",e.VKq(5,B,o.modalOpen?"2":"1")),e.xp6(1),e.Q6J("ngStyle",e.VKq(7,B,o.modalOpen?"3":"0")),e.xp6(1),e.ekj("navigation-open",o.navigationOpen),e.xp6(1),e.Q6J("ngStyle",e.VKq(9,B,o.modalOpen?"0":"1")))},dependencies:[h.PC,_.lC,R,V,me],styles:[".main[_ngcontent-%COMP%]{padding:0;z-index:0;position:relative;min-height:calc(100vh - 26px)}@media (min-width: 800px){.main-content[_ngcontent-%COMP%]{max-width:100%;transition:.3s;margin-right:0;margin-left:auto;min-height:calc(100vh - 26px)}.main-content.navigation-open[_ngcontent-%COMP%]{max-width:calc(100% - 230px)}}"]}),n})();var Y=i(9398),q=i(8913),S=i(9808),H=i(1094);let ge=(()=>{class n{constructor(t,o){this.accountService=t,this.empresaService=o,this.faIdCard=c.Ukp,this.empresa=new Y.oW,this.cnpj="",this.empresa=this.accountService.accountValue?.empresa??new Y.oW,(0,S.n)(this.empresaService.get(this.empresa.id)).then(s=>{this.empresa=s,this.cnpj=this.empresa.cnpj.toString().padStart(14,"0")})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.B),e.Y36(q.P))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-minha-empresa"]],decls:26,vars:8,consts:[[1,"page"],[1,"page__header"],[1,"title-icon"],[3,"icon"],[1,"mr-auto"],[1,"page__header-title"],[1,"page__header-subtitle"],[1,"d-flex","flex-wrap","justify-content-start","px-3"],[1,"col-md-5","col-12","mx-0","ps-0"],[1,"card","card-body"],[1,"home__container-header","mb-2"]],template:function(t,o){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"span",2),e._UZ(3,"fa-icon",3),e.qZA(),e.TgZ(4,"div",4)(5,"h3",5),e._uU(6),e.qZA(),e.TgZ(7,"p",6)(8,"small"),e._uU(9,"Dados da minha empresa"),e.qZA()()()(),e.TgZ(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10)(14,"h6"),e._uU(15,"Dados Cadastrais"),e.qZA()(),e.TgZ(16,"p"),e._uU(17,"Raz\xe3o social: "),e.TgZ(18,"strong"),e._uU(19),e.qZA()(),e.TgZ(20,"p"),e._uU(21),e.ALo(22,"mask"),e.qZA(),e.TgZ(23,"p"),e._uU(24),e.qZA()()()()(),e._UZ(25,"router-outlet")),2&t&&(e.xp6(3),e.Q6J("icon",o.faIdCard),e.xp6(3),e.Oqu(o.empresa.nome),e.xp6(13),e.Oqu(o.empresa.nome),e.xp6(2),e.hij("CNPJ: ",e.xi3(22,5,o.cnpj,"00.000.000/0000-00"),""),e.xp6(3),e.hij("Email: ",o.empresa.email,""))},dependencies:[_.lC,I.BN,H.Iq]}),n})();var $=i(878),W=i(7185),z=i(3972);function _e(n,a){1&n&&(e.TgZ(0,"p",16),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function he(n,a){if(1&n&&(e.TgZ(0,"div",31),e.YNc(1,_e,2,0,"p",32),e.qZA()),2&n){e.oxw();const t=e.MAs(18);e.xp6(1),e.Q6J("ngIf",t.errors.required)}}function fe(n,a){1&n&&(e.TgZ(0,"p",16),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function ve(n,a){1&n&&(e.TgZ(0,"p",16),e._uU(1,"Telefone/celular inv\xe1lido"),e.qZA())}function xe(n,a){if(1&n&&(e.TgZ(0,"div",31),e.YNc(1,fe,2,0,"p",32),e.YNc(2,ve,2,0,"p",32),e.qZA()),2&n){e.oxw();const t=e.MAs(29);e.xp6(1),e.Q6J("ngIf",t.errors.required),e.xp6(1),e.Q6J("ngIf",t.errors.mask)}}function Ce(n,a){1&n&&(e.TgZ(0,"p",16),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function Me(n,a){1&n&&(e.TgZ(0,"p",16),e._uU(1,"E-mail inv\xe1lido"),e.qZA())}function be(n,a){if(1&n&&(e.TgZ(0,"div",31),e.YNc(1,Ce,2,0,"p",32),e.YNc(2,Me,2,0,"p",32),e.qZA()),2&n){e.oxw();const t=e.MAs(40);e.xp6(1),e.Q6J("ngIf",t.errors.required),e.xp6(1),e.Q6J("ngIf",t.errors.email)}}function Ze(n,a){if(1&n&&(e.TgZ(0,"div",33),e._UZ(1,"p",34),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("innerHTML",t.erro,e.oJD)}}function Ae(n,a){1&n&&e._UZ(0,"span",35)}const Te=function(){return["change-password"]};let Pe=(()=>{class n{constructor(t,o,s,r,l){this.router=t,this.modal=o,this.toastr=s,this.loadingUtils=r,this.accountService=l,this.modalOpen=!1,this.faKey=c.DD4,this.subscription=[],this.loading=!1,this.mensagemErro="",this.erro="";var g=this.modal.getOpen().subscribe(T=>this.modalOpen=T);this.subscription.push(g);var y=this.accountService.account.subscribe(T=>this.objeto=T);this.subscription.push(y),setTimeout(()=>{this.modal.setOpen(!0)},200)}ngOnDestroy(){this.subscription.forEach(t=>t.unsubscribe())}voltar(){this.modal.setOpen(!1),setTimeout(()=>{this.router.navigate([".."])},200)}editAccount(t){if(this.erro="",this.loading=!0,this.loadingUtils.loading.next(!0),t.invalid)return this.erro="Formul\xe1rio inv\xe1lido",void this.toastr.error("Formul\xe1rio inv\xe1lido");(0,S.n)(this.accountService.updateAccount({name:this.objeto?.name??"",telefoneCelular:this.objeto?.telefoneCelular??0,email:this.objeto?.email??""})).then(s=>{this.voltar()}).catch(s=>{var r=(0,$.b)(s);this.erro=r,this.toastr.error(r)}).finally(()=>{this.loading=!1}),setTimeout(()=>{this.loading=!1,this.loadingUtils.loading.next(!1)},300)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.F0),e.Y36(Z.Q),e.Y36(W._W),e.Y36(z.b),e.Y36(m.B))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-my-account"]],decls:57,vars:15,consts:[[1,"modal"],[1,"modal__bg",3,"click"],[1,"modal__inner"],[1,"modal__content"],[1,"modal__header"],[1,"text-orange"],[1,"modal__header-close","btn-close",3,"click"],[1,"modal__body"],[3,"ngSubmit"],["form","ngForm"],[1,"form-row"],[1,"form-group","col-lg-12","col-md-12","col-sm-12","col-12","mb-2"],[1,"form-floating"],["type","name","id","name","name","name","placeholder","   ","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","ngModel"],["for","name"],[1,"text-danger"],["class","pl-2 pt-2 pb-0",4,"ngIf"],["type","text","id","telefoneCelular","name","telefoneCelular","mask","(00) 0000-0000||(00) 0.0000-0000","pattern","^\\(?[1-9]{2}\\)? ?(?:[0-9]|9[0-9])[0-9]{3}\\-?[0-9]{4}$","placeholder","(11) x.0000-0000","required","",1,"form-control",3,"ngModel","hiddenInput","ngModelChange"],["telefoneCelular","ngModel"],["for","telefoneCelular"],["type","email","email","","id","email","name","email","placeholder","example@gmail.com","required","","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["email","ngModel"],["for","email"],[1,"d-flex","align-items-start","flex-wrap","p-0","mt-1","px-2"],["class","mb-2",4,"ngIf"],[1,"d-flex","col-sm-12","ml-auto","mt-3","mr-0","px-0"],[1,"btn","btn-grey","ml-auto","mr-1",3,"routerLink"],[1,"ml-1",3,"icon"],["type","submit",1,"btn","btn-primary","mr-0",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"pl-2","pt-2","pb-0"],["class","text-danger",4,"ngIf"],[1,"mb-2"],[1,"text-red",3,"innerHTML"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(t,o){if(1&t){const s=e.EpF();e.TgZ(0,"div",0)(1,"div",1),e.NdJ("click",function(){return o.voltar()}),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5)(6,"strong"),e._uU(7,"Meus dados"),e.qZA()(),e.TgZ(8,"a",6),e.NdJ("click",function(){return o.voltar()}),e._UZ(9,"span")(10,"span"),e.qZA()(),e.TgZ(11,"div",7)(12,"form",8,9),e.NdJ("ngSubmit",function(){e.CHM(s);const l=e.MAs(13);return e.KtG(o.editAccount(l))}),e.TgZ(14,"div",10)(15,"div",11)(16,"div",12)(17,"input",13,14),e.NdJ("ngModelChange",function(l){return o.objeto.name=l}),e.qZA(),e.TgZ(19,"label",15)(20,"span"),e._uU(21,"Nome completo "),e.TgZ(22,"span",16),e._uU(23,"*"),e.qZA()()()(),e.YNc(24,he,2,1,"div",17),e.qZA()(),e.TgZ(25,"div",10)(26,"div",11)(27,"div",12)(28,"input",18,19),e.NdJ("ngModelChange",function(l){return o.objeto.telefoneCelular=l}),e.qZA(),e.TgZ(30,"label",20)(31,"span"),e._uU(32,"Telefone/celular "),e.TgZ(33,"span",16),e._uU(34,"*"),e.qZA()()()(),e.YNc(35,xe,3,2,"div",17),e.qZA()(),e.TgZ(36,"div",10)(37,"div",11)(38,"div",12)(39,"input",21,22),e.NdJ("ngModelChange",function(l){return o.objeto.email=l}),e.qZA(),e.TgZ(41,"label",23)(42,"span"),e._uU(43,"E-mail "),e.TgZ(44,"span",16),e._uU(45,"*"),e.qZA()()()(),e.YNc(46,be,3,2,"div",17),e.qZA()(),e.TgZ(47,"div",24),e.YNc(48,Ze,2,1,"div",25),e.TgZ(49,"div",26)(50,"a",27),e._uU(51," Alterar senha "),e._UZ(52,"fa-icon",28),e.qZA(),e.TgZ(53,"button",29),e.YNc(54,Ae,1,0,"span",30),e._uU(55," Salvar "),e.qZA()()()()()()()(),e._UZ(56,"router-outlet")}if(2&t){const s=e.MAs(13),r=e.MAs(18),l=e.MAs(29),g=e.MAs(40);e.ekj("active",o.modalOpen),e.xp6(17),e.Q6J("ngModel",o.objeto.name),e.xp6(7),e.Q6J("ngIf",null!=r.errors&&r.touched),e.xp6(4),e.Q6J("ngModel",o.objeto.telefoneCelular)("hiddenInput",!1),e.xp6(7),e.Q6J("ngIf",null!=l.errors&&l.touched),e.xp6(4),e.Q6J("ngModel",o.objeto.email),e.xp6(7),e.Q6J("ngIf",null!=g.errors&&g.touched),e.xp6(2),e.Q6J("ngIf",o.erro),e.xp6(2),e.Q6J("routerLink",e.DdM(14,Te)),e.xp6(2),e.Q6J("icon",o.faKey),e.xp6(1),e.Q6J("disabled",s.invalid||o.loading),e.xp6(1),e.Q6J("ngIf",o.loading)}},dependencies:[h.O5,_.lC,_.yS,H.hx,d._Y,d.Fj,d.JJ,d.JL,d.Q7,d.c5,d.on,d.On,d.F,I.BN]}),n})();var k=i(1685);function ye(n,a){1&n&&(e.TgZ(0,"p",16),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function Oe(n,a){if(1&n&&(e.TgZ(0,"div",31),e.YNc(1,ye,2,0,"p",32),e.qZA()),2&n){e.oxw();const t=e.MAs(18);e.xp6(1),e.Q6J("ngIf",t.errors.required)}}function Ee(n,a){1&n&&(e.TgZ(0,"p",16),e._uU(1,"Esse campo \xe9 obrigat\xf3rio"),e.qZA())}function we(n,a){if(1&n&&(e.TgZ(0,"div",31),e.YNc(1,Ee,2,0,"p",32),e.qZA()),2&n){e.oxw();const t=e.MAs(29);e.xp6(1),e.Q6J("ngIf",t.errors.required)}}function Ie(n,a){1&n&&(e.TgZ(0,"p",33),e._uU(1,"Senhas n\xe3o s\xe3o iguais"),e.qZA())}function Ue(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1,"Exibir"),e.qZA())}function Re(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1,"Esconder"),e.qZA())}function Se(n,a){if(1&n&&(e.TgZ(0,"div",34)(1,"p",16),e._uU(2),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(t.erro)}}function Je(n,a){1&n&&e._UZ(0,"span",35)}let Le=(()=>{class n{constructor(t,o,s,r,l,g){this.router=t,this.activatedRoute=o,this.modal=s,this.toastr=r,this.loadingUtils=l,this.accountService=g,this.objeto=new k.GR,this.loading=!1,this.modalOpen=!1,this.erro="",this.subscription=[];var y=this.accountService.account.subscribe(T=>this.account=T);this.subscription.push(y),setTimeout(()=>{this.modalOpen=!0},200)}ngOnInit(){}voltar(){this.modalOpen=!1,setTimeout(()=>{this.router.navigate([".."],{relativeTo:this.activatedRoute})},200)}send(t){return this.erro="",this.loading=!0,this.loadingUtils.loading.next(!0),t.invalid?(this.erro="Formul\xe1rio inv\xe1lido",void this.toastr.error("Formul\xe1rio inv\xe1lido")):this.objeto.confirmPassword!=this.objeto.password?(this.erro="Senha e confirma\xe7\xe3o de senha devem ser iguais",void this.toastr.error("Senha e confirma\xe7\xe3o de senha devem ser iguais")):((0,S.n)(this.accountService.changePassword(this.objeto)).then(o=>{this.voltar()}).catch(o=>{var s=(0,$.b)(o);this.erro=s,this.toastr.error(s)}).finally(()=>{this.loading=!1}),void setTimeout(()=>{this.loading=!1,this.loadingUtils.loading.next(!1)},300))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.F0),e.Y36(_.gz),e.Y36(Z.Q),e.Y36(W._W),e.Y36(z.b),e.Y36(m.B))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-change-password"]],decls:53,vars:15,consts:[[1,"modal","modal-change-password"],[1,"modal__bg",3,"click"],[1,"modal__inner",2,"max-width","400px"],[1,"modal__content"],[1,"modal__header"],[1,"text-orange"],[1,"modal__header-close","btn-close",3,"click"],[1,"modal__body"],[3,"ngSubmit"],["form","ngForm"],[1,"form-row"],[1,"form-group","col-lg-12","col-md-12","col-sm-12","col-12","mb-2"],[1,"form-floating"],["id","password","name","password","placeholder","******","required","",1,"form-control",3,"type","ngModel","ngModelChange"],["password","ngModel"],["for","password"],[1,"text-danger"],["class","pl-2 pt-2 pb-0",4,"ngIf"],["id","confirmPassword","name","confirmPassword","placeholder","******","required","",1,"form-control",3,"type","ngModel","ngModelChange"],["confirmPassword","ngModel"],["for","confirmPassword"],["class","text-danger p-2",4,"ngIf"],[1,"d-flex","align-items-center"],["type","checkbox","name","showHide","id","showHide","ngModel","",3,"value"],["showHide","ngModel"],["for","showHide",1,"ml-2"],[4,"ngIf"],["class","form-row px-2 mb-2",4,"ngIf"],[1,"form-group","form-floating","col-lg-12","col-md-12","col-sm-12","col-12","mb-2"],["type","submit",1,"btn","btn-primary","w-100","py-2",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"pl-2","pt-2","pb-0"],["class","text-danger",4,"ngIf"],[1,"text-danger","p-2"],[1,"form-row","px-2","mb-2"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(t,o){if(1&t){const s=e.EpF();e.TgZ(0,"div",0)(1,"div",1),e.NdJ("click",function(){return o.voltar()}),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5)(6,"strong"),e._uU(7,"Alterar senha"),e.qZA()(),e.TgZ(8,"a",6),e.NdJ("click",function(){return o.voltar()}),e._UZ(9,"span")(10,"span"),e.qZA()(),e.TgZ(11,"div",7)(12,"form",8,9),e.NdJ("ngSubmit",function(){e.CHM(s);const l=e.MAs(13);return e.KtG(o.send(l))}),e.TgZ(14,"div",10)(15,"div",11)(16,"div",12)(17,"input",13,14),e.NdJ("ngModelChange",function(l){return o.objeto.password=l}),e.qZA(),e.TgZ(19,"label",15)(20,"span"),e._uU(21,"Senha "),e.TgZ(22,"span",16),e._uU(23,"*"),e.qZA()()()(),e.YNc(24,Oe,2,1,"div",17),e.qZA()(),e.TgZ(25,"div",10)(26,"div",11)(27,"div",12)(28,"input",18,19),e.NdJ("ngModelChange",function(l){return o.objeto.confirmPassword=l}),e.qZA(),e.TgZ(30,"label",20)(31,"span"),e._uU(32,"Confirmar Senha "),e.TgZ(33,"span",16),e._uU(34,"*"),e.qZA()()()(),e.YNc(35,we,2,1,"div",17),e.YNc(36,Ie,2,0,"p",21),e.qZA()(),e.TgZ(37,"div",10)(38,"div",11)(39,"div",22),e._UZ(40,"input",23,24),e.TgZ(42,"label",25),e.YNc(43,Ue,2,0,"span",26),e.YNc(44,Re,2,0,"span",26),e._uU(45," senha "),e.qZA()()()(),e.YNc(46,Se,3,1,"div",27),e.TgZ(47,"div",10)(48,"div",28)(49,"button",29),e.YNc(50,Je,1,0,"span",30),e.TgZ(51,"span"),e._uU(52,"Salvar"),e.qZA()()()()()()()()()}if(2&t){const s=e.MAs(13),r=e.MAs(18),l=e.MAs(29),g=e.MAs(41);e.ekj("active",o.modalOpen),e.xp6(17),e.Q6J("type",g.value?"password":"text")("ngModel",o.objeto.password),e.xp6(7),e.Q6J("ngIf",null!=r.errors&&r.touched),e.xp6(4),e.Q6J("type",g.value?"password":"text")("ngModel",o.objeto.confirmPassword),e.xp6(7),e.Q6J("ngIf",null!=l.errors&&l.touched),e.xp6(1),e.Q6J("ngIf",r.value!=l.value),e.xp6(4),e.Q6J("value",!0),e.xp6(3),e.Q6J("ngIf",g.value),e.xp6(1),e.Q6J("ngIf",!g.value),e.xp6(2),e.Q6J("ngIf",o.erro),e.xp6(3),e.Q6J("disabled",s.invalid||o.loading||r.value!=l.value),e.xp6(1),e.Q6J("ngIf",o.loading)}},dependencies:[h.O5,d._Y,d.Fj,d.Wl,d.JJ,d.JL,d.Q7,d.On,d.F],styles:[".modal-change-password[_ngcontent-%COMP%]{z-index:999}"]}),n})();var J=i(1735),K=i(4004),Ne=i(2340),De=i(529);let Fe=(()=>{class n{constructor(t,o,s,r){this.http=t,this.urlBackendService=o,this.accountService=s,this.empresaService=r,this.url=Ne.N.url,this.list=new A.X([]),this.account=new k.mR,this.empresa=new Y.oW,this.urlBackendService.url.subscribe(l=>this.url=l),this.accountService.account.subscribe(l=>this.account=l??new k.mR),this.empresa=this.empresaService.object,this.empresaService.empresa.subscribe(l=>this.empresa=l)}getAll(t){return this.http.get(`${this.url}/percentual-risco/all/${t=t??(this.account.perfilAcesso_Id!=u.u.Admin?this.account.empresa_Id:this.empresa.id)}`).pipe((0,K.U)(o=>(this.list.next(o),o)))}create(t){return this.http.post(`${this.url}/percentual-risco/${t=t??(this.account.perfilAcesso_Id!=u.u.Admin?this.account.empresa_Id:this.empresa.id)}`,{}).pipe((0,K.U)(o=>(this.list.next(o),o)))}edit(t){return this.http.put(`${this.url}/percentual-risco/`,t).pipe((0,K.U)(o=>(this.list.next(o),o)))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(De.eN),e.LFG(b.j),e.LFG(m.B),e.LFG(q.P))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Ye=i(8944),L=i(7318),je=i(805),X=i(5047);function Qe(n,a){1&n&&e._UZ(0,"app-empresa-select")}function Be(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"p",12)(1,"span"),e._uU(2,"Nenhum registro encontrado."),e.qZA(),e.TgZ(3,"button",13),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.create())}),e._uU(4," Clique aqui para adicionar"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("disabled",t.loading)}}function qe(n,a){1&n&&(e.TgZ(0,"p",12),e._UZ(1,"span",14),e.TgZ(2,"span"),e._uU(3,"Carregando... "),e.qZA()())}function He(n,a){if(1&n&&(e.TgZ(0,"p")(1,"small"),e._uU(2),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(2),e.hij(" ",t.list.length," resultado(s) ")}}function ke(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",28),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(3);return e.KtG(s.edit())}),e._uU(1,"Salvar altera\xe7\xf5es"),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("disabled",t.loading)}}function Ke(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",29),e._UZ(1,"i",30),e.TgZ(2,"input",31,32),e.NdJ("input",function(){e.CHM(t);const s=e.MAs(3);e.oxw(2);const r=e.MAs(3);return e.KtG(r.filterGlobal(s.value,"contains"))}),e.qZA()()}}function Ge(n,a){if(1&n&&(e.TgZ(0,"div",22)(1,"div",23),e.YNc(2,He,3,1,"p",8),e.qZA(),e.TgZ(3,"div",24)(4,"div",25),e.YNc(5,ke,2,1,"button",26),e.qZA(),e.YNc(6,Ke,4,0,"div",27),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",!t.loading),e.xp6(3),e.Q6J("ngIf",t.list.length>0),e.xp6(1),e.Q6J("ngIf",t.list.length>0)}}function $e(n,a){1&n&&(e.TgZ(0,"tr",34)(1,"th"),e._uU(2,"Perfil Investidor"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Baix\xedssimo"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Baixo"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Moderado"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Arrojado"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Super Arrojado"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Hedge"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Total"),e.qZA()())}function We(n,a){1&n&&e.YNc(0,$e,17,0,"ng-template",33)}function ze(n,a){if(1&n&&(e.TgZ(0,"tr",35)(1,"td",36)(2,"div",37)(3,"button",38),e._UZ(4,"i"),e.qZA(),e.TgZ(5,"div",39)(6,"b"),e._uU(7),e.qZA()()()()()),2&n){const t=a.$implicit,o=a.expanded;e.xp6(3),e.Q6J("pRowToggler",t),e.xp6(1),e.Tol(o?"pi pi-chevron-down":"pi pi-chevron-right"),e.xp6(1),e.Q6J("title",1==t.capacidadeRisco_Id?"Soma do montante \xe9 menor que a reserva de emerg\xeancia sugerida.":2==t.capacidadeRisco_Id?"Soma do montante \xe9 menor ou igual a soma da despesa de 12 meses.":3==t.capacidadeRisco_Id?"Soma do montante \xe9 menor ou igual a soma da despesa de 24 meses.":4==t.capacidadeRisco_Id?"Soma do montante \xe9 menor ou igual a soma da despesa de 42 meses.":5==t.capacidadeRisco_Id?"Soma do montante \xe9 menor ou igual a soma da despesa de 60 meses.":6==t.capacidadeRisco_Id?"Soma do montante \xe9 maior que a soma da despesa de 60 meses.":""),e.xp6(2),e.hij("Capacidade de Risco - ",t.capacidadeRisco_Id,"")}}function Xe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"p-inputNumber",48),e.NdJ("ngModelChange",function(s){e.CHM(t);const r=e.oxw().$implicit;return e.KtG(r.baixissimo=s)})("onBlur",function(){e.CHM(t);const s=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.calculaTotalItem(s))}),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("ngModel",t.baixissimo)("minFractionDigits",2)("maxFractionDigits",2)("required",!0)}}function Ve(n,a){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij("",e.gM2(2,1,t.baixissimo,"BRL","","1.2"),"%")}}function et(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"p-inputNumber",49),e.NdJ("ngModelChange",function(s){e.CHM(t);const r=e.oxw().$implicit;return e.KtG(r.baixo=s)})("onBlur",function(){e.CHM(t);const s=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.calculaTotalItem(s))}),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("ngModel",t.baixo)("minFractionDigits",2)("maxFractionDigits",2)("required",!0)}}function tt(n,a){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij("",e.gM2(2,1,t.baixo,"BRL","","1.2"),"%")}}function nt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"p-inputNumber",50),e.NdJ("ngModelChange",function(s){e.CHM(t);const r=e.oxw().$implicit;return e.KtG(r.moderado=s)})("onBlur",function(){e.CHM(t);const s=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.calculaTotalItem(s))}),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("ngModel",t.moderado)("minFractionDigits",2)("maxFractionDigits",2)("required",!0)}}function ot(n,a){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij("",e.gM2(2,1,t.moderado,"BRL","","1.2"),"%")}}function it(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"p-inputNumber",51),e.NdJ("ngModelChange",function(s){e.CHM(t);const r=e.oxw().$implicit;return e.KtG(r.arrojado=s)})("onBlur",function(){e.CHM(t);const s=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.calculaTotalItem(s))}),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("ngModel",t.arrojado)("minFractionDigits",2)("maxFractionDigits",2)("required",!0)}}function at(n,a){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij("",e.gM2(2,1,t.arrojado,"BRL","","1.2"),"%")}}function rt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"p-inputNumber",52),e.NdJ("ngModelChange",function(s){e.CHM(t);const r=e.oxw().$implicit;return e.KtG(r.superArrojado=s)})("onBlur",function(){e.CHM(t);const s=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.calculaTotalItem(s))}),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("ngModel",t.superArrojado)("minFractionDigits",2)("maxFractionDigits",2)("required",!0)}}function st(n,a){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij("",e.gM2(2,1,t.superArrojado,"BRL","","1.2"),"%")}}function lt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"p-inputNumber",53),e.NdJ("ngModelChange",function(s){e.CHM(t);const r=e.oxw().$implicit;return e.KtG(r.hedge=s)})("onBlur",function(){e.CHM(t);const s=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.calculaTotalItem(s))}),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("ngModel",t.hedge)("minFractionDigits",2)("maxFractionDigits",2)("required",!0)}}function ct(n,a){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij("",e.gM2(2,1,t.hedge,"BRL","","1.2"),"%")}}function pt(n,a){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",40)(4,"p-cellEditor"),e.YNc(5,Xe,1,4,"ng-template",41),e.YNc(6,Ve,3,6,"ng-template",42),e.qZA()(),e.TgZ(7,"td",43)(8,"p-cellEditor"),e.YNc(9,et,1,4,"ng-template",41),e.YNc(10,tt,3,6,"ng-template",42),e.qZA()(),e.TgZ(11,"td",44)(12,"p-cellEditor"),e.YNc(13,nt,1,4,"ng-template",41),e.YNc(14,ot,3,6,"ng-template",42),e.qZA()(),e.TgZ(15,"td",45)(16,"p-cellEditor"),e.YNc(17,it,1,4,"ng-template",41),e.YNc(18,at,3,6,"ng-template",42),e.qZA()(),e.TgZ(19,"td",46)(20,"p-cellEditor"),e.YNc(21,rt,1,4,"ng-template",41),e.YNc(22,st,3,6,"ng-template",42),e.qZA()(),e.TgZ(23,"td",47)(24,"p-cellEditor"),e.YNc(25,lt,1,4,"ng-template",41),e.YNc(26,ct,3,6,"ng-template",42),e.qZA()(),e.TgZ(27,"td")(28,"span",39),e._uU(29),e.ALo(30,"currency"),e.qZA()()()),2&n){const t=a.$implicit;e.xp6(2),e.Oqu(t.perfilInvestidor.descricao),e.xp6(1),e.Q6J("pEditableColumn",t.baixissimo),e.xp6(4),e.Q6J("pEditableColumn",t.baixo),e.xp6(4),e.Q6J("pEditableColumn",t.moderado),e.xp6(4),e.Q6J("pEditableColumn",t.arrojado),e.xp6(4),e.Q6J("pEditableColumn",t.superArrojado),e.xp6(4),e.Q6J("pEditableColumn",t.hedge),e.xp6(5),e.ekj("text-warning",100!=t.total),e.Q6J("title",t.total>100?"Perigo: o valor passou 100%":""),e.xp6(1),e.hij(" ",e.gM2(30,11,t.total,"BRL","","1.2"),"% ")}}const dt=function(){return[10,25,50,100]};function ut(n,a){if(1&n&&(e.TgZ(0,"div",15,16)(2,"p-table",17,18),e.YNc(4,Ge,7,3,"ng-template",19),e.YNc(5,We,1,0,null,8),e.YNc(6,ze,8,5,"ng-template",20),e.YNc(7,pt,31,16,"ng-template",21),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("value",t.list)("rows",100)("rowHover",!0)("rowsPerPageOptions",e.DdM(9,dt))("paginator",!1)("showCurrentPageReport",!0)("globalFilterFields",t.filters)("filterDelay",100),e.xp6(3),e.Q6J("ngIf",t.list.length>0)}}const vt=[{path:"",component:G,children:[{path:"my-account",component:Pe,children:[{path:"change-password",component:Le}]},{path:"minha-empresa/:empresa_nome",component:ge},{path:"carteira-setup",loadChildren:()=>Promise.all([i.e(42),i.e(341),i.e(875),i.e(43)]).then(i.bind(i,2043)).then(n=>n.CarteiraSetupModule),canActivate:[J.p],data:{roles:[u.u.Admin,u.u.Master]}},{path:"clientes",loadChildren:()=>Promise.all([i.e(42),i.e(341),i.e(193),i.e(82)]).then(i.bind(i,9082)).then(n=>n.ClientesModule),canActivate:[J.p],data:{roles:[u.u.Admin,u.u.Master,u.u.Backoffice]}},{path:"produtos",loadChildren:()=>Promise.all([i.e(42),i.e(490),i.e(730)]).then(i.bind(i,9179)).then(n=>n.ProdutosModule),canActivate:[J.p],data:{roles:[u.u.Admin,u.u.Master]}},{path:"usuarios",loadChildren:()=>Promise.all([i.e(42),i.e(843),i.e(343)]).then(i.bind(i,6343)).then(n=>n.UsuariosModule),canActivate:[J.p],data:{roles:[u.u.Admin,u.u.Master]}},{path:"empresas",loadChildren:()=>Promise.all([i.e(42),i.e(341),i.e(193),i.e(875),i.e(490),i.e(843),i.e(918)]).then(i.bind(i,4918)).then(n=>n.EmpresasModule),canActivate:[J.p],data:{roles:[u.u.Admin]}},{path:"percentual-risco",component:(()=>{class n{constructor(t,o,s,r){var l=this;this.empresaService=t,this.percentualRiscoService=o,this.table=s,this.accountService=r,this.faPercentage=c.USL,this.empresaSelected=new Y.oW,this.list=[],this.subscription=[],this.loading=!1,this.filters=[],this.filters=["capacidadeRisco_Id","perfilInvestidor.descricao"];var g=this.accountService.account.subscribe(O=>this.account=O);this.subscription.push(g);var y=this.percentualRiscoService.list.subscribe(O=>{this.list=O,this.calculaTotalLinhas()});this.subscription.push(y),this.table.currentPage.next(1);var T=this.empresaService.empresa.subscribe(function(){var O=(0,M.Z)(function*(f){l.empresaSelected=f,0!=f.id&&(yield(0,S.n)(l.percentualRiscoService.getAll()))});return function(f){return O.apply(this,arguments)}}());this.subscription.push(T)}ngOnDestroy(){this.subscription.forEach(t=>t.unsubscribe())}getCellData(t,o){return this.table.getCellData(t,o)}calculaTotalLinhas(){this.list.forEach(t=>this.calculaTotalItem(t))}calculaTotalItem(t){return t.total=t.baixissimo+t.baixo+t.moderado+t.arrojado+t.superArrojado+t.hedge,t}create(){this.loading=!0,(0,S.n)(this.percentualRiscoService.create(this.empresaSelected.id)).then(t=>{this.loading=!1}).catch(t=>{this.loading=!1})}edit(){this.loading=!0,(0,S.n)(this.percentualRiscoService.edit(this.list)).then(t=>{this.loading=!1}).catch(t=>{this.loading=!1})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(q.P),e.Y36(Fe),e.Y36(p.i),e.Y36(m.B))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-percentual-risco"]],decls:19,vars:6,consts:[[1,"page"],[1,"page__header"],[1,"title-icon"],[3,"icon"],[1,"mr-auto"],[1,"page__header-title"],[1,"page__header-subtitle"],[1,"ml-auto","mb-0","col-xl-3","col-lg-4","col-md-5","col-sm-5","col-12","px-0"],[4,"ngIf"],[1,"page__body"],["class","p-2",4,"ngIf"],["class","content",4,"ngIf"],[1,"p-2"],[1,"link",3,"disabled","click"],[1,"spinner-border","spinner-border-sm","mr-1"],[1,"content"],["aa",""],["responsiveLayout","scroll","currentPageReportTemplate","Exibindo {first} de {totalRecords} resultado(s)","rowGroupMode","subheader","dataKey","capacidadeRisco_Id","groupRowsBy","capacidadeRisco_Id",1,"table",3,"value","rows","rowHover","rowsPerPageOptions","paginator","showCurrentPageReport","globalFilterFields","filterDelay"],["dt",""],["pTemplate","caption"],["pTemplate","groupheader"],["pTemplate","rowexpansion"],[1,"d-flex","justify-content-between","align-items-end","flex-wrap","w-100","px-0","py-0","flex-sm-row","flex-column-reverse"],[1,"col-xl-3","col-lg-3","col-md-3","col-sm-3","col-12","p-0","mb-sm-0","mb-2"],[1,"col-xl-9","col-lg-9","col-md-9","col-sm-9","col-12","d-flex","align-items-center","justify-content-end","flex-wrap","flex-sm-row","flex-column-reverse","px-0","mb-sm-0"],[1,"mx-1","px-0","mb-2"],["class","btn btn-primary",3,"disabled","click",4,"ngIf"],["class","p-input-icon-left col-lg-4 col-md-4 col-sm-4 col-12 mb-2",4,"ngIf"],[1,"btn","btn-primary",3,"disabled","click"],[1,"p-input-icon-left","col-lg-4","col-md-4","col-sm-4","col-12","mb-2"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Pesquisar",1,"form-control",3,"input"],["filter",""],["pTemplate","header"],[1,"grey"],["pRowGroupHeader",""],["colspan","8"],[1,"d-flex","align-items-center"],["type","button",1,"btn","mr-2",3,"pRowToggler"],[3,"title"],["pEditableColumnField","baixissimo",3,"pEditableColumn"],["pTemplate","input"],["pTemplate","output"],["pEditableColumnField","baixo",3,"pEditableColumn"],["pEditableColumnField","moderado",3,"pEditableColumn"],["pEditableColumnField","arrojado",3,"pEditableColumn"],["pEditableColumnField","superArrojado",3,"pEditableColumn"],["pEditableColumnField","hedge",3,"pEditableColumn"],["inputStyleClass","form-control","inputId","baixissimo","name","baixissimo","mode","decimal","locale","pt-BR","suffix","%",3,"ngModel","minFractionDigits","maxFractionDigits","required","ngModelChange","onBlur"],["inputStyleClass","form-control","inputId","baixo","name","baixo","mode","decimal","locale","pt-BR","suffix","%",3,"ngModel","minFractionDigits","maxFractionDigits","required","ngModelChange","onBlur"],["inputStyleClass","form-control","inputId","moderado","name","moderado","mode","decimal","locale","pt-BR","suffix","%",3,"ngModel","minFractionDigits","maxFractionDigits","required","ngModelChange","onBlur"],["inputStyleClass","form-control","inputId","arrojado","name","arrojado","mode","decimal","locale","pt-BR","suffix","%",3,"ngModel","minFractionDigits","maxFractionDigits","required","ngModelChange","onBlur"],["inputStyleClass","form-control","inputId","superArrojado","name","superArrojado","mode","decimal","locale","pt-BR","suffix","%",3,"ngModel","minFractionDigits","maxFractionDigits","required","ngModelChange","onBlur"],["inputStyleClass","form-control","inputId","hedge","name","hedge","mode","decimal","locale","pt-BR","suffix","%",3,"ngModel","minFractionDigits","maxFractionDigits","required","ngModelChange","onBlur"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._UZ(3,"fa-icon",3),e.qZA(),e.TgZ(4,"div",4)(5,"h3",5),e._uU(6,"Percentual de risco"),e.qZA(),e.TgZ(7,"p",6)(8,"small"),e._uU(9,"Cadastrados em "),e.TgZ(10,"strong"),e._uU(11),e.qZA()()()(),e.TgZ(12,"div",7),e.YNc(13,Qe,1,0,"app-empresa-select",8),e.qZA()(),e.TgZ(14,"div",9),e.YNc(15,Be,5,1,"p",10),e.YNc(16,qe,4,0,"p",10),e.YNc(17,ut,8,10,"div",11),e.qZA()(),e._UZ(18,"router-outlet")),2&t&&(e.xp6(3),e.Q6J("icon",o.faPercentage),e.xp6(8),e.Oqu(o.empresaSelected.nome),e.xp6(2),e.Q6J("ngIf",o.account&&1==o.account.perfilAcesso_Id),e.xp6(2),e.Q6J("ngIf",0==o.list.length&&!o.loading),e.xp6(1),e.Q6J("ngIf",o.loading),e.xp6(1),e.Q6J("ngIf",o.list.length>0))},dependencies:[h.O5,_.lC,d.JJ,d.Q7,d.On,I.BN,Ye.l,L.iA,je.jx,L.Z5,L.jB,L.Wq,L.YL,X.Rn,h.H9]}),n})(),canActivate:[J.p],data:{roles:[u.u.Admin,u.u.Master,u.u.Backoffice]}}]}];let xt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[_.Bz.forChild(vt),_.Bz]}),n})();function Ct(n,a){return()=>new Promise((t,o)=>{(0,S.n)(n.refreshToken()).then(s=>{if("/account/login"==window.location.pathname){var r=window.location.search,l=r.split("?returnUrl=");(r=l[l.length-1]).trim()?a.navigateByUrl(decodeURIComponent(r)):a.navigate([""])}}).catch(s=>{}).finally(()=>{t()})})}var Mt=i(7864),bt=i(5593);let Zt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n,bootstrap:[G]}),n.\u0275inj=e.cJS({providers:[{provide:e.ip1,useFactory:Ct,multi:!0,deps:[m.B,_.F0]}],imports:[h.ez,xt,H.yI.forChild(),d.u5,I.uH,Mt.m,L.U$,bt.hJ,X.L$]}),n})()},9535:(j,E,i)=>{i.d(E,{V:()=>D});var e=i(1135),h=i(8505),_=i(9646),u=i(4004),A=i(2340),C=i(9398),w=i(8913),p=i(1939),x=i(4650),v=i(529);let D=(()=>{class Z{constructor(c,m,b){this.http=c,this.empresaService=m,this.urlBackendService=b,this.url=A.N.url,this.tipoAtivo=new e.X([]),this.tipoRisco=new e.X([]),this.tipoLiquidez=new e.X([]),this.perfilAcesso=new e.X([]),this.perfilInvestidor=new e.X([]),this.carteiraSetup=new e.X([]),this.estadoCivil=new e.X([]),this.empresa=new C.oW,this.empresasList=new e.X([]),this.urlBackendService.url.subscribe(P=>this.url=P),this.empresaService.empresa.subscribe(P=>this.empresa=P)}getEmpresas(){return this.http.get(`${this.url}/empresa/`).pipe((0,h.b)({next:c=>(c=c.map(m=>(m.ativo=!m.dataDesativado,m)),this.empresasList.next(c),(0,_.of)(c))}))}getAtivo(){return this.http.get(`${this.url}/tipoAtivo/getAll`).pipe((0,u.U)(c=>(this.tipoAtivo.next(c),c)))}getRisco(){return this.http.get(`${this.url}/tipoRisco/getAll`).pipe((0,u.U)(c=>(this.tipoRisco.next(c),c)))}getLiquidez(){return this.http.get(`${this.url}/tipoLiquidez/getAll`).pipe((0,u.U)(c=>(this.tipoLiquidez.next(c),c)))}getPerfilAcesso(){return this.http.get(`${this.url}/perfilAcesso/getAll`).pipe((0,u.U)(c=>(this.perfilAcesso.next(c),c)))}getPerfilInvestidor(){return this.http.get(`${this.url}/perfilInvestidor/getAll`).pipe((0,u.U)(c=>(this.perfilInvestidor.next(c),c)))}getEstadoCivil(){return this.http.get(`${this.url}/estadoCivil/getAll`).pipe((0,u.U)(c=>(this.estadoCivil.next(c),c)))}}return Z.\u0275fac=function(c){return new(c||Z)(x.LFG(v.eN),x.LFG(w.P),x.LFG(p.j))},Z.\u0275prov=x.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z})()},8944:(j,E,i)=>{i.d(E,{l:()=>Z});var e=i(5861),h=i(9808),_=i(4409),u=i(9398),A=i(9876),C=i(9535),w=i(8913),p=i(4650),x=i(6895),v=i(433);function D(M,c){if(1&M&&(p.TgZ(0,"option",6),p._uU(1),p.qZA()),2&M){const m=c.$implicit;p.Q6J("ngValue",m.id),p.xp6(1),p.Oqu(m.nome)}}let Z=(()=>{class M{constructor(m,b,P){var d=this;this.empresaService=m,this.accountService=b,this.dropdownService=P,this.empresaSelected=new u.oW,this.empresaSelectedId=0,this.empresas=[],this.loading=!1,this.Role=_.u,this.subscription=[];var I=this.empresaService.empresa.subscribe(U=>{this.empresaSelected=U,this.empresaSelectedId=U.id});this.subscription.push(I),(0,h.n)(this.dropdownService.getEmpresas()).then(U=>this.empresas=U);var Q=this.accountService.account.subscribe(function(){var U=(0,e.Z)(function*(R){d.account=R,R&&R.role&&(null==d.empresaSelected||0==d.empresaSelectedId)&&d.empresaService.setObject(R.empresa??new u.oW,"app-empresa-selected")});return function(R){return U.apply(this,arguments)}}());this.subscription.push(Q)}ngOnDestroy(){this.subscription.forEach(m=>m.unsubscribe())}empresaChange(){var m=this.empresas.find(b=>b.id==this.empresaSelectedId);this.empresaService.setObject(m??new u.oW,"empresaChange")}}return M.\u0275fac=function(m){return new(m||M)(p.Y36(w.P),p.Y36(A.B),p.Y36(C.V))},M.\u0275cmp=p.Xpm({type:M,selectors:[["app-empresa-select"]],decls:7,vars:2,consts:[[1,"py-2","d-block","d-md-none","col-12"],[1,"form-group"],["for","empresa_Id"],["name","empresa_Id","id","empresa_Id",1,"form-control",3,"ngModel","ngModelChange","change"],["empresa_Id","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(m,b){1&m&&(p._UZ(0,"div",0),p.TgZ(1,"div",1)(2,"label",2),p._uU(3,"Selecione a Empresa"),p.qZA(),p.TgZ(4,"select",3,4),p.NdJ("ngModelChange",function(d){return b.empresaSelectedId=d})("change",function(){return b.empresaChange()}),p.YNc(6,D,2,2,"option",5),p.qZA()()),2&m&&(p.xp6(4),p.Q6J("ngModel",b.empresaSelectedId),p.xp6(2),p.Q6J("ngForOf",b.empresas))},dependencies:[x.sg,v.YN,v.Kr,v.EJ,v.JJ,v.On]}),M})()}}]);