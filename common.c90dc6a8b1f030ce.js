"use strict";(self.webpackChunkplanner=self.webpackChunkplanner||[]).push([[592],{8944:(S,u,s)=>{s.d(u,{l:()=>C});var E=s(5861),g=s(9808),h=s(4409),l=s(9398),v=s(9876),O=s(8913),e=s(4650),d=s(8627),M=s(6895),_=s(433);function f(t,p){if(1&t&&(e.TgZ(0,"option",6),e._uU(1),e.qZA()),2&t){const n=p.$implicit;e.Q6J("ngValue",n.id),e.xp6(1),e.Oqu(n.nome)}}let C=(()=>{class t{constructor(n,a,m,i){var c=this;this.empresaService=n,this.accountService=a,this.router=m,this.activatedRoute=i,this.empresaSelected=new l.oW,this.empresaSelectedId=0,this.empresas=[],this.loading=!1,this.Role=h.u,this.empresaService.empresa.subscribe(r=>{this.empresaSelected=r,this.empresaSelectedId=r.id}),(0,g.n)(this.empresaService.getList()).then(r=>this.empresas=r),this.accountService.account.subscribe(function(){var r=(0,E.Z)(function*(o){c.account=o,o&&o.role&&(null==c.empresaSelected||0==c.empresaSelectedId)&&c.empresaService.setObject(o.empresa??new l.oW,"app-empresa-selected")});return function(o){return r.apply(this,arguments)}}())}ngOnInit(){}empresaChange(){var n=this.empresas.find(a=>a.id==this.empresaSelectedId);this.empresaService.setObject(n??new l.oW,"empresaChange")}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(O.P),e.Y36(v.B),e.Y36(d.F0),e.Y36(d.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-empresa-select"]],decls:7,vars:2,consts:[[1,"py-2","d-block","d-md-none","col-12"],[1,"form-group"],["for","empresa_Id"],["name","empresa_Id","id","empresa_Id",1,"form-control",3,"ngModel","ngModelChange","change"],["empresa_Id","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(n,a){1&n&&(e._UZ(0,"div",0),e.TgZ(1,"div",1)(2,"label",2),e._uU(3,"Selecione a Empresa"),e.qZA(),e.TgZ(4,"select",3,4),e.NdJ("ngModelChange",function(i){return a.empresaSelectedId=i})("change",function(){return a.empresaChange()}),e.YNc(6,f,2,2,"option",5),e.qZA()()),2&n&&(e.xp6(4),e.Q6J("ngModel",a.empresaSelectedId),e.xp6(2),e.Q6J("ngForOf",a.empresas))},dependencies:[M.sg,_.YN,_.Kr,_.EJ,_.JJ,_.On]}),t})()}}]);